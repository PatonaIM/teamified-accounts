# Story 3.2: User Profile & CV Management Interface

## Status
ðŸ”„ **PARTIALLY IMPLEMENTED** - Dashboard design system integrated, basic profile and CV pages created

## Story
**As an** EOR user,  
**I want** to view and manage my professional profile and CV documents through an intuitive web interface,  
**so that** I can maintain current professional information and track my profile completion status.

## Acceptance Criteria
1. **Profile View Interface**
   - Comprehensive profile display with all personal and professional information
   - Profile completion percentage indicator with visual progress bar
   - Editable fields with inline editing or modal forms
   - Country-specific field validation and formatting
   - Profile status indicator (incomplete, pending, complete)

2. **CV Management Interface**
   - List view of all uploaded CV versions with metadata
   - Current CV clearly marked and highlighted
   - Upload new CV functionality with drag-and-drop support
   - CV version history with download capabilities
   - File type and size validation feedback

3. **Profile Editing**
   - Inline editing for simple fields (name, phone, address)
   - Modal forms for complex information (skills, experience)
   - Real-time validation with country-specific rules
   - Save/cancel functionality with confirmation dialogs
   - Auto-save draft functionality for long forms

4. **Data Integration**
   - Real-time profile completion percentage updates
   - Integration with existing backend profile APIs
   - CV upload integration with storage service
   - Audit logging for all profile changes
   - Error handling for API failures

## Tasks / Subtasks
- [ ] Profile Display Components
  - [ ] Create profile overview component with completion indicator
  - [ ] Build profile field display components (read-only and editable)
  - [ ] Implement country-specific field formatting
  - [ ] Add profile status indicators and progress tracking

- [ ] CV Management Interface
  - [ ] Build CV list view with version management
  - [ ] Implement CV upload with drag-and-drop
  - [ ] Add CV download functionality with secure URLs
  - [ ] Create CV version history display

- [ ] Profile Editing Forms
  - [ ] Develop inline editing components
  - [ ] Create modal forms for complex data
  - [ ] Implement form validation and error handling
  - [ ] Add auto-save and draft functionality

- [ ] Backend Integration
  - [ ] Integrate with profile completion service
  - [ ] Connect CV upload/download APIs
  - [ ] Implement audit logging for changes
  - [ ] Handle API errors and user feedback

## Dev Notes

### Backend Integration Points
**Profile APIs [Source: Story 2.1 completion]:**
- **Profile Data:** `GET /v1/users/me/profile` (EORProfile entity)
- **Profile Update:** `PUT /v1/users/me/profile` (profile modification)
- **Profile Completion:** Profile completion service integration

**CV Management APIs [Source: Story 2.2 completion]:**
- **CV List:** `GET /v1/users/me/profile/cv` (CV version listing)
- **CV Upload:** `POST /v1/users/me/profile/cv` (file upload)
- **CV Download:** `GET /v1/users/me/profile/cv/:versionId` (signed URLs)

**Data Models (from completed backend):**
- **EORProfile Entity:** Personal info, professional details, CV relationships
- **Document Entity:** CV files with versioning, metadata, storage paths
- **Profile Completion:** Mandatory vs optional fields, completion percentage

### Technical Requirements
**Frontend Components:**
- Profile overview dashboard with completion tracking
- Editable field components with validation
- CV management interface with file handling
- Modal forms for complex data entry
- Progress indicators and status displays

**Form Validation:**
- Country-specific validation rules
- Real-time validation feedback
- Required field indicators
- Data format validation (phone, email, dates)
- Error message display and guidance

**File Handling:**
- Drag-and-drop file upload
- File type validation (PDF, DOCX)
- File size validation (10MB limit)
- Progress indicators for uploads
- Error handling for upload failures

### UI/UX Requirements
**Design Standards:**
- **Follow Teamified Design System:** Use established CSS classes and tokens from `docs/style-guide/` directory
- **Typography:** `docs/style-guide/typography.md` - Plus Jakarta Sans font system and type scale
- **Colors:** `docs/style-guide/colors.md` - Brand Purple (#A16AE8) and Blue (#8096FD) with semantic colors
- **Spacing:** `docs/style-guide/spacing.md` - 8px spacing scale and responsive breakpoints
- **Components:** `docs/style-guide/components.md` - Button, form, card, and layout component specifications
- **Icons:** `docs/style-guide/icons.md` - Icon system and usage patterns
- **Accessibility:** `docs/style-guide/accessibility.md` - WCAG 2.1 AA compliance standards
- **Responsive Design:** Mobile-first approach with established breakpoints from spacing guide

**Profile Organization:**
- Logical grouping of related fields
- Collapsible sections for better organization
- Section completion status indicators
- Quick navigation between profile sections
- Visual progress tracking

**CV Management:**
- Clear version history display
- Current CV highlighting
- Upload progress indicators
- File metadata display
- Download functionality with secure URLs

### Data Validation
**Country-Specific Rules:**
- Phone number formatting per country
- Address validation rules
- Date format preferences
- Required field variations
- Validation error messages

**Field Requirements:**
- Mandatory vs optional field indicators
- Field type validation (text, email, phone, date)
- Character limits and constraints
- Format requirements and examples
- Help text and tooltips

### Performance Considerations
**Optimization:**
- Lazy loading of profile sections
- Efficient form validation
- Optimized file upload handling
- Minimal API calls for updates
- Fast page load times

**User Experience:**
- Smooth form transitions
- Real-time validation feedback
- Auto-save functionality
- Progress indicators
- Success/error notifications

### Accessibility Requirements
**WCAG 2.1 AA Compliance:**
- Keyboard navigation support
- Screen reader compatibility
- High contrast mode support
- Focus management and indicators
- Error message accessibility

**Form Accessibility:**
- Proper label associations
- Error message announcements
- Required field indicators
- Help text and tooltips
- Field grouping and organization

### Testing Strategy
**Unit Testing:**
- Component logic and validation
- Form handling and state management
- File upload/download functionality
- Error handling scenarios

**Integration Testing:**
- Backend API integration
- Profile completion tracking
- CV management workflows
- Data validation and error handling

**E2E Testing:**
- Complete profile management workflows
- CV upload and management
- Form validation and submission
- Cross-browser compatibility

### Error Handling
**API Integration:**
- Network error handling
- Validation error display
- File upload error handling
- Profile update error recovery
- User-friendly error messages

**User Experience:**
- Clear error message display
- Recovery suggestions and guidance
- Retry functionality for failed operations
- Graceful degradation for errors
- Audit trail for troubleshooting

### Design System Integration
**Style Guide References:**
- **Typography:** `docs/style-guide/typography.md` - Plus Jakarta Sans font system and type scale
- **Colors:** `docs/style-guide/colors.md` - Brand Purple (#A16AE8) and Blue (#8096FD)
- **Spacing:** `docs/style-guide/spacing.md` - 8px spacing scale and responsive breakpoints
- **Components:** `docs/style-guide/components.md` - Button, form, card, and layout component specifications
- **Icons:** `docs/style-guide/icons.md` - Icon system and usage patterns
- **Accessibility:** `docs/style-guide/accessibility.md` - WCAG 2.1 AA compliance standards

**Component Usage:**
- **Profile Forms:** Use `.form-group`, `.form-label`, `.form-input` classes with `.form-input--error` for validation
- **CV Management:** Use `.card` components with `.card-header` and `.card-body` for file lists
- **Buttons:** `.btn.btn-primary` for primary actions (Save, Upload), `.btn.btn-secondary` for secondary
- **Progress Indicators:** Use established progress bar components and status indicators
- **File Upload:** Implement drag-and-drop with visual feedback using design system colors and spacing
- **Layout:** Follow established 8px spacing scale and responsive breakpoints from style guide

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-01-28 | 1.0 | Initial story creation for user profile and CV management interface | John (Product Manager) |

## Dev Agent Record
*This section will be populated by the development agent during implementation*

### Agent Model Used
*Will be populated during development*

### Debug Log References  
*Will be populated during development*

### Completion Notes List
*Will be populated during development*

### File List
*Will be populated during development*
