var Compensation={COMPONENT_MODAL:void 0,ctcList:null,salRangeList:null,currTempId:null,othersList:null,confCurrList:null,otherPackagesList:null,codeVsDetails:null,currCompDetails:null,empCurrId:null,mode:null,optionData:{},optionValues:{},formDetails:{},salUsr:[],impMode:"add",CONSTANTS:{TAB_NAME:"SalaryDetails",SERVICENAME:"salarydetails",COMPENSATION:"Compensation",SALARY_REVISION_PC_NAME:"Salary_Revision",SALARY_REVISION_TABLE_NAME:"P_SalaryRevision",TEXT_FIELD:1,PICKLIST_FIELD:2,LOOKUP_FIELD:3,MULTISELECT_PICKLIST_FIELD:4,SPECIAL_FIELDS:5,NUMERICAL_FIELD:6,PLAIN_TEXT_FIELD:7,DATE_FIELD:8,DATETIME_FIELD:9,MODE:{ADD:"add",UPDATE:"update",DELETE:"delete"},COMPARISON:{EQUAL:"18",NOT_EQUAL:"19",LESS_THAN:"20",GREATER_THAN:"21",LESS_EQUAL:"22",GREATER_EQUAL:"23",BETWEEN:"58"},ENTITIES:{LOCATION:"LOCATION",DESIGNATION:"DESIGNATION",STREAM:"STREAM",LEVEL:"LEVEL",DEPARTMENT:"DEPARTMENT",EXPERIENCE:"EXPERIENCE",SALARYRANGE:"SALARYRANGE",LEGALENTITY:"LEGALENTITY",BUSINESSUNIT:"BUSINESSUNIT",DIVISION:"DIVISION",EMPLOYEETYPE:"EMPLOYEETYPE",REPORTINGTO:"REPORTINGTO"},CALCTYPE:{FLAT:1,POB:2,POC:3,FORMULA:4},MODULESTATUS:{STARTPAGE:0,CURRSETUPPENDING:1,IMPORTPENDING:2,ENABLESTATEPENDING:3,ENABLED:4,COMPADMINPENDING:5,COMPMODAPP:6},VIEWTYPE:{OPER:1,TEAM:2,OTHERS:3,EMPVIEW:4},VIEWMODE:{GRID:1,LIST:2,KANBAN:3},ACTIONTYPE:{SALARY:1,REVISION:2,SETTINGS_PACKAGE:3},DATAMODE:{ALL_DATA:3,ADMIN_DATA:2,NONADMIN_DATA:1}},components:{CALCTYPE_FLAT:1,CALCTYPE_POB:2,CALCTYPE_POC:3,PAYFREQ_MONTHLY:1,PAYFREQ_QUARTELY:2,PAYFREQ_HALFYEARLY:3,PAYFREQ_ANNUALLY:4,COMPCATEGORY_EARNINGS:1,COMPCATEGORY_DEDUCTIONS:2,PAYTYPE_FIXED:1,PAYTYPE_VARIABLE:2,FILTERID:"zp_compFilter_",activeTab:"ctcTab",FIXED_CTC:"Fixed_CTC",CTC:"CTC",FIXED_ALLOWANCE:"Fixed_Allowance",EARNINGS_TXT:"Earnings",DEDUCTIONS_TXT:"Deductions"},COMP_KEYS:{CID:"cid",CODE:"Component_Code",NAME:"Component_Name",DESCRIPTION:"Description",AMOUNT:"Amount",PERCENTAGE:"Percentage",CALC_TYPE_ID:"calcTypeId",PAY_TYPE_ID:"payTypeId",PAY_FREQ_ID:"payFreqId",COMP_CATEGORY_ID:"compCategoryId",CALC_TYPE_STR:"Calculation_Type",PAY_TYPE_STR:"Pay_Type",PAY_FREQ_STR:"Payment_Frequency",COMP_CATEGORY_STR:"Component_Category",PART_OF_CTC:"Part_Of_CTC",IS_STATIC:"isStatic"},SalPkgFilter:{TMPL_FILTERID:"zp_tmplFilter",ENTITY_VS_DIV_ID:{LEGALENTITY:"#zpcmpFltr_LEGALENTITY",BUSINESSUNIT:"#zpcmpFltr_BUSINESSUNIT",DIVISION:"#zpcmpFltr_DIVISION"}}};Compensation.Utils={sendReqAsPromise:function(url,params={}){return new Promise((resolve,reject)=>{ZPeople.Request.send(url,params,resolve,void 0,reject)})},sendRequestAsPromise:function(url,params={},otherDetails){return new Promise((resolve,reject)=>{ZPeople.Request.send(url,params,function(response,params,otherDetails){resolve([response,params,otherDetails])},void 0,function(response,params,otherDetails){reject([response,params,otherDetails])})})},getRequestAsPromise:function(url,params={},otherDetails){return Compensation.Utils.sendRequestWithModeAsPromise(url,params,"GET",otherDetails)},sendRequestWithModeAsPromise:function(url,params={},mode,otherdetails){return new Promise((resolve,reject)=>{ZPeople.Request.sendRequest(url,params,mode,function(response,params,otherDetails){resolve([response,params,otherDetails])},void 0,function(response,params,otherDetails){reject([response,params,otherDetails])})})},isCompensationForm:function(){try{return settingsUrlProps.currentMode==Compensation.CONSTANTS.SERVICENAME}catch(err){return!1}},isModuleForm:function(url){return(url=void 0==url?settingsUrlProps.niceUrl:url).includes("operations/salarydetails/salary/")||url.includes("operations/salarydetails/revision/")||url.includes("salarydetails/team/salary")||url.includes("salarydetails/team/revision")||url.includes("salarydetails/salary/listview")||url.includes("salarydetails/revision/listview")||url.includes("salarydetails/employeesalary/listview")||url.includes("salarydetails/salaryrevision/listview")||-1!==url.indexOf("salarydetails/team/")||-1!==url.indexOf("salarydetails/salary/listview")||-1!==url.indexOf("salarydetails/salary/othersview")||-1!==url.indexOf("salarydetails/revision/listview")},commonErrorHandler:function(response){let errMsg=void 0;return response.hasError?errMsg=response.errMsg?response.errMsg:ZPI18N.getString("zp.sorryservererror"):response.status&&200!==response.status&&response.responseJSON&&response.responseJSON.error&&(errMsg=response.responseJSON.error),!!errMsg&&(ModuleComp.Msg.showFailureMsg(errMsg),settingsPage.container.find("#zp_page_loading").remove(),!0)}},Compensation.handleWmsMsg=function({compensation:msg}){msg.payrollsync&&Compensation.PayrollInteg&&Compensation.PayrollInteg.handleWmsCallback(msg.payrollsync)},Compensation.PermissionBean=function(){var permBean=void 0;const DUMMY_ACCESS_PERM_JSON={typeOfView:0,addPerm:0,editPerm:0,viewPerm:0,exportPerm:0,locs:[]};return setPermBean=function(pb){permBean=pb},getPermBean=function(){return deepClone(permBean)},getOperPerms=function(cat){const permBean=this.getPermBean(),operPerms=cat&&permBean&&permBean.operPerms&&permBean.operPerms[cat]?permBean.operPerms[cat]:DUMMY_ACCESS_PERM_JSON;return deepClone(operPerms)},hasAccessPerm=function(cat,accessType,viewType,considerAllLocDataAdmin=!0,considerLocDataAdmin=!0){const permBean=this.getPermBean();if(permBean.isConsideredDataAdmin&&(considerAllLocDataAdmin&&permBean.isConsideredDataAdminForAllLocations||considerLocDataAdmin&&permBean.isLocationAdmin))return!0;const operPerms=this.getOperPerms(cat);return 1===operPerms[accessType]&&(!viewType||operPerms.typeOfView==viewType)},deepClone=function(obj){if(void 0===obj||null==obj)return obj;if(_.isArray(obj)){let clone=[];for(const value of obj)_.isObject(value)||_.isArray(value)?clone.push(deepClone(value)):clone.push(value);return clone}if(_.isObject(obj)){let clone={};for(const[key,value]of Object.entries(obj))_.isObject(value)||_.isArray(value)?clone[key]=deepClone(value):clone[key]=value;return clone}},{setPermBean:setPermBean,getPermBean:getPermBean,getOperPerms:getOperPerms,hasAccessPerm:hasAccessPerm}}(),Compensation.Config={configObj:{},isTempEnabled:!1,getConfiguration:async function(isRef){settingsUrlProps.currentMode;let customUrl=Compensation.URL;var params={conreqcsr:csrfToken,method:"getCompensationSetup"};if(!Compensation.Config.configObj||0===Object.keys(Compensation.Config.configObj).length||isRef){const response=await Compensation.Utils.sendReqAsPromise(customUrl,params);Compensation.Config.setConfiguration(response.config)}return Promise.resolve(Compensation.Config.configObj)},getConfiguration_asSync:function(isRef){settingsUrlProps.currentMode;let customUrl=Compensation.URL;var params={conreqcsr:csrfToken,method:"getCompensationSetup"};return Compensation.Config.configObj&&0!==Object.keys(Compensation.Config.configObj).length&&!isRef||ZPeople.Request.sendAsyncPost(customUrl,params,function(response){Compensation.Config.setConfiguration(response.config)}),Compensation.Config.configObj},setConfiguration:function(configObj){Compensation.Config.configObj=configObj;var isSalaryStructureEnabled=void 0!=configObj?Compensation.Config.configObj.isTemplateConfigurationEnabled:{};Compensation.Config.isTempEnabled=isSalaryStructureEnabled}};