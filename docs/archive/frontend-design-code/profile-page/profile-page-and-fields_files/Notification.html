<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0159)https://people.patona.com.au/mics/Notification?ORGID=60018189489&ServiceID=66&polling=true&frameorigin=https://people.patona.com.au&Feedback=3&Scope=Enterprise -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">  <meta http-equiv="X-UA-Compatible" content="IE=edge"></head> <body> <script> var micsestatus = false; var buffertime=3600000; var dapmodulesconfig={ helphub:false, messageboard:false, banner:true, walkthrough:true, interactivevideo:false, guide:false }; var micsmodulesconfig={ helphub:false, messageboard:false, banner:true, walkthrough:true, interactivevideo:false, guide:false }; var walkthroughconf={}; if (micsestatus) { try {var xhttp = new XMLHttpRequest();xhttp.open('GET', 'Notification?ORGID=60018189489&Scope=Enterprise&fetchDapConfig=true', false); xhttp.send(null); if (xhttp.status === 200) {var parsedData = JSON.parse(xhttp.responseText); dapmodulesconfig = parsedData;}} catch (e) {}} var initialisemodules={}; for(modulename in dapmodulesconfig){if(dapmodulesconfig[modulename] || micsmodulesconfig[modulename]){initialisemodules[modulename] = true;}} var interval = 900000; var csrfParamName = 'iamcsrcoo'; function getCSRFCookie(name) { var cookie_name = name + '='; var ca = document.cookie.split(';'); for (var i = 0; i < ca.length; i++) { var c = ca[i].trim(); if (c.indexOf(cookie_name) === 0) { return c.substring(cookie_name.length, c.length); } } return ''; } var parentDomain = 'https:\/\/people.patona.com.au'; postmessagetoparent({"type":"buffertime","bannerbuffertime":buffertime}); postmessagetoparent({"type":"walkthroughconf","configuration":walkthroughconf}); postmessagetoparent( {"type" : "initialise" , "moduleConf" : initialisemodules , "videoConf" : { "domain" : {"zoho" : "dap.zoho.in", "manageengine" : "dap.manageengine.in"} , "servicename" : "People" , "workspaceid" : -1 }} ); window.addEventListener('message', function(e) { if (e.origin === 'https:\/\/people.patona.com.au') { var dataobject = {}; dataobject[csrfParamName] = getCSRFCookie('iamcsr');if(e.data.type === 'bannerimmediatepoll'){ setTimeout(()=>getData('immediate'), 60000); } else if (e.data.type === 'tabSwitch') { checkTip(e.data.promotionID, e.data.feedback, e.data.scope); } else if (!(e.data.promotionID === undefined)) { var xhttp = new XMLHttpRequest(); xhttp.open('OPTIONS', 'Notification?Pidentifier=' + e.data.promotionID + '&ORGID=60018189489&ServiceID=66&Feedback=' + e.data.feedback + (e.data.scope === undefined ? '' : ('&Scope=' + e.data.scope)), true); xhttp.setRequestHeader('Content-Type', 'application/json'); xhttp.send(JSON.stringify(dataobject));} } }); function getDataforMicse(period) { var xhttp = new XMLHttpRequest(); xhttp.onreadystatechange = function() { if (this.readyState == 4 && this.status == 200) { var parsedData = JSON.parse(xhttp.responseText); parsedData.PromotionID ? parsedData.scope = 'Enterprise' : ''; parsedData.module='banner'; var postData = replaceTild(parsedData); postmessagetoparent(postData); if (parsedData.PromotionID && period=='notimmediate') { timeout(parsedData); return; } getDataforMics(period); } else if (this.readyState == 4 && this.status != 200) { micsestatus = this.status == 403 ? false : true; getDataforMics(period); } } ; xhttp.open('GET', 'Notification?ORGID=60018189489&ServiceID=66&Feedback=3&Scope=Enterprise', true); xhttp.send();} function getDataforMics(period) { var xhttp = new XMLHttpRequest(); xhttp.onreadystatechange = function() { if (this.readyState == 4 && this.status == 200) { var parsedData = JSON.parse(xhttp.responseText); parsedData.PromotionID ? parsedData.scope = 'Service' : '';parsedData.module='banner'; var postData = replaceTild(parsedData); postmessagetoparent(postData); if(period=='notimmediate'){timeout(parsedData);} } else if (this.readyState == 4 && this.status != 200 && period=='notimmediate') { timeout({ Timeout: 900000 }); } } ; xhttp.open('GET', 'Notification?ORGID=60018189489&ServiceID=66&Feedback=3&Scope=Service', true); xhttp.send();} function getData(param='notimmediate') { if(document.visibilityState==="visible"){if (micsestatus) { getDataforMicse(param); return; } getDataforMics(param); return; } setTimeout(()=>getData(param), interval); } function timeout(data) { interval = data.Timeout; setTimeout(getData, interval); } getData(); function replaceTild(json) { return JSON.stringify(json); } function postmessagetoparent(postdata){ window.parent.postMessage(postdata,parentDomain); } function checkTip(pid, feedback, scope) { var dataobject = {}; dataobject[csrfParamName] = getCSRFCookie('iamcsr'); var xhttp = new XMLHttpRequest(); xhttp.onreadystatechange = function() { if (this.readyState == 4 && this.status == 200) { var checkTipData = { type: 'tabSwitch', 'scope': scope, IsActive: JSON.parse(xhttp.responseText).IsActive, }; postmessagetoparent(checkTipData); } } ; xhttp.open('OPTIONS', 'Notification?Pidentifier='+pid +'&ORGID=60018189489&ServiceID=66&Feedback='+feedback+(scope===undefined?'':('&Scope='+scope)), true ); xhttp.setRequestHeader('Content-Type', 'application/json'); xhttp.send(JSON.stringify(dataobject));} </script>  </body></html>