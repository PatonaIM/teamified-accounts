var ZPEmployeeOperations={HOME_URL:"operations/organization/searchuser",FORM_SRC_URL:void 0,setTLTabParams:function(tlParams){tlParams.userErecno=Layout.Page.urlparam.id},updateUserDetail:function(){return ZPEmployeeOperations.getHeaderBtn()},getHeaderBtn:function(){return'<div class="zpl_myprofhd-acts"><button class="zlabel zlabel-primary zlabel--blue zlabel--medium zlabel--outline" onclick="ZPEmployeeOperations.Profile.editProfile()">'+ZPI18N.getString("zp.editprofile")+"</button></div>"},getTopHtml:function(id){return"<div class='zpl_rgtcnt'><div class='zpl_ursearch-detlview' id='"+id+"'></div></div>"}};ZPEmployeeOperations.Profile={FIELDS:["Department","EmailID","Role","Designation","Work_phone","Extension","LocationName","Work_location"],ICONS:["PI_deptg","PI_deptg","PI_deptg","PI_deptg","PI_mobile","PI_work_mob","PI_work_loca","PI_seat_loca"],init:function(erecno,container,isHome){let userId=void 0==erecno?Layout.Page.urlparam.id:erecno;ZPEmployeeOperations.Profile.container=container=void 0==container?Layout.Page.container:container;ZPEmployeeOperations.getTopHtml("empProfileInfo");if(0==ZPEmployeeOperations.Profile.container.find("#empProfileInfo").length){let profileHtml=ZPEmployeeOperations.getTopHtml("empProfileInfo");container.append(profileHtml)}ZPEmployeeOperations.Profile.container.find("#empProfileInfo").find("#empoverview").remove();let params={formMode:"VIEW",recordId:userId,formId:ZPeople.EMP_FORMID,disableUrlTrack:!0,isPageMode:!0,isFormReadOnly:!0,isProfileView:!0,moduleKey:"EmployeeProfile",isHome:isHome};ZP5Form._toForm(params).setFormContainer(container.find("#empProfileInfo")).setIsFormForFieldLayout().setRelatedFormNotNeeded().setFormModel(ZP5Form.MODEL.NO_MODEL).init()},editProfile:function(){ZPEmployeeOperations.FORM_SRC_URL=Layout.UrlConf.getHashDetails().fullHash,window.location.hash="operations/organization/searchuser/edit-recordId:"+Layout.Page.urlparam.id},editAndViewForm:function(){let hashDetails=Layout.UrlConf.getHashDetails().customParam,formMode=hashDetails.isView?"VIEW":hashDetails.isEdit?"EDIT":"VIEW";if(formMode){let params={formMode:formMode,recordId:Layout.Page.urlparam.recordId,formId:ZPeople.EMP_FORMID,moduleKey:"operations-organization-searchuser"};ZP5Form._toForm(params).init()}},constructInfoCard:function(employeeModuleHandler){ZPEmployeeOperations.Profile.container.find("#empProfileInfo").find("#empoverview").remove();let cardCnt='<div class="zpl_crd" id="empoverview"><div class="zpl_crdcnt"><div class="zpl_myprofdets">',fieldDatas=FormsUtil.getFieldValueDataByLabelList(ZPEmployeeOperations.Profile.FIELDS),index=0;for(let field of ZPEmployeeOperations.Profile.FIELDS){let fieldData=fieldDatas[field];cardCnt+='<div class="zpl_em"><div class="zpl_emimg"><span class="zpl_pichr '+ZPEmployeeOperations.Profile.ICONS[index]+'"><span class="path1"></span><span class="path2"></span></span></div>',cardCnt+='<div class="zpl_emdts zpl_ellipsis"><div><em>'+fieldData.displayName+"</em></div><div>"+ZP5Form.Field.getNoValueString(fieldData.componentValue)+"</div></div>",cardCnt+="</div>",index++}cardCnt+="</div></div></div>",ZPEmployeeOperations.Profile.container.find("#empProfileInfo").prepend(cardCnt)}},ZPEmployeeOperations.Career={init:function(){let empCareerHtml=ZPEmployeeOperations.getTopHtml("empOprCareerHist");Layout.Page.container.append(empCareerHtml),EmployeeReports.CareerHistory.CardHandling.init(Layout.Page.container.find("#empOprCareerHist"),{erecno:Layout.Page.urlparam.id})}},ZPEmployeeOperations.History={init:function(){let formId=ZPeople.EMP_FORMID,recordId=Layout.Page.urlparam.id,empCareerHtml=ZPEmployeeOperations.getTopHtml("empOprHistoy");Layout.Page.container.html(empCareerHtml),Layout.Page.container.addClass("zpl_tmlnfxd");ZPEmployeeOperations.History.auditClassObj=new AuditHistory({formId:formId,recordId:recordId,header:""}),ZPEmployeeOperations.History.auditClassObj.setContainer(Layout.Page.container.find("#empOprHistoy")).setRgtTLStyleNotNeed().setModel(ZP5Form.MODEL.NO_MODEL).skipHeader().setOuterHtml("<div id='zp_audit_history' class='zpl_w-100'><div id='zp_audit_body' class='zpl_tmlnscrl'></div></div>").setScrollDivElem("#zp_history_row_body").loadAuditHistory()},closeCallback:function(){ZP5Form.AuditHistory.closeCallback(ZPEmployeeOperations.History.auditClassObj.LAYOUT),ZPEmployeeOperations.History.auditClassObj=void 0}};class EmployeeProfile extends EmployeeHandler{constructor(formClassObj){super(formClassObj)}fieldContainerOuterHtml(){let fieldHtmlStart="",fieldHtmlend="",fieldHtmlInit=!1;return this.FORM_CLASS_OBJ.isViewMode()&&(fieldHtmlStart="<div>",fieldHtmlend="</div>",fieldHtmlInit=!0),{fieldHtmlStart:fieldHtmlStart,fieldHtmlend:fieldHtmlend,fieldHtmlInit:fieldHtmlInit}}activeStateNotify(lastformstate){"VIEW"==lastformstate&&ZPEmployeeOperations.isRefresh&&this.FORM_CLASS_OBJ.refreshPage(this.FORM_CLASS_OBJ.getParams())}recordErrorHandle(){return this.FORM_CLASS_OBJ.LAYOUT.html(""),!0}postFormConstructionModuleHandler(){Layout.UrlConf.getHashDetails().isUserProfileSearch&&ZPEmployeeOperations.Profile.constructInfoCard(this)}}class OrganizationUserHandler extends EmployeeHandler{constructor(formClassObj){super(formClassObj)}close(){let url=ZPEmployeeOperations.FORM_SRC_URL||"operations/organization/searchuser/profile-id:"+this.FORM_CLASS_OBJ.getRecordId();return ZPEmployeeOperations.FORM_SRC_URL=void 0,url}}