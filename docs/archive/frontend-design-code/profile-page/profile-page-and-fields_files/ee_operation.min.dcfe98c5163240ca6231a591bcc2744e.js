/*! For license information please see ee_operation.min.js.LICENSE.txt */
!function(){var t,n,r={246:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}n.r(t),n.d(t,{MultiDrag:function(){return _t},Sortable:function(){return Fe},Swap:function(){return ut}});var s=u(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),d=u(/Edge/i),p=u(/firefox/i),f=u(/safari/i)&&!u(/chrome/i)&&!u(/android/i),m=u(/iP(ad|od|hone)/i),v=u(/chrome/i)&&u(/android/i),y={capture:!1,passive:!1};function g(e,t,n){e.addEventListener(t,n,!s&&y)}function h(e,t,n){e.removeEventListener(t,n,!s&&y)}function b(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function _(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function E(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&b(e,t):b(e,t))||r&&e===n)return e;if(e===n)break}while(e=_(e))}return null}var S,w=/\s+/g;function N(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(w," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(w," ")}}function P(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function O(e,t){var n="";if("string"==typeof e)n=e;else do{var r=P(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(n)}function I(e,t,n){if(e){var r=e.getElementsByTagName(t),a=0,o=r.length;if(n)for(;a<o;a++)n(r[a],a);return r}return[]}function z(){return document.scrollingElement||document.documentElement}function C(e,t,n,r,a){if(e.getBoundingClientRect||e===window){var o,i,l,c,u,d,p;if(e!==window&&e.parentNode&&e!==z()?(i=(o=e.getBoundingClientRect()).top,l=o.left,c=o.bottom,u=o.right,d=o.height,p=o.width):(i=0,l=0,c=window.innerHeight,u=window.innerWidth,d=window.innerHeight,p=window.innerWidth),(t||n)&&e!==window&&(a=a||e.parentNode,!s))do{if(a&&a.getBoundingClientRect&&("none"!==P(a,"transform")||n&&"static"!==P(a,"position"))){var f=a.getBoundingClientRect();i-=f.top+parseInt(P(a,"border-top-width")),l-=f.left+parseInt(P(a,"border-left-width")),c=i+o.height,u=l+o.width;break}}while(a=a.parentNode);if(r&&e!==window){var m=O(a||e),v=m&&m.a,y=m&&m.d;m&&(c=(i/=y)+(d/=y),u=(l/=v)+(p/=v))}return{top:i,left:l,bottom:c,right:u,width:p,height:d}}}function T(e,t,n){for(var r=A(e,!0),a=C(e)[t];r;){var o=C(r)[n];if(!("top"===n||"left"===n?a>=o:a<=o))return r;if(r===z())break;r=A(r,!1)}return!1}function x(e,t,n,r){for(var a=0,o=0,i=e.children;o<i.length;){if("none"!==i[o].style.display&&i[o]!==Fe.ghost&&(r||i[o]!==Fe.dragged)&&E(i[o],n.draggable,e,!1)){if(a===t)return i[o];a++}o++}return null}function k(e,t){for(var n=e.lastElementChild;n&&(n===Fe.ghost||"none"===P(n,"display")||t&&!b(n,t));)n=n.previousElementSibling;return n||null}function D(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Fe.clone||t&&!b(e,t)||n++;return n}function j(e){var t=0,n=0,r=z();if(e)do{var a=O(e),o=a.a,i=a.d;t+=e.scrollLeft*o,n+=e.scrollTop*i}while(e!==r&&(e=e.parentNode));return[t,n]}function A(e,t){if(!e||!e.getBoundingClientRect)return z();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=P(n);if(n.clientWidth<n.scrollWidth&&("auto"==a.overflowX||"scroll"==a.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==a.overflowY||"scroll"==a.overflowY)){if(!n.getBoundingClientRect||n===document.body)return z();if(r||t)return n;r=!0}}}while(n=n.parentNode);return z()}function R(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function q(e,t){return function(){if(!S){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),S=setTimeout(function(){S=void 0},t)}}}function M(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Z(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function L(e,t){P(e,"position","absolute"),P(e,"top",t.top),P(e,"left",t.left),P(e,"width",t.width),P(e,"height",t.height)}function F(e){P(e,"position",""),P(e,"top",""),P(e,"left",""),P(e,"width",""),P(e,"height","")}function B(e,t,n){var r={};return Array.from(e.children).forEach(function(a){var o,i,l,c;if(E(a,t.draggable,e,!1)&&!a.animated&&a!==n){var u=C(a);r.left=Math.min(null!==(o=r.left)&&void 0!==o?o:1/0,u.left),r.top=Math.min(null!==(i=r.top)&&void 0!==i?i:1/0,u.top),r.right=Math.max(null!==(l=r.right)&&void 0!==l?l:-1/0,u.right),r.bottom=Math.max(null!==(c=r.bottom)&&void 0!==c?c:-1/0,u.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var U="Sortable"+(new Date).getTime();var H=[],V={initializeByDefault:!0},Y={mount:function(e){for(var t in V)V.hasOwnProperty(t)&&!(t in e)&&(e[t]=V[t]);H.forEach(function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),H.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=e+"Global";H.forEach(function(r){t[r.pluginName]&&(t[r.pluginName][o]&&t[r.pluginName][o](a({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](a({sortable:t},n)))})},initializePlugins:function(e,t,n,r){for(var a in H.forEach(function(r){var a=r.pluginName;if(e.options[a]||r.initializeByDefault){var o=new r(e,t,e.options);o.sortable=e,o.options=e.options,e[a]=o,l(n,o.defaults)}}),e.options)if(e.options.hasOwnProperty(a)){var o=this.modifyOption(e,a,e.options[a]);void 0!==o&&(e.options[a]=o)}},getEventProperties:function(e,t){var n={};return H.forEach(function(r){"function"==typeof r.eventProperties&&l(n,r.eventProperties.call(t[r.pluginName],e))}),n},modifyOption:function(e,t,n){var r;return H.forEach(function(a){e[a.pluginName]&&a.optionListeners&&"function"==typeof a.optionListeners[t]&&(r=a.optionListeners[t].call(e[a.pluginName],n))}),r}};function W(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,i=e.cloneEl,l=e.toEl,c=e.fromEl,u=e.oldIndex,p=e.newIndex,f=e.oldDraggableIndex,m=e.newDraggableIndex,v=e.originalEvent,y=e.putSortable,g=e.extraEventProperties;if(t=t||n&&n[U]){var h,b=t.options,_="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||s||d?(h=document.createEvent("Event")).initEvent(r,!0,!0):h=new CustomEvent(r,{bubbles:!0,cancelable:!0}),h.to=l||n,h.from=c||n,h.item=o||n,h.clone=i,h.oldIndex=u,h.newIndex=p,h.oldDraggableIndex=f,h.newDraggableIndex=m,h.originalEvent=v,h.pullMode=y?y.lastPutMode:void 0;var E=a(a({},g),Y.getEventProperties(r,t));for(var S in E)h[S]=E[S];n&&n.dispatchEvent(h),b[_]&&b[_].call(t,h)}}var G=["evt"],$=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,o=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(n,G);Y.pluginEvent.bind(Fe)(e,t,a({dragEl:X,parentEl:K,ghostEl:J,rootEl:ee,nextEl:te,lastDownEl:ne,cloneEl:re,cloneHidden:ae,dragStarted:ge,putSortable:se,activeSortable:Fe.active,originalEvent:r,oldIndex:oe,oldDraggableIndex:le,newIndex:ie,newDraggableIndex:ce,hideGhostForTarget:qe,unhideGhostForTarget:Me,cloneNowHidden:function(){ae=!0},cloneNowShown:function(){ae=!1},dispatchSortableEvent:function(e){Q({sortable:t,name:e,originalEvent:r})}},o))};function Q(e){W(a({putSortable:se,cloneEl:re,targetEl:X,rootEl:ee,oldIndex:oe,oldDraggableIndex:le,newIndex:ie,newDraggableIndex:ce},e))}var X,K,J,ee,te,ne,re,ae,oe,ie,le,ce,ue,se,de,pe,fe,me,ve,ye,ge,he,be,_e,Ee,Se=!1,we=!1,Ne=[],Pe=!1,Oe=!1,Ie=[],ze=!1,Ce=[],Te="undefined"!=typeof document,xe=m,ke=d||s?"cssFloat":"float",De=Te&&!v&&!m&&"draggable"in document.createElement("div"),je=function(){if(Te){if(s)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Ae=function(e,t){var n=P(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=x(e,0,t),o=x(e,1,t),i=a&&P(a),l=o&&P(o),c=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+C(a).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+C(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&i.float&&"none"!==i.float){var s="left"===i.float?"left":"right";return!o||"both"!==l.clear&&l.clear!==s?"horizontal":"vertical"}return a&&("block"===i.display||"flex"===i.display||"table"===i.display||"grid"===i.display||c>=r&&"none"===n[ke]||o&&"none"===n[ke]&&c+u>r)?"vertical":"horizontal"},Re=function(e){function t(e,n){return function(r,a,o,i){var l=r.options.group.name&&a.options.group.name&&r.options.group.name===a.options.group.name;if(null==e&&(n||l))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(r,a,o,i),n)(r,a,o,i);var c=(n?r:a).options.group.name;return!0===e||"string"==typeof e&&e===c||e.join&&e.indexOf(c)>-1}}var n={},r=e.group;r&&"object"==o(r)||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},qe=function(){!je&&J&&P(J,"display","none")},Me=function(){!je&&J&&P(J,"display","")};Te&&!v&&document.addEventListener("click",function(e){if(we)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),we=!1,!1},!0);var Ze=function(e){if(X){e=e.touches?e.touches[0]:e;var t=(a=e.clientX,o=e.clientY,Ne.some(function(e){var t=e[U].options.emptyInsertThreshold;if(t&&!k(e)){var n=C(e),r=a>=n.left-t&&a<=n.right+t,l=o>=n.top-t&&o<=n.bottom+t;return r&&l?i=e:void 0}}),i);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[U]._onDragOver(n)}}var a,o,i},Le=function(e){X&&X.parentNode[U]._isOutsideThisEl(e.target)};function Fe(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=l({},t),e[U]=this;var n,r,o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ae(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Fe.supportPointer&&"PointerEvent"in window&&!f,emptyInsertThreshold:5};for(var i in Y.initializePlugins(this,e,o),o)!(i in t)&&(t[i]=o[i]);for(var c in Re(t),this)"_"===c.charAt(0)&&"function"==typeof this[c]&&(this[c]=this[c].bind(this));this.nativeDraggable=!t.forceFallback&&De,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?g(e,"pointerdown",this._onTapStart):(g(e,"mousedown",this._onTapStart),g(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(g(e,"dragover",this),g(e,"dragenter",this)),Ne.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),l(this,(r=[],{captureAnimationState:function(){r=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(e){if("none"!==P(e,"display")&&e!==Fe.ghost){r.push({target:e,rect:C(e)});var t=a({},r[r.length-1].rect);if(e.thisAnimationDuration){var n=O(e,!0);n&&(t.top-=n.f,t.left-=n.e)}e.fromRect=t}})},addAnimationState:function(e){r.push(e)},removeAnimationState:function(e){r.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(r,{target:e}),1)},animateAll:function(e){var t=this;if(!this.options.animation)return clearTimeout(n),void("function"==typeof e&&e());var a=!1,o=0;r.forEach(function(e){var n=0,r=e.target,i=r.fromRect,l=C(r),c=r.prevFromRect,u=r.prevToRect,s=e.rect,d=O(r,!0);d&&(l.top-=d.f,l.left-=d.e),r.toRect=l,r.thisAnimationDuration&&R(c,l)&&!R(i,l)&&(s.top-l.top)/(s.left-l.left)===(i.top-l.top)/(i.left-l.left)&&(n=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(s,c,u,t.options)),R(l,i)||(r.prevFromRect=i,r.prevToRect=l,n||(n=t.options.animation),t.animate(r,s,l,n)),n&&(a=!0,o=Math.max(o,n),clearTimeout(r.animationResetTimer),r.animationResetTimer=setTimeout(function(){r.animationTime=0,r.prevFromRect=null,r.fromRect=null,r.prevToRect=null,r.thisAnimationDuration=null},n),r.thisAnimationDuration=n)}),clearTimeout(n),a?n=setTimeout(function(){"function"==typeof e&&e()},o):"function"==typeof e&&e(),r=[]},animate:function(e,t,n,r){if(r){P(e,"transition",""),P(e,"transform","");var a=O(this.el),o=a&&a.a,i=a&&a.d,l=(t.left-n.left)/(o||1),c=(t.top-n.top)/(i||1);e.animatingX=!!l,e.animatingY=!!c,P(e,"transform","translate3d("+l+"px,"+c+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),P(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),P(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout(function(){P(e,"transition",""),P(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1},r)}}}))}function Be(e,t,n,r,a,o,i,l){var c,u,p=e[U],f=p.options.onMove;return!window.CustomEvent||s||d?(c=document.createEvent("Event")).initEvent("move",!0,!0):c=new CustomEvent("move",{bubbles:!0,cancelable:!0}),c.to=t,c.from=e,c.dragged=n,c.draggedRect=r,c.related=a||t,c.relatedRect=o||C(t),c.willInsertAfter=l,c.originalEvent=i,e.dispatchEvent(c),f&&(u=f.call(p,c,i)),u}function Ue(e){e.draggable=!1}function He(){ze=!1}function Ve(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function Ye(e){return setTimeout(e,0)}function We(e){return clearTimeout(e)}Fe.prototype={constructor:Fe,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(he=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,X):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,a=r.preventOnFilter,o=e.type,i=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,l=(i||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,u=r.filter;if(function(e){Ce.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&Ce.push(r)}}(n),!X&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||r.disabled)&&!c.isContentEditable&&(this.nativeDraggable||!f||!l||"SELECT"!==l.tagName.toUpperCase())&&!((l=E(l,r.draggable,n,!1))&&l.animated||ne===l)){if(oe=D(l),le=D(l,r.draggable),"function"==typeof u){if(u.call(this,e,l,this))return Q({sortable:t,rootEl:c,name:"filter",targetEl:l,toEl:n,fromEl:n}),$("filter",t,{evt:e}),void(a&&e.cancelable&&e.preventDefault())}else if(u&&(u=u.split(",").some(function(r){if(r=E(c,r.trim(),n,!1))return Q({sortable:t,rootEl:r,name:"filter",targetEl:l,fromEl:n,toEl:n}),$("filter",t,{evt:e}),!0})))return void(a&&e.cancelable&&e.preventDefault());r.handle&&!E(c,r.handle,n,!1)||this._prepareDragStart(e,i,l)}}},_prepareDragStart:function(e,t,n){var r,a=this,o=a.el,i=a.options,l=o.ownerDocument;if(n&&!X&&n.parentNode===o){var c=C(n);if(ee=o,K=(X=n).parentNode,te=X.nextSibling,ne=n,ue=i.group,Fe.dragged=X,de={target:X,clientX:(t||e).clientX,clientY:(t||e).clientY},ve=de.clientX-c.left,ye=de.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,X.style["will-change"]="all",r=function(){$("delayEnded",a,{evt:e}),Fe.eventCanceled?a._onDrop():(a._disableDelayedDragEvents(),!p&&a.nativeDraggable&&(X.draggable=!0),a._triggerDragStart(e,t),Q({sortable:a,name:"choose",originalEvent:e}),N(X,i.chosenClass,!0))},i.ignore.split(",").forEach(function(e){I(X,e.trim(),Ue)}),g(l,"dragover",Ze),g(l,"mousemove",Ze),g(l,"touchmove",Ze),g(l,"mouseup",a._onDrop),g(l,"touchend",a._onDrop),g(l,"touchcancel",a._onDrop),p&&this.nativeDraggable&&(this.options.touchStartThreshold=4,X.draggable=!0),$("delayStart",this,{evt:e}),!i.delay||i.delayOnTouchOnly&&!t||this.nativeDraggable&&(d||s))r();else{if(Fe.eventCanceled)return void this._onDrop();g(l,"mouseup",a._disableDelayedDrag),g(l,"touchend",a._disableDelayedDrag),g(l,"touchcancel",a._disableDelayedDrag),g(l,"mousemove",a._delayedDragTouchMoveHandler),g(l,"touchmove",a._delayedDragTouchMoveHandler),i.supportPointer&&g(l,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(r,i.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){X&&Ue(X),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;h(e,"mouseup",this._disableDelayedDrag),h(e,"touchend",this._disableDelayedDrag),h(e,"touchcancel",this._disableDelayedDrag),h(e,"mousemove",this._delayedDragTouchMoveHandler),h(e,"touchmove",this._delayedDragTouchMoveHandler),h(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?g(document,"pointermove",this._onTouchMove):g(document,t?"touchmove":"mousemove",this._onTouchMove):(g(X,"dragend",this),g(ee,"dragstart",this._onDragStart));try{document.selection?Ye(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(Se=!1,ee&&X){$("dragStarted",this,{evt:t}),this.nativeDraggable&&g(document,"dragover",Le);var n=this.options;!e&&N(X,n.dragClass,!1),N(X,n.ghostClass,!0),Fe.active=this,e&&this._appendGhost(),Q({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(pe){this._lastX=pe.clientX,this._lastY=pe.clientY,qe();for(var e=document.elementFromPoint(pe.clientX,pe.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(pe.clientX,pe.clientY))!==t;)t=e;if(X.parentNode[U]._isOutsideThisEl(e),t)do{if(t[U]&&t[U]._onDragOver({clientX:pe.clientX,clientY:pe.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);Me()}},_onTouchMove:function(e){if(de){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,a=e.touches?e.touches[0]:e,o=J&&O(J,!0),i=J&&o&&o.a,l=J&&o&&o.d,c=xe&&Ee&&j(Ee),u=(a.clientX-de.clientX+r.x)/(i||1)+(c?c[0]-Ie[0]:0)/(i||1),s=(a.clientY-de.clientY+r.y)/(l||1)+(c?c[1]-Ie[1]:0)/(l||1);if(!Fe.active&&!Se){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(J){o?(o.e+=u-(fe||0),o.f+=s-(me||0)):o={a:1,b:0,c:0,d:1,e:u,f:s};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");P(J,"webkitTransform",d),P(J,"mozTransform",d),P(J,"msTransform",d),P(J,"transform",d),fe=u,me=s,pe=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!J){var e=this.options.fallbackOnBody?document.body:ee,t=C(X,!0,xe,!0,e),n=this.options;if(xe){for(Ee=e;"static"===P(Ee,"position")&&"none"===P(Ee,"transform")&&Ee!==document;)Ee=Ee.parentNode;Ee!==document.body&&Ee!==document.documentElement?(Ee===document&&(Ee=z()),t.top+=Ee.scrollTop,t.left+=Ee.scrollLeft):Ee=z(),Ie=j(Ee)}N(J=X.cloneNode(!0),n.ghostClass,!1),N(J,n.fallbackClass,!0),N(J,n.dragClass,!0),P(J,"transition",""),P(J,"transform",""),P(J,"box-sizing","border-box"),P(J,"margin",0),P(J,"top",t.top),P(J,"left",t.left),P(J,"width",t.width),P(J,"height",t.height),P(J,"opacity","0.8"),P(J,"position",xe?"absolute":"fixed"),P(J,"zIndex","100000"),P(J,"pointerEvents","none"),Fe.ghost=J,e.appendChild(J),P(J,"transform-origin",ve/parseInt(J.style.width)*100+"% "+ye/parseInt(J.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,a=n.options;$("dragStart",this,{evt:e}),Fe.eventCanceled?this._onDrop():($("setupClone",this),Fe.eventCanceled||((re=Z(X)).removeAttribute("id"),re.draggable=!1,re.style["will-change"]="",this._hideClone(),N(re,this.options.chosenClass,!1),Fe.clone=re),n.cloneId=Ye(function(){$("clone",n),Fe.eventCanceled||(n.options.removeCloneOnHide||ee.insertBefore(re,X),n._hideClone(),Q({sortable:n,name:"clone"}))}),!t&&N(X,a.dragClass,!0),t?(we=!0,n._loopId=setInterval(n._emulateDragOver,50)):(h(document,"mouseup",n._onDrop),h(document,"touchend",n._onDrop),h(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",a.setData&&a.setData.call(n,r,X)),g(document,"drop",n),P(X,"transform","translateZ(0)")),Se=!0,n._dragStartId=Ye(n._dragStarted.bind(n,t,e)),g(document,"selectstart",n),ge=!0,f&&P(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,o,i=this.el,l=e.target,c=this.options,u=c.group,s=Fe.active,d=ue===u,p=c.sort,f=se||s,m=this,v=!1;if(!ze){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),l=E(l,c.draggable,i,!0),Z("dragOver"),Fe.eventCanceled)return v;if(X.contains(e.target)||l.animated&&l.animatingX&&l.animatingY||m._ignoreWhileAnimating===l)return F(!1);if(we=!1,s&&!c.disabled&&(d?p||(r=K!==ee):se===this||(this.lastPutMode=ue.checkPull(this,s,X,e))&&u.checkPut(this,s,X,e))){if(o="vertical"===this._getDirection(e,l),t=C(X),Z("dragOverValid"),Fe.eventCanceled)return v;if(r)return K=ee,L(),this._hideClone(),Z("revert"),Fe.eventCanceled||(te?ee.insertBefore(X,te):ee.appendChild(X)),F(!0);var y=k(i,c.draggable);if(!y||function(e,t,n){var r=C(k(n.el,n.options.draggable)),a=B(n.el,n.options,J);return t?e.clientX>a.right+10||e.clientY>r.bottom&&e.clientX>r.left:e.clientY>a.bottom+10||e.clientX>r.right&&e.clientY>r.top}(e,o,this)&&!y.animated){if(y===X)return F(!1);if(y&&i===e.target&&(l=y),l&&(n=C(l)),!1!==Be(ee,i,X,t,l,n,e,!!l))return L(),y&&y.nextSibling?i.insertBefore(X,y.nextSibling):i.appendChild(X),K=i,H(),F(!0)}else if(y&&function(e,t,n){var r=C(x(n.el,0,n.options,!0)),a=B(n.el,n.options,J);return t?e.clientX<a.left-10||e.clientY<r.top&&e.clientX<r.right:e.clientY<a.top-10||e.clientY<r.bottom&&e.clientX<r.left}(e,o,this)){var g=x(i,0,c,!0);if(g===X)return F(!1);if(n=C(l=g),!1!==Be(ee,i,X,t,l,n,e,!1))return L(),i.insertBefore(X,g),K=i,H(),F(!0)}else if(l.parentNode===i){n=C(l);var h,b,_,S=X.parentNode!==i,w=!function(e,t,n){var r=n?e.left:e.top,a=n?e.right:e.bottom,o=n?e.width:e.height,i=n?t.left:t.top,l=n?t.right:t.bottom,c=n?t.width:t.height;return r===i||a===l||r+o/2===i+c/2}(X.animated&&X.toRect||t,l.animated&&l.toRect||n,o),O=o?"top":"left",I=T(l,"top","top")||T(X,"top","top"),z=I?I.scrollTop:void 0;if(he!==l&&(b=n[O],Pe=!1,Oe=!w&&c.invertSwap||S),h=function(e,t,n,r,a,o,i,l){var c=r?e.clientY:e.clientX,u=r?n.height:n.width,s=r?n.top:n.left,d=r?n.bottom:n.right,p=!1;if(!i)if(l&&_e<u*a){if(!Pe&&(1===be?c>s+u*o/2:c<d-u*o/2)&&(Pe=!0),Pe)p=!0;else if(1===be?c<s+_e:c>d-_e)return-be}else if(c>s+u*(1-a)/2&&c<d-u*(1-a)/2)return function(e){return D(X)<D(e)?1:-1}(t);return(p=p||i)&&(c<s+u*o/2||c>d-u*o/2)?c>s+u/2?1:-1:0}(e,l,n,o,w?1:c.swapThreshold,null==c.invertedSwapThreshold?c.swapThreshold:c.invertedSwapThreshold,Oe,he===l),0!==h){var j=D(X);do{j-=h,_=K.children[j]}while(_&&("none"===P(_,"display")||_===J))}if(0===h||_===l)return F(!1);he=l,be=h;var A=l.nextElementSibling,R=!1,q=Be(ee,i,X,t,l,n,e,R=1===h);if(!1!==q)return 1!==q&&-1!==q||(R=1===q),ze=!0,setTimeout(He,30),L(),R&&!A?i.appendChild(X):l.parentNode.insertBefore(X,R?A:l),I&&M(I,0,z-I.scrollTop),K=X.parentNode,void 0===b||Oe||(_e=Math.abs(b-C(l)[O])),H(),F(!0)}if(i.contains(X))return F(!1)}return!1}function Z(c,u){$(c,m,a({evt:e,isOwner:d,axis:o?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:p,fromSortable:f,target:l,completed:F,onMove:function(n,r){return Be(ee,i,X,t,n,C(n),e,r)},changed:H},u))}function L(){Z("dragOverAnimationCapture"),m.captureAnimationState(),m!==f&&f.captureAnimationState()}function F(t){return Z("dragOverCompleted",{insertion:t}),t&&(d?s._hideClone():s._showClone(m),m!==f&&(N(X,se?se.options.ghostClass:s.options.ghostClass,!1),N(X,c.ghostClass,!0)),se!==m&&m!==Fe.active?se=m:m===Fe.active&&se&&(se=null),f===m&&(m._ignoreWhileAnimating=l),m.animateAll(function(){Z("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(l===X&&!X.animated||l===i&&!l.animated)&&(he=null),c.dragoverBubble||e.rootEl||l===document||(X.parentNode[U]._isOutsideThisEl(e.target),!t&&Ze(e)),!c.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),v=!0}function H(){ie=D(X),ce=D(X,c.draggable),Q({sortable:m,name:"change",toEl:i,newIndex:ie,newDraggableIndex:ce,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){h(document,"mousemove",this._onTouchMove),h(document,"touchmove",this._onTouchMove),h(document,"pointermove",this._onTouchMove),h(document,"dragover",Ze),h(document,"mousemove",Ze),h(document,"touchmove",Ze)},_offUpEvents:function(){var e=this.el.ownerDocument;h(e,"mouseup",this._onDrop),h(e,"touchend",this._onDrop),h(e,"pointerup",this._onDrop),h(e,"touchcancel",this._onDrop),h(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;ie=D(X),ce=D(X,n.draggable),$("drop",this,{evt:e}),K=X&&X.parentNode,ie=D(X),ce=D(X,n.draggable),Fe.eventCanceled||(Se=!1,Oe=!1,Pe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),We(this.cloneId),We(this._dragStartId),this.nativeDraggable&&(h(document,"drop",this),h(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),f&&P(document.body,"user-select",""),P(X,"transform",""),e&&(ge&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),J&&J.parentNode&&J.parentNode.removeChild(J),(ee===K||se&&"clone"!==se.lastPutMode)&&re&&re.parentNode&&re.parentNode.removeChild(re),X&&(this.nativeDraggable&&h(X,"dragend",this),Ue(X),X.style["will-change"]="",ge&&!Se&&N(X,se?se.options.ghostClass:this.options.ghostClass,!1),N(X,this.options.chosenClass,!1),Q({sortable:this,name:"unchoose",toEl:K,newIndex:null,newDraggableIndex:null,originalEvent:e}),ee!==K?(ie>=0&&(Q({rootEl:K,name:"add",toEl:K,fromEl:ee,originalEvent:e}),Q({sortable:this,name:"remove",toEl:K,originalEvent:e}),Q({rootEl:K,name:"sort",toEl:K,fromEl:ee,originalEvent:e}),Q({sortable:this,name:"sort",toEl:K,originalEvent:e})),se&&se.save()):ie!==oe&&ie>=0&&(Q({sortable:this,name:"update",toEl:K,originalEvent:e}),Q({sortable:this,name:"sort",toEl:K,originalEvent:e})),Fe.active&&(null!=ie&&-1!==ie||(ie=oe,ce=le),Q({sortable:this,name:"end",toEl:K,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){$("nulling",this),ee=X=K=J=te=re=ne=ae=de=pe=ge=ie=ce=oe=le=he=be=se=ue=Fe.dragged=Fe.ghost=Fe.clone=Fe.active=null,Ce.forEach(function(e){e.checked=!0}),Ce.length=fe=me=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":X&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,a=n.length,o=this.options;r<a;r++)E(e=n[r],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||Ve(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach(function(e,t){var a=r.children[t];E(a,this.options.draggable,r,!1)&&(n[e]=a)},this),t&&this.captureAnimationState(),e.forEach(function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return E(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=Y.modifyOption(this,e,t);n[e]=void 0!==r?r:t,"group"===e&&Re(n)},destroy:function(){$("destroy",this);var e=this.el;e[U]=null,h(e,"mousedown",this._onTapStart),h(e,"touchstart",this._onTapStart),h(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(h(e,"dragover",this),h(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ne.splice(Ne.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ae){if($("hideClone",this),Fe.eventCanceled)return;P(re,"display","none"),this.options.removeCloneOnHide&&re.parentNode&&re.parentNode.removeChild(re),ae=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ae){if($("showClone",this),Fe.eventCanceled)return;X.parentNode!=ee||this.options.group.revertClone?te?ee.insertBefore(re,te):ee.appendChild(re):ee.insertBefore(re,X),this.options.group.revertClone&&this.animate(X,re),P(re,"display",""),ae=!1}}else this._hideClone()}},Te&&g(document,"touchmove",function(e){(Fe.active||Se)&&e.cancelable&&e.preventDefault()}),Fe.utils={on:g,off:h,css:P,find:I,is:function(e,t){return!!E(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:q,closest:E,toggleClass:N,clone:Z,index:D,nextTick:Ye,cancelNextTick:We,detectDirection:Ae,getChild:x},Fe.get=function(e){return e[U]},Fe.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Fe.utils=a(a({},Fe.utils),e.utils)),Y.mount(e)})},Fe.create=function(e,t){return new Fe(e,t)},Fe.version="1.15.2";var Ge,$e,Qe,Xe,Ke,Je,et=[],tt=!1;function nt(){et.forEach(function(e){clearInterval(e.pid)}),et=[]}function rt(){clearInterval(Je)}var at,ot=q(function(e,t,n,r){if(t.scroll){var a,o=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,c=t.scrollSpeed,u=z(),s=!1;$e!==n&&($e=n,nt(),Ge=t.scroll,a=t.scrollFn,!0===Ge&&(Ge=A(n,!0)));var d=0,p=Ge;do{var f=p,m=C(f),v=m.top,y=m.bottom,g=m.left,h=m.right,b=m.width,_=m.height,E=void 0,S=void 0,w=f.scrollWidth,N=f.scrollHeight,O=P(f),I=f.scrollLeft,T=f.scrollTop;f===u?(E=b<w&&("auto"===O.overflowX||"scroll"===O.overflowX||"visible"===O.overflowX),S=_<N&&("auto"===O.overflowY||"scroll"===O.overflowY||"visible"===O.overflowY)):(E=b<w&&("auto"===O.overflowX||"scroll"===O.overflowX),S=_<N&&("auto"===O.overflowY||"scroll"===O.overflowY));var x=E&&(Math.abs(h-o)<=l&&I+b<w)-(Math.abs(g-o)<=l&&!!I),k=S&&(Math.abs(y-i)<=l&&T+_<N)-(Math.abs(v-i)<=l&&!!T);if(!et[d])for(var D=0;D<=d;D++)et[D]||(et[D]={});et[d].vx==x&&et[d].vy==k&&et[d].el===f||(et[d].el=f,et[d].vx=x,et[d].vy=k,clearInterval(et[d].pid),0==x&&0==k||(s=!0,et[d].pid=setInterval(function(){r&&0===this.layer&&Fe.active._onTouchMove(Ke);var t=et[this.layer].vy?et[this.layer].vy*c:0,n=et[this.layer].vx?et[this.layer].vx*c:0;"function"==typeof a&&"continue"!==a.call(Fe.dragged.parentNode[U],n,t,e,Ke,et[this.layer].el)||M(et[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&p!==u&&(p=A(p,!1)));tt=s}},30),it=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,a=e.activeSortable,o=e.dispatchSortableEvent,i=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var c=n||a;i();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,s=document.elementFromPoint(u.clientX,u.clientY);l(),c&&!c.el.contains(s)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function lt(){}function ct(){}function ut(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;at=t},dragOverValid:function(e){var t=e.completed,n=e.target,r=e.onMove,a=e.activeSortable,o=e.changed,i=e.cancel;if(a.options.swap){var l=this.sortable.el,c=this.options;if(n&&n!==l){var u=at;!1!==r(n)?(N(n,c.swapClass,!0),at=n):at=null,u&&u!==at&&N(u,c.swapClass,!1)}o(),t(!0),i()}},drop:function(e){var t,n,r,a,o,i,l=e.activeSortable,c=e.putSortable,u=e.dragEl,s=c||this.sortable,d=this.options;at&&N(at,d.swapClass,!1),at&&(d.swap||c&&c.options.swap)&&u!==at&&(s.captureAnimationState(),s!==l&&l.captureAnimationState(),n=at,o=(t=u).parentNode,i=n.parentNode,o&&i&&!o.isEqualNode(n)&&!i.isEqualNode(t)&&(r=D(t),a=D(n),o.isEqualNode(i)&&r<a&&a++,o.insertBefore(n,o.children[r]),i.insertBefore(t,i.children[a])),s.animateAll(),s!==l&&l.animateAll())},nulling:function(){at=null}},l(e,{pluginName:"swap",eventProperties:function(){return{swapItem:at}}})}lt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=x(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:it},l(lt,{pluginName:"revertOnSpill"}),ct.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:it},l(ct,{pluginName:"removeOnSpill"});var st,dt,pt,ft,mt,vt=[],yt=[],gt=!1,ht=!1,bt=!1;function _t(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.avoidImplicitDeselect||(e.options.supportPointer?g(document,"pointerup",this._deselectMultiDrag):(g(document,"mouseup",this._deselectMultiDrag),g(document,"touchend",this._deselectMultiDrag))),g(document,"keydown",this._checkKeyDown),g(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(t,n){var r="";vt.length&&dt===e?vt.forEach(function(e,t){r+=(t?", ":"")+e.textContent}):r=n.textContent,t.setData("Text",r)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;pt=t},delayEnded:function(){this.isMultiDrag=~vt.indexOf(pt)},setupClone:function(e){var t=e.sortable,n=e.cancel;if(this.isMultiDrag){for(var r=0;r<vt.length;r++)yt.push(Z(vt[r])),yt[r].sortableIndex=vt[r].sortableIndex,yt[r].draggable=!1,yt[r].style["will-change"]="",N(yt[r],this.options.selectedClass,!1),vt[r]===pt&&N(yt[r],this.options.chosenClass,!1);t._hideClone(),n()}},clone:function(e){var t=e.sortable,n=e.rootEl,r=e.dispatchSortableEvent,a=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||vt.length&&dt===t&&(Et(!0,n),r("clone"),a()))},showClone:function(e){var t=e.cloneNowShown,n=e.rootEl,r=e.cancel;this.isMultiDrag&&(Et(!1,n),yt.forEach(function(e){P(e,"display","")}),t(),mt=!1,r())},hideClone:function(e){var t=this,n=(e.sortable,e.cloneNowHidden),r=e.cancel;this.isMultiDrag&&(yt.forEach(function(e){P(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)}),n(),mt=!0,r())},dragStartGlobal:function(e){e.sortable,!this.isMultiDrag&&dt&&dt.multiDrag._deselectMultiDrag(),vt.forEach(function(e){e.sortableIndex=D(e)}),vt=vt.sort(function(e,t){return e.sortableIndex-t.sortableIndex}),bt=!0},dragStarted:function(e){var t=this,n=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){vt.forEach(function(e){e!==pt&&P(e,"position","absolute")});var r=C(pt,!1,!0,!0);vt.forEach(function(e){e!==pt&&L(e,r)}),ht=!0,gt=!0}n.animateAll(function(){ht=!1,gt=!1,t.options.animation&&vt.forEach(function(e){F(e)}),t.options.sort&&St()})}},dragOver:function(e){var t=e.target,n=e.completed,r=e.cancel;ht&&~vt.indexOf(t)&&(n(!1),r())},revert:function(e){var t=e.fromSortable,n=e.rootEl,r=e.sortable,a=e.dragRect;vt.length>1&&(vt.forEach(function(e){r.addAnimationState({target:e,rect:ht?C(e):a}),F(e),e.fromRect=a,t.removeAnimationState(e)}),ht=!1,function(e,t){vt.forEach(function(n,r){var a=t.children[n.sortableIndex+(e?Number(r):0)];a?t.insertBefore(n,a):t.appendChild(n)})}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(e){var t=e.sortable,n=e.isOwner,r=e.insertion,a=e.activeSortable,o=e.parentEl,i=e.putSortable,l=this.options;if(r){if(n&&a._hideClone(),gt=!1,l.animation&&vt.length>1&&(ht||!n&&!a.options.sort&&!i)){var c=C(pt,!1,!0,!0);vt.forEach(function(e){e!==pt&&(L(e,c),o.appendChild(e))}),ht=!0}if(!n)if(ht||St(),vt.length>1){var u=mt;a._showClone(t),a.options.animation&&!mt&&u&&yt.forEach(function(e){a.addAnimationState({target:e,rect:ft}),e.fromRect=ft,e.thisAnimationDuration=null})}else a._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,n=e.isOwner,r=e.activeSortable;if(vt.forEach(function(e){e.thisAnimationDuration=null}),r.options.animation&&!n&&r.multiDrag.isMultiDrag){ft=l({},t);var a=O(pt,!0);ft.top-=a.f,ft.left-=a.e}},dragOverAnimationComplete:function(){ht&&(ht=!1,St())},drop:function(e){var t=e.originalEvent,n=e.rootEl,r=e.parentEl,a=e.sortable,o=e.dispatchSortableEvent,i=e.oldIndex,l=e.putSortable,c=l||this.sortable;if(t){var u=this.options,s=r.children;if(!bt)if(u.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),N(pt,u.selectedClass,!~vt.indexOf(pt)),~vt.indexOf(pt))vt.splice(vt.indexOf(pt),1),st=null,W({sortable:a,rootEl:n,name:"deselect",targetEl:pt,originalEvent:t});else{if(vt.push(pt),W({sortable:a,rootEl:n,name:"select",targetEl:pt,originalEvent:t}),t.shiftKey&&st&&a.el.contains(st)){var d,p,f=D(st),m=D(pt);if(~f&&~m&&f!==m)for(m>f?(p=f,d=m):(p=m,d=f+1);p<d;p++)~vt.indexOf(s[p])||(N(s[p],u.selectedClass,!0),vt.push(s[p]),W({sortable:a,rootEl:n,name:"select",targetEl:s[p],originalEvent:t}))}else st=pt;dt=c}if(bt&&this.isMultiDrag){if(ht=!1,(r[U].options.sort||r!==n)&&vt.length>1){var v=C(pt),y=D(pt,":not(."+this.options.selectedClass+")");if(!gt&&u.animation&&(pt.thisAnimationDuration=null),c.captureAnimationState(),!gt&&(u.animation&&(pt.fromRect=v,vt.forEach(function(e){if(e.thisAnimationDuration=null,e!==pt){var t=ht?C(e):v;e.fromRect=t,c.addAnimationState({target:e,rect:t})}})),St(),vt.forEach(function(e){s[y]?r.insertBefore(e,s[y]):r.appendChild(e),y++}),i===D(pt))){var g=!1;vt.forEach(function(e){e.sortableIndex===D(e)||(g=!0)}),g&&(o("update"),o("sort"))}vt.forEach(function(e){F(e)}),c.animateAll()}dt=c}(n===r||l&&"clone"!==l.lastPutMode)&&yt.forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)})}},nullingGlobal:function(){this.isMultiDrag=bt=!1,yt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),h(document,"pointerup",this._deselectMultiDrag),h(document,"mouseup",this._deselectMultiDrag),h(document,"touchend",this._deselectMultiDrag),h(document,"keydown",this._checkKeyDown),h(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==bt&&bt||dt!==this.sortable||e&&E(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;vt.length;){var t=vt[0];N(t,this.options.selectedClass,!1),vt.shift(),W({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvent:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},l(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[U];t&&t.options.multiDrag&&!~vt.indexOf(e)&&(dt&&dt!==t&&(dt.multiDrag._deselectMultiDrag(),dt=t),N(e,t.options.selectedClass,!0),vt.push(e))},deselect:function(e){var t=e.parentNode[U],n=vt.indexOf(e);t&&t.options.multiDrag&&~n&&(N(e,t.options.selectedClass,!1),vt.splice(n,1))}},eventProperties:function(){var e,t=this,n=[],r=[];return vt.forEach(function(e){var a;n.push({multiDragElement:e,index:e.sortableIndex}),a=ht&&e!==pt?-1:ht?D(e,":not(."+t.options.selectedClass+")"):D(e),r.push({multiDragElement:e,index:a})}),{items:(e=vt,function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),clones:[].concat(yt),oldIndicies:n,newIndicies:r}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function Et(e,t){yt.forEach(function(n,r){var a=t.children[n.sortableIndex+(e?Number(r):0)];a?t.insertBefore(n,a):t.appendChild(n)})}function St(){vt.forEach(function(e){e!==pt&&e.parentNode&&e.parentNode.removeChild(e)})}Fe.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?g(document,"dragover",this._handleAutoScroll):this.options.supportPointer?g(document,"pointermove",this._handleFallbackAutoScroll):t.touches?g(document,"touchmove",this._handleFallbackAutoScroll):g(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?h(document,"dragover",this._handleAutoScroll):(h(document,"pointermove",this._handleFallbackAutoScroll),h(document,"touchmove",this._handleFallbackAutoScroll),h(document,"mousemove",this._handleFallbackAutoScroll)),rt(),nt(),clearTimeout(S),S=void 0},nulling:function(){Ke=$e=Ge=tt=Je=Qe=Xe=null,et.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(r,a);if(Ke=e,t||this.options.forceAutoScrollFallback||d||s||f){ot(e,this.options,o,t);var i=A(o,!0);!tt||Je&&r===Qe&&a===Xe||(Je&&rt(),Je=setInterval(function(){var o=A(document.elementFromPoint(r,a),!0);o!==i&&(i=o,nt()),ot(e,n.options,o,t)},10),Qe=r,Xe=a)}else{if(!this.options.bubbleScroll||A(o,!0)===z())return void nt();ot(e,this.options,A(o,!1),!1)}}},l(e,{pluginName:"scroll",initializeByDefault:!0})}),Fe.mount(ct,lt),t.default=Fe},961:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(2551)},1534:function(e){e.exports=null},2012:function(e,t,n){"use strict";var r=n(9516),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,i={};return e?(r.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(i[t]&&a.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}}),i):i}},2017:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,a,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(a=r;0!==a--;)if(!e(t[a],n[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(a=r;0!==a--;)if(!Object.prototype.hasOwnProperty.call(n,o[a]))return!1;for(a=r;0!==a--;){var i=o[a];if(!e(t[i],n[i]))return!1}return!0}return t!=t&&n!=n}},2485:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var i=a.apply(null,n);i&&e.push(i)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var l in n)r.call(n,l)&&n[l]&&e.push(l);else e.push(n.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},2505:function(e,t,n){e.exports=n(8015)},2543:function(e,t,n){var r;e=n.nmd(e),function(){var a,o="Expected a function",i="__lodash_hash_undefined__",l="__lodash_placeholder__",c=32,u=128,s=1/0,d=9007199254740991,p=NaN,f=4294967295,m=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],v="[object Arguments]",y="[object Array]",g="[object Boolean]",h="[object Date]",b="[object Error]",_="[object Function]",E="[object GeneratorFunction]",S="[object Map]",w="[object Number]",N="[object Object]",P="[object Promise]",O="[object RegExp]",I="[object Set]",z="[object String]",C="[object Symbol]",T="[object WeakMap]",x="[object ArrayBuffer]",k="[object DataView]",D="[object Float32Array]",j="[object Float64Array]",A="[object Int8Array]",R="[object Int16Array]",q="[object Int32Array]",M="[object Uint8Array]",Z="[object Uint8ClampedArray]",L="[object Uint16Array]",F="[object Uint32Array]",B=/\b__p \+= '';/g,U=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,V=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,W=RegExp(V.source),G=RegExp(Y.source),$=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+|\s+$/g,ae=/^\s+/,oe=/\s+$/,ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,se=/\\(\\)?/g,de=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pe=/\w*$/,fe=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,ge=/^(?:0|[1-9]\d*)$/,he=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,Ee="\\ud800-\\udfff",Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",we="\\u2700-\\u27bf",Ne="a-z\\xdf-\\xf6\\xf8-\\xff",Pe="A-Z\\xc0-\\xd6\\xd8-\\xde",Oe="\\ufe0e\\ufe0f",Ie="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ze="["+Ee+"]",Ce="["+Ie+"]",Te="["+Se+"]",xe="\\d+",ke="["+we+"]",De="["+Ne+"]",je="[^"+Ee+Ie+xe+we+Ne+Pe+"]",Ae="\\ud83c[\\udffb-\\udfff]",Re="[^"+Ee+"]",qe="(?:\\ud83c[\\udde6-\\uddff]){2}",Me="[\\ud800-\\udbff][\\udc00-\\udfff]",Ze="["+Pe+"]",Le="\\u200d",Fe="(?:"+De+"|"+je+")",Be="(?:"+Ze+"|"+je+")",Ue="(?:['’](?:d|ll|m|re|s|t|ve))?",He="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ve="(?:"+Te+"|"+Ae+")?",Ye="["+Oe+"]?",We=Ye+Ve+"(?:"+Le+"(?:"+[Re,qe,Me].join("|")+")"+Ye+Ve+")*",Ge="(?:"+[ke,qe,Me].join("|")+")"+We,$e="(?:"+[Re+Te+"?",Te,qe,Me,ze].join("|")+")",Qe=RegExp("['’]","g"),Xe=RegExp(Te,"g"),Ke=RegExp(Ae+"(?="+Ae+")|"+$e+We,"g"),Je=RegExp([Ze+"?"+De+"+"+Ue+"(?="+[Ce,Ze,"$"].join("|")+")",Be+"+"+He+"(?="+[Ce,Ze+Fe,"$"].join("|")+")",Ze+"?"+Fe+"+"+Ue,Ze+"+"+He,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xe,Ge].join("|"),"g"),et=RegExp("["+Le+Ee+Se+Oe+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,at={};at[D]=at[j]=at[A]=at[R]=at[q]=at[M]=at[Z]=at[L]=at[F]=!0,at[v]=at[y]=at[x]=at[g]=at[k]=at[h]=at[b]=at[_]=at[S]=at[w]=at[N]=at[O]=at[I]=at[z]=at[T]=!1;var ot={};ot[v]=ot[y]=ot[x]=ot[k]=ot[g]=ot[h]=ot[D]=ot[j]=ot[A]=ot[R]=ot[q]=ot[S]=ot[w]=ot[N]=ot[O]=ot[I]=ot[z]=ot[C]=ot[M]=ot[Z]=ot[L]=ot[F]=!0,ot[b]=ot[_]=ot[T]=!1;var it={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,ct=parseInt,ut="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,st="object"==typeof self&&self&&self.Object===Object&&self,dt=ut||st||Function("return this")(),pt=t&&!t.nodeType&&t,ft=pt&&e&&!e.nodeType&&e,mt=ft&&ft.exports===pt,vt=mt&&ut.process,yt=function(){try{return ft&&ft.require&&ft.require("util").types||vt&&vt.binding&&vt.binding("util")}catch(e){}}(),gt=yt&&yt.isArrayBuffer,ht=yt&&yt.isDate,bt=yt&&yt.isMap,_t=yt&&yt.isRegExp,Et=yt&&yt.isSet,St=yt&&yt.isTypedArray;function wt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Nt(e,t,n,r){for(var a=-1,o=null==e?0:e.length;++a<o;){var i=e[a];t(r,i,n(i),e)}return r}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ot(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function It(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function zt(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}function Ct(e,t){return!(null==e||!e.length)&&Zt(e,t,0)>-1}function Tt(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}function xt(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}function kt(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}function Dt(e,t,n,r){var a=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++a]);++a<o;)n=t(n,e[a],a,e);return n}function jt(e,t,n,r){var a=null==e?0:e.length;for(r&&a&&(n=e[--a]);a--;)n=t(n,e[a],a,e);return n}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Rt=Ut("length");function qt(e,t,n){var r;return n(e,function(e,n,a){if(t(e,n,a))return r=n,!1}),r}function Mt(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}function Zt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}(e,t,n):Mt(e,Ft,n)}function Lt(e,t,n,r){for(var a=n-1,o=e.length;++a<o;)if(r(e[a],t))return a;return-1}function Ft(e){return e!=e}function Bt(e,t){var n=null==e?0:e.length;return n?Yt(e,t)/n:p}function Ut(e){return function(t){return null==t?a:t[e]}}function Ht(e){return function(t){return null==e?a:e[t]}}function Vt(e,t,n,r,a){return a(e,function(e,a,o){n=r?(r=!1,e):t(n,e,a,o)}),n}function Yt(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);i!==a&&(n=n===a?i:n+i)}return n}function Wt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Gt(e){return function(t){return e(t)}}function $t(e,t){return xt(t,function(t){return e[t]})}function Qt(e,t){return e.has(t)}function Xt(e,t){for(var n=-1,r=e.length;++n<r&&Zt(t,e[n],0)>-1;);return n}function Kt(e,t){for(var n=e.length;n--&&Zt(t,e[n],0)>-1;);return n}var Jt=Ht({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),en=Ht({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function tn(e){return"\\"+it[e]}function nn(e){return et.test(e)}function rn(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function an(e,t){return function(n){return e(t(n))}}function on(e,t){for(var n=-1,r=e.length,a=0,o=[];++n<r;){var i=e[n];i!==t&&i!==l||(e[n]=l,o[a++]=n)}return o}function ln(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function cn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function un(e){return nn(e)?function(e){for(var t=Ke.lastIndex=0;Ke.test(e);)++t;return t}(e):Rt(e)}function sn(e){return nn(e)?function(e){return e.match(Ke)||[]}(e):function(e){return e.split("")}(e)}var dn=Ht({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),pn=function e(t){var n,r=(t=null==t?dt:pn.defaults(dt.Object(),t,pn.pick(dt,nt))).Array,Ee=t.Date,Se=t.Error,we=t.Function,Ne=t.Math,Pe=t.Object,Oe=t.RegExp,Ie=t.String,ze=t.TypeError,Ce=r.prototype,Te=we.prototype,xe=Pe.prototype,ke=t["__core-js_shared__"],De=Te.toString,je=xe.hasOwnProperty,Ae=0,Re=(n=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",qe=xe.toString,Me=De.call(Pe),Ze=dt._,Le=Oe("^"+De.call(je).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fe=mt?t.Buffer:a,Be=t.Symbol,Ue=t.Uint8Array,He=Fe?Fe.allocUnsafe:a,Ve=an(Pe.getPrototypeOf,Pe),Ye=Pe.create,We=xe.propertyIsEnumerable,Ge=Ce.splice,$e=Be?Be.isConcatSpreadable:a,Ke=Be?Be.iterator:a,et=Be?Be.toStringTag:a,it=function(){try{var e=lo(Pe,"defineProperty");return e({},"",{}),e}catch(e){}}(),ut=t.clearTimeout!==dt.clearTimeout&&t.clearTimeout,st=Ee&&Ee.now!==dt.Date.now&&Ee.now,pt=t.setTimeout!==dt.setTimeout&&t.setTimeout,ft=Ne.ceil,vt=Ne.floor,yt=Pe.getOwnPropertySymbols,Rt=Fe?Fe.isBuffer:a,Ht=t.isFinite,fn=Ce.join,mn=an(Pe.keys,Pe),vn=Ne.max,yn=Ne.min,gn=Ee.now,hn=t.parseInt,bn=Ne.random,_n=Ce.reverse,En=lo(t,"DataView"),Sn=lo(t,"Map"),wn=lo(t,"Promise"),Nn=lo(t,"Set"),Pn=lo(t,"WeakMap"),On=lo(Pe,"create"),In=Pn&&new Pn,zn={},Cn=Ro(En),Tn=Ro(Sn),xn=Ro(wn),kn=Ro(Nn),Dn=Ro(Pn),jn=Be?Be.prototype:a,An=jn?jn.valueOf:a,Rn=jn?jn.toString:a;function qn(e){if(Ji(e)&&!Bi(e)&&!(e instanceof Fn)){if(e instanceof Ln)return e;if(je.call(e,"__wrapped__"))return qo(e)}return new Ln(e)}var Mn=function(){function e(){}return function(t){if(!Ki(t))return{};if(Ye)return Ye(t);e.prototype=t;var n=new e;return e.prototype=a,n}}();function Zn(){}function Ln(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=a}function Fn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Bn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Un(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Hn;++t<n;)this.add(e[t])}function Yn(e){var t=this.__data__=new Un(e);this.size=t.size}function Wn(e,t){var n=Bi(e),r=!n&&Fi(e),a=!n&&!r&&Yi(e),o=!n&&!r&&!a&&ll(e),i=n||r||a||o,l=i?Wt(e.length,Ie):[],c=l.length;for(var u in e)!t&&!je.call(e,u)||i&&("length"==u||a&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||vo(u,c))||l.push(u);return l}function Gn(e){var t=e.length;return t?e[Hr(0,t-1)]:a}function $n(e,t){return xo(Pa(e),ar(t,0,e.length))}function Qn(e){return xo(Pa(e))}function Xn(e,t,n){(n!==a&&!Mi(e[t],n)||n===a&&!(t in e))&&nr(e,t,n)}function Kn(e,t,n){var r=e[t];je.call(e,t)&&Mi(r,n)&&(n!==a||t in e)||nr(e,t,n)}function Jn(e,t){for(var n=e.length;n--;)if(Mi(e[n][0],t))return n;return-1}function er(e,t,n,r){return ur(e,function(e,a,o){t(r,e,n(e),o)}),r}function tr(e,t){return e&&Oa(t,Cl(t),e)}function nr(e,t,n){"__proto__"==t&&it?it(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function rr(e,t){for(var n=-1,o=t.length,i=r(o),l=null==e;++n<o;)i[n]=l?a:Nl(e,t[n]);return i}function ar(e,t,n){return e==e&&(n!==a&&(e=e<=n?e:n),t!==a&&(e=e>=t?e:t)),e}function or(e,t,n,r,o,i){var l,c=1&t,u=2&t,s=4&t;if(n&&(l=o?n(e,r,o,i):n(e)),l!==a)return l;if(!Ki(e))return e;var d=Bi(e);if(d){if(l=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&je.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return Pa(e,l)}else{var p=so(e),f=p==_||p==E;if(Yi(e))return ba(e,c);if(p==N||p==v||f&&!o){if(l=u||f?{}:fo(e),!c)return u?function(e,t){return Oa(e,uo(e),t)}(e,function(e,t){return e&&Oa(t,Tl(t),e)}(l,e)):function(e,t){return Oa(e,co(e),t)}(e,tr(l,e))}else{if(!ot[p])return o?e:{};l=function(e,t,n){var r,a=e.constructor;switch(t){case x:return _a(e);case g:case h:return new a(+e);case k:return function(e,t){var n=t?_a(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case D:case j:case A:case R:case q:case M:case Z:case L:case F:return Ea(e,n);case S:return new a;case w:case z:return new a(e);case O:return function(e){var t=new e.constructor(e.source,pe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case I:return new a;case C:return r=e,An?Pe(An.call(r)):{}}}(e,p,c)}}i||(i=new Yn);var m=i.get(e);if(m)return m;i.set(e,l),al(e)?e.forEach(function(r){l.add(or(r,t,n,r,e,i))}):el(e)&&e.forEach(function(r,a){l.set(a,or(r,t,n,a,e,i))});var y=d?a:(s?u?eo:Ja:u?Tl:Cl)(e);return Pt(y||e,function(r,a){y&&(r=e[a=r]),Kn(l,a,or(r,t,n,a,e,i))}),l}function ir(e,t,n){var r=n.length;if(null==e)return!r;for(e=Pe(e);r--;){var o=n[r],i=t[o],l=e[o];if(l===a&&!(o in e)||!i(l))return!1}return!0}function lr(e,t,n){if("function"!=typeof e)throw new ze(o);return Io(function(){e.apply(a,n)},t)}function cr(e,t,n,r){var a=-1,o=Ct,i=!0,l=e.length,c=[],u=t.length;if(!l)return c;n&&(t=xt(t,Gt(n))),r?(o=Tt,i=!1):t.length>=200&&(o=Qt,i=!1,t=new Vn(t));e:for(;++a<l;){var s=e[a],d=null==n?s:n(s);if(s=r||0!==s?s:0,i&&d==d){for(var p=u;p--;)if(t[p]===d)continue e;c.push(s)}else o(t,d,r)||c.push(s)}return c}qn.templateSettings={escape:$,evaluate:Q,interpolate:X,variable:"",imports:{_:qn}},qn.prototype=Zn.prototype,qn.prototype.constructor=qn,Ln.prototype=Mn(Zn.prototype),Ln.prototype.constructor=Ln,Fn.prototype=Mn(Zn.prototype),Fn.prototype.constructor=Fn,Bn.prototype.clear=function(){this.__data__=On?On(null):{},this.size=0},Bn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Bn.prototype.get=function(e){var t=this.__data__;if(On){var n=t[e];return n===i?a:n}return je.call(t,e)?t[e]:a},Bn.prototype.has=function(e){var t=this.__data__;return On?t[e]!==a:je.call(t,e)},Bn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=On&&t===a?i:t,this},Un.prototype.clear=function(){this.__data__=[],this.size=0},Un.prototype.delete=function(e){var t=this.__data__,n=Jn(t,e);return!(n<0||(n==t.length-1?t.pop():Ge.call(t,n,1),--this.size,0))},Un.prototype.get=function(e){var t=this.__data__,n=Jn(t,e);return n<0?a:t[n][1]},Un.prototype.has=function(e){return Jn(this.__data__,e)>-1},Un.prototype.set=function(e,t){var n=this.__data__,r=Jn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new Bn,map:new(Sn||Un),string:new Bn}},Hn.prototype.delete=function(e){var t=oo(this,e).delete(e);return this.size-=t?1:0,t},Hn.prototype.get=function(e){return oo(this,e).get(e)},Hn.prototype.has=function(e){return oo(this,e).has(e)},Hn.prototype.set=function(e,t){var n=oo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Vn.prototype.add=Vn.prototype.push=function(e){return this.__data__.set(e,i),this},Vn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.clear=function(){this.__data__=new Un,this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yn.prototype.get=function(e){return this.__data__.get(e)},Yn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Un){var r=n.__data__;if(!Sn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Hn(r)}return n.set(e,t),this.size=n.size,this};var ur=Ca(gr),sr=Ca(hr,!0);function dr(e,t){var n=!0;return ur(e,function(e,r,a){return n=!!t(e,r,a)}),n}function pr(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],l=t(i);if(null!=l&&(c===a?l==l&&!il(l):n(l,c)))var c=l,u=i}return u}function fr(e,t){var n=[];return ur(e,function(e,r,a){t(e,r,a)&&n.push(e)}),n}function mr(e,t,n,r,a){var o=-1,i=e.length;for(n||(n=mo),a||(a=[]);++o<i;){var l=e[o];t>0&&n(l)?t>1?mr(l,t-1,n,r,a):kt(a,l):r||(a[a.length]=l)}return a}var vr=Ta(),yr=Ta(!0);function gr(e,t){return e&&vr(e,t,Cl)}function hr(e,t){return e&&yr(e,t,Cl)}function br(e,t){return zt(t,function(t){return $i(e[t])})}function _r(e,t){for(var n=0,r=(t=va(t,e)).length;null!=e&&n<r;)e=e[Ao(t[n++])];return n&&n==r?e:a}function Er(e,t,n){var r=t(e);return Bi(e)?r:kt(r,n(e))}function Sr(e){return null==e?e===a?"[object Undefined]":"[object Null]":et&&et in Pe(e)?function(e){var t=je.call(e,et),n=e[et];try{e[et]=a;var r=!0}catch(e){}var o=qe.call(e);return r&&(t?e[et]=n:delete e[et]),o}(e):function(e){return qe.call(e)}(e)}function wr(e,t){return e>t}function Nr(e,t){return null!=e&&je.call(e,t)}function Pr(e,t){return null!=e&&t in Pe(e)}function Or(e,t,n){for(var o=n?Tt:Ct,i=e[0].length,l=e.length,c=l,u=r(l),s=1/0,d=[];c--;){var p=e[c];c&&t&&(p=xt(p,Gt(t))),s=yn(p.length,s),u[c]=!n&&(t||i>=120&&p.length>=120)?new Vn(c&&p):a}p=e[0];var f=-1,m=u[0];e:for(;++f<i&&d.length<s;){var v=p[f],y=t?t(v):v;if(v=n||0!==v?v:0,!(m?Qt(m,y):o(d,y,n))){for(c=l;--c;){var g=u[c];if(!(g?Qt(g,y):o(e[c],y,n)))continue e}m&&m.push(y),d.push(v)}}return d}function Ir(e,t,n){var r=null==(e=No(e,t=va(t,e)))?e:e[Ao(Go(t))];return null==r?a:wt(r,e,n)}function zr(e){return Ji(e)&&Sr(e)==v}function Cr(e,t,n,r,o){return e===t||(null==e||null==t||!Ji(e)&&!Ji(t)?e!=e&&t!=t:function(e,t,n,r,o,i){var l=Bi(e),c=Bi(t),u=l?y:so(e),s=c?y:so(t),d=(u=u==v?N:u)==N,p=(s=s==v?N:s)==N,f=u==s;if(f&&Yi(e)){if(!Yi(t))return!1;l=!0,d=!1}if(f&&!d)return i||(i=new Yn),l||ll(e)?Xa(e,t,n,r,o,i):function(e,t,n,r,a,o,i){switch(n){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!o(new Ue(e),new Ue(t)));case g:case h:case w:return Mi(+e,+t);case b:return e.name==t.name&&e.message==t.message;case O:case z:return e==t+"";case S:var l=rn;case I:var c=1&r;if(l||(l=ln),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;r|=2,i.set(e,t);var s=Xa(l(e),l(t),r,a,o,i);return i.delete(e),s;case C:if(An)return An.call(e)==An.call(t)}return!1}(e,t,u,n,r,o,i);if(!(1&n)){var m=d&&je.call(e,"__wrapped__"),_=p&&je.call(t,"__wrapped__");if(m||_){var E=m?e.value():e,P=_?t.value():t;return i||(i=new Yn),o(E,P,n,r,i)}}return!!f&&(i||(i=new Yn),function(e,t,n,r,o,i){var l=1&n,c=Ja(e),u=c.length;if(u!=Ja(t).length&&!l)return!1;for(var s=u;s--;){var d=c[s];if(!(l?d in t:je.call(t,d)))return!1}var p=i.get(e);if(p&&i.get(t))return p==t;var f=!0;i.set(e,t),i.set(t,e);for(var m=l;++s<u;){var v=e[d=c[s]],y=t[d];if(r)var g=l?r(y,v,d,t,e,i):r(v,y,d,e,t,i);if(!(g===a?v===y||o(v,y,n,r,i):g)){f=!1;break}m||(m="constructor"==d)}if(f&&!m){var h=e.constructor,b=t.constructor;h==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof h&&h instanceof h&&"function"==typeof b&&b instanceof b||(f=!1)}return i.delete(e),i.delete(t),f}(e,t,n,r,o,i))}(e,t,n,r,Cr,o))}function Tr(e,t,n,r){var o=n.length,i=o,l=!r;if(null==e)return!i;for(e=Pe(e);o--;){var c=n[o];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<i;){var u=(c=n[o])[0],s=e[u],d=c[1];if(l&&c[2]){if(s===a&&!(u in e))return!1}else{var p=new Yn;if(r)var f=r(s,d,u,e,t,p);if(!(f===a?Cr(d,s,3,r,p):f))return!1}}return!0}function xr(e){return!(!Ki(e)||(t=e,Re&&Re in t))&&($i(e)?Le:ve).test(Ro(e));var t}function kr(e){return"function"==typeof e?e:null==e?tc:"object"==typeof e?Bi(e)?qr(e[0],e[1]):Rr(e):sc(e)}function Dr(e){if(!_o(e))return mn(e);var t=[];for(var n in Pe(e))je.call(e,n)&&"constructor"!=n&&t.push(n);return t}function jr(e,t){return e<t}function Ar(e,t){var n=-1,a=Hi(e)?r(e.length):[];return ur(e,function(e,r,o){a[++n]=t(e,r,o)}),a}function Rr(e){var t=io(e);return 1==t.length&&t[0][2]?So(t[0][0],t[0][1]):function(n){return n===e||Tr(n,e,t)}}function qr(e,t){return go(e)&&Eo(t)?So(Ao(e),t):function(n){var r=Nl(n,e);return r===a&&r===t?Pl(n,e):Cr(t,r,3)}}function Mr(e,t,n,r,o){e!==t&&vr(t,function(i,l){if(o||(o=new Yn),Ki(i))!function(e,t,n,r,o,i,l){var c=Po(e,n),u=Po(t,n),s=l.get(u);if(s)Xn(e,n,s);else{var d=i?i(c,u,n+"",e,t,l):a,p=d===a;if(p){var f=Bi(u),m=!f&&Yi(u),v=!f&&!m&&ll(u);d=u,f||m||v?Bi(c)?d=c:Vi(c)?d=Pa(c):m?(p=!1,d=ba(u,!0)):v?(p=!1,d=Ea(u,!0)):d=[]:nl(u)||Fi(u)?(d=c,Fi(c)?d=vl(c):Ki(c)&&!$i(c)||(d=fo(u))):p=!1}p&&(l.set(u,d),o(d,u,r,i,l),l.delete(u)),Xn(e,n,d)}}(e,t,l,n,Mr,r,o);else{var c=r?r(Po(e,l),i,l+"",e,t,o):a;c===a&&(c=i),Xn(e,l,c)}},Tl)}function Zr(e,t){var n=e.length;if(n)return vo(t+=t<0?n:0,n)?e[t]:a}function Lr(e,t,n){var r=-1;t=xt(t.length?t:[tc],Gt(ao()));var a=Ar(e,function(e,n,a){var o=xt(t,function(t){return t(e)});return{criteria:o,index:++r,value:e}});return function(e){var t=e.length;for(e.sort(function(e,t){return function(e,t,n){for(var r=-1,a=e.criteria,o=t.criteria,i=a.length,l=n.length;++r<i;){var c=Sa(a[r],o[r]);if(c)return r>=l?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)});t--;)e[t]=e[t].value;return e}(a)}function Fr(e,t,n){for(var r=-1,a=t.length,o={};++r<a;){var i=t[r],l=_r(e,i);n(l,i)&&$r(o,va(i,e),l)}return o}function Br(e,t,n,r){var a=r?Lt:Zt,o=-1,i=t.length,l=e;for(e===t&&(t=Pa(t)),n&&(l=xt(e,Gt(n)));++o<i;)for(var c=0,u=t[o],s=n?n(u):u;(c=a(l,s,c,r))>-1;)l!==e&&Ge.call(l,c,1),Ge.call(e,c,1);return e}function Ur(e,t){for(var n=e?t.length:0,r=n-1;n--;){var a=t[n];if(n==r||a!==o){var o=a;vo(a)?Ge.call(e,a,1):la(e,a)}}return e}function Hr(e,t){return e+vt(bn()*(t-e+1))}function Vr(e,t){var n="";if(!e||t<1||t>d)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Yr(e,t){return zo(wo(e,t,tc),e+"")}function Wr(e){return Gn(Ml(e))}function Gr(e,t){var n=Ml(e);return xo(n,ar(t,0,n.length))}function $r(e,t,n,r){if(!Ki(e))return e;for(var o=-1,i=(t=va(t,e)).length,l=i-1,c=e;null!=c&&++o<i;){var u=Ao(t[o]),s=n;if(o!=l){var d=c[u];(s=r?r(d,u,c):a)===a&&(s=Ki(d)?d:vo(t[o+1])?[]:{})}Kn(c,u,s),c=c[u]}return e}var Qr=In?function(e,t){return In.set(e,t),e}:tc,Xr=it?function(e,t){return it(e,"toString",{configurable:!0,enumerable:!1,value:Kl(t),writable:!0})}:tc;function Kr(e){return xo(Ml(e))}function Jr(e,t,n){var a=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=r(o);++a<o;)i[a]=e[a+t];return i}function ea(e,t){var n;return ur(e,function(e,r,a){return!(n=t(e,r,a))}),!!n}function ta(e,t,n){var r=0,a=null==e?r:e.length;if("number"==typeof t&&t==t&&a<=2147483647){for(;r<a;){var o=r+a>>>1,i=e[o];null!==i&&!il(i)&&(n?i<=t:i<t)?r=o+1:a=o}return a}return na(e,t,tc,n)}function na(e,t,n,r){t=n(t);for(var o=0,i=null==e?0:e.length,l=t!=t,c=null===t,u=il(t),s=t===a;o<i;){var d=vt((o+i)/2),p=n(e[d]),f=p!==a,m=null===p,v=p==p,y=il(p);if(l)var g=r||v;else g=s?v&&(r||f):c?v&&f&&(r||!m):u?v&&f&&!m&&(r||!y):!m&&!y&&(r?p<=t:p<t);g?o=d+1:i=d}return yn(i,4294967294)}function ra(e,t){for(var n=-1,r=e.length,a=0,o=[];++n<r;){var i=e[n],l=t?t(i):i;if(!n||!Mi(l,c)){var c=l;o[a++]=0===i?0:i}}return o}function aa(e){return"number"==typeof e?e:il(e)?p:+e}function oa(e){if("string"==typeof e)return e;if(Bi(e))return xt(e,oa)+"";if(il(e))return Rn?Rn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ia(e,t,n){var r=-1,a=Ct,o=e.length,i=!0,l=[],c=l;if(n)i=!1,a=Tt;else if(o>=200){var u=t?null:Va(e);if(u)return ln(u);i=!1,a=Qt,c=new Vn}else c=t?[]:l;e:for(;++r<o;){var s=e[r],d=t?t(s):s;if(s=n||0!==s?s:0,i&&d==d){for(var p=c.length;p--;)if(c[p]===d)continue e;t&&c.push(d),l.push(s)}else a(c,d,n)||(c!==l&&c.push(d),l.push(s))}return l}function la(e,t){return null==(e=No(e,t=va(t,e)))||delete e[Ao(Go(t))]}function ca(e,t,n,r){return $r(e,t,n(_r(e,t)),r)}function ua(e,t,n,r){for(var a=e.length,o=r?a:-1;(r?o--:++o<a)&&t(e[o],o,e););return n?Jr(e,r?0:o,r?o+1:a):Jr(e,r?o+1:0,r?a:o)}function sa(e,t){var n=e;return n instanceof Fn&&(n=n.value()),Dt(t,function(e,t){return t.func.apply(t.thisArg,kt([e],t.args))},n)}function da(e,t,n){var a=e.length;if(a<2)return a?ia(e[0]):[];for(var o=-1,i=r(a);++o<a;)for(var l=e[o],c=-1;++c<a;)c!=o&&(i[o]=cr(i[o]||l,e[c],t,n));return ia(mr(i,1),t,n)}function pa(e,t,n){for(var r=-1,o=e.length,i=t.length,l={};++r<o;){var c=r<i?t[r]:a;n(l,e[r],c)}return l}function fa(e){return Vi(e)?e:[]}function ma(e){return"function"==typeof e?e:tc}function va(e,t){return Bi(e)?e:go(e,t)?[e]:jo(yl(e))}var ya=Yr;function ga(e,t,n){var r=e.length;return n=n===a?r:n,!t&&n>=r?e:Jr(e,t,n)}var ha=ut||function(e){return dt.clearTimeout(e)};function ba(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function _a(e){var t=new e.constructor(e.byteLength);return new Ue(t).set(new Ue(e)),t}function Ea(e,t){var n=t?_a(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Sa(e,t){if(e!==t){var n=e!==a,r=null===e,o=e==e,i=il(e),l=t!==a,c=null===t,u=t==t,s=il(t);if(!c&&!s&&!i&&e>t||i&&l&&u&&!c&&!s||r&&l&&u||!n&&u||!o)return 1;if(!r&&!i&&!s&&e<t||s&&n&&o&&!r&&!i||c&&n&&o||!l&&o||!u)return-1}return 0}function wa(e,t,n,a){for(var o=-1,i=e.length,l=n.length,c=-1,u=t.length,s=vn(i-l,0),d=r(u+s),p=!a;++c<u;)d[c]=t[c];for(;++o<l;)(p||o<i)&&(d[n[o]]=e[o]);for(;s--;)d[c++]=e[o++];return d}function Na(e,t,n,a){for(var o=-1,i=e.length,l=-1,c=n.length,u=-1,s=t.length,d=vn(i-c,0),p=r(d+s),f=!a;++o<d;)p[o]=e[o];for(var m=o;++u<s;)p[m+u]=t[u];for(;++l<c;)(f||o<i)&&(p[m+n[l]]=e[o++]);return p}function Pa(e,t){var n=-1,a=e.length;for(t||(t=r(a));++n<a;)t[n]=e[n];return t}function Oa(e,t,n,r){var o=!n;n||(n={});for(var i=-1,l=t.length;++i<l;){var c=t[i],u=r?r(n[c],e[c],c,n,e):a;u===a&&(u=e[c]),o?nr(n,c,u):Kn(n,c,u)}return n}function Ia(e,t){return function(n,r){var a=Bi(n)?Nt:er,o=t?t():{};return a(n,e,ao(r,2),o)}}function za(e){return Yr(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:a,l=o>2?n[2]:a;for(i=e.length>3&&"function"==typeof i?(o--,i):a,l&&yo(n[0],n[1],l)&&(i=o<3?a:i,o=1),t=Pe(t);++r<o;){var c=n[r];c&&e(t,c,r,i)}return t})}function Ca(e,t){return function(n,r){if(null==n)return n;if(!Hi(n))return e(n,r);for(var a=n.length,o=t?a:-1,i=Pe(n);(t?o--:++o<a)&&!1!==r(i[o],o,i););return n}}function Ta(e){return function(t,n,r){for(var a=-1,o=Pe(t),i=r(t),l=i.length;l--;){var c=i[e?l:++a];if(!1===n(o[c],c,o))break}return t}}function xa(e){return function(t){var n=nn(t=yl(t))?sn(t):a,r=n?n[0]:t.charAt(0),o=n?ga(n,1).join(""):t.slice(1);return r[e]()+o}}function ka(e){return function(t){return Dt($l(Fl(t).replace(Qe,"")),e,"")}}function Da(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Mn(e.prototype),r=e.apply(n,t);return Ki(r)?r:n}}function ja(e){return function(t,n,r){var o=Pe(t);if(!Hi(t)){var i=ao(n,3);t=Cl(t),n=function(e){return i(o[e],e,o)}}var l=e(t,n,r);return l>-1?o[i?t[l]:l]:a}}function Aa(e){return Ka(function(t){var n=t.length,r=n,i=Ln.prototype.thru;for(e&&t.reverse();r--;){var l=t[r];if("function"!=typeof l)throw new ze(o);if(i&&!c&&"wrapper"==no(l))var c=new Ln([],!0)}for(r=c?r:n;++r<n;){var u=no(l=t[r]),s="wrapper"==u?to(l):a;c=s&&ho(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?c[no(s[0])].apply(c,s[3]):1==l.length&&ho(l)?c[u]():c.thru(l)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Bi(r))return c.plant(r).value();for(var a=0,o=n?t[a].apply(this,e):r;++a<n;)o=t[a].call(this,o);return o}})}function Ra(e,t,n,o,i,l,c,s,d,p){var f=t&u,m=1&t,v=2&t,y=24&t,g=512&t,h=v?a:Da(e);return function u(){for(var b=arguments.length,_=r(b),E=b;E--;)_[E]=arguments[E];if(y)var S=ro(u),w=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(_,S);if(o&&(_=wa(_,o,i,y)),l&&(_=Na(_,l,c,y)),b-=w,y&&b<p){var N=on(_,S);return Ua(e,t,Ra,u.placeholder,n,_,N,s,d,p-b)}var P=m?n:this,O=v?P[e]:e;return b=_.length,s?_=function(e,t){for(var n=e.length,r=yn(t.length,n),o=Pa(e);r--;){var i=t[r];e[r]=vo(i,n)?o[i]:a}return e}(_,s):g&&b>1&&_.reverse(),f&&d<b&&(_.length=d),this&&this!==dt&&this instanceof u&&(O=h||Da(O)),O.apply(P,_)}}function qa(e,t){return function(n,r){return function(e,t,n,r){return gr(e,function(e,a,o){t(r,n(e),a,o)}),r}(n,e,t(r),{})}}function Ma(e,t){return function(n,r){var o;if(n===a&&r===a)return t;if(n!==a&&(o=n),r!==a){if(o===a)return r;"string"==typeof n||"string"==typeof r?(n=oa(n),r=oa(r)):(n=aa(n),r=aa(r)),o=e(n,r)}return o}}function Za(e){return Ka(function(t){return t=xt(t,Gt(ao())),Yr(function(n){var r=this;return e(t,function(e){return wt(e,r,n)})})})}function La(e,t){var n=(t=t===a?" ":oa(t)).length;if(n<2)return n?Vr(t,e):t;var r=Vr(t,ft(e/un(t)));return nn(t)?ga(sn(r),0,e).join(""):r.slice(0,e)}function Fa(e){return function(t,n,o){return o&&"number"!=typeof o&&yo(t,n,o)&&(n=o=a),t=dl(t),n===a?(n=t,t=0):n=dl(n),function(e,t,n,a){for(var o=-1,i=vn(ft((t-e)/(n||1)),0),l=r(i);i--;)l[a?i:++o]=e,e+=n;return l}(t,n,o=o===a?t<n?1:-1:dl(o),e)}}function Ba(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ml(t),n=ml(n)),e(t,n)}}function Ua(e,t,n,r,o,i,l,u,s,d){var p=8&t;t|=p?c:64,4&(t&=~(p?64:c))||(t&=-4);var f=[e,t,o,p?i:a,p?l:a,p?a:i,p?a:l,u,s,d],m=n.apply(a,f);return ho(e)&&Oo(m,f),m.placeholder=r,Co(m,e,t)}function Ha(e){var t=Ne[e];return function(e,n){if(e=ml(e),(n=null==n?0:yn(pl(n),292))&&Ht(e)){var r=(yl(e)+"e").split("e");return+((r=(yl(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Va=Nn&&1/ln(new Nn([,-0]))[1]==s?function(e){return new Nn(e)}:ic;function Ya(e){return function(t){var n=so(t);return n==S?rn(t):n==I?cn(t):function(e,t){return xt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Wa(e,t,n,i,s,d,p,f){var m=2&t;if(!m&&"function"!=typeof e)throw new ze(o);var v=i?i.length:0;if(v||(t&=-97,i=s=a),p=p===a?p:vn(pl(p),0),f=f===a?f:pl(f),v-=s?s.length:0,64&t){var y=i,g=s;i=s=a}var h=m?a:to(e),b=[e,t,n,i,s,y,g,d,p,f];if(h&&function(e,t){var n=e[1],r=t[1],a=n|r,o=a<131,i=r==u&&8==n||r==u&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!i)return e;1&r&&(e[2]=t[2],a|=1&n?0:4);var c=t[3];if(c){var s=e[3];e[3]=s?wa(s,c,t[4]):c,e[4]=s?on(e[3],l):t[4]}(c=t[5])&&(s=e[5],e[5]=s?Na(s,c,t[6]):c,e[6]=s?on(e[5],l):t[6]),(c=t[7])&&(e[7]=c),r&u&&(e[8]=null==e[8]?t[8]:yn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=a}(b,h),e=b[0],t=b[1],n=b[2],i=b[3],s=b[4],!(f=b[9]=b[9]===a?m?0:e.length:vn(b[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)_=8==t||16==t?function(e,t,n){var o=Da(e);return function i(){for(var l=arguments.length,c=r(l),u=l,s=ro(i);u--;)c[u]=arguments[u];var d=l<3&&c[0]!==s&&c[l-1]!==s?[]:on(c,s);return(l-=d.length)<n?Ua(e,t,Ra,i.placeholder,a,c,d,a,a,n-l):wt(this&&this!==dt&&this instanceof i?o:e,this,c)}}(e,t,f):t!=c&&33!=t||s.length?Ra.apply(a,b):function(e,t,n,a){var o=1&t,i=Da(e);return function t(){for(var l=-1,c=arguments.length,u=-1,s=a.length,d=r(s+c),p=this&&this!==dt&&this instanceof t?i:e;++u<s;)d[u]=a[u];for(;c--;)d[u++]=arguments[++l];return wt(p,o?n:this,d)}}(e,t,n,i);else var _=function(e,t,n){var r=1&t,a=Da(e);return function t(){return(this&&this!==dt&&this instanceof t?a:e).apply(r?n:this,arguments)}}(e,t,n);return Co((h?Qr:Oo)(_,b),e,t)}function Ga(e,t,n,r){return e===a||Mi(e,xe[n])&&!je.call(r,n)?t:e}function $a(e,t,n,r,o,i){return Ki(e)&&Ki(t)&&(i.set(t,e),Mr(e,t,a,$a,i),i.delete(t)),e}function Qa(e){return nl(e)?a:e}function Xa(e,t,n,r,o,i){var l=1&n,c=e.length,u=t.length;if(c!=u&&!(l&&u>c))return!1;var s=i.get(e);if(s&&i.get(t))return s==t;var d=-1,p=!0,f=2&n?new Vn:a;for(i.set(e,t),i.set(t,e);++d<c;){var m=e[d],v=t[d];if(r)var y=l?r(v,m,d,t,e,i):r(m,v,d,e,t,i);if(y!==a){if(y)continue;p=!1;break}if(f){if(!At(t,function(e,t){if(!Qt(f,t)&&(m===e||o(m,e,n,r,i)))return f.push(t)})){p=!1;break}}else if(m!==v&&!o(m,v,n,r,i)){p=!1;break}}return i.delete(e),i.delete(t),p}function Ka(e){return zo(wo(e,a,Uo),e+"")}function Ja(e){return Er(e,Cl,co)}function eo(e){return Er(e,Tl,uo)}var to=In?function(e){return In.get(e)}:ic;function no(e){for(var t=e.name+"",n=zn[t],r=je.call(zn,t)?n.length:0;r--;){var a=n[r],o=a.func;if(null==o||o==e)return a.name}return t}function ro(e){return(je.call(qn,"placeholder")?qn:e).placeholder}function ao(){var e=qn.iteratee||nc;return e=e===nc?kr:e,arguments.length?e(arguments[0],arguments[1]):e}function oo(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function io(e){for(var t=Cl(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,Eo(a)]}return t}function lo(e,t){var n=function(e,t){return null==e?a:e[t]}(e,t);return xr(n)?n:a}var co=yt?function(e){return null==e?[]:(e=Pe(e),zt(yt(e),function(t){return We.call(e,t)}))}:fc,uo=yt?function(e){for(var t=[];e;)kt(t,co(e)),e=Ve(e);return t}:fc,so=Sr;function po(e,t,n){for(var r=-1,a=(t=va(t,e)).length,o=!1;++r<a;){var i=Ao(t[r]);if(!(o=null!=e&&n(e,i)))break;e=e[i]}return o||++r!=a?o:!!(a=null==e?0:e.length)&&Xi(a)&&vo(i,a)&&(Bi(e)||Fi(e))}function fo(e){return"function"!=typeof e.constructor||_o(e)?{}:Mn(Ve(e))}function mo(e){return Bi(e)||Fi(e)||!!($e&&e&&e[$e])}function vo(e,t){var n=typeof e;return!!(t=null==t?d:t)&&("number"==n||"symbol"!=n&&ge.test(e))&&e>-1&&e%1==0&&e<t}function yo(e,t,n){if(!Ki(n))return!1;var r=typeof t;return!!("number"==r?Hi(n)&&vo(t,n.length):"string"==r&&t in n)&&Mi(n[t],e)}function go(e,t){if(Bi(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!il(e))||J.test(e)||!K.test(e)||null!=t&&e in Pe(t)}function ho(e){var t=no(e),n=qn[t];if("function"!=typeof n||!(t in Fn.prototype))return!1;if(e===n)return!0;var r=to(n);return!!r&&e===r[0]}(En&&so(new En(new ArrayBuffer(1)))!=k||Sn&&so(new Sn)!=S||wn&&so(wn.resolve())!=P||Nn&&so(new Nn)!=I||Pn&&so(new Pn)!=T)&&(so=function(e){var t=Sr(e),n=t==N?e.constructor:a,r=n?Ro(n):"";if(r)switch(r){case Cn:return k;case Tn:return S;case xn:return P;case kn:return I;case Dn:return T}return t});var bo=ke?$i:mc;function _o(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||xe)}function Eo(e){return e==e&&!Ki(e)}function So(e,t){return function(n){return null!=n&&n[e]===t&&(t!==a||e in Pe(n))}}function wo(e,t,n){return t=vn(t===a?e.length-1:t,0),function(){for(var a=arguments,o=-1,i=vn(a.length-t,0),l=r(i);++o<i;)l[o]=a[t+o];o=-1;for(var c=r(t+1);++o<t;)c[o]=a[o];return c[t]=n(l),wt(e,this,c)}}function No(e,t){return t.length<2?e:_r(e,Jr(t,0,-1))}function Po(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Oo=To(Qr),Io=pt||function(e,t){return dt.setTimeout(e,t)},zo=To(Xr);function Co(e,t,n){var r=t+"";return zo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ie,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Pt(m,function(n){var r="_."+n[0];t&n[1]&&!Ct(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(r),n)))}function To(e){var t=0,n=0;return function(){var r=gn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(a,arguments)}}function xo(e,t){var n=-1,r=e.length,o=r-1;for(t=t===a?r:t;++n<t;){var i=Hr(n,o),l=e[i];e[i]=e[n],e[n]=l}return e.length=t,e}var ko,Do,jo=(ko=ki(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,function(e,n,r,a){t.push(r?a.replace(se,"$1"):n||e)}),t},function(e){return 500===Do.size&&Do.clear(),e}),Do=ko.cache,ko);function Ao(e){if("string"==typeof e||il(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ro(e){if(null!=e){try{return De.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function qo(e){if(e instanceof Fn)return e.clone();var t=new Ln(e.__wrapped__,e.__chain__);return t.__actions__=Pa(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Mo=Yr(function(e,t){return Vi(e)?cr(e,mr(t,1,Vi,!0)):[]}),Zo=Yr(function(e,t){var n=Go(t);return Vi(n)&&(n=a),Vi(e)?cr(e,mr(t,1,Vi,!0),ao(n,2)):[]}),Lo=Yr(function(e,t){var n=Go(t);return Vi(n)&&(n=a),Vi(e)?cr(e,mr(t,1,Vi,!0),a,n):[]});function Fo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:pl(n);return a<0&&(a=vn(r+a,0)),Mt(e,ao(t,3),a)}function Bo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==a&&(o=pl(n),o=n<0?vn(r+o,0):yn(o,r-1)),Mt(e,ao(t,3),o,!0)}function Uo(e){return null!=e&&e.length?mr(e,1):[]}function Ho(e){return e&&e.length?e[0]:a}var Vo=Yr(function(e){var t=xt(e,fa);return t.length&&t[0]===e[0]?Or(t):[]}),Yo=Yr(function(e){var t=Go(e),n=xt(e,fa);return t===Go(n)?t=a:n.pop(),n.length&&n[0]===e[0]?Or(n,ao(t,2)):[]}),Wo=Yr(function(e){var t=Go(e),n=xt(e,fa);return(t="function"==typeof t?t:a)&&n.pop(),n.length&&n[0]===e[0]?Or(n,a,t):[]});function Go(e){var t=null==e?0:e.length;return t?e[t-1]:a}var $o=Yr(Qo);function Qo(e,t){return e&&e.length&&t&&t.length?Br(e,t):e}var Xo=Ka(function(e,t){var n=null==e?0:e.length,r=rr(e,t);return Ur(e,xt(t,function(e){return vo(e,n)?+e:e}).sort(Sa)),r});function Ko(e){return null==e?e:_n.call(e)}var Jo=Yr(function(e){return ia(mr(e,1,Vi,!0))}),ei=Yr(function(e){var t=Go(e);return Vi(t)&&(t=a),ia(mr(e,1,Vi,!0),ao(t,2))}),ti=Yr(function(e){var t=Go(e);return t="function"==typeof t?t:a,ia(mr(e,1,Vi,!0),a,t)});function ni(e){if(!e||!e.length)return[];var t=0;return e=zt(e,function(e){if(Vi(e))return t=vn(e.length,t),!0}),Wt(t,function(t){return xt(e,Ut(t))})}function ri(e,t){if(!e||!e.length)return[];var n=ni(e);return null==t?n:xt(n,function(e){return wt(t,a,e)})}var ai=Yr(function(e,t){return Vi(e)?cr(e,t):[]}),oi=Yr(function(e){return da(zt(e,Vi))}),ii=Yr(function(e){var t=Go(e);return Vi(t)&&(t=a),da(zt(e,Vi),ao(t,2))}),li=Yr(function(e){var t=Go(e);return t="function"==typeof t?t:a,da(zt(e,Vi),a,t)}),ci=Yr(ni),ui=Yr(function(e){var t=e.length,n=t>1?e[t-1]:a;return n="function"==typeof n?(e.pop(),n):a,ri(e,n)});function si(e){var t=qn(e);return t.__chain__=!0,t}function di(e,t){return t(e)}var pi=Ka(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return rr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Fn&&vo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:di,args:[o],thisArg:a}),new Ln(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(a),e})):this.thru(o)}),fi=Ia(function(e,t,n){je.call(e,n)?++e[n]:nr(e,n,1)}),mi=ja(Fo),vi=ja(Bo);function yi(e,t){return(Bi(e)?Pt:ur)(e,ao(t,3))}function gi(e,t){return(Bi(e)?Ot:sr)(e,ao(t,3))}var hi=Ia(function(e,t,n){je.call(e,n)?e[n].push(t):nr(e,n,[t])}),bi=Yr(function(e,t,n){var a=-1,o="function"==typeof t,i=Hi(e)?r(e.length):[];return ur(e,function(e){i[++a]=o?wt(t,e,n):Ir(e,t,n)}),i}),_i=Ia(function(e,t,n){nr(e,n,t)});function Ei(e,t){return(Bi(e)?xt:Ar)(e,ao(t,3))}var Si=Ia(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),wi=Yr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&yo(e,t[0],t[1])?t=[]:n>2&&yo(t[0],t[1],t[2])&&(t=[t[0]]),Lr(e,mr(t,1),[])}),Ni=st||function(){return dt.Date.now()};function Pi(e,t,n){return t=n?a:t,t=e&&null==t?e.length:t,Wa(e,u,a,a,a,a,t)}function Oi(e,t){var n;if("function"!=typeof t)throw new ze(o);return e=pl(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=a),n}}var Ii=Yr(function(e,t,n){var r=1;if(n.length){var a=on(n,ro(Ii));r|=c}return Wa(e,r,t,n,a)}),zi=Yr(function(e,t,n){var r=3;if(n.length){var a=on(n,ro(zi));r|=c}return Wa(t,r,e,n,a)});function Ci(e,t,n){var r,i,l,c,u,s,d=0,p=!1,f=!1,m=!0;if("function"!=typeof e)throw new ze(o);function v(t){var n=r,o=i;return r=i=a,d=t,c=e.apply(o,n)}function y(e){var n=e-s;return s===a||n>=t||n<0||f&&e-d>=l}function g(){var e=Ni();if(y(e))return h(e);u=Io(g,function(e){var n=t-(e-s);return f?yn(n,l-(e-d)):n}(e))}function h(e){return u=a,m&&r?v(e):(r=i=a,c)}function b(){var e=Ni(),n=y(e);if(r=arguments,i=this,s=e,n){if(u===a)return function(e){return d=e,u=Io(g,t),p?v(e):c}(s);if(f)return ha(u),u=Io(g,t),v(s)}return u===a&&(u=Io(g,t)),c}return t=ml(t)||0,Ki(n)&&(p=!!n.leading,l=(f="maxWait"in n)?vn(ml(n.maxWait)||0,t):l,m="trailing"in n?!!n.trailing:m),b.cancel=function(){u!==a&&ha(u),d=0,r=s=i=u=a},b.flush=function(){return u===a?c:h(Ni())},b}var Ti=Yr(function(e,t){return lr(e,1,t)}),xi=Yr(function(e,t,n){return lr(e,ml(t)||0,n)});function ki(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ze(o);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var i=e.apply(this,r);return n.cache=o.set(a,i)||o,i};return n.cache=new(ki.Cache||Hn),n}function Di(e){if("function"!=typeof e)throw new ze(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ki.Cache=Hn;var ji=ya(function(e,t){var n=(t=1==t.length&&Bi(t[0])?xt(t[0],Gt(ao())):xt(mr(t,1),Gt(ao()))).length;return Yr(function(r){for(var a=-1,o=yn(r.length,n);++a<o;)r[a]=t[a].call(this,r[a]);return wt(e,this,r)})}),Ai=Yr(function(e,t){var n=on(t,ro(Ai));return Wa(e,c,a,t,n)}),Ri=Yr(function(e,t){var n=on(t,ro(Ri));return Wa(e,64,a,t,n)}),qi=Ka(function(e,t){return Wa(e,256,a,a,a,t)});function Mi(e,t){return e===t||e!=e&&t!=t}var Zi=Ba(wr),Li=Ba(function(e,t){return e>=t}),Fi=zr(function(){return arguments}())?zr:function(e){return Ji(e)&&je.call(e,"callee")&&!We.call(e,"callee")},Bi=r.isArray,Ui=gt?Gt(gt):function(e){return Ji(e)&&Sr(e)==x};function Hi(e){return null!=e&&Xi(e.length)&&!$i(e)}function Vi(e){return Ji(e)&&Hi(e)}var Yi=Rt||mc,Wi=ht?Gt(ht):function(e){return Ji(e)&&Sr(e)==h};function Gi(e){if(!Ji(e))return!1;var t=Sr(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!nl(e)}function $i(e){if(!Ki(e))return!1;var t=Sr(e);return t==_||t==E||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qi(e){return"number"==typeof e&&e==pl(e)}function Xi(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}function Ki(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ji(e){return null!=e&&"object"==typeof e}var el=bt?Gt(bt):function(e){return Ji(e)&&so(e)==S};function tl(e){return"number"==typeof e||Ji(e)&&Sr(e)==w}function nl(e){if(!Ji(e)||Sr(e)!=N)return!1;var t=Ve(e);if(null===t)return!0;var n=je.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&De.call(n)==Me}var rl=_t?Gt(_t):function(e){return Ji(e)&&Sr(e)==O},al=Et?Gt(Et):function(e){return Ji(e)&&so(e)==I};function ol(e){return"string"==typeof e||!Bi(e)&&Ji(e)&&Sr(e)==z}function il(e){return"symbol"==typeof e||Ji(e)&&Sr(e)==C}var ll=St?Gt(St):function(e){return Ji(e)&&Xi(e.length)&&!!at[Sr(e)]},cl=Ba(jr),ul=Ba(function(e,t){return e<=t});function sl(e){if(!e)return[];if(Hi(e))return ol(e)?sn(e):Pa(e);if(Ke&&e[Ke])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ke]());var t=so(e);return(t==S?rn:t==I?ln:Ml)(e)}function dl(e){return e?(e=ml(e))===s||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function pl(e){var t=dl(e),n=t%1;return t==t?n?t-n:t:0}function fl(e){return e?ar(pl(e),0,f):0}function ml(e){if("number"==typeof e)return e;if(il(e))return p;if(Ki(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ki(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(re,"");var n=me.test(e);return n||ye.test(e)?ct(e.slice(2),n?2:8):fe.test(e)?p:+e}function vl(e){return Oa(e,Tl(e))}function yl(e){return null==e?"":oa(e)}var gl=za(function(e,t){if(_o(t)||Hi(t))Oa(t,Cl(t),e);else for(var n in t)je.call(t,n)&&Kn(e,n,t[n])}),hl=za(function(e,t){Oa(t,Tl(t),e)}),bl=za(function(e,t,n,r){Oa(t,Tl(t),e,r)}),_l=za(function(e,t,n,r){Oa(t,Cl(t),e,r)}),El=Ka(rr),Sl=Yr(function(e,t){e=Pe(e);var n=-1,r=t.length,o=r>2?t[2]:a;for(o&&yo(t[0],t[1],o)&&(r=1);++n<r;)for(var i=t[n],l=Tl(i),c=-1,u=l.length;++c<u;){var s=l[c],d=e[s];(d===a||Mi(d,xe[s])&&!je.call(e,s))&&(e[s]=i[s])}return e}),wl=Yr(function(e){return e.push(a,$a),wt(kl,a,e)});function Nl(e,t,n){var r=null==e?a:_r(e,t);return r===a?n:r}function Pl(e,t){return null!=e&&po(e,t,Pr)}var Ol=qa(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=qe.call(t)),e[t]=n},Kl(tc)),Il=qa(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=qe.call(t)),je.call(e,t)?e[t].push(n):e[t]=[n]},ao),zl=Yr(Ir);function Cl(e){return Hi(e)?Wn(e):Dr(e)}function Tl(e){return Hi(e)?Wn(e,!0):function(e){if(!Ki(e))return function(e){var t=[];if(null!=e)for(var n in Pe(e))t.push(n);return t}(e);var t=_o(e),n=[];for(var r in e)("constructor"!=r||!t&&je.call(e,r))&&n.push(r);return n}(e)}var xl=za(function(e,t,n){Mr(e,t,n)}),kl=za(function(e,t,n,r){Mr(e,t,n,r)}),Dl=Ka(function(e,t){var n={};if(null==e)return n;var r=!1;t=xt(t,function(t){return t=va(t,e),r||(r=t.length>1),t}),Oa(e,eo(e),n),r&&(n=or(n,7,Qa));for(var a=t.length;a--;)la(n,t[a]);return n}),jl=Ka(function(e,t){return null==e?{}:function(e,t){return Fr(e,t,function(t,n){return Pl(e,n)})}(e,t)});function Al(e,t){if(null==e)return{};var n=xt(eo(e),function(e){return[e]});return t=ao(t),Fr(e,n,function(e,n){return t(e,n[0])})}var Rl=Ya(Cl),ql=Ya(Tl);function Ml(e){return null==e?[]:$t(e,Cl(e))}var Zl=ka(function(e,t,n){return t=t.toLowerCase(),e+(n?Ll(t):t)});function Ll(e){return Gl(yl(e).toLowerCase())}function Fl(e){return(e=yl(e))&&e.replace(he,Jt).replace(Xe,"")}var Bl=ka(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Ul=ka(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Hl=xa("toLowerCase"),Vl=ka(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Yl=ka(function(e,t,n){return e+(n?" ":"")+Gl(t)}),Wl=ka(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Gl=xa("toUpperCase");function $l(e,t,n){return e=yl(e),(t=n?a:t)===a?function(e){return tt.test(e)}(e)?function(e){return e.match(Je)||[]}(e):function(e){return e.match(ue)||[]}(e):e.match(t)||[]}var Ql=Yr(function(e,t){try{return wt(e,a,t)}catch(e){return Gi(e)?e:new Se(e)}}),Xl=Ka(function(e,t){return Pt(t,function(t){t=Ao(t),nr(e,t,Ii(e[t],e))}),e});function Kl(e){return function(){return e}}var Jl=Aa(),ec=Aa(!0);function tc(e){return e}function nc(e){return kr("function"==typeof e?e:or(e,1))}var rc=Yr(function(e,t){return function(n){return Ir(n,e,t)}}),ac=Yr(function(e,t){return function(n){return Ir(e,n,t)}});function oc(e,t,n){var r=Cl(t),a=br(t,r);null!=n||Ki(t)&&(a.length||!r.length)||(n=t,t=e,e=this,a=br(t,Cl(t)));var o=!(Ki(n)&&"chain"in n&&!n.chain),i=$i(e);return Pt(a,function(n){var r=t[n];e[n]=r,i&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Pa(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,kt([this.value()],arguments))})}),e}function ic(){}var lc=Za(xt),cc=Za(It),uc=Za(At);function sc(e){return go(e)?Ut(Ao(e)):function(e){return function(t){return _r(t,e)}}(e)}var dc=Fa(),pc=Fa(!0);function fc(){return[]}function mc(){return!1}var vc,yc=Ma(function(e,t){return e+t},0),gc=Ha("ceil"),hc=Ma(function(e,t){return e/t},1),bc=Ha("floor"),_c=Ma(function(e,t){return e*t},1),Ec=Ha("round"),Sc=Ma(function(e,t){return e-t},0);return qn.after=function(e,t){if("function"!=typeof t)throw new ze(o);return e=pl(e),function(){if(--e<1)return t.apply(this,arguments)}},qn.ary=Pi,qn.assign=gl,qn.assignIn=hl,qn.assignInWith=bl,qn.assignWith=_l,qn.at=El,qn.before=Oi,qn.bind=Ii,qn.bindAll=Xl,qn.bindKey=zi,qn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Bi(e)?e:[e]},qn.chain=si,qn.chunk=function(e,t,n){t=(n?yo(e,t,n):t===a)?1:vn(pl(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var i=0,l=0,c=r(ft(o/t));i<o;)c[l++]=Jr(e,i,i+=t);return c},qn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,a=[];++t<n;){var o=e[t];o&&(a[r++]=o)}return a},qn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],a=e;a--;)t[a-1]=arguments[a];return kt(Bi(n)?Pa(n):[n],mr(t,1))},qn.cond=function(e){var t=null==e?0:e.length,n=ao();return e=t?xt(e,function(e){if("function"!=typeof e[1])throw new ze(o);return[n(e[0]),e[1]]}):[],Yr(function(n){for(var r=-1;++r<t;){var a=e[r];if(wt(a[0],this,n))return wt(a[1],this,n)}})},qn.conforms=function(e){return function(e){var t=Cl(e);return function(n){return ir(n,e,t)}}(or(e,1))},qn.constant=Kl,qn.countBy=fi,qn.create=function(e,t){var n=Mn(e);return null==t?n:tr(n,t)},qn.curry=function e(t,n,r){var o=Wa(t,8,a,a,a,a,a,n=r?a:n);return o.placeholder=e.placeholder,o},qn.curryRight=function e(t,n,r){var o=Wa(t,16,a,a,a,a,a,n=r?a:n);return o.placeholder=e.placeholder,o},qn.debounce=Ci,qn.defaults=Sl,qn.defaultsDeep=wl,qn.defer=Ti,qn.delay=xi,qn.difference=Mo,qn.differenceBy=Zo,qn.differenceWith=Lo,qn.drop=function(e,t,n){var r=null==e?0:e.length;return r?Jr(e,(t=n||t===a?1:pl(t))<0?0:t,r):[]},qn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Jr(e,0,(t=r-(t=n||t===a?1:pl(t)))<0?0:t):[]},qn.dropRightWhile=function(e,t){return e&&e.length?ua(e,ao(t,3),!0,!0):[]},qn.dropWhile=function(e,t){return e&&e.length?ua(e,ao(t,3),!0):[]},qn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&yo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=pl(n))<0&&(n=-n>o?0:o+n),(r=r===a||r>o?o:pl(r))<0&&(r+=o),r=n>r?0:fl(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},qn.filter=function(e,t){return(Bi(e)?zt:fr)(e,ao(t,3))},qn.flatMap=function(e,t){return mr(Ei(e,t),1)},qn.flatMapDeep=function(e,t){return mr(Ei(e,t),s)},qn.flatMapDepth=function(e,t,n){return n=n===a?1:pl(n),mr(Ei(e,t),n)},qn.flatten=Uo,qn.flattenDeep=function(e){return null!=e&&e.length?mr(e,s):[]},qn.flattenDepth=function(e,t){return null!=e&&e.length?mr(e,t=t===a?1:pl(t)):[]},qn.flip=function(e){return Wa(e,512)},qn.flow=Jl,qn.flowRight=ec,qn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var a=e[t];r[a[0]]=a[1]}return r},qn.functions=function(e){return null==e?[]:br(e,Cl(e))},qn.functionsIn=function(e){return null==e?[]:br(e,Tl(e))},qn.groupBy=hi,qn.initial=function(e){return null!=e&&e.length?Jr(e,0,-1):[]},qn.intersection=Vo,qn.intersectionBy=Yo,qn.intersectionWith=Wo,qn.invert=Ol,qn.invertBy=Il,qn.invokeMap=bi,qn.iteratee=nc,qn.keyBy=_i,qn.keys=Cl,qn.keysIn=Tl,qn.map=Ei,qn.mapKeys=function(e,t){var n={};return t=ao(t,3),gr(e,function(e,r,a){nr(n,t(e,r,a),e)}),n},qn.mapValues=function(e,t){var n={};return t=ao(t,3),gr(e,function(e,r,a){nr(n,r,t(e,r,a))}),n},qn.matches=function(e){return Rr(or(e,1))},qn.matchesProperty=function(e,t){return qr(e,or(t,1))},qn.memoize=ki,qn.merge=xl,qn.mergeWith=kl,qn.method=rc,qn.methodOf=ac,qn.mixin=oc,qn.negate=Di,qn.nthArg=function(e){return e=pl(e),Yr(function(t){return Zr(t,e)})},qn.omit=Dl,qn.omitBy=function(e,t){return Al(e,Di(ao(t)))},qn.once=function(e){return Oi(2,e)},qn.orderBy=function(e,t,n,r){return null==e?[]:(Bi(t)||(t=null==t?[]:[t]),Bi(n=r?a:n)||(n=null==n?[]:[n]),Lr(e,t,n))},qn.over=lc,qn.overArgs=ji,qn.overEvery=cc,qn.overSome=uc,qn.partial=Ai,qn.partialRight=Ri,qn.partition=Si,qn.pick=jl,qn.pickBy=Al,qn.property=sc,qn.propertyOf=function(e){return function(t){return null==e?a:_r(e,t)}},qn.pull=$o,qn.pullAll=Qo,qn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Br(e,t,ao(n,2)):e},qn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Br(e,t,a,n):e},qn.pullAt=Xo,qn.range=dc,qn.rangeRight=pc,qn.rearg=qi,qn.reject=function(e,t){return(Bi(e)?zt:fr)(e,Di(ao(t,3)))},qn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,a=[],o=e.length;for(t=ao(t,3);++r<o;){var i=e[r];t(i,r,e)&&(n.push(i),a.push(r))}return Ur(e,a),n},qn.rest=function(e,t){if("function"!=typeof e)throw new ze(o);return Yr(e,t=t===a?t:pl(t))},qn.reverse=Ko,qn.sampleSize=function(e,t,n){return t=(n?yo(e,t,n):t===a)?1:pl(t),(Bi(e)?$n:Gr)(e,t)},qn.set=function(e,t,n){return null==e?e:$r(e,t,n)},qn.setWith=function(e,t,n,r){return r="function"==typeof r?r:a,null==e?e:$r(e,t,n,r)},qn.shuffle=function(e){return(Bi(e)?Qn:Kr)(e)},qn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&yo(e,t,n)?(t=0,n=r):(t=null==t?0:pl(t),n=n===a?r:pl(n)),Jr(e,t,n)):[]},qn.sortBy=wi,qn.sortedUniq=function(e){return e&&e.length?ra(e):[]},qn.sortedUniqBy=function(e,t){return e&&e.length?ra(e,ao(t,2)):[]},qn.split=function(e,t,n){return n&&"number"!=typeof n&&yo(e,t,n)&&(t=n=a),(n=n===a?f:n>>>0)?(e=yl(e))&&("string"==typeof t||null!=t&&!rl(t))&&!(t=oa(t))&&nn(e)?ga(sn(e),0,n):e.split(t,n):[]},qn.spread=function(e,t){if("function"!=typeof e)throw new ze(o);return t=null==t?0:vn(pl(t),0),Yr(function(n){var r=n[t],a=ga(n,0,t);return r&&kt(a,r),wt(e,this,a)})},qn.tail=function(e){var t=null==e?0:e.length;return t?Jr(e,1,t):[]},qn.take=function(e,t,n){return e&&e.length?Jr(e,0,(t=n||t===a?1:pl(t))<0?0:t):[]},qn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Jr(e,(t=r-(t=n||t===a?1:pl(t)))<0?0:t,r):[]},qn.takeRightWhile=function(e,t){return e&&e.length?ua(e,ao(t,3),!1,!0):[]},qn.takeWhile=function(e,t){return e&&e.length?ua(e,ao(t,3)):[]},qn.tap=function(e,t){return t(e),e},qn.throttle=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new ze(o);return Ki(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),Ci(e,t,{leading:r,maxWait:t,trailing:a})},qn.thru=di,qn.toArray=sl,qn.toPairs=Rl,qn.toPairsIn=ql,qn.toPath=function(e){return Bi(e)?xt(e,Ao):il(e)?[e]:Pa(jo(yl(e)))},qn.toPlainObject=vl,qn.transform=function(e,t,n){var r=Bi(e),a=r||Yi(e)||ll(e);if(t=ao(t,4),null==n){var o=e&&e.constructor;n=a?r?new o:[]:Ki(e)&&$i(o)?Mn(Ve(e)):{}}return(a?Pt:gr)(e,function(e,r,a){return t(n,e,r,a)}),n},qn.unary=function(e){return Pi(e,1)},qn.union=Jo,qn.unionBy=ei,qn.unionWith=ti,qn.uniq=function(e){return e&&e.length?ia(e):[]},qn.uniqBy=function(e,t){return e&&e.length?ia(e,ao(t,2)):[]},qn.uniqWith=function(e,t){return t="function"==typeof t?t:a,e&&e.length?ia(e,a,t):[]},qn.unset=function(e,t){return null==e||la(e,t)},qn.unzip=ni,qn.unzipWith=ri,qn.update=function(e,t,n){return null==e?e:ca(e,t,ma(n))},qn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:a,null==e?e:ca(e,t,ma(n),r)},qn.values=Ml,qn.valuesIn=function(e){return null==e?[]:$t(e,Tl(e))},qn.without=ai,qn.words=$l,qn.wrap=function(e,t){return Ai(ma(t),e)},qn.xor=oi,qn.xorBy=ii,qn.xorWith=li,qn.zip=ci,qn.zipObject=function(e,t){return pa(e||[],t||[],Kn)},qn.zipObjectDeep=function(e,t){return pa(e||[],t||[],$r)},qn.zipWith=ui,qn.entries=Rl,qn.entriesIn=ql,qn.extend=hl,qn.extendWith=bl,oc(qn,qn),qn.add=yc,qn.attempt=Ql,qn.camelCase=Zl,qn.capitalize=Ll,qn.ceil=gc,qn.clamp=function(e,t,n){return n===a&&(n=t,t=a),n!==a&&(n=(n=ml(n))==n?n:0),t!==a&&(t=(t=ml(t))==t?t:0),ar(ml(e),t,n)},qn.clone=function(e){return or(e,4)},qn.cloneDeep=function(e){return or(e,5)},qn.cloneDeepWith=function(e,t){return or(e,5,t="function"==typeof t?t:a)},qn.cloneWith=function(e,t){return or(e,4,t="function"==typeof t?t:a)},qn.conformsTo=function(e,t){return null==t||ir(e,t,Cl(t))},qn.deburr=Fl,qn.defaultTo=function(e,t){return null==e||e!=e?t:e},qn.divide=hc,qn.endsWith=function(e,t,n){e=yl(e),t=oa(t);var r=e.length,o=n=n===a?r:ar(pl(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},qn.eq=Mi,qn.escape=function(e){return(e=yl(e))&&G.test(e)?e.replace(Y,en):e},qn.escapeRegExp=function(e){return(e=yl(e))&&ne.test(e)?e.replace(te,"\\$&"):e},qn.every=function(e,t,n){var r=Bi(e)?It:dr;return n&&yo(e,t,n)&&(t=a),r(e,ao(t,3))},qn.find=mi,qn.findIndex=Fo,qn.findKey=function(e,t){return qt(e,ao(t,3),gr)},qn.findLast=vi,qn.findLastIndex=Bo,qn.findLastKey=function(e,t){return qt(e,ao(t,3),hr)},qn.floor=bc,qn.forEach=yi,qn.forEachRight=gi,qn.forIn=function(e,t){return null==e?e:vr(e,ao(t,3),Tl)},qn.forInRight=function(e,t){return null==e?e:yr(e,ao(t,3),Tl)},qn.forOwn=function(e,t){return e&&gr(e,ao(t,3))},qn.forOwnRight=function(e,t){return e&&hr(e,ao(t,3))},qn.get=Nl,qn.gt=Zi,qn.gte=Li,qn.has=function(e,t){return null!=e&&po(e,t,Nr)},qn.hasIn=Pl,qn.head=Ho,qn.identity=tc,qn.includes=function(e,t,n,r){e=Hi(e)?e:Ml(e),n=n&&!r?pl(n):0;var a=e.length;return n<0&&(n=vn(a+n,0)),ol(e)?n<=a&&e.indexOf(t,n)>-1:!!a&&Zt(e,t,n)>-1},qn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:pl(n);return a<0&&(a=vn(r+a,0)),Zt(e,t,a)},qn.inRange=function(e,t,n){return t=dl(t),n===a?(n=t,t=0):n=dl(n),function(e,t,n){return e>=yn(t,n)&&e<vn(t,n)}(e=ml(e),t,n)},qn.invoke=zl,qn.isArguments=Fi,qn.isArray=Bi,qn.isArrayBuffer=Ui,qn.isArrayLike=Hi,qn.isArrayLikeObject=Vi,qn.isBoolean=function(e){return!0===e||!1===e||Ji(e)&&Sr(e)==g},qn.isBuffer=Yi,qn.isDate=Wi,qn.isElement=function(e){return Ji(e)&&1===e.nodeType&&!nl(e)},qn.isEmpty=function(e){if(null==e)return!0;if(Hi(e)&&(Bi(e)||"string"==typeof e||"function"==typeof e.splice||Yi(e)||ll(e)||Fi(e)))return!e.length;var t=so(e);if(t==S||t==I)return!e.size;if(_o(e))return!Dr(e).length;for(var n in e)if(je.call(e,n))return!1;return!0},qn.isEqual=function(e,t){return Cr(e,t)},qn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:a)?n(e,t):a;return r===a?Cr(e,t,a,n):!!r},qn.isError=Gi,qn.isFinite=function(e){return"number"==typeof e&&Ht(e)},qn.isFunction=$i,qn.isInteger=Qi,qn.isLength=Xi,qn.isMap=el,qn.isMatch=function(e,t){return e===t||Tr(e,t,io(t))},qn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:a,Tr(e,t,io(t),n)},qn.isNaN=function(e){return tl(e)&&e!=+e},qn.isNative=function(e){if(bo(e))throw new Se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xr(e)},qn.isNil=function(e){return null==e},qn.isNull=function(e){return null===e},qn.isNumber=tl,qn.isObject=Ki,qn.isObjectLike=Ji,qn.isPlainObject=nl,qn.isRegExp=rl,qn.isSafeInteger=function(e){return Qi(e)&&e>=-9007199254740991&&e<=d},qn.isSet=al,qn.isString=ol,qn.isSymbol=il,qn.isTypedArray=ll,qn.isUndefined=function(e){return e===a},qn.isWeakMap=function(e){return Ji(e)&&so(e)==T},qn.isWeakSet=function(e){return Ji(e)&&"[object WeakSet]"==Sr(e)},qn.join=function(e,t){return null==e?"":fn.call(e,t)},qn.kebabCase=Bl,qn.last=Go,qn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==a&&(o=(o=pl(n))<0?vn(r+o,0):yn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Mt(e,Ft,o,!0)},qn.lowerCase=Ul,qn.lowerFirst=Hl,qn.lt=cl,qn.lte=ul,qn.max=function(e){return e&&e.length?pr(e,tc,wr):a},qn.maxBy=function(e,t){return e&&e.length?pr(e,ao(t,2),wr):a},qn.mean=function(e){return Bt(e,tc)},qn.meanBy=function(e,t){return Bt(e,ao(t,2))},qn.min=function(e){return e&&e.length?pr(e,tc,jr):a},qn.minBy=function(e,t){return e&&e.length?pr(e,ao(t,2),jr):a},qn.stubArray=fc,qn.stubFalse=mc,qn.stubObject=function(){return{}},qn.stubString=function(){return""},qn.stubTrue=function(){return!0},qn.multiply=_c,qn.nth=function(e,t){return e&&e.length?Zr(e,pl(t)):a},qn.noConflict=function(){return dt._===this&&(dt._=Ze),this},qn.noop=ic,qn.now=Ni,qn.pad=function(e,t,n){e=yl(e);var r=(t=pl(t))?un(e):0;if(!t||r>=t)return e;var a=(t-r)/2;return La(vt(a),n)+e+La(ft(a),n)},qn.padEnd=function(e,t,n){e=yl(e);var r=(t=pl(t))?un(e):0;return t&&r<t?e+La(t-r,n):e},qn.padStart=function(e,t,n){e=yl(e);var r=(t=pl(t))?un(e):0;return t&&r<t?La(t-r,n)+e:e},qn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),hn(yl(e).replace(ae,""),t||0)},qn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&yo(e,t,n)&&(t=n=a),n===a&&("boolean"==typeof t?(n=t,t=a):"boolean"==typeof e&&(n=e,e=a)),e===a&&t===a?(e=0,t=1):(e=dl(e),t===a?(t=e,e=0):t=dl(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=bn();return yn(e+o*(t-e+lt("1e-"+((o+"").length-1))),t)}return Hr(e,t)},qn.reduce=function(e,t,n){var r=Bi(e)?Dt:Vt,a=arguments.length<3;return r(e,ao(t,4),n,a,ur)},qn.reduceRight=function(e,t,n){var r=Bi(e)?jt:Vt,a=arguments.length<3;return r(e,ao(t,4),n,a,sr)},qn.repeat=function(e,t,n){return t=(n?yo(e,t,n):t===a)?1:pl(t),Vr(yl(e),t)},qn.replace=function(){var e=arguments,t=yl(e[0]);return e.length<3?t:t.replace(e[1],e[2])},qn.result=function(e,t,n){var r=-1,o=(t=va(t,e)).length;for(o||(o=1,e=a);++r<o;){var i=null==e?a:e[Ao(t[r])];i===a&&(r=o,i=n),e=$i(i)?i.call(e):i}return e},qn.round=Ec,qn.runInContext=e,qn.sample=function(e){return(Bi(e)?Gn:Wr)(e)},qn.size=function(e){if(null==e)return 0;if(Hi(e))return ol(e)?un(e):e.length;var t=so(e);return t==S||t==I?e.size:Dr(e).length},qn.snakeCase=Vl,qn.some=function(e,t,n){var r=Bi(e)?At:ea;return n&&yo(e,t,n)&&(t=a),r(e,ao(t,3))},qn.sortedIndex=function(e,t){return ta(e,t)},qn.sortedIndexBy=function(e,t,n){return na(e,t,ao(n,2))},qn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ta(e,t);if(r<n&&Mi(e[r],t))return r}return-1},qn.sortedLastIndex=function(e,t){return ta(e,t,!0)},qn.sortedLastIndexBy=function(e,t,n){return na(e,t,ao(n,2),!0)},qn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ta(e,t,!0)-1;if(Mi(e[n],t))return n}return-1},qn.startCase=Yl,qn.startsWith=function(e,t,n){return e=yl(e),n=null==n?0:ar(pl(n),0,e.length),t=oa(t),e.slice(n,n+t.length)==t},qn.subtract=Sc,qn.sum=function(e){return e&&e.length?Yt(e,tc):0},qn.sumBy=function(e,t){return e&&e.length?Yt(e,ao(t,2)):0},qn.template=function(e,t,n){var r=qn.templateSettings;n&&yo(e,t,n)&&(t=a),e=yl(e),t=bl({},t,r,Ga);var o,i,l=bl({},t.imports,r.imports,Ga),c=Cl(l),u=$t(l,c),s=0,d=t.interpolate||be,p="__p += '",f=Oe((t.escape||be).source+"|"+d.source+"|"+(d===X?de:be).source+"|"+(t.evaluate||be).source+"|$","g"),m="//# sourceURL="+(je.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(f,function(t,n,r,a,l,c){return r||(r=a),p+=e.slice(s,c).replace(_e,tn),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),l&&(i=!0,p+="';\n"+l+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=c+t.length,t}),p+="';\n";var v=je.call(t,"variable")&&t.variable;v||(p="with (obj) {\n"+p+"\n}\n"),p=(i?p.replace(B,""):p).replace(U,"$1").replace(H,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=Ql(function(){return we(c,m+"return "+p).apply(a,u)});if(y.source=p,Gi(y))throw y;return y},qn.times=function(e,t){if((e=pl(e))<1||e>d)return[];var n=f,r=yn(e,f);t=ao(t),e-=f;for(var a=Wt(r,t);++n<e;)t(n);return a},qn.toFinite=dl,qn.toInteger=pl,qn.toLength=fl,qn.toLower=function(e){return yl(e).toLowerCase()},qn.toNumber=ml,qn.toSafeInteger=function(e){return e?ar(pl(e),-9007199254740991,d):0===e?e:0},qn.toString=yl,qn.toUpper=function(e){return yl(e).toUpperCase()},qn.trim=function(e,t,n){if((e=yl(e))&&(n||t===a))return e.replace(re,"");if(!e||!(t=oa(t)))return e;var r=sn(e),o=sn(t);return ga(r,Xt(r,o),Kt(r,o)+1).join("")},qn.trimEnd=function(e,t,n){if((e=yl(e))&&(n||t===a))return e.replace(oe,"");if(!e||!(t=oa(t)))return e;var r=sn(e);return ga(r,0,Kt(r,sn(t))+1).join("")},qn.trimStart=function(e,t,n){if((e=yl(e))&&(n||t===a))return e.replace(ae,"");if(!e||!(t=oa(t)))return e;var r=sn(e);return ga(r,Xt(r,sn(t))).join("")},qn.truncate=function(e,t){var n=30,r="...";if(Ki(t)){var o="separator"in t?t.separator:o;n="length"in t?pl(t.length):n,r="omission"in t?oa(t.omission):r}var i=(e=yl(e)).length;if(nn(e)){var l=sn(e);i=l.length}if(n>=i)return e;var c=n-un(r);if(c<1)return r;var u=l?ga(l,0,c).join(""):e.slice(0,c);if(o===a)return u+r;if(l&&(c+=u.length-c),rl(o)){if(e.slice(c).search(o)){var s,d=u;for(o.global||(o=Oe(o.source,yl(pe.exec(o))+"g")),o.lastIndex=0;s=o.exec(d);)var p=s.index;u=u.slice(0,p===a?c:p)}}else if(e.indexOf(oa(o),c)!=c){var f=u.lastIndexOf(o);f>-1&&(u=u.slice(0,f))}return u+r},qn.unescape=function(e){return(e=yl(e))&&W.test(e)?e.replace(V,dn):e},qn.uniqueId=function(e){var t=++Ae;return yl(e)+t},qn.upperCase=Wl,qn.upperFirst=Gl,qn.each=yi,qn.eachRight=gi,qn.first=Ho,oc(qn,(vc={},gr(qn,function(e,t){je.call(qn.prototype,t)||(vc[t]=e)}),vc),{chain:!1}),qn.VERSION="4.17.15",Pt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){qn[e].placeholder=qn}),Pt(["drop","take"],function(e,t){Fn.prototype[e]=function(n){n=n===a?1:vn(pl(n),0);var r=this.__filtered__&&!t?new Fn(this):this.clone();return r.__filtered__?r.__takeCount__=yn(n,r.__takeCount__):r.__views__.push({size:yn(n,f),type:e+(r.__dir__<0?"Right":"")}),r},Fn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Pt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;Fn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ao(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),Pt(["head","last"],function(e,t){var n="take"+(t?"Right":"");Fn.prototype[e]=function(){return this[n](1).value()[0]}}),Pt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Fn.prototype[e]=function(){return this.__filtered__?new Fn(this):this[n](1)}}),Fn.prototype.compact=function(){return this.filter(tc)},Fn.prototype.find=function(e){return this.filter(e).head()},Fn.prototype.findLast=function(e){return this.reverse().find(e)},Fn.prototype.invokeMap=Yr(function(e,t){return"function"==typeof e?new Fn(this):this.map(function(n){return Ir(n,e,t)})}),Fn.prototype.reject=function(e){return this.filter(Di(ao(e)))},Fn.prototype.slice=function(e,t){e=pl(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Fn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==a&&(n=(t=pl(t))<0?n.dropRight(-t):n.take(t-e)),n)},Fn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Fn.prototype.toArray=function(){return this.take(f)},gr(Fn.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=qn[r?"take"+("last"==t?"Right":""):t],i=r||/^find/.test(t);o&&(qn.prototype[t]=function(){var t=this.__wrapped__,l=r?[1]:arguments,c=t instanceof Fn,u=l[0],s=c||Bi(t),d=function(e){var t=o.apply(qn,kt([e],l));return r&&p?t[0]:t};s&&n&&"function"==typeof u&&1!=u.length&&(c=s=!1);var p=this.__chain__,f=!!this.__actions__.length,m=i&&!p,v=c&&!f;if(!i&&s){t=v?t:new Fn(this);var y=e.apply(t,l);return y.__actions__.push({func:di,args:[d],thisArg:a}),new Ln(y,p)}return m&&v?e.apply(this,l):(y=this.thru(d),m?r?y.value()[0]:y.value():y)})}),Pt(["pop","push","shift","sort","splice","unshift"],function(e){var t=Ce[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);qn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var a=this.value();return t.apply(Bi(a)?a:[],e)}return this[n](function(n){return t.apply(Bi(n)?n:[],e)})}}),gr(Fn.prototype,function(e,t){var n=qn[t];if(n){var r=n.name+"";je.call(zn,r)||(zn[r]=[]),zn[r].push({name:t,func:n})}}),zn[Ra(a,2).name]=[{name:"wrapper",func:a}],Fn.prototype.clone=function(){var e=new Fn(this.__wrapped__);return e.__actions__=Pa(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Pa(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Pa(this.__views__),e},Fn.prototype.reverse=function(){if(this.__filtered__){var e=new Fn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Fn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Bi(e),r=t<0,a=n?e.length:0,o=function(e,t,n){for(var r=-1,a=n.length;++r<a;){var o=n[r],i=o.size;switch(o.type){case"drop":e+=i;break;case"dropRight":t-=i;break;case"take":t=yn(t,e+i);break;case"takeRight":e=vn(e,t-i)}}return{start:e,end:t}}(0,a,this.__views__),i=o.start,l=o.end,c=l-i,u=r?l:i-1,s=this.__iteratees__,d=s.length,p=0,f=yn(c,this.__takeCount__);if(!n||!r&&a==c&&f==c)return sa(e,this.__actions__);var m=[];e:for(;c--&&p<f;){for(var v=-1,y=e[u+=t];++v<d;){var g=s[v],h=g.iteratee,b=g.type,_=h(y);if(2==b)y=_;else if(!_){if(1==b)continue e;break e}}m[p++]=y}return m},qn.prototype.at=pi,qn.prototype.chain=function(){return si(this)},qn.prototype.commit=function(){return new Ln(this.value(),this.__chain__)},qn.prototype.next=function(){this.__values__===a&&(this.__values__=sl(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?a:this.__values__[this.__index__++]}},qn.prototype.plant=function(e){for(var t,n=this;n instanceof Zn;){var r=qo(n);r.__index__=0,r.__values__=a,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},qn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Fn){var t=e;return this.__actions__.length&&(t=new Fn(this)),(t=t.reverse()).__actions__.push({func:di,args:[Ko],thisArg:a}),new Ln(t,this.__chain__)}return this.thru(Ko)},qn.prototype.toJSON=qn.prototype.valueOf=qn.prototype.value=function(){return sa(this.__wrapped__,this.__actions__)},qn.prototype.first=qn.prototype.head,Ke&&(qn.prototype[Ke]=function(){return this}),qn}();dt._=pn,(r=function(){return pn}.call(t,n,t,e))===a||(e.exports=r)}.call(this)},2551:function(e,t,n){"use strict";var r=n(6540),a=n(9982);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var s=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function v(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){y[e]=new v(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){y[e]=new v(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){y[e]=new v(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){y[e]=new v(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){y[e]=new v(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function h(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=y.hasOwnProperty(t)?y[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(m,e)||!d.call(f,e)&&(p.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,h);y[t]=new v(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,h);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,h);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)}),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),I=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),k=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function A(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=j&&e[j]||e["@@iterator"])?e:null}var R,q=Object.assign;function M(e){if(void 0===R)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var Z=!1;function L(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var a=t.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(1!==i||1!==l)do{if(i--,0>--l||a[i]!==o[l]){var c="\n"+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=i&&0<=l);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function F(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return L(e.type,!1);case 11:return L(e.type.render,!1);case 1:return L(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case w:return"Fragment";case S:return"Portal";case P:return"Profiler";case N:return"StrictMode";case C:return"Suspense";case T:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case z:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case x:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case k:t=e._payload,e=e._init;try{return B(e(t))}catch(e){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function K(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,se,de=(se=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return se(e,t)})}:se);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ge=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function he(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,we=null,Ne=null;function Pe(e){if(e=ba(e)){if("function"!=typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=Ea(t),Se(e.stateNode,e.type,t))}}function Oe(e){we?Ne?Ne.push(e):Ne=[e]:we=e}function Ie(){if(we){var e=we,t=Ne;if(Ne=we=null,Pe(e),t)for(e=0;e<t.length;e++)Pe(t[e])}}function ze(e,t){return e(t)}function Ce(){}var Te=!1;function xe(e,t,n){if(Te)return e(t,n);Te=!0;try{return ze(e,t,n)}finally{Te=!1,(null!==we||null!==Ne)&&(Ce(),Ie())}}function ke(e,t){var n=e.stateNode;if(null===n)return null;var r=Ea(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(s)try{var je={};Object.defineProperty(je,"passive",{get:function(){De=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(se){De=!1}function Ae(e,t,n,r,a,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Re=!1,qe=null,Me=!1,Ze=null,Le={onError:function(e){Re=!0,qe=e}};function Fe(e,t,n,r,a,o,i,l,c){Re=!1,qe=null,Ae.apply(Le,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return He(a),e;if(i===r)return He(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var l=!1,c=a.child;c;){if(c===n){l=!0,n=a,r=i;break}if(c===r){l=!0,r=a,n=i;break}c=c.sibling}if(!l){for(c=i.child;c;){if(c===n){l=!0,n=i,r=a;break}if(c===r){l=!0,r=i,n=a;break}c=c.sibling}if(!l)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var We=a.unstable_scheduleCallback,Ge=a.unstable_cancelCallback,$e=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Xe=a.unstable_now,Ke=a.unstable_getCurrentPriorityLevel,Je=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null,it=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(lt(e)/ct|0)|0},lt=Math.log,ct=Math.LN2,ut=64,st=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=268435455&n;if(0!==i){var l=i&~a;0!==l?r=dt(l):0!==(o&=i)&&(r=dt(o))}else 0!==(i=n&~a)?r=dt(i):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&4194240&o))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ut;return!(4194240&(ut<<=1))&&(ut=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function ht(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Et,St,wt,Nt,Pt,Ot=!1,It=[],zt=null,Ct=null,Tt=null,xt=new Map,kt=new Map,Dt=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function At(e,t){switch(e){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":xt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kt.delete(t.pointerId)}}function Rt(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&null!==(t=ba(t))&&St(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function qt(e){var t=ha(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void Pt(e.priority,function(){wt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Zt(e,t,n){Mt(e)&&n.delete(t)}function Lt(){Ot=!1,null!==zt&&Mt(zt)&&(zt=null),null!==Ct&&Mt(Ct)&&(Ct=null),null!==Tt&&Mt(Tt)&&(Tt=null),xt.forEach(Zt),kt.forEach(Zt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Lt)))}function Bt(e){function t(t){return Ft(t,e)}if(0<It.length){Ft(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==zt&&Ft(zt,e),null!==Ct&&Ft(Ct,e),null!==Tt&&Ft(Tt,e),xt.forEach(t),kt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)qt(n),null===n.blockedOn&&Dt.shift()}var Ut=_.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,n,r){var a=bt,o=Ut.transition;Ut.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=a,Ut.transition=o}}function Yt(e,t,n,r){var a=bt,o=Ut.transition;Ut.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=a,Ut.transition=o}}function Wt(e,t,n,r){if(Ht){var a=$t(e,t,n,r);if(null===a)Hr(e,t,r,Gt,n),At(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return zt=Rt(zt,e,t,n,r,a),!0;case"dragenter":return Ct=Rt(Ct,e,t,n,r,a),!0;case"mouseover":return Tt=Rt(Tt,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return xt.set(o,Rt(xt.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,kt.set(o,Rt(kt.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(At(e,r),4&t&&-1<jt.indexOf(e)){for(;null!==a;){var o=ba(a);if(null!==o&&Et(o),null===(o=$t(e,t,n,r))&&Hr(e,t,r,Gt,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Gt=null;function $t(e,t,n,r){if(Gt=null,null!==(e=ha(e=Ee(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ke()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Kt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Kt,r=n.length,a="value"in Xt?Xt.value:Xt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return Jt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,ln,cn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=an(un),dn=q({},un,{view:0,detail:0}),pn=an(dn),fn=q({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(on=e.screenX-cn.screenX,ln=e.screenY-cn.screenY):ln=on=0,cn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=an(fn),vn=an(q({},fn,{dataTransfer:0})),yn=an(q({},dn,{relatedTarget:0})),gn=an(q({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),hn=q({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(hn),_n=an(q({},un,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Pn(){return Nn}var On=q({},dn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(On),zn=an(q({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(q({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pn})),Tn=an(q({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=q({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kn=an(xn),Dn=[9,13,27,32],jn=s&&"CompositionEvent"in window,An=null;s&&"documentMode"in document&&(An=document.documentMode);var Rn=s&&"TextEvent"in window&&!An,qn=s&&(!jn||An&&8<An&&11>=An),Mn=String.fromCharCode(32),Zn=!1;function Ln(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1,Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Vn(e,t,n,r){Oe(r),0<(t=Yr(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Wn=null;function Gn(e){Mr(e,0)}function $n(e){if(W(_a(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(s){var Kn;if(s){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"==typeof er.oninput}Kn=Jn}else Kn=!1;Xn=Kn&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),Wn=Yn=null)}function nr(e){if("value"===e.propertyName&&$n(Wn)){var t=[];Vn(t,Wn,e,Ee(e)),xe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Wn)}function or(e,t){if("click"===e)return $n(t)}function ir(e,t){if("input"===e||"change"===e)return $n(t)}var lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function cr(e,t){if(lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!lr(e[a],t[a]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=sr(n,o);var i=sr(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=s&&"documentMode"in document&&11>=document.documentMode,yr=null,gr=null,hr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==G(r)||(r="selectionStart"in(r=yr)&&fr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},hr&&cr(hr,r)||(hr=r,0<(r=Yr(gr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},wr={},Nr={};function Pr(e){if(wr[e])return wr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return wr[e]=n[t];return e}s&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Or=Pr("animationend"),Ir=Pr("animationiteration"),zr=Pr("animationstart"),Cr=Pr("transitionend"),Tr=new Map,xr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){Tr.set(e,t),c(t,[e])}for(var Dr=0;Dr<xr.length;Dr++){var jr=xr[Dr];kr(jr.toLowerCase(),"on"+(jr[0].toUpperCase()+jr.slice(1)))}kr(Or,"onAnimationEnd"),kr(Ir,"onAnimationIteration"),kr(zr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(Cr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ar));function qr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,l,c,u){if(Fe.apply(this,arguments),Re){if(!Re)throw Error(o(198));var s=qe;Re=!1,qe=null,Me||(Me=!0,Ze=s)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&a.isPropagationStopped())break e;qr(a,l,u),o=c}else for(i=0;i<r.length;i++){if(c=(l=r[i]).instance,u=l.currentTarget,l=l.listener,c!==o&&a.isPropagationStopped())break e;qr(a,l,u),o=c}}}if(Me)throw e=Ze,Me=!1,Ze=null,e}function Zr(e,t){var n=t[va];void 0===n&&(n=t[va]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function Lr(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Fr]){e[Fr]=!0,i.forEach(function(t){"selectionchange"!==t&&(Rr.has(t)||Lr(t,!1,e),Lr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fr]||(t[Fr]=!0,Lr("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Qt(t)){case 1:var a=Vt;break;case 4:a=Yt;break;default:a=Wt}n=a.bind(null,t,n,e),a=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,a){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var l=r.stateNode.containerInfo;if(l===a||8===l.nodeType&&l.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&((c=i.stateNode.containerInfo)===a||8===c.nodeType&&c.parentNode===a))return;i=i.return}for(;null!==l;){if(null===(i=ha(l)))return;if(5===(c=i.tag)||6===c){r=o=i;continue e}l=l.parentNode}}r=r.return}xe(function(){var r=o,a=Ee(n),i=[];e:{var l=Tr.get(e);if(void 0!==l){var c=sn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=In;break;case"focusin":u="focus",c=yn;break;case"focusout":u="blur",c=yn;break;case"beforeblur":case"afterblur":c=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Cn;break;case Or:case Ir:case zr:c=gn;break;case Cr:c=Tn;break;case"scroll":c=pn;break;case"wheel":c=kn;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=zn}var s=!!(4&t),d=!s&&"scroll"===e,p=s?null!==l?l+"Capture":null:l;s=[];for(var f,m=r;null!==m;){var v=(f=m).stateNode;if(5===f.tag&&null!==v&&(f=v,null!==p&&null!=(v=ke(m,p))&&s.push(Vr(m,v,f))),d)break;m=m.return}0<s.length&&(l=new c(l,u,null,n,a),i.push({event:l,listeners:s}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===_e||!(u=n.relatedTarget||n.fromElement)||!ha(u)&&!u[ma])&&(c||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?ha(u):null)&&(u!==(d=Be(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=r),c!==u)){if(s=mn,v="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(s=zn,v="onPointerLeave",p="onPointerEnter",m="pointer"),d=null==c?l:_a(c),f=null==u?l:_a(u),(l=new s(v,m+"leave",c,n,a)).target=d,l.relatedTarget=f,v=null,ha(a)===r&&((s=new s(p,m+"enter",u,n,a)).target=f,s.relatedTarget=d,v=s),d=v,c&&u)e:{for(p=u,m=0,f=s=c;f;f=Wr(f))m++;for(f=0,v=p;v;v=Wr(v))f++;for(;0<m-f;)s=Wr(s),m--;for(;0<f-m;)p=Wr(p),f--;for(;m--;){if(s===p||null!==p&&s===p.alternate)break e;s=Wr(s),p=Wr(p)}s=null}else s=null;null!==c&&Gr(i,l,c,s,!1),null!==u&&null!==d&&Gr(i,d,u,s,!0)}if("select"===(c=(l=r?_a(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var y=Qn;else if(Hn(l))if(Xn)y=ir;else{y=ar;var g=rr}else(c=l.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(y=or);switch(y&&(y=y(e,r))?Vn(i,y,n,a):(g&&g(e,l,r),"focusout"===e&&(g=l._wrapperState)&&g.controlled&&"number"===l.type&&ee(l,"number",l.value)),g=r?_a(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(yr=g,gr=r,hr=null);break;case"focusout":hr=gr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(i,n,a);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(i,n,a)}var h;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Ln(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(qn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(h=en()):(Kt="value"in(Xt=a)?Xt.value:Xt.textContent,Bn=!0)),0<(g=Yr(r,b)).length&&(b=new _n(b,e,null,n,a),i.push({event:b,listeners:g}),(h||null!==(h=Fn(n)))&&(b.data=h))),(h=Rn?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(Zn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Zn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!jn&&Ln(e,t)?(e=en(),Jt=Kt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Yr(r,"onBeforeInput")).length&&(a=new _n("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=h)}Mr(i,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=ke(e,n))&&r.unshift(Vr(e,o,a)),null!=(o=ke(e,t))&&r.push(Vr(e,o,a))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(null!==c&&c===r)break;5===l.tag&&null!==u&&(l=u,a?null!=(c=ke(n,o))&&i.unshift(Vr(n,c,l)):a||null!=(c=ke(n,o))&&i.push(Vr(n,c,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var $r=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"==typeof e?e:""+e).replace($r,"\n").replace(Qr,"")}function Kr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"==typeof setTimeout?setTimeout:void 0,aa="function"==typeof clearTimeout?clearTimeout:void 0,oa="function"==typeof Promise?Promise:void 0,ia="function"==typeof queueMicrotask?queueMicrotask:void 0!==oa?function(e){return oa.resolve(null).then(e).catch(la)}:ra;function la(e){setTimeout(function(){throw e})}function ca(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Bt(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function sa(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),pa="__reactFiber$"+da,fa="__reactProps$"+da,ma="__reactContainer$"+da,va="__reactEvents$"+da,ya="__reactListeners$"+da,ga="__reactHandles$"+da;function ha(e){var t=e[pa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ma]||n[pa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=sa(e);null!==e;){if(n=e[pa])return n;e=sa(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[pa]||e[ma])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _a(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ea(e){return e[fa]||null}var Sa=[],wa=-1;function Na(e){return{current:e}}function Pa(e){0>wa||(e.current=Sa[wa],Sa[wa]=null,wa--)}function Oa(e,t){wa++,Sa[wa]=e.current,e.current=t}var Ia={},za=Na(Ia),Ca=Na(!1),Ta=Ia;function xa(e,t){var n=e.type.contextTypes;if(!n)return Ia;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ka(e){return null!=e.childContextTypes}function Da(){Pa(Ca),Pa(za)}function ja(e,t,n){if(za.current!==Ia)throw Error(o(168));Oa(za,t),Oa(Ca,n)}function Aa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,U(e)||"Unknown",a));return q({},n,r)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ia,Ta=za.current,Oa(za,e),Oa(Ca,Ca.current),!0}function qa(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Aa(e,t,Ta),r.__reactInternalMemoizedMergedChildContext=e,Pa(Ca),Pa(za),Oa(za,e)):Pa(Ca),Oa(Ca,n)}var Ma=null,Za=!1,La=!1;function Fa(e){null===Ma?Ma=[e]:Ma.push(e)}function Ba(){if(!La&&null!==Ma){La=!0;var e=0,t=bt;try{var n=Ma;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ma=null,Za=!1}catch(t){throw null!==Ma&&(Ma=Ma.slice(e+1)),We(Je,Ba),t}finally{bt=t,La=!1}}return null}var Ua=[],Ha=0,Va=null,Ya=0,Wa=[],Ga=0,$a=null,Qa=1,Xa="";function Ka(e,t){Ua[Ha++]=Ya,Ua[Ha++]=Va,Va=e,Ya=t}function Ja(e,t,n){Wa[Ga++]=Qa,Wa[Ga++]=Xa,Wa[Ga++]=$a,$a=e;var r=Qa;e=Xa;var a=32-it(r)-1;r&=~(1<<a),n+=1;var o=32-it(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Qa=1<<32-it(t)+a|n<<a|r,Xa=o+e}else Qa=1<<o|n<<a|r,Xa=e}function eo(e){null!==e.return&&(Ka(e,1),Ja(e,1,0))}function to(e){for(;e===Va;)Va=Ua[--Ha],Ua[Ha]=null,Ya=Ua[--Ha],Ua[Ha]=null;for(;e===$a;)$a=Wa[--Ga],Wa[Ga]=null,Xa=Wa[--Ga],Wa[Ga]=null,Qa=Wa[--Ga],Wa[Ga]=null}var no=null,ro=null,ao=!1,oo=null;function io(e,t){var n=ku(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function lo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$a?{id:Qa,overflow:Xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=ku(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function co(e){return!(!(1&e.mode)||128&e.flags)}function uo(e){if(ao){var t=ro;if(t){var n=t;if(!lo(e,t)){if(co(e))throw Error(o(418));t=ua(n.nextSibling);var r=no;t&&lo(e,t)?io(r,n):(e.flags=-4097&e.flags|2,ao=!1,no=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,no=e}}}function so(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function po(e){if(e!==no)return!1;if(!ao)return so(e),ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ro)){if(co(e))throw fo(),Error(o(418));for(;t;)io(e,t),t=ua(t.nextSibling)}if(so(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ua(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ua(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ua(e.nextSibling)}function mo(){ro=no=null,ao=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var yo=_.ReactCurrentBatchConfig;function go(e,t){if(e&&e.defaultProps){for(var n in t=q({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ho=Na(null),bo=null,_o=null,Eo=null;function So(){Eo=_o=bo=null}function wo(e){var t=ho.current;Pa(ho),e._currentValue=t}function No(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Po(e,t){bo=e,Eo=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_l=!0),e.firstContext=null)}function Oo(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===bo)throw Error(o(308));_o=e,bo.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var Io=null;function zo(e){null===Io?Io=[e]:Io.push(e)}function Co(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,zo(t)):(n.next=a.next,a.next=n),t.interleaved=n,To(e,r)}function To(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var xo=!1;function ko(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ao(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Cc){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,To(e,n)}return null===(a=r.interleaved)?(t.next=t,zo(r)):(t.next=a.next,a.next=t),r.interleaved=t,To(e,n)}function Ro(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,ht(e,n)}}function qo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mo(e,t,n,r){var a=e.updateQueue;xo=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var c=l,u=c.next;c.next=null,null===i?o=u:i.next=u,i=c;var s=e.alternate;null!==s&&(l=(s=s.updateQueue).lastBaseUpdate)!==i&&(null===l?s.firstBaseUpdate=u:l.next=u,s.lastBaseUpdate=c)}if(null!==o){var d=a.baseState;for(i=0,s=u=c=null,l=o;;){var p=l.lane,f=l.eventTime;if((r&p)===p){null!==s&&(s=s.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,v=l;switch(p=t,f=n,v.tag){case 1:if("function"==typeof(m=v.payload)){d=m.call(f,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(p="function"==typeof(m=v.payload)?m.call(f,d,p):m))break e;d=q({},d,p);break e;case 2:xo=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===s?(u=s=f,c=d):s=s.next=f,i|=p;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(p=l).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===s&&(c=d),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=s,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);qc|=i,e.lanes=i,e.memoizedState=d}}function Zo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!=typeof a)throw Error(o(191,a));a.call(r)}}}var Lo=(new r.Component).refs;function Fo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:q({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),a=nu(e),o=jo(r,a);o.payload=t,null!=n&&(o.callback=n),null!==(t=Ao(e,o,a))&&(ru(t,e,a,r),Ro(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),a=nu(e),o=jo(r,a);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Ao(e,o,a))&&(ru(t,e,a,r),Ro(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),a=jo(n,r);a.tag=2,null!=t&&(a.callback=t),null!==(t=Ao(e,a,r))&&(ru(t,e,r,n),Ro(t,e,r))}};function Uo(e,t,n,r,a,o,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!(t.prototype&&t.prototype.isPureReactComponent&&cr(n,r)&&cr(a,o))}function Ho(e,t,n){var r=!1,a=Ia,o=t.contextType;return"object"==typeof o&&null!==o?o=Oo(o):(a=ka(t)?Ta:za.current,o=(r=null!=(r=t.contextTypes))?xa(e,a):Ia),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Vo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Yo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=Lo,ko(e);var o=t.contextType;"object"==typeof o&&null!==o?a.context=Oo(o):(o=ka(t)?Ta:za.current,a.context=xa(e,o)),a.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Fo(e,t,o,n),a.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(t=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Bo.enqueueReplaceState(a,a.state,null),Mo(e,n,a,r),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.flags|=4194308)}function Wo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;t===Lo&&(t=a.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $o(e){return(0,e._init)(e._payload)}function Qo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=ju(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Mu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===w?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===k&&$o(o)===t.type)?((r=a(t,n.props)).ref=Wo(e,t,n),r.return=e,r):((r=Au(n.type,n.key,n.props,null,e.mode,r)).ref=Wo(e,t,n),r.return=e,r)}function s(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Zu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Ru(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Mu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Au(t.type,t.key,t.props,null,e.mode,n)).ref=Wo(e,null,t),n.return=e,n;case S:return(t=Zu(t,e.mode,n)).return=e,t;case k:return p(e,(0,t._init)(t._payload),n)}if(te(t)||A(t))return(t=Ru(t,e.mode,n,null)).return=e,t;Go(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==a?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===a?u(e,t,n,r):null;case S:return n.key===a?s(e,t,n,r):null;case k:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||A(n))return null!==a?null:d(e,t,n,r,null);Go(e,n)}return null}function m(e,t,n,r,a){if("string"==typeof r&&""!==r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case S:return s(t,e=e.get(null===r.key?n:r.key)||null,r,a);case k:return m(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||A(r))return d(t,e=e.get(n)||null,r,a,null);Go(t,r)}return null}function v(a,o,l,c){for(var u=null,s=null,d=o,v=o=0,y=null;null!==d&&v<l.length;v++){d.index>v?(y=d,d=null):y=d.sibling;var g=f(a,d,l[v],c);if(null===g){null===d&&(d=y);break}e&&d&&null===g.alternate&&t(a,d),o=i(g,o,v),null===s?u=g:s.sibling=g,s=g,d=y}if(v===l.length)return n(a,d),ao&&Ka(a,v),u;if(null===d){for(;v<l.length;v++)null!==(d=p(a,l[v],c))&&(o=i(d,o,v),null===s?u=d:s.sibling=d,s=d);return ao&&Ka(a,v),u}for(d=r(a,d);v<l.length;v++)null!==(y=m(d,a,v,l[v],c))&&(e&&null!==y.alternate&&d.delete(null===y.key?v:y.key),o=i(y,o,v),null===s?u=y:s.sibling=y,s=y);return e&&d.forEach(function(e){return t(a,e)}),ao&&Ka(a,v),u}function y(a,l,c,u){var s=A(c);if("function"!=typeof s)throw Error(o(150));if(null==(c=s.call(c)))throw Error(o(151));for(var d=s=null,v=l,y=l=0,g=null,h=c.next();null!==v&&!h.done;y++,h=c.next()){v.index>y?(g=v,v=null):g=v.sibling;var b=f(a,v,h.value,u);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(a,v),l=i(b,l,y),null===d?s=b:d.sibling=b,d=b,v=g}if(h.done)return n(a,v),ao&&Ka(a,y),s;if(null===v){for(;!h.done;y++,h=c.next())null!==(h=p(a,h.value,u))&&(l=i(h,l,y),null===d?s=h:d.sibling=h,d=h);return ao&&Ka(a,y),s}for(v=r(a,v);!h.done;y++,h=c.next())null!==(h=m(v,a,y,h.value,u))&&(e&&null!==h.alternate&&v.delete(null===h.key?y:h.key),l=i(h,l,y),null===d?s=h:d.sibling=h,d=h);return e&&v.forEach(function(e){return t(a,e)}),ao&&Ka(a,y),s}return function e(r,o,i,c){if("object"==typeof i&&null!==i&&i.type===w&&null===i.key&&(i=i.props.children),"object"==typeof i&&null!==i){switch(i.$$typeof){case E:e:{for(var u=i.key,s=o;null!==s;){if(s.key===u){if((u=i.type)===w){if(7===s.tag){n(r,s.sibling),(o=a(s,i.props.children)).return=r,r=o;break e}}else if(s.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===k&&$o(u)===s.type){n(r,s.sibling),(o=a(s,i.props)).ref=Wo(r,s,i),o.return=r,r=o;break e}n(r,s);break}t(r,s),s=s.sibling}i.type===w?((o=Ru(i.props.children,r.mode,c,i.key)).return=r,r=o):((c=Au(i.type,i.key,i.props,null,r.mode,c)).ref=Wo(r,o,i),c.return=r,r=c)}return l(r);case S:e:{for(s=i.key;null!==o;){if(o.key===s){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(r,o.sibling),(o=a(o,i.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Zu(i,r.mode,c)).return=r,r=o}return l(r);case k:return e(r,o,(s=i._init)(i._payload),c)}if(te(i))return v(r,o,i,c);if(A(i))return y(r,o,i,c);Go(r,i)}return"string"==typeof i&&""!==i||"number"==typeof i?(i=""+i,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,i)).return=r,r=o):(n(r,o),(o=Mu(i,r.mode,c)).return=r,r=o),l(r)):n(r,o)}}var Xo=Qo(!0),Ko=Qo(!1),Jo={},ei=Na(Jo),ti=Na(Jo),ni=Na(Jo);function ri(e){if(e===Jo)throw Error(o(174));return e}function ai(e,t){switch(Oa(ni,t),Oa(ti,e),Oa(ei,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Pa(ei),Oa(ei,t)}function oi(){Pa(ei),Pa(ti),Pa(ni)}function ii(e){ri(ni.current);var t=ri(ei.current),n=ce(t,e.type);t!==n&&(Oa(ti,e),Oa(ei,n))}function li(e){ti.current===e&&(Pa(ei),Pa(ti))}var ci=Na(0);function ui(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var si=[];function di(){for(var e=0;e<si.length;e++)si[e]._workInProgressVersionPrimary=null;si.length=0}var pi=_.ReactCurrentDispatcher,fi=_.ReactCurrentBatchConfig,mi=0,vi=null,yi=null,gi=null,hi=!1,bi=!1,_i=0,Ei=0;function Si(){throw Error(o(321))}function wi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function Ni(e,t,n,r,a,i){if(mi=i,vi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pi.current=null===e||null===e.memoizedState?ll:cl,e=n(r,a),bi){i=0;do{if(bi=!1,_i=0,25<=i)throw Error(o(301));i+=1,gi=yi=null,t.updateQueue=null,pi.current=ul,e=n(r,a)}while(bi)}if(pi.current=il,t=null!==yi&&null!==yi.next,mi=0,gi=yi=vi=null,hi=!1,t)throw Error(o(300));return e}function Pi(){var e=0!==_i;return _i=0,e}function Oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===gi?vi.memoizedState=gi=e:gi=gi.next=e,gi}function Ii(){if(null===yi){var e=vi.alternate;e=null!==e?e.memoizedState:null}else e=yi.next;var t=null===gi?vi.memoizedState:gi.next;if(null!==t)gi=t,yi=e;else{if(null===e)throw Error(o(310));e={memoizedState:(yi=e).memoizedState,baseState:yi.baseState,baseQueue:yi.baseQueue,queue:yi.queue,next:null},null===gi?vi.memoizedState=gi=e:gi=gi.next=e}return gi}function zi(e,t){return"function"==typeof t?t(e):t}function Ci(e){var t=Ii(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=yi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var l=a.next;a.next=i.next,i.next=l}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var c=l=null,u=null,s=i;do{var d=s.lane;if((mi&d)===d)null!==u&&(u=u.next={lane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),r=s.hasEagerState?s.eagerState:e(r,s.action);else{var p={lane:d,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null};null===u?(c=u=p,l=r):u=u.next=p,vi.lanes|=d,qc|=d}s=s.next}while(null!==s&&s!==i);null===u?l=r:u.next=c,lr(r,t.memoizedState)||(_l=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,vi.lanes|=i,qc|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ti(e){var t=Ii(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var l=a=a.next;do{i=e(i,l.action),l=l.next}while(l!==a);lr(i,t.memoizedState)||(_l=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function xi(){}function ki(e,t){var n=vi,r=Ii(),a=t(),i=!lr(r.memoizedState,a);if(i&&(r.memoizedState=a,_l=!0),r=r.queue,Hi(Ai.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==gi&&1&gi.memoizedState.tag){if(n.flags|=2048,Zi(9,ji.bind(null,n,r,a,t),void 0,null),null===Tc)throw Error(o(349));30&mi||Di(n,t,a)}return a}function Di(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vi.updateQueue)?(t={lastEffect:null,stores:null},vi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ji(e,t,n,r){t.value=n,t.getSnapshot=r,Ri(t)&&qi(e)}function Ai(e,t,n){return n(function(){Ri(t)&&qi(e)})}function Ri(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(e){return!0}}function qi(e){var t=To(e,1);null!==t&&ru(t,e,1,-1)}function Mi(e){var t=Oi();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},t.queue=e,e=e.dispatch=nl.bind(null,vi,e),[t.memoizedState,e]}function Zi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vi.updateQueue)?(t={lastEffect:null,stores:null},vi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Li(){return Ii().memoizedState}function Fi(e,t,n,r){var a=Oi();vi.flags|=e,a.memoizedState=Zi(1|t,n,void 0,void 0===r?null:r)}function Bi(e,t,n,r){var a=Ii();r=void 0===r?null:r;var o=void 0;if(null!==yi){var i=yi.memoizedState;if(o=i.destroy,null!==r&&wi(r,i.deps))return void(a.memoizedState=Zi(t,n,o,r))}vi.flags|=e,a.memoizedState=Zi(1|t,n,o,r)}function Ui(e,t){return Fi(8390656,8,e,t)}function Hi(e,t){return Bi(2048,8,e,t)}function Vi(e,t){return Bi(4,2,e,t)}function Yi(e,t){return Bi(4,4,e,t)}function Wi(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Gi(e,t,n){return n=null!=n?n.concat([e]):null,Bi(4,4,Wi.bind(null,t,e),n)}function $i(){}function Qi(e,t){var n=Ii();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xi(e,t){var n=Ii();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ki(e,t,n){return 21&mi?(lr(n,t)||(n=vt(),vi.lanes|=n,qc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_l=!0),e.memoizedState=n)}function Ji(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fi.transition;fi.transition={};try{e(!1),t()}finally{bt=n,fi.transition=r}}function el(){return Ii().memoizedState}function tl(e,t,n){var r=nu(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rl(e)?al(t,n):null!==(n=Co(e,t,n,r))&&(ru(n,e,r,tu()),ol(n,t,r))}function nl(e,t,n){var r=nu(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rl(e))al(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=o(i,n);if(a.hasEagerState=!0,a.eagerState=l,lr(l,i)){var c=t.interleaved;return null===c?(a.next=a,zo(t)):(a.next=c.next,c.next=a),void(t.interleaved=a)}}catch(e){}null!==(n=Co(e,t,a,r))&&(ru(n,e,r,a=tu()),ol(n,t,r))}}function rl(e){var t=e.alternate;return e===vi||null!==t&&t===vi}function al(e,t){bi=hi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ol(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,ht(e,n)}}var il={readContext:Oo,useCallback:Si,useContext:Si,useEffect:Si,useImperativeHandle:Si,useInsertionEffect:Si,useLayoutEffect:Si,useMemo:Si,useReducer:Si,useRef:Si,useState:Si,useDebugValue:Si,useDeferredValue:Si,useTransition:Si,useMutableSource:Si,useSyncExternalStore:Si,useId:Si,unstable_isNewReconciler:!1},ll={readContext:Oo,useCallback:function(e,t){return Oi().memoizedState=[e,void 0===t?null:t],e},useContext:Oo,useEffect:Ui,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Fi(4194308,4,Wi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fi(4,2,e,t)},useMemo:function(e,t){var n=Oi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Oi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tl.bind(null,vi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Oi().memoizedState=e},useState:Mi,useDebugValue:$i,useDeferredValue:function(e){return Oi().memoizedState=e},useTransition:function(){var e=Mi(!1),t=e[0];return e=Ji.bind(null,e[1]),Oi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vi,a=Oi();if(ao){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Tc)throw Error(o(349));30&mi||Di(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Ui(Ai.bind(null,r,i,e),[e]),r.flags|=2048,Zi(9,ji.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Oi(),t=Tc.identifierPrefix;if(ao){var n=Xa;t=":"+t+"R"+(n=(Qa&~(1<<32-it(Qa)-1)).toString(32)+n),0<(n=_i++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ei++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cl={readContext:Oo,useCallback:Qi,useContext:Oo,useEffect:Hi,useImperativeHandle:Gi,useInsertionEffect:Vi,useLayoutEffect:Yi,useMemo:Xi,useReducer:Ci,useRef:Li,useState:function(){return Ci(zi)},useDebugValue:$i,useDeferredValue:function(e){return Ki(Ii(),yi.memoizedState,e)},useTransition:function(){return[Ci(zi)[0],Ii().memoizedState]},useMutableSource:xi,useSyncExternalStore:ki,useId:el,unstable_isNewReconciler:!1},ul={readContext:Oo,useCallback:Qi,useContext:Oo,useEffect:Hi,useImperativeHandle:Gi,useInsertionEffect:Vi,useLayoutEffect:Yi,useMemo:Xi,useReducer:Ti,useRef:Li,useState:function(){return Ti(zi)},useDebugValue:$i,useDeferredValue:function(e){var t=Ii();return null===yi?t.memoizedState=e:Ki(t,yi.memoizedState,e)},useTransition:function(){return[Ti(zi)[0],Ii().memoizedState]},useMutableSource:xi,useSyncExternalStore:ki,useId:el,unstable_isNewReconciler:!1};function sl(e,t){try{var n="",r=t;do{n+=F(r),r=r.return}while(r);var a=n}catch(e){a="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:a,digest:null}}function dl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function pl(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var fl="function"==typeof WeakMap?WeakMap:Map;function ml(e,t,n){(n=jo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vc||(Vc=!0,Yc=r),pl(0,t)},n}function vl(e,t,n){(n=jo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){pl(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){pl(0,t),"function"!=typeof r&&(null===Wc?Wc=new Set([this]):Wc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fl;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Ou.bind(null,e,t,n),t.then(e,e))}function gl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function hl(e,t,n,r,a){return 1&e.mode?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=jo(-1,1)).tag=2,Ao(n,t,1))),n.lanes|=1),e)}var bl=_.ReactCurrentOwner,_l=!1;function El(e,t,n,r){t.child=null===e?Ko(t,null,n,r):Xo(t,e.child,n,r)}function Sl(e,t,n,r,a){n=n.render;var o=t.ref;return Po(t,a),r=Ni(e,t,n,r,o,a),n=Pi(),null===e||_l?(ao&&n&&eo(t),t.flags|=1,El(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vl(e,t,a))}function wl(e,t,n,r,a){if(null===e){var o=n.type;return"function"!=typeof o||Du(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Au(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Nl(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(i,r)&&e.ref===t.ref)return Vl(e,t,a)}return t.flags|=1,(e=ju(o,r)).ref=t.ref,e.return=t,t.child=e}function Nl(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(cr(o,r)&&e.ref===t.ref){if(_l=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,Vl(e,t,a);131072&e.flags&&(_l=!0)}}return Il(e,t,n,r,a)}function Pl(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oa(jc,Dc),Dc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Oa(jc,Dc),Dc|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oa(jc,Dc),Dc|=n;else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Oa(jc,Dc),Dc|=r;return El(e,t,a,n),t.child}function Ol(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Il(e,t,n,r,a){var o=ka(n)?Ta:za.current;return o=xa(t,o),Po(t,a),n=Ni(e,t,n,r,o,a),r=Pi(),null===e||_l?(ao&&r&&eo(t),t.flags|=1,El(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vl(e,t,a))}function zl(e,t,n,r,a){if(ka(n)){var o=!0;Ra(t)}else o=!1;if(Po(t,a),null===t.stateNode)Hl(e,t),Ho(t,n,r),Yo(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;u="object"==typeof u&&null!==u?Oo(u):xa(t,u=ka(n)?Ta:za.current);var s=n.getDerivedStateFromProps,d="function"==typeof s||"function"==typeof i.getSnapshotBeforeUpdate;d||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(l!==r||c!==u)&&Vo(t,i,r,u),xo=!1;var p=t.memoizedState;i.state=p,Mo(t,r,i,a),c=t.memoizedState,l!==r||p!==c||Ca.current||xo?("function"==typeof s&&(Fo(t,n,s,r),c=t.memoizedState),(l=xo||Uo(t,n,l,r,p,c,u))?(d||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Do(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:go(t.type,l),i.props=u,d=t.pendingProps,p=i.context,c="object"==typeof(c=n.contextType)&&null!==c?Oo(c):xa(t,c=ka(n)?Ta:za.current);var f=n.getDerivedStateFromProps;(s="function"==typeof f||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(l!==d||p!==c)&&Vo(t,i,r,c),xo=!1,p=t.memoizedState,i.state=p,Mo(t,r,i,a);var m=t.memoizedState;l!==d||p!==m||Ca.current||xo?("function"==typeof f&&(Fo(t,n,f,r),m=t.memoizedState),(u=xo||Uo(t,n,u,r,p,m,c)||!1)?(s||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,m,c),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,m,c)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),i.props=r,i.state=m,i.context=c,r=u):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Cl(e,t,n,r,o,a)}function Cl(e,t,n,r,a,o){Ol(e,t);var i=!!(128&t.flags);if(!r&&!i)return a&&qa(t,n,!1),Vl(e,t,o);r=t.stateNode,bl.current=t;var l=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,l,o)):El(e,t,l,o),t.memoizedState=r.state,a&&qa(t,n,!0),t.child}function Tl(e){var t=e.stateNode;t.pendingContext?ja(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ja(0,t.context,!1),ai(e,t.containerInfo)}function xl(e,t,n,r,a){return mo(),vo(a),t.flags|=256,El(e,t,n,r),t.child}var kl,Dl,jl,Al,Rl={dehydrated:null,treeContext:null,retryLane:0};function ql(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ml(e,t,n){var r,a=t.pendingProps,i=ci.current,l=!1,c=!!(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&!!(2&i)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Oa(ci,1&i),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=a.children,e=a.fallback,l?(a=t.mode,l=t.child,c={mode:"hidden",children:c},1&a||null===l?l=qu(c,a,0,null):(l.childLanes=0,l.pendingProps=c),e=Ru(e,a,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=ql(n),t.memoizedState=Rl,e):Zl(t,c));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,l){if(n)return 256&t.flags?(t.flags&=-257,Ll(e,t,l,r=dl(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=qu({mode:"visible",children:r.children},a,0,null),(i=Ru(i,a,l,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,1&t.mode&&Xo(t,e.child,null,l),t.child.memoizedState=ql(l),t.memoizedState=Rl,i);if(!(1&t.mode))return Ll(e,t,l,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var c=r.dgst;return r=c,Ll(e,t,l,r=dl(i=Error(o(419)),r,void 0))}if(c=0!==(l&e.childLanes),_l||c){if(null!==(r=Tc)){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|l))?0:a)&&a!==i.retryLane&&(i.retryLane=a,To(e,a),ru(r,e,a,-1))}return yu(),Ll(e,t,l,r=dl(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=zu.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ro=ua(a.nextSibling),no=t,ao=!0,oo=null,null!==e&&(Wa[Ga++]=Qa,Wa[Ga++]=Xa,Wa[Ga++]=$a,Qa=e.id,Xa=e.overflow,$a=t),(t=Zl(t,r.children)).flags|=4096,t)}(e,t,c,a,r,i,n);if(l){l=a.fallback,c=t.mode,r=(i=e.child).sibling;var u={mode:"hidden",children:a.children};return 1&c||t.child===i?(a=ju(i,u)).subtreeFlags=14680064&i.subtreeFlags:((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null),null!==r?l=ju(r,l):(l=Ru(l,c,n,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,c=null===(c=e.child.memoizedState)?ql(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},l.memoizedState=c,l.childLanes=e.childLanes&~n,t.memoizedState=Rl,a}return e=(l=e.child).sibling,a=ju(l,{mode:"visible",children:a.children}),!(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Zl(e,t){return(t=qu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ll(e,t,n,r){return null!==r&&vo(r),Xo(t,e.child,null,n),(e=Zl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),No(e.return,t,n)}function Bl(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function Ul(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(El(e,t,r.children,n),2&(r=ci.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fl(e,n,t);else if(19===e.tag)Fl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Oa(ci,r),1&t.mode)switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ui(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Bl(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ui(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Bl(t,!0,n,null,o);break;case"together":Bl(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Hl(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),qc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=ju(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ju(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yl(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gl(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wl(t),null;case 1:case 17:return ka(t.type)&&Da(),Wl(t),null;case 3:return r=t.stateNode,oi(),Pa(Ca),Pa(za),di(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(po(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==oo&&(lu(oo),oo=null))),Dl(e,t),Wl(t),null;case 5:li(t);var a=ri(ni.current);if(n=t.type,null!==e&&null!=t.stateNode)jl(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Wl(t),null}if(e=ri(ei.current),po(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[pa]=t,r[fa]=i,e=!!(1&t.mode),n){case"dialog":Zr("cancel",r),Zr("close",r);break;case"iframe":case"object":case"embed":Zr("load",r);break;case"video":case"audio":for(a=0;a<Ar.length;a++)Zr(Ar[a],r);break;case"source":Zr("error",r);break;case"img":case"image":case"link":Zr("error",r),Zr("load",r);break;case"details":Zr("toggle",r);break;case"input":Q(r,i),Zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Zr("invalid",r);break;case"textarea":ae(r,i),Zr("invalid",r)}for(var c in he(n,i),a=null,i)if(i.hasOwnProperty(c)){var u=i[c];"children"===c?"string"==typeof u?r.textContent!==u&&(!0!==i.suppressHydrationWarning&&Kr(r.textContent,u,e),a=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(!0!==i.suppressHydrationWarning&&Kr(r.textContent,u,e),a=["children",""+u]):l.hasOwnProperty(c)&&null!=u&&"onScroll"===c&&Zr("scroll",r)}switch(n){case"input":Y(r),J(r,i,!0);break;case"textarea":Y(r),ie(r);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(r.onclick=Jr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[pa]=t,e[fa]=r,kl(e,t,!1,!1),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":Zr("cancel",e),Zr("close",e),a=r;break;case"iframe":case"object":case"embed":Zr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ar.length;a++)Zr(Ar[a],e);a=r;break;case"source":Zr("error",e),a=r;break;case"img":case"image":case"link":Zr("error",e),Zr("load",e),a=r;break;case"details":Zr("toggle",e),a=r;break;case"input":Q(e,r),a=$(e,r),Zr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=q({},r,{value:void 0}),Zr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Zr("invalid",e)}for(i in he(n,a),u=a)if(u.hasOwnProperty(i)){var s=u[i];"style"===i?ye(e,s):"dangerouslySetInnerHTML"===i?null!=(s=s?s.__html:void 0)&&de(e,s):"children"===i?"string"==typeof s?("textarea"!==n||""!==s)&&pe(e,s):"number"==typeof s&&pe(e,""+s):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=s&&"onScroll"===i&&Zr("scroll",e):null!=s&&b(e,i,s,c))}switch(n){case"input":Y(e),J(e,r,!1);break;case"textarea":Y(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wl(t),null;case 6:if(e&&null!=t.stateNode)Al(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(n=ri(ni.current),ri(ei.current),po(t)){if(r=t.stateNode,n=t.memoizedProps,r[pa]=t,(i=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Kr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Kr(r.nodeValue,n,!!(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[pa]=t,t.stateNode=r}return Wl(t),null;case 13:if(Pa(ci),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&1&t.mode&&!(128&t.flags))fo(),mo(),t.flags|=98560,i=!1;else if(i=po(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[pa]=t}else mo(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wl(t),i=!1}else null!==oo&&(lu(oo),oo=null),i=!0;if(!i)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ci.current?0===Ac&&(Ac=3):yu())),null!==t.updateQueue&&(t.flags|=4),Wl(t),null);case 4:return oi(),Dl(e,t),null===e&&Br(t.stateNode.containerInfo),Wl(t),null;case 10:return wo(t.type._context),Wl(t),null;case 19:if(Pa(ci),null===(i=t.memoizedState))return Wl(t),null;if(r=!!(128&t.flags),null===(c=i.rendering))if(r)Yl(i,!1);else{if(0!==Ac||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(c=ui(e))){for(t.flags|=128,Yl(i,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(c=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,e=c.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oa(ci,1&ci.current|2),t.child}e=e.sibling}null!==i.tail&&Xe()>Uc&&(t.flags|=128,r=!0,Yl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ui(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Yl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!c.alternate&&!ao)return Wl(t),null}else 2*Xe()-i.renderingStartTime>Uc&&1073741824!==n&&(t.flags|=128,r=!0,Yl(i,!1),t.lanes=4194304);i.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=i.last)?n.sibling=c:t.child=c,i.last=c)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xe(),t.sibling=null,n=ci.current,Oa(ci,r?1&n|2:1&n),t):(Wl(t),null);case 22:case 23:return pu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Dc)&&(Wl(t),6&t.subtreeFlags&&(t.flags|=8192)):Wl(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function $l(e,t){switch(to(t),t.tag){case 1:return ka(t.type)&&Da(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oi(),Pa(Ca),Pa(za),di(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return li(t),null;case 13:if(Pa(ci),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));mo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Pa(ci),null;case 4:return oi(),null;case 10:return wo(t.type._context),null;case 22:case 23:return pu(),null;default:return null}}kl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Dl=function(){},jl=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,ri(ei.current);var o,i=null;switch(n){case"input":a=$(e,a),r=$(e,r),i=[];break;case"select":a=q({},a,{value:void 0}),r=q({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(e.onclick=Jr)}for(s in he(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s){var c=a[s];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?i||(i=[]):(i=i||[]).push(s,null));for(s in r){var u=r[s];if(c=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&u!==c&&(null!=u||null!=c))if("style"===s)if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(s,n)),n=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(i=i||[]).push(s,u)):"children"===s?"string"!=typeof u&&"number"!=typeof u||(i=i||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(l.hasOwnProperty(s)?(null!=u&&"onScroll"===s&&Zr("scroll",e),i||c===u||(i=[])):(i=i||[]).push(s,u))}n&&(i=i||[]).push("style",n);var s=i;(t.updateQueue=s)&&(t.flags|=4)}},Al=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ql=!1,Xl=!1,Kl="function"==typeof WeakSet?WeakSet:Set,Jl=null;function ec(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Pu(e,t,n)}else n.current=null}function tc(e,t,n){try{n()}catch(n){Pu(e,t,n)}}var nc=!1;function rc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&tc(t,n,o)}a=a.next}while(a!==r)}}function ac(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ic(e){var t=e.alternate;null!==t&&(e.alternate=null,ic(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[pa],delete t[fa],delete t[va],delete t[ya],delete t[ga]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lc(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||lc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}function sc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(sc(e,t,n),e=e.sibling;null!==e;)sc(e,t,n),e=e.sibling}var dc=null,pc=!1;function fc(e,t,n){for(n=n.child;null!==n;)mc(e,t,n),n=n.sibling}function mc(e,t,n){if(ot&&"function"==typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(e){}switch(n.tag){case 5:Xl||ec(n,t);case 6:var r=dc,a=pc;dc=null,fc(e,t,n),pc=a,null!==(dc=r)&&(pc?(e=dc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dc.removeChild(n.stateNode));break;case 18:null!==dc&&(pc?(e=dc,n=n.stateNode,8===e.nodeType?ca(e.parentNode,n):1===e.nodeType&&ca(e,n),Bt(e)):ca(dc,n.stateNode));break;case 4:r=dc,a=pc,dc=n.stateNode.containerInfo,pc=!0,fc(e,t,n),dc=r,pc=a;break;case 0:case 11:case 14:case 15:if(!Xl&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,void 0!==i&&(2&o||4&o)&&tc(n,t,i),a=a.next}while(a!==r)}fc(e,t,n);break;case 1:if(!Xl&&(ec(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Pu(n,t,e)}fc(e,t,n);break;case 21:fc(e,t,n);break;case 22:1&n.mode?(Xl=(r=Xl)||null!==n.memoizedState,fc(e,t,n),Xl=r):fc(e,t,n);break;default:fc(e,t,n)}}function vc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Kl),t.forEach(function(t){var r=Cu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function yc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,l=t,c=l;e:for(;null!==c;){switch(c.tag){case 5:dc=c.stateNode,pc=!1;break e;case 3:case 4:dc=c.stateNode.containerInfo,pc=!0;break e}c=c.return}if(null===dc)throw Error(o(160));mc(i,l,a),dc=null,pc=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(e){Pu(a,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gc(t,e),t=t.sibling}function gc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yc(t,e),hc(e),4&r){try{rc(3,e,e.return),ac(3,e)}catch(t){Pu(e,e.return,t)}try{rc(5,e,e.return)}catch(t){Pu(e,e.return,t)}}break;case 1:yc(t,e),hc(e),512&r&&null!==n&&ec(n,n.return);break;case 5:if(yc(t,e),hc(e),512&r&&null!==n&&ec(n,n.return),32&e.flags){var a=e.stateNode;try{pe(a,"")}catch(t){Pu(e,e.return,t)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,l=null!==n?n.memoizedProps:i,c=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===c&&"radio"===i.type&&null!=i.name&&X(a,i),be(c,l);var s=be(c,i);for(l=0;l<u.length;l+=2){var d=u[l],p=u[l+1];"style"===d?ye(a,p):"dangerouslySetInnerHTML"===d?de(a,p):"children"===d?pe(a,p):b(a,d,p,s)}switch(c){case"input":K(a,i);break;case"textarea":oe(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;null!=m?ne(a,!!i.multiple,m,!1):f!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[fa]=i}catch(t){Pu(e,e.return,t)}}break;case 6:if(yc(t,e),hc(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(t){Pu(e,e.return,t)}}break;case 3:if(yc(t,e),hc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(t){Pu(e,e.return,t)}break;case 4:default:yc(t,e),hc(e);break;case 13:yc(t,e),hc(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Bc=Xe())),4&r&&vc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xl=(s=Xl)||d,yc(t,e),Xl=s):yc(t,e),hc(e),8192&r){if(s=null!==e.memoizedState,(e.stateNode.isHidden=s)&&!d&&1&e.mode)for(Jl=e,d=e.child;null!==d;){for(p=Jl=d;null!==Jl;){switch(m=(f=Jl).child,f.tag){case 0:case 11:case 14:case 15:rc(4,f,f.return);break;case 1:ec(f,f.return);var v=f.stateNode;if("function"==typeof v.componentWillUnmount){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(e){Pu(r,n,e)}}break;case 5:ec(f,f.return);break;case 22:if(null!==f.memoizedState){Sc(p);continue}}null!==m?(m.return=f,Jl=m):Sc(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{a=p.stateNode,s?"function"==typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(c=p.stateNode,l=null!=(u=p.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,c.style.display=ve("display",l))}catch(t){Pu(e,e.return,t)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=s?"":p.memoizedProps}catch(t){Pu(e,e.return,t)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:yc(t,e),hc(e),4&r&&vc(e);case 21:}}function hc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(lc(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(pe(a,""),r.flags&=-33),sc(e,cc(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;uc(e,cc(e),i);break;default:throw Error(o(161))}}catch(t){Pu(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bc(e,t,n){Jl=e,_c(e,t,n)}function _c(e,t,n){for(var r=!!(1&e.mode);null!==Jl;){var a=Jl,o=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Ql;if(!i){var l=a.alternate,c=null!==l&&null!==l.memoizedState||Xl;l=Ql;var u=Xl;if(Ql=i,(Xl=c)&&!u)for(Jl=a;null!==Jl;)c=(i=Jl).child,22===i.tag&&null!==i.memoizedState?wc(a):null!==c?(c.return=i,Jl=c):wc(a);for(;null!==o;)Jl=o,_c(o,t,n),o=o.sibling;Jl=a,Ql=l,Xl=u}Ec(e)}else 8772&a.subtreeFlags&&null!==o?(o.return=a,Jl=o):Ec(e)}}function Ec(e){for(;null!==Jl;){var t=Jl;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Xl||ac(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xl)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:go(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Zo(t,i,r);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Zo(t,l,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var s=t.alternate;if(null!==s){var d=s.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Bt(p)}}}break;default:throw Error(o(163))}Xl||512&t.flags&&oc(t)}catch(e){Pu(t,t.return,e)}}if(t===e){Jl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jl=n;break}Jl=t.return}}function Sc(e){for(;null!==Jl;){var t=Jl;if(t===e){Jl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jl=n;break}Jl=t.return}}function wc(e){for(;null!==Jl;){var t=Jl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ac(4,t)}catch(e){Pu(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(e){Pu(t,a,e)}}var o=t.return;try{oc(t)}catch(e){Pu(t,o,e)}break;case 5:var i=t.return;try{oc(t)}catch(e){Pu(t,i,e)}}}catch(e){Pu(t,t.return,e)}if(t===e){Jl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Jl=l;break}Jl=t.return}}var Nc,Pc=Math.ceil,Oc=_.ReactCurrentDispatcher,Ic=_.ReactCurrentOwner,zc=_.ReactCurrentBatchConfig,Cc=0,Tc=null,xc=null,kc=0,Dc=0,jc=Na(0),Ac=0,Rc=null,qc=0,Mc=0,Zc=0,Lc=null,Fc=null,Bc=0,Uc=1/0,Hc=null,Vc=!1,Yc=null,Wc=null,Gc=!1,$c=null,Qc=0,Xc=0,Kc=null,Jc=-1,eu=0;function tu(){return 6&Cc?Xe():-1!==Jc?Jc:Jc=Xe()}function nu(e){return 1&e.mode?2&Cc&&0!==kc?kc&-kc:null!==yo.transition?(0===eu&&(eu=vt()),eu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type):1}function ru(e,t,n,r){if(50<Xc)throw Xc=0,Kc=null,Error(o(185));gt(e,n,r),2&Cc&&e===Tc||(e===Tc&&(!(2&Cc)&&(Mc|=n),4===Ac&&cu(e,kc)),au(e,r),1===n&&0===Cc&&!(1&t.mode)&&(Uc=Xe()+500,Za&&Ba()))}function au(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-it(o),l=1<<i,c=a[i];-1===c?0!==(l&n)&&0===(l&r)||(a[i]=ft(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}(e,t);var r=pt(e,e===Tc?kc:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Za=!0,Fa(e)}(uu.bind(null,e)):Fa(uu.bind(null,e)),ia(function(){!(6&Cc)&&Ba()}),n=null;else{switch(_t(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tu(n,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ou(e,t){if(Jc=-1,eu=0,6&Cc)throw Error(o(327));var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=pt(e,e===Tc?kc:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var a=Cc;Cc|=2;var i=vu();for(Tc===e&&kc===t||(Hc=null,Uc=Xe()+500,fu(e,t));;)try{bu();break}catch(t){mu(e,t)}So(),Oc.current=i,Cc=a,null!==xc?t=0:(Tc=null,kc=0,t=Ac)}if(0!==t){if(2===t&&0!==(a=mt(e))&&(r=a,t=iu(e,a)),1===t)throw n=Rc,fu(e,0),cu(e,r),au(e,Xe()),n;if(6===t)cu(e,r);else{if(a=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!lr(o(),a))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)||(t=gu(e,r),2===t&&(i=mt(e),0!==i&&(r=i,t=iu(e,i))),1!==t)))throw n=Rc,fu(e,0),cu(e,r),au(e,Xe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Su(e,Fc,Hc);break;case 3:if(cu(e,r),(130023424&r)===r&&10<(t=Bc+500-Xe())){if(0!==pt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(Su.bind(null,e,Fc,Hc),t);break}Su(e,Fc,Hc);break;case 4:if(cu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var l=31-it(r);i=1<<l,(l=t[l])>a&&(a=l),r&=~i}if(r=a,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pc(r/1960))-r)){e.timeoutHandle=ra(Su.bind(null,e,Fc,Hc),r);break}Su(e,Fc,Hc);break;default:throw Error(o(329))}}}return au(e,Xe()),e.callbackNode===n?ou.bind(null,e):null}function iu(e,t){var n=Lc;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Fc,Fc=n,null!==t&&lu(t)),e}function lu(e){null===Fc?Fc=e:Fc.push.apply(Fc,e)}function cu(e,t){for(t&=~Zc,t&=~Mc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(6&Cc)throw Error(o(327));wu();var t=pt(e,0);if(!(1&t))return au(e,Xe()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=iu(e,r))}if(1===n)throw n=Rc,fu(e,0),cu(e,t),au(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Su(e,Fc,Hc),au(e,Xe()),null}function su(e,t){var n=Cc;Cc|=1;try{return e(t)}finally{0===(Cc=n)&&(Uc=Xe()+500,Za&&Ba())}}function du(e){null!==$c&&0===$c.tag&&!(6&Cc)&&wu();var t=Cc;Cc|=1;var n=zc.transition,r=bt;try{if(zc.transition=null,bt=1,e)return e()}finally{bt=r,zc.transition=n,!(6&(Cc=t))&&Ba()}}function pu(){Dc=jc.current,Pa(jc)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==xc)for(n=xc.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Da();break;case 3:oi(),Pa(Ca),Pa(za),di();break;case 5:li(r);break;case 4:oi();break;case 13:case 19:Pa(ci);break;case 10:wo(r.type._context);break;case 22:case 23:pu()}n=n.return}if(Tc=e,xc=e=ju(e.current,null),kc=Dc=t,Ac=0,Rc=null,Zc=Mc=qc=0,Fc=Lc=null,null!==Io){for(t=0;t<Io.length;t++)if(null!==(r=(n=Io[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var i=o.next;o.next=a,r.next=i}n.pending=r}Io=null}return e}function mu(e,t){for(;;){var n=xc;try{if(So(),pi.current=il,hi){for(var r=vi.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}hi=!1}if(mi=0,gi=yi=vi=null,bi=!1,_i=0,Ic.current=null,null===n||null===n.return){Ac=1,Rc=t,xc=null;break}e:{var i=e,l=n.return,c=n,u=t;if(t=kc,c.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var s=u,d=c,p=d.tag;if(!(1&d.mode||0!==p&&11!==p&&15!==p)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=gl(l);if(null!==m){m.flags&=-257,hl(m,l,c,0,t),1&m.mode&&yl(i,s,t),u=s;var v=(t=m).updateQueue;if(null===v){var y=new Set;y.add(u),t.updateQueue=y}else v.add(u);break e}if(!(1&t)){yl(i,s,t),yu();break e}u=Error(o(426))}else if(ao&&1&c.mode){var g=gl(l);if(null!==g){!(65536&g.flags)&&(g.flags|=256),hl(g,l,c,0,t),vo(sl(u,c));break e}}i=u=sl(u,c),4!==Ac&&(Ac=2),null===Lc?Lc=[i]:Lc.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,qo(i,ml(0,u,t));break e;case 1:c=u;var h=i.type,b=i.stateNode;if(!(128&i.flags||"function"!=typeof h.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==Wc&&Wc.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,qo(i,vl(i,c,t));break e}}i=i.return}while(null!==i)}Eu(n)}catch(e){t=e,xc===n&&null!==n&&(xc=n=n.return);continue}break}}function vu(){var e=Oc.current;return Oc.current=il,null===e?il:e}function yu(){0!==Ac&&3!==Ac&&2!==Ac||(Ac=4),null===Tc||!(268435455&qc)&&!(268435455&Mc)||cu(Tc,kc)}function gu(e,t){var n=Cc;Cc|=2;var r=vu();for(Tc===e&&kc===t||(Hc=null,fu(e,t));;)try{hu();break}catch(t){mu(e,t)}if(So(),Cc=n,Oc.current=r,null!==xc)throw Error(o(261));return Tc=null,kc=0,Ac}function hu(){for(;null!==xc;)_u(xc)}function bu(){for(;null!==xc&&!$e();)_u(xc)}function _u(e){var t=Nc(e.alternate,e,Dc);e.memoizedProps=e.pendingProps,null===t?Eu(e):xc=t,Ic.current=null}function Eu(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=$l(n,t)))return n.flags&=32767,void(xc=n);if(null===e)return Ac=6,void(xc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Gl(n,t,Dc)))return void(xc=n);if(null!==(t=t.sibling))return void(xc=t);xc=t=e}while(null!==t);0===Ac&&(Ac=5)}function Su(e,t,n){var r=bt,a=zc.transition;try{zc.transition=null,bt=1,function(e,t,n,r){do{wu()}while(null!==$c);if(6&Cc)throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,i),e===Tc&&(xc=Tc=null,kc=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Gc||(Gc=!0,Tu(tt,function(){return wu(),null})),i=!!(15990&n.flags),15990&n.subtreeFlags||i){i=zc.transition,zc.transition=null;var l=bt;bt=1;var c=Cc;Cc|=4,Ic.current=null,function(e,t){if(ea=Ht,fr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(e){n=null;break e}var l=0,c=-1,u=-1,s=0,d=0,p=e,f=null;t:for(;;){for(var m;p!==n||0!==a&&3!==p.nodeType||(c=l+a),p!==i||0!==r&&3!==p.nodeType||(u=l+r),3===p.nodeType&&(l+=p.nodeValue.length),null!==(m=p.firstChild);)f=p,p=m;for(;;){if(p===e)break t;if(f===n&&++s===a&&(c=l),f===i&&++d===r&&(u=l),null!==(m=p.nextSibling))break;f=(p=f).parentNode}p=m}n=-1===c||-1===u?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Ht=!1,Jl=t;null!==Jl;)if(e=(t=Jl).child,1028&t.subtreeFlags&&null!==e)e.return=t,Jl=e;else for(;null!==Jl;){t=Jl;try{var v=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,g=v.memoizedState,h=t.stateNode,b=h.getSnapshotBeforeUpdate(t.elementType===t.type?y:go(t.type,y),g);h.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(e){Pu(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Jl=e;break}Jl=t.return}v=nc,nc=!1}(e,n),gc(n,e),mr(ta),Ht=!!ea,ta=ea=null,e.current=n,bc(n,e,a),Qe(),Cc=c,bt=l,zc.transition=i}else e.current=n;if(Gc&&(Gc=!1,$c=e,Qc=a),0===(i=e.pendingLanes)&&(Wc=null),function(e){if(ot&&"function"==typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),au(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((a=t[n]).value,{componentStack:a.stack,digest:a.digest});if(Vc)throw Vc=!1,e=Yc,Yc=null,e;!!(1&Qc)&&0!==e.tag&&wu(),1&(i=e.pendingLanes)?e===Kc?Xc++:(Xc=0,Kc=e):Xc=0,Ba()}(e,t,n,r)}finally{zc.transition=a,bt=r}return null}function wu(){if(null!==$c){var e=_t(Qc),t=zc.transition,n=bt;try{if(zc.transition=null,bt=16>e?16:e,null===$c)var r=!1;else{if(e=$c,$c=null,Qc=0,6&Cc)throw Error(o(331));var a=Cc;for(Cc|=4,Jl=e.current;null!==Jl;){var i=Jl,l=i.child;if(16&Jl.flags){var c=i.deletions;if(null!==c){for(var u=0;u<c.length;u++){var s=c[u];for(Jl=s;null!==Jl;){var d=Jl;switch(d.tag){case 0:case 11:case 15:rc(8,d,i)}var p=d.child;if(null!==p)p.return=d,Jl=p;else for(;null!==Jl;){var f=(d=Jl).sibling,m=d.return;if(ic(d),d===s){Jl=null;break}if(null!==f){f.return=m,Jl=f;break}Jl=m}}}var v=i.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var g=y.sibling;y.sibling=null,y=g}while(null!==y)}}Jl=i}}if(2064&i.subtreeFlags&&null!==l)l.return=i,Jl=l;else e:for(;null!==Jl;){if(2048&(i=Jl).flags)switch(i.tag){case 0:case 11:case 15:rc(9,i,i.return)}var h=i.sibling;if(null!==h){h.return=i.return,Jl=h;break e}Jl=i.return}}var b=e.current;for(Jl=b;null!==Jl;){var _=(l=Jl).child;if(2064&l.subtreeFlags&&null!==_)_.return=l,Jl=_;else e:for(l=b;null!==Jl;){if(2048&(c=Jl).flags)try{switch(c.tag){case 0:case 11:case 15:ac(9,c)}}catch(e){Pu(c,c.return,e)}if(c===l){Jl=null;break e}var E=c.sibling;if(null!==E){E.return=c.return,Jl=E;break e}Jl=c.return}}if(Cc=a,Ba(),ot&&"function"==typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(e){}r=!0}return r}finally{bt=n,zc.transition=t}}return!1}function Nu(e,t,n){e=Ao(e,t=ml(0,t=sl(n,t),1),1),t=tu(),null!==e&&(gt(e,1,t),au(e,t))}function Pu(e,t,n){if(3===e.tag)Nu(e,e,n);else for(;null!==t;){if(3===t.tag){Nu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Wc||!Wc.has(r))){t=Ao(t,e=vl(t,e=sl(n,e),1),1),e=tu(),null!==t&&(gt(t,1,e),au(t,e));break}}t=t.return}}function Ou(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Tc===e&&(kc&n)===n&&(4===Ac||3===Ac&&(130023424&kc)===kc&&500>Xe()-Bc?fu(e,0):Zc|=n),au(e,t)}function Iu(e,t){0===t&&(1&e.mode?(t=st,!(130023424&(st<<=1))&&(st=4194304)):t=1);var n=tu();null!==(e=To(e,t))&&(gt(e,t,n),au(e,n))}function zu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Iu(e,n)}function Cu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Iu(e,n)}function Tu(e,t){return We(e,t)}function xu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ku(e,t,n,r){return new xu(e,t,n,r)}function Du(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ju(e,t){var n=e.alternate;return null===n?((n=ku(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Au(e,t,n,r,a,i){var l=2;if(r=e,"function"==typeof e)Du(e)&&(l=1);else if("string"==typeof e)l=5;else e:switch(e){case w:return Ru(n.children,a,i,t);case N:l=8,a|=8;break;case P:return(e=ku(12,n,t,2|a)).elementType=P,e.lanes=i,e;case C:return(e=ku(13,n,t,a)).elementType=C,e.lanes=i,e;case T:return(e=ku(19,n,t,a)).elementType=T,e.lanes=i,e;case D:return qu(n,a,i,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case O:l=10;break e;case I:l=9;break e;case z:l=11;break e;case x:l=14;break e;case k:l=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=ku(l,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Ru(e,t,n,r){return(e=ku(7,e,r,t)).lanes=n,e}function qu(e,t,n,r){return(e=ku(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Mu(e,t,n){return(e=ku(6,e,null,t)).lanes=n,e}function Zu(e,t,n){return(t=ku(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lu(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Fu(e,t,n,r,a,o,i,l,c){return e=new Lu(e,t,n,l,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=ku(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ko(o),e}function Bu(e){if(!e)return Ia;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ka(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(ka(n))return Aa(e,n,t)}return t}function Uu(e,t,n,r,a,o,i,l,c){return(e=Fu(n,r,!0,e,0,o,0,l,c)).context=Bu(null),n=e.current,(o=jo(r=tu(),a=nu(n))).callback=null!=t?t:null,Ao(n,o,a),e.current.lanes=a,gt(e,a,r),au(e,r),e}function Hu(e,t,n,r){var a=t.current,o=tu(),i=nu(a);return n=Bu(n),null===t.context?t.context=n:t.pendingContext=n,(t=jo(o,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ao(a,t,i))&&(ru(e,a,i,o),Ro(e,a,i)),i}function Vu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wu(e,t){Yu(e,t),(e=e.alternate)&&Yu(e,t)}Nc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ca.current)_l=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return _l=!1,function(e,t,n){switch(t.tag){case 3:Tl(t),mo();break;case 5:ii(t);break;case 1:ka(t.type)&&Ra(t);break;case 4:ai(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Oa(ho,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Oa(ci,1&ci.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ml(e,t,n):(Oa(ci,1&ci.current),null!==(e=Vl(e,t,n))?e.sibling:null);Oa(ci,1&ci.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return Ul(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Oa(ci,ci.current),r)break;return null;case 22:case 23:return t.lanes=0,Pl(e,t,n)}return Vl(e,t,n)}(e,t,n);_l=!!(131072&e.flags)}else _l=!1,ao&&1048576&t.flags&&Ja(t,Ya,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hl(e,t),e=t.pendingProps;var a=xa(t,za.current);Po(t,n),a=Ni(null,t,r,e,a,n);var i=Pi();return t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ka(r)?(i=!0,Ra(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,ko(t),a.updater=Bo,t.stateNode=a,a._reactInternals=t,Yo(t,r,e,n),t=Cl(null,t,r,!0,i,n)):(t.tag=0,ao&&i&&eo(t),El(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hl(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"==typeof e)return Du(e)?1:0;if(null!=e){if((e=e.$$typeof)===z)return 11;if(e===x)return 14}return 2}(r),e=go(r,e),a){case 0:t=Il(null,t,r,e,n);break e;case 1:t=zl(null,t,r,e,n);break e;case 11:t=Sl(null,t,r,e,n);break e;case 14:t=wl(null,t,r,go(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Il(e,t,r,a=t.elementType===r?a:go(r,a),n);case 1:return r=t.type,a=t.pendingProps,zl(e,t,r,a=t.elementType===r?a:go(r,a),n);case 3:e:{if(Tl(t),null===e)throw Error(o(387));r=t.pendingProps,a=(i=t.memoizedState).element,Do(e,t),Mo(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=xl(e,t,r,n,a=sl(Error(o(423)),t));break e}if(r!==a){t=xl(e,t,r,n,a=sl(Error(o(424)),t));break e}for(ro=ua(t.stateNode.containerInfo.firstChild),no=t,ao=!0,oo=null,n=Ko(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mo(),r===a){t=Vl(e,t,n);break e}El(e,t,r,n)}t=t.child}return t;case 5:return ii(t),null===e&&uo(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,l=a.children,na(r,a)?l=null:null!==i&&na(r,i)&&(t.flags|=32),Ol(e,t),El(e,t,l,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Ml(e,t,n);case 4:return ai(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):El(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Sl(e,t,r,a=t.elementType===r?a:go(r,a),n);case 7:return El(e,t,t.pendingProps,n),t.child;case 8:case 12:return El(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,Oa(ho,r._currentValue),r._currentValue=l,null!==i)if(lr(i.value,l)){if(i.children===a.children&&!Ca.current){t=Vl(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var c=i.dependencies;if(null!==c){l=i.child;for(var u=c.firstContext;null!==u;){if(u.context===r){if(1===i.tag){(u=jo(-1,n&-n)).tag=2;var s=i.updateQueue;if(null!==s){var d=(s=s.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),s.pending=u}}i.lanes|=n,null!==(u=i.alternate)&&(u.lanes|=n),No(i.return,n,t),c.lanes|=n;break}u=u.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(o(341));l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),No(l,n,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}El(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Po(t,n),r=r(a=Oo(a)),t.flags|=1,El(e,t,r,n),t.child;case 14:return a=go(r=t.type,t.pendingProps),wl(e,t,r,a=go(r.type,a),n);case 15:return Nl(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:go(r,a),Hl(e,t),t.tag=1,ka(r)?(e=!0,Ra(t)):e=!1,Po(t,n),Ho(t,r,a),Yo(t,r,a,n),Cl(null,t,r,!0,e,n);case 19:return Ul(e,t,n);case 22:return Pl(e,t,n)}throw Error(o(156,t.tag))};var Gu="function"==typeof reportError?reportError:function(e){console.error(e)};function $u(e){this._internalRoot=e}function Qu(e){this._internalRoot=e}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ku(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function es(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o;if("function"==typeof a){var l=a;a=function(){var e=Vu(i);l.call(e)}}Hu(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"==typeof r){var o=r;r=function(){var e=Vu(i);o.call(e)}}var i=Uu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=i,e[ma]=i.current,Br(8===e.nodeType?e.parentNode:e),du(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"==typeof r){var l=r;r=function(){var e=Vu(c);l.call(e)}}var c=Fu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=c,e[ma]=c.current,Br(8===e.nodeType?e.parentNode:e),du(function(){Hu(t,c,n,r)}),c}(n,t,e,a,r);return Vu(i)}Qu.prototype.render=$u.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hu(e,t,null,null)},Qu.prototype.unmount=$u.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;du(function(){Hu(null,e,null,null)}),t[ma]=null}},Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&qt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(ht(t,1|n),au(t,Xe()),!(6&Cc)&&(Uc=Xe()+500,Ba()))}break;case 13:du(function(){var t=To(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}}),Wu(e,1)}},St=function(e){if(13===e.tag){var t=To(e,134217728);null!==t&&ru(t,e,134217728,tu()),Wu(e,134217728)}},wt=function(e){if(13===e.tag){var t=nu(e),n=To(e,t);null!==n&&ru(n,e,t,tu()),Wu(e,t)}},Nt=function(){return bt},Pt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(K(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Ea(r);if(!a)throw Error(o(90));W(r),K(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},ze=su,Ce=du;var ts={usingClientEntryPoint:!1,Events:[ba,_a,Ea,Oe,Ie,su]},ns={findFiberByHostInstance:ha,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rs={bundleType:ns.bundleType,version:ns.version,rendererPackageName:ns.rendererPackageName,rendererConfig:ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:ns.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var as=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!as.isDisabled&&as.supportsFiber)try{at=as.inject(rs),ot=as}catch(se){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ts,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xu(e))throw Error(o(299));var n=!1,r="",a=Gu;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Fu(e,1,!1,null,0,n,0,r,a),e[ma]=t.current,Br(8===e.nodeType?e.parentNode:e),new $u(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return du(e)},t.hydrate=function(e,t,n){if(!Ku(t))throw Error(o(200));return es(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",l=Gu;if(null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Uu(t,null,e,1,null!=n?n:null,a,0,i,l),e[ma]=t.current,Br(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Qu(t)},t.render=function(e,t,n){if(!Ku(t))throw Error(o(200));return es(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ku(e))throw Error(o(40));return!!e._reactRootContainer&&(du(function(){es(null,null,e,!1,function(){e._reactRootContainer=null,e[ma]=null})}),!0)},t.unstable_batchedUpdates=su,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ku(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return es(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},2694:function(e,t,n){"use strict";var r=n(6925);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},2838:function(e){e.exports=function(){"use strict";const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:r,getOwnPropertyDescriptor:a}=Object;let{freeze:o,seal:i,create:l}=Object,{apply:c,construct:u}="undefined"!=typeof Reflect&&Reflect;o||(o=function(e){return e}),i||(i=function(e){return e}),c||(c=function(e,t,n){return e.apply(t,n)}),u||(u=function(e,t){return new e(...t)});const s=w(Array.prototype.forEach),d=w(Array.prototype.pop),p=w(Array.prototype.push),f=w(String.prototype.toLowerCase),m=w(String.prototype.toString),v=w(String.prototype.match),y=w(String.prototype.replace),g=w(String.prototype.indexOf),h=w(String.prototype.trim),b=w(Object.prototype.hasOwnProperty),_=w(RegExp.prototype.test),E=(S=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u(S,t)});var S;function w(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return c(e,t,r)}}function N(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;t&&t(e,null);let o=r.length;for(;o--;){let t=r[o];if("string"==typeof t){const e=a(t);e!==t&&(n(r)||(r[o]=e),t=e)}e[t]=!0}return e}function P(e){for(let t=0;t<e.length;t++)b(e,t)||(e[t]=null);return e}function O(t){const n=l(null);for(const[r,a]of e(t))b(t,r)&&(Array.isArray(a)?n[r]=P(a):a&&"object"==typeof a&&a.constructor===Object?n[r]=O(a):n[r]=a);return n}function I(e,t){for(;null!==e;){const n=a(e,t);if(n){if(n.get)return w(n.get);if("function"==typeof n.value)return w(n.value)}e=r(e)}return function(){return null}}const z=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),C=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),T=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),x=o(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),k=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),D=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),j=o(["#text"]),A=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),R=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),q=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),M=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Z=i(/\{\{[\w\W]*|[\w\W]*\}\}/gm),L=i(/<%[\w\W]*|[\w\W]*%>/gm),F=i(/\${[\w\W]*}/gm),B=i(/^data-[\-\w.\u00B7-\uFFFF]/),U=i(/^aria-[\-\w]+$/),H=i(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),V=i(/^(?:\w+script|data):/i),Y=i(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),W=i(/^html$/i),G=i(/^[a-z][.\w]*(-[.\w]+)+$/i);var $=Object.freeze({__proto__:null,MUSTACHE_EXPR:Z,ERB_EXPR:L,TMPLIT_EXPR:F,DATA_ATTR:B,ARIA_ATTR:U,IS_ALLOWED_URI:H,IS_SCRIPT_OR_DATA:V,ATTR_WHITESPACE:Y,DOCTYPE_NAME:W,CUSTOM_ELEMENT:G});const Q=1,X=3,K=7,J=8,ee=9,te=function(){return"undefined"==typeof window?null:window};return function t(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te();const r=e=>t(e);if(r.version="3.1.6",r.removed=[],!n||!n.document||n.document.nodeType!==ee)return r.isSupported=!1,r;let{document:a}=n;const i=a,c=i.currentScript,{DocumentFragment:u,HTMLTemplateElement:S,Node:w,Element:P,NodeFilter:Z,NamedNodeMap:L=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:F,DOMParser:B,trustedTypes:U}=n,V=P.prototype,Y=I(V,"cloneNode"),G=I(V,"remove"),ne=I(V,"nextSibling"),re=I(V,"childNodes"),ae=I(V,"parentNode");if("function"==typeof S){const e=a.createElement("template");e.content&&e.content.ownerDocument&&(a=e.content.ownerDocument)}let oe,ie="";const{implementation:le,createNodeIterator:ce,createDocumentFragment:ue,getElementsByTagName:se}=a,{importNode:de}=i;let pe={};r.isSupported="function"==typeof e&&"function"==typeof ae&&le&&void 0!==le.createHTMLDocument;const{MUSTACHE_EXPR:fe,ERB_EXPR:me,TMPLIT_EXPR:ve,DATA_ATTR:ye,ARIA_ATTR:ge,IS_SCRIPT_OR_DATA:he,ATTR_WHITESPACE:be,CUSTOM_ELEMENT:_e}=$;let{IS_ALLOWED_URI:Ee}=$,Se=null;const we=N({},[...z,...C,...T,...k,...j]);let Ne=null;const Pe=N({},[...A,...R,...q,...M]);let Oe=Object.seal(l(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ie=null,ze=null,Ce=!0,Te=!0,xe=!1,ke=!0,De=!1,je=!0,Ae=!1,Re=!1,qe=!1,Me=!1,Ze=!1,Le=!1,Fe=!0,Be=!1,Ue=!0,He=!1,Ve={},Ye=null;const We=N({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ge=null;const $e=N({},["audio","video","img","source","image","track"]);let Qe=null;const Xe=N({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ke="http://www.w3.org/1998/Math/MathML",Je="http://www.w3.org/2000/svg",et="http://www.w3.org/1999/xhtml";let tt=et,nt=!1,rt=null;const at=N({},[Ke,Je,et],m);let ot=null;const it=["application/xhtml+xml","text/html"];let lt=null,ct=null;const ut=a.createElement("form"),st=function(e){return e instanceof RegExp||e instanceof Function},dt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ct||ct!==e){if(e&&"object"==typeof e||(e={}),e=O(e),ot=-1===it.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,lt="application/xhtml+xml"===ot?m:f,Se=b(e,"ALLOWED_TAGS")?N({},e.ALLOWED_TAGS,lt):we,Ne=b(e,"ALLOWED_ATTR")?N({},e.ALLOWED_ATTR,lt):Pe,rt=b(e,"ALLOWED_NAMESPACES")?N({},e.ALLOWED_NAMESPACES,m):at,Qe=b(e,"ADD_URI_SAFE_ATTR")?N(O(Xe),e.ADD_URI_SAFE_ATTR,lt):Xe,Ge=b(e,"ADD_DATA_URI_TAGS")?N(O($e),e.ADD_DATA_URI_TAGS,lt):$e,Ye=b(e,"FORBID_CONTENTS")?N({},e.FORBID_CONTENTS,lt):We,Ie=b(e,"FORBID_TAGS")?N({},e.FORBID_TAGS,lt):{},ze=b(e,"FORBID_ATTR")?N({},e.FORBID_ATTR,lt):{},Ve=!!b(e,"USE_PROFILES")&&e.USE_PROFILES,Ce=!1!==e.ALLOW_ARIA_ATTR,Te=!1!==e.ALLOW_DATA_ATTR,xe=e.ALLOW_UNKNOWN_PROTOCOLS||!1,ke=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,De=e.SAFE_FOR_TEMPLATES||!1,je=!1!==e.SAFE_FOR_XML,Ae=e.WHOLE_DOCUMENT||!1,Me=e.RETURN_DOM||!1,Ze=e.RETURN_DOM_FRAGMENT||!1,Le=e.RETURN_TRUSTED_TYPE||!1,qe=e.FORCE_BODY||!1,Fe=!1!==e.SANITIZE_DOM,Be=e.SANITIZE_NAMED_PROPS||!1,Ue=!1!==e.KEEP_CONTENT,He=e.IN_PLACE||!1,Ee=e.ALLOWED_URI_REGEXP||H,tt=e.NAMESPACE||et,Oe=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&st(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Oe.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&st(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Oe.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Oe.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),De&&(Te=!1),Ze&&(Me=!0),Ve&&(Se=N({},j),Ne=[],!0===Ve.html&&(N(Se,z),N(Ne,A)),!0===Ve.svg&&(N(Se,C),N(Ne,R),N(Ne,M)),!0===Ve.svgFilters&&(N(Se,T),N(Ne,R),N(Ne,M)),!0===Ve.mathMl&&(N(Se,k),N(Ne,q),N(Ne,M))),e.ADD_TAGS&&(Se===we&&(Se=O(Se)),N(Se,e.ADD_TAGS,lt)),e.ADD_ATTR&&(Ne===Pe&&(Ne=O(Ne)),N(Ne,e.ADD_ATTR,lt)),e.ADD_URI_SAFE_ATTR&&N(Qe,e.ADD_URI_SAFE_ATTR,lt),e.FORBID_CONTENTS&&(Ye===We&&(Ye=O(Ye)),N(Ye,e.FORBID_CONTENTS,lt)),Ue&&(Se["#text"]=!0),Ae&&N(Se,["html","head","body"]),Se.table&&(N(Se,["tbody"]),delete Ie.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw E('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw E('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');oe=e.TRUSTED_TYPES_POLICY,ie=oe.createHTML("")}else void 0===oe&&(oe=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML(e){return e},createScriptURL(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+a+" could not be created."),null}}(U,c)),null!==oe&&"string"==typeof ie&&(ie=oe.createHTML(""));o&&o(e),ct=e}},pt=N({},["mi","mo","mn","ms","mtext"]),ft=N({},["foreignobject","annotation-xml"]),mt=N({},["title","style","font","a","script"]),vt=N({},[...C,...T,...x]),yt=N({},[...k,...D]),gt=function(e){p(r.removed,{element:e});try{ae(e).removeChild(e)}catch(t){G(e)}},ht=function(e,t){try{p(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){p(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Ne[e])if(Me||Ze)try{gt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},bt=function(e){let t=null,n=null;if(qe)e="<remove></remove>"+e;else{const t=v(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===ot&&tt===et&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const r=oe?oe.createHTML(e):e;if(tt===et)try{t=(new B).parseFromString(r,ot)}catch(e){}if(!t||!t.documentElement){t=le.createDocument(tt,"template",null);try{t.documentElement.innerHTML=nt?ie:r}catch(e){}}const o=t.body||t.documentElement;return e&&n&&o.insertBefore(a.createTextNode(n),o.childNodes[0]||null),tt===et?se.call(t,Ae?"html":"body")[0]:Ae?t.documentElement:o},_t=function(e){return ce.call(e.ownerDocument||e,e,Z.SHOW_ELEMENT|Z.SHOW_COMMENT|Z.SHOW_TEXT|Z.SHOW_PROCESSING_INSTRUCTION|Z.SHOW_CDATA_SECTION,null)},Et=function(e){return e instanceof F&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof L)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},St=function(e){return"function"==typeof w&&e instanceof w},wt=function(e,t,n){pe[e]&&s(pe[e],e=>{e.call(r,t,n,ct)})},Nt=function(e){let t=null;if(wt("beforeSanitizeElements",e,null),Et(e))return gt(e),!0;const n=lt(e.nodeName);if(wt("uponSanitizeElement",e,{tagName:n,allowedTags:Se}),e.hasChildNodes()&&!St(e.firstElementChild)&&_(/<[/\w]/g,e.innerHTML)&&_(/<[/\w]/g,e.textContent))return gt(e),!0;if(e.nodeType===K)return gt(e),!0;if(je&&e.nodeType===J&&_(/<[/\w]/g,e.data))return gt(e),!0;if(!Se[n]||Ie[n]){if(!Ie[n]&&Ot(n)){if(Oe.tagNameCheck instanceof RegExp&&_(Oe.tagNameCheck,n))return!1;if(Oe.tagNameCheck instanceof Function&&Oe.tagNameCheck(n))return!1}if(Ue&&!Ye[n]){const t=ae(e)||e.parentNode,n=re(e)||e.childNodes;if(n&&t)for(let r=n.length-1;r>=0;--r){const a=Y(n[r],!0);a.__removalCount=(e.__removalCount||0)+1,t.insertBefore(a,ne(e))}}return gt(e),!0}return e instanceof P&&!function(e){let t=ae(e);t&&t.tagName||(t={namespaceURI:tt,tagName:"template"});const n=f(e.tagName),r=f(t.tagName);return!!rt[e.namespaceURI]&&(e.namespaceURI===Je?t.namespaceURI===et?"svg"===n:t.namespaceURI===Ke?"svg"===n&&("annotation-xml"===r||pt[r]):Boolean(vt[n]):e.namespaceURI===Ke?t.namespaceURI===et?"math"===n:t.namespaceURI===Je?"math"===n&&ft[r]:Boolean(yt[n]):e.namespaceURI===et?!(t.namespaceURI===Je&&!ft[r])&&!(t.namespaceURI===Ke&&!pt[r])&&!yt[n]&&(mt[n]||!vt[n]):!("application/xhtml+xml"!==ot||!rt[e.namespaceURI]))}(e)?(gt(e),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!_(/<\/no(script|embed|frames)/i,e.innerHTML)?(De&&e.nodeType===X&&(t=e.textContent,s([fe,me,ve],e=>{t=y(t,e," ")}),e.textContent!==t&&(p(r.removed,{element:e.cloneNode()}),e.textContent=t)),wt("afterSanitizeElements",e,null),!1):(gt(e),!0)},Pt=function(e,t,n){if(Fe&&("id"===t||"name"===t)&&(n in a||n in ut))return!1;if(Te&&!ze[t]&&_(ye,t));else if(Ce&&_(ge,t));else if(!Ne[t]||ze[t]){if(!(Ot(e)&&(Oe.tagNameCheck instanceof RegExp&&_(Oe.tagNameCheck,e)||Oe.tagNameCheck instanceof Function&&Oe.tagNameCheck(e))&&(Oe.attributeNameCheck instanceof RegExp&&_(Oe.attributeNameCheck,t)||Oe.attributeNameCheck instanceof Function&&Oe.attributeNameCheck(t))||"is"===t&&Oe.allowCustomizedBuiltInElements&&(Oe.tagNameCheck instanceof RegExp&&_(Oe.tagNameCheck,n)||Oe.tagNameCheck instanceof Function&&Oe.tagNameCheck(n))))return!1}else if(Qe[t]);else if(_(Ee,y(n,be,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==g(n,"data:")||!Ge[e])if(xe&&!_(he,y(n,be,"")));else if(n)return!1;return!0},Ot=function(e){return"annotation-xml"!==e&&v(e,_e)},It=function(e){wt("beforeSanitizeAttributes",e,null);const{attributes:t}=e;if(!t)return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ne};let a=t.length;for(;a--;){const o=t[a],{name:i,namespaceURI:l,value:c}=o,u=lt(i);let p="value"===i?c:h(c);if(n.attrName=u,n.attrValue=p,n.keepAttr=!0,n.forceKeepAttr=void 0,wt("uponSanitizeAttribute",e,n),p=n.attrValue,je&&_(/((--!?|])>)|<\/(style|title)/i,p)){ht(i,e);continue}if(n.forceKeepAttr)continue;if(ht(i,e),!n.keepAttr)continue;if(!ke&&_(/\/>/i,p)){ht(i,e);continue}De&&s([fe,me,ve],e=>{p=y(p,e," ")});const f=lt(e.nodeName);if(Pt(f,u,p)){if(!Be||"id"!==u&&"name"!==u||(ht(i,e),p="user-content-"+p),oe&&"object"==typeof U&&"function"==typeof U.getAttributeType)if(l);else switch(U.getAttributeType(f,u)){case"TrustedHTML":p=oe.createHTML(p);break;case"TrustedScriptURL":p=oe.createScriptURL(p)}try{l?e.setAttributeNS(l,i,p):e.setAttribute(i,p),Et(e)?gt(e):d(r.removed)}catch(e){}}}wt("afterSanitizeAttributes",e,null)},zt=function e(t){let n=null;const r=_t(t);for(wt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)wt("uponSanitizeShadowNode",n,null),Nt(n)||(n.content instanceof u&&e(n.content),It(n));wt("afterSanitizeShadowDOM",t,null)};return r.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,a=null,o=null,l=null;if(nt=!e,nt&&(e="\x3c!--\x3e"),"string"!=typeof e&&!St(e)){if("function"!=typeof e.toString)throw E("toString is not a function");if("string"!=typeof(e=e.toString()))throw E("dirty is not a string, aborting")}if(!r.isSupported)return e;if(Re||dt(t),r.removed=[],"string"==typeof e&&(He=!1),He){if(e.nodeName){const t=lt(e.nodeName);if(!Se[t]||Ie[t])throw E("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof w)n=bt("\x3c!----\x3e"),a=n.ownerDocument.importNode(e,!0),a.nodeType===Q&&"BODY"===a.nodeName||"HTML"===a.nodeName?n=a:n.appendChild(a);else{if(!Me&&!De&&!Ae&&-1===e.indexOf("<"))return oe&&Le?oe.createHTML(e):e;if(n=bt(e),!n)return Me?null:Le?ie:""}n&&qe&&gt(n.firstChild);const c=_t(He?e:n);for(;o=c.nextNode();)Nt(o)||(o.content instanceof u&&zt(o.content),It(o));if(He)return e;if(Me){if(Ze)for(l=ue.call(n.ownerDocument);n.firstChild;)l.appendChild(n.firstChild);else l=n;return(Ne.shadowroot||Ne.shadowrootmode)&&(l=de.call(i,l,!0)),l}let d=Ae?n.outerHTML:n.innerHTML;return Ae&&Se["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&_(W,n.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+d),De&&s([fe,me,ve],e=>{d=y(d,e," ")}),oe&&Le?oe.createHTML(d):d},r.setConfig=function(){dt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Re=!0},r.clearConfig=function(){ct=null,Re=!1},r.isValidAttribute=function(e,t,n){ct||dt({});const r=lt(e),a=lt(t);return Pt(r,a,n)},r.addHook=function(e,t){"function"==typeof t&&(pe[e]=pe[e]||[],p(pe[e],t))},r.removeHook=function(e){if(pe[e])return d(pe[e])},r.removeHooks=function(e){pe[e]&&(pe[e]=[])},r.removeAllHooks=function(){pe={}},r}()}()},2881:function(e,t,n){"use strict";var r=n(9516),a=n(7412);e.exports=function(e,t,n){var o=this||a;return r.forEach(n,function(n){e=n.call(o,e,t)}),e}},2911:function(e,t,n){"use strict";var r=n(6540);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=null,i=0;function l(e,t){if(0!==t.length)if(512<t.length)0<i&&(e.enqueue(new Uint8Array(o.buffer,0,i)),o=new Uint8Array(512),i=0),e.enqueue(t);else{var n=o.length-i;n<t.length&&(0===n?e.enqueue(o):(o.set(t.subarray(0,n),i),e.enqueue(o),t=t.subarray(n)),o=new Uint8Array(512),i=0),o.set(t,i),i+=t.length}}function c(e,t){return l(e,t),!0}function u(e){o&&0<i&&(e.enqueue(new Uint8Array(o.buffer,0,i)),o=null,i=0)}var s=new TextEncoder;function d(e){return s.encode(e)}function p(e){return s.encode(e)}function f(e,t){"function"==typeof e.error?e.error(t):e.close()}var m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function h(e){return!!m.call(g,e)||!m.call(y,e)&&(v.test(e)?g[e]=!0:(y[e]=!0,!1))}function b(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_[e]=new b(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_[t]=new b(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){_[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_[e]=new b(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){_[e]=new b(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){_[e]=new b(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){_[e]=new b(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){_[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function S(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(E,S);_[t]=new b(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(E,S);_[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(E,S);_[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){_[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)}),_.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){_[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)});var w={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},N=["Webkit","ms","Moz","O"];Object.keys(w).forEach(function(e){N.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),w[t]=w[e]})});var P=/["'&<>]/;function O(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=P.exec(e);if(t){var n,r="",a=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==n&&(r+=e.substring(a,n)),a=n+1,r+=t}e=a!==n?r+e.substring(a,n):r}return e}var I=/([A-Z])/g,z=/^ms-/,C=Array.isArray,T=p("<script>"),x=p("<\/script>"),k=p('<script src="'),D=p('<script type="module" src="'),j=p('" async=""><\/script>'),A=/(<\/|<)(s)(cript)/gi;function R(e,t,n,r){return t+("s"===n?"\\u0073":"\\u0053")+r}function q(e,t){return{insertionMode:e,selectedValue:t}}var M=p("\x3c!-- --\x3e");function Z(e,t,n,r){return""===t?r:(r&&e.push(M),e.push(d(O(t))),!0)}var L=new Map,F=p(' style="'),B=p(":"),U=p(";");function H(e,t,n){if("object"!=typeof n)throw Error(a(62));for(var r in t=!0,n)if(m.call(n,r)){var o=n[r];if(null!=o&&"boolean"!=typeof o&&""!==o){if(0===r.indexOf("--")){var i=d(O(r));o=d(O((""+o).trim()))}else{i=r;var l=L.get(i);void 0!==l||(l=p(O(i.replace(I,"-$1").toLowerCase().replace(z,"-ms-"))),L.set(i,l)),i=l,o="number"==typeof o?0===o||m.call(w,r)?d(""+o):d(o+"px"):d(O((""+o).trim()))}t?(t=!1,e.push(F,i,B,o)):e.push(U,i,B,o)}}t||e.push(W)}var V=p(" "),Y=p('="'),W=p('"'),G=p('=""');function $(e,t,n,r){switch(n){case"style":return void H(e,t,r);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=_.hasOwnProperty(n)?_[n]:null)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=d(t.attributeName),t.type){case 3:r&&e.push(V,n,G);break;case 4:!0===r?e.push(V,n,G):!1!==r&&e.push(V,n,Y,d(O(r)),W);break;case 5:isNaN(r)||e.push(V,n,Y,d(O(r)),W);break;case 6:!isNaN(r)&&1<=r&&e.push(V,n,Y,d(O(r)),W);break;default:t.sanitizeURL&&(r=""+r),e.push(V,n,Y,d(O(r)),W)}}else if(h(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(V,d(n),Y,d(O(r)),W)}}var Q=p(">"),X=p("/>");function K(e,t,n){if(null!=t){if(null!=n)throw Error(a(60));if("object"!=typeof t||!("__html"in t))throw Error(a(61));null!=(t=t.__html)&&e.push(d(""+t))}}var J=p(' selected=""');function ee(e,t,n,r){e.push(ae(n));var a,o=n=null;for(a in t)if(m.call(t,a)){var i=t[a];if(null!=i)switch(a){case"children":n=i;break;case"dangerouslySetInnerHTML":o=i;break;default:$(e,r,a,i)}}return e.push(Q),K(e,o,n),"string"==typeof n?(e.push(d(O(n))),null):n}var te=p("\n"),ne=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,re=new Map;function ae(e){var t=re.get(e);if(void 0===t){if(!ne.test(e))throw Error(a(65,e));t=p("<"+e),re.set(e,t)}return t}var oe=p("<!DOCTYPE html>");var ie=p("</"),le=p(">"),ce=p('<template id="'),ue=p('"></template>'),se=p("\x3c!--$--\x3e"),de=p('\x3c!--$?--\x3e<template id="'),pe=p('"></template>'),fe=p("\x3c!--$!--\x3e"),me=p("\x3c!--/$--\x3e"),ve=p("<template"),ye=p('"'),ge=p(' data-dgst="');p(' data-msg="'),p(' data-stck="');var he=p("></template>");function be(e,t,n){if(l(e,de),null===n)throw Error(a(395));return l(e,n),c(e,pe)}var _e=p('<div hidden id="'),Ee=p('">'),Se=p("</div>"),we=p('<svg aria-hidden="true" style="display:none" id="'),Ne=p('">'),Pe=p("</svg>"),Oe=p('<math aria-hidden="true" style="display:none" id="'),Ie=p('">'),ze=p("</math>"),Ce=p('<table hidden id="'),Te=p('">'),xe=p("</table>"),ke=p('<table hidden><tbody id="'),De=p('">'),je=p("</tbody></table>"),Ae=p('<table hidden><tr id="'),Re=p('">'),qe=p("</tr></table>"),Me=p('<table hidden><colgroup id="'),Ze=p('">'),Le=p("</colgroup></table>"),Fe=p('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Be=p('$RS("'),Ue=p('","'),He=p('")<\/script>'),Ve=p('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Ye=p('$RC("'),We=p('","'),Ge=p('")<\/script>'),$e=p('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Qe=p('$RX("'),Xe=p('"'),Ke=p(")<\/script>"),Je=p(","),et=/[<\u2028\u2029]/g;function tt(e){return JSON.stringify(e).replace(et,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var nt=Object.assign,rt=Symbol.for("react.element"),at=Symbol.for("react.portal"),ot=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),ct=Symbol.for("react.provider"),ut=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),ft=Symbol.for("react.memo"),mt=Symbol.for("react.lazy"),vt=Symbol.for("react.scope"),yt=Symbol.for("react.debug_trace_mode"),gt=Symbol.for("react.legacy_hidden"),ht=Symbol.for("react.default_value"),bt=Symbol.iterator;function _t(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ot:return"Fragment";case at:return"Portal";case lt:return"Profiler";case it:return"StrictMode";case dt:return"Suspense";case pt:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ut:return(e.displayName||"Context")+".Consumer";case ct:return(e._context.displayName||"Context")+".Provider";case st:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case ft:return null!==(t=e.displayName||null)?t:_t(e.type)||"Memo";case mt:t=e._payload,e=e._init;try{return _t(e(t))}catch(e){}}return null}var Et={};function St(e,t){if(!(e=e.contextTypes))return Et;var n,r={};for(n in e)r[n]=t[n];return r}var wt=null;function Nt(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(null===e){if(null!==n)throw Error(a(401))}else{if(null===n)throw Error(a(401));Nt(e,n)}t.context._currentValue=t.value}}function Pt(e){e.context._currentValue=e.parentValue,null!==(e=e.parent)&&Pt(e)}function Ot(e){var t=e.parent;null!==t&&Ot(t),e.context._currentValue=e.value}function It(e,t){if(e.context._currentValue=e.parentValue,null===(e=e.parent))throw Error(a(402));e.depth===t.depth?Nt(e,t):It(e,t)}function zt(e,t){var n=t.parent;if(null===n)throw Error(a(402));e.depth===n.depth?Nt(e,n):zt(e,n),t.context._currentValue=t.value}function Ct(e){var t=wt;t!==e&&(null===t?Ot(e):null===e?Pt(t):t.depth===e.depth?Nt(t,e):t.depth>e.depth?It(t,e):zt(t,e),wt=e)}var Tt={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function xt(e,t,n,r){var a=void 0!==e.state?e.state:null;e.updater=Tt,e.props=n,e.state=a;var o={queue:[],replace:!1};e._reactInternals=o;var i=t.contextType;if(e.context="object"==typeof i&&null!==i?i._currentValue:r,"function"==typeof(i=t.getDerivedStateFromProps)&&(a=null==(i=i(n,a))?a:nt({},a,i),e.state=a),"function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate&&("function"==typeof e.UNSAFE_componentWillMount||"function"==typeof e.componentWillMount))if(t=e.state,"function"==typeof e.componentWillMount&&e.componentWillMount(),"function"==typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&Tt.enqueueReplaceState(e,e.state,null),null!==o.queue&&0<o.queue.length)if(t=o.queue,i=o.replace,o.queue=null,o.replace=!1,i&&1===t.length)e.state=t[0];else{for(o=i?t[0]:e.state,a=!0,i=i?1:0;i<t.length;i++){var l=t[i];null!=(l="function"==typeof l?l.call(e,o,n,r):l)&&(a?(a=!1,o=nt({},o,l)):nt(o,l))}e.state=o}else o.queue=null}var kt={id:1,overflow:""};function Dt(e,t,n){var r=e.id;e=e.overflow;var a=32-jt(r)-1;r&=~(1<<a),n+=1;var o=32-jt(t)+a;if(30<o){var i=a-a%5;return o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,{id:1<<32-jt(t)+a|n<<a|r,overflow:o+e}}return{id:1<<o|n<<a|r,overflow:e}}var jt=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(At(e)/Rt|0)|0},At=Math.log,Rt=Math.LN2,qt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Mt=null,Zt=null,Lt=null,Ft=null,Bt=!1,Ut=!1,Ht=0,Vt=null,Yt=0;function Wt(){if(null===Mt)throw Error(a(321));return Mt}function Gt(){if(0<Yt)throw Error(a(312));return{memoizedState:null,queue:null,next:null}}function $t(){return null===Ft?null===Lt?(Bt=!1,Lt=Ft=Gt()):(Bt=!0,Ft=Lt):null===Ft.next?(Bt=!1,Ft=Ft.next=Gt()):(Bt=!0,Ft=Ft.next),Ft}function Qt(){Zt=Mt=null,Ut=!1,Lt=null,Yt=0,Ft=Vt=null}function Xt(e,t){return"function"==typeof t?t(e):t}function Kt(e,t,n){if(Mt=Wt(),Ft=$t(),Bt){var r=Ft.queue;if(t=r.dispatch,null!==Vt&&void 0!==(n=Vt.get(r))){Vt.delete(r),r=Ft.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return Ft.memoizedState=r,[r,t]}return[Ft.memoizedState,t]}return e=e===Xt?"function"==typeof t?t():t:void 0!==n?n(t):t,Ft.memoizedState=e,e=(e=Ft.queue={last:null,dispatch:null}).dispatch=en.bind(null,Mt,e),[Ft.memoizedState,e]}function Jt(e,t){if(Mt=Wt(),t=void 0===t?null:t,null!==(Ft=$t())){var n=Ft.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var a=0;a<r.length&&a<t.length;a++)if(!qt(t[a],r[a])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Ft.memoizedState=[e,t],e}function en(e,t,n){if(25<=Yt)throw Error(a(301));if(e===Mt)if(Ut=!0,e={action:n,next:null},null===Vt&&(Vt=new Map),void 0===(n=Vt.get(t)))Vt.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function tn(){throw Error(a(394))}function nn(){}var rn={readContext:function(e){return e._currentValue},useContext:function(e){return Wt(),e._currentValue},useMemo:Jt,useReducer:Kt,useRef:function(e){Mt=Wt();var t=(Ft=$t()).memoizedState;return null===t?(e={current:e},Ft.memoizedState=e):t},useState:function(e){return Kt(Xt,e)},useInsertionEffect:nn,useLayoutEffect:function(){},useCallback:function(e,t){return Jt(function(){return e},t)},useImperativeHandle:nn,useEffect:nn,useDebugValue:nn,useDeferredValue:function(e){return Wt(),e},useTransition:function(){return Wt(),[!1,tn]},useId:function(){var e=Zt.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-jt(e)-1)).toString(32)+t;var n=an;if(null===n)throw Error(a(404));return t=Ht++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Wt(),t(e._source)},useSyncExternalStore:function(e,t,n){if(void 0===n)throw Error(a(407));return n()}},an=null,on=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function ln(e){return console.error(e),null}function cn(){}function un(e,t,n,r,a,o,i,l){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var c={node:t,ping:function(){var t=e.pingedTasks;t.push(c),1===t.length&&Nn(e)},blockedBoundary:n,blockedSegment:r,abortSet:a,legacyContext:o,context:i,treeContext:l};return a.add(c),c}function sn(e,t,n,r,a,o){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:a,textEmbedded:o}}function dn(e,t){if(null!=(e=e.onError(t))&&"string"!=typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function pn(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,f(e.destination,t)):(e.status=1,e.fatalError=t)}function fn(e,t,n,r,a){for(Mt={},Zt=t,Ht=0,e=n(r,a);Ut;)Ut=!1,Ht=0,Yt+=1,Ft=null,e=n(r,a);return Qt(),e}function mn(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(null!=i){var l=t.legacyContext;if("function"!=typeof n.getChildContext)r=l;else{for(var c in n=n.getChildContext())if(!(c in i))throw Error(a(108,_t(r)||"Unknown",c));r=nt({},l,n)}t.legacyContext=r,gn(e,t,o),t.legacyContext=l}else gn(e,t,o)}function vn(e,t){if(e&&e.defaultProps){for(var n in t=nt({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function yn(e,t,n,o,i){if("function"==typeof n)if(n.prototype&&n.prototype.isReactComponent){i=St(n,t.legacyContext);var l=n.contextType;xt(l=new n(o,"object"==typeof l&&null!==l?l._currentValue:i),n,o,i),mn(e,t,l,n)}else{i=fn(e,t,n,o,l=St(n,t.legacyContext));var c=0!==Ht;if("object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof)xt(i,n,o,l),mn(e,t,i,n);else if(c){o=t.treeContext,t.treeContext=Dt(o,1,0);try{gn(e,t,i)}finally{t.treeContext=o}}else gn(e,t,i)}else{if("string"!=typeof n){switch(n){case gt:case yt:case it:case lt:case ot:case pt:return void gn(e,t,o.children);case vt:throw Error(a(343));case dt:e:{n=t.blockedBoundary,i=t.blockedSegment,l=o.fallback,o=o.children;var u={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:c=new Set,errorDigest:null},s=sn(0,i.chunks.length,u,i.formatContext,!1,!1);i.children.push(s),i.lastPushedText=!1;var p=sn(0,0,null,i.formatContext,!1,!1);p.parentFlushed=!0,t.blockedBoundary=u,t.blockedSegment=p;try{if(bn(e,t,o),p.lastPushedText&&p.textEmbedded&&p.chunks.push(M),p.status=1,Sn(u,p),0===u.pendingTasks)break e}catch(t){p.status=4,u.forceClientRender=!0,u.errorDigest=dn(e,t)}finally{t.blockedBoundary=n,t.blockedSegment=i}t=un(e,l,n,s,c,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"==typeof n&&null!==n)switch(n.$$typeof){case st:if(o=fn(e,t,n.render,o,i),0!==Ht){n=t.treeContext,t.treeContext=Dt(n,1,0);try{gn(e,t,o)}finally{t.treeContext=n}}else gn(e,t,o);return;case ft:return void yn(e,t,n=n.type,o=vn(n,o),i);case ct:if(i=o.children,n=n._context,o=o.value,l=n._currentValue,n._currentValue=o,wt=o={parent:c=wt,depth:null===c?0:c.depth+1,context:n,parentValue:l,value:o},t.context=o,gn(e,t,i),null===(e=wt))throw Error(a(403));return o=e.parentValue,e.context._currentValue=o===ht?e.context._defaultValue:o,e=wt=e.parent,void(t.context=e);case ut:return void gn(e,t,o=(o=o.children)(n._currentValue));case mt:return void yn(e,t,n=(i=n._init)(n._payload),o=vn(n,o),void 0)}throw Error(a(130,null==n?n:typeof n,""))}switch(l=function(e,t,n,o,i){switch(t){case"select":e.push(ae("select"));var l=null,c=null;for(f in n)if(m.call(n,f)){var u=n[f];if(null!=u)switch(f){case"children":l=u;break;case"dangerouslySetInnerHTML":c=u;break;case"defaultValue":case"value":break;default:$(e,o,f,u)}}return e.push(Q),K(e,c,l),l;case"option":c=i.selectedValue,e.push(ae("option"));var s=u=null,p=null,f=null;for(l in n)if(m.call(n,l)){var v=n[l];if(null!=v)switch(l){case"children":u=v;break;case"selected":p=v;break;case"dangerouslySetInnerHTML":f=v;break;case"value":s=v;default:$(e,o,l,v)}}if(null!=c)if(n=null!==s?""+s:function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(u),C(c)){for(o=0;o<c.length;o++)if(""+c[o]===n){e.push(J);break}}else""+c===n&&e.push(J);else p&&e.push(J);return e.push(Q),K(e,f,u),u;case"textarea":for(u in e.push(ae("textarea")),f=c=l=null,n)if(m.call(n,u)&&null!=(s=n[u]))switch(u){case"children":f=s;break;case"value":l=s;break;case"defaultValue":c=s;break;case"dangerouslySetInnerHTML":throw Error(a(91));default:$(e,o,u,s)}if(null===l&&null!==c&&(l=c),e.push(Q),null!=f){if(null!=l)throw Error(a(92));if(C(f)&&1<f.length)throw Error(a(93));l=""+f}return"string"==typeof l&&"\n"===l[0]&&e.push(te),null!==l&&e.push(d(O(""+l))),null;case"input":for(c in e.push(ae("input")),s=f=u=l=null,n)if(m.call(n,c)&&null!=(p=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(a(399,"input"));case"defaultChecked":s=p;break;case"defaultValue":u=p;break;case"checked":f=p;break;case"value":l=p;break;default:$(e,o,c,p)}return null!==f?$(e,o,"checked",f):null!==s&&$(e,o,"checked",s),null!==l?$(e,o,"value",l):null!==u&&$(e,o,"value",u),e.push(X),null;case"menuitem":for(var y in e.push(ae("menuitem")),n)if(m.call(n,y)&&null!=(l=n[y]))switch(y){case"children":case"dangerouslySetInnerHTML":throw Error(a(400));default:$(e,o,y,l)}return e.push(Q),null;case"title":for(v in e.push(ae("title")),l=null,n)if(m.call(n,v)&&null!=(c=n[v]))switch(v){case"children":l=c;break;case"dangerouslySetInnerHTML":throw Error(a(434));default:$(e,o,v,c)}return e.push(Q),l;case"listing":case"pre":for(s in e.push(ae(t)),c=l=null,n)if(m.call(n,s)&&null!=(u=n[s]))switch(s){case"children":l=u;break;case"dangerouslySetInnerHTML":c=u;break;default:$(e,o,s,u)}if(e.push(Q),null!=c){if(null!=l)throw Error(a(60));if("object"!=typeof c||!("__html"in c))throw Error(a(61));null!=(n=c.__html)&&("string"==typeof n&&0<n.length&&"\n"===n[0]?e.push(te,d(n)):e.push(d(""+n)))}return"string"==typeof l&&"\n"===l[0]&&e.push(te),l;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var g in e.push(ae(t)),n)if(m.call(n,g)&&null!=(l=n[g]))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(a(399,t));default:$(e,o,g,l)}return e.push(X),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return ee(e,n,t,o);case"html":return 0===i.insertionMode&&e.push(oe),ee(e,n,t,o);default:if(-1===t.indexOf("-")&&"string"!=typeof n.is)return ee(e,n,t,o);for(p in e.push(ae(t)),c=l=null,n)if(m.call(n,p)&&null!=(u=n[p]))switch(p){case"children":l=u;break;case"dangerouslySetInnerHTML":c=u;break;case"style":H(e,o,u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:h(p)&&"function"!=typeof u&&"symbol"!=typeof u&&e.push(V,d(p),Y,d(O(u)),W)}return e.push(Q),K(e,c,l),l}}((i=t.blockedSegment).chunks,n,o,e.responseState,i.formatContext),i.lastPushedText=!1,c=i.formatContext,i.formatContext=function(e,t,n){switch(t){case"select":return q(1,null!=n.value?n.value:n.defaultValue);case"svg":return q(2,null);case"math":return q(3,null);case"foreignObject":return q(1,null);case"table":return q(4,null);case"thead":case"tbody":case"tfoot":return q(5,null);case"colgroup":return q(7,null);case"tr":return q(6,null)}return 4<=e.insertionMode||0===e.insertionMode?q(1,null):e}(c,n,o),bn(e,t,l),i.formatContext=c,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push(ie,d(n),le)}i.lastPushedText=!1}}function gn(e,t,n){if(t.node=n,"object"==typeof n&&null!==n){switch(n.$$typeof){case rt:return void yn(e,t,n.type,n.props,n.ref);case at:throw Error(a(257));case mt:var r=n._init;return void gn(e,t,n=r(n._payload))}if(C(n))return void hn(e,t,n);if((r=null===n||"object"!=typeof n?null:"function"==typeof(r=bt&&n[bt]||n["@@iterator"])?r:null)&&(r=r.call(n))){if(!(n=r.next()).done){var o=[];do{o.push(n.value),n=r.next()}while(!n.done);hn(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}"string"==typeof n?(r=t.blockedSegment).lastPushedText=Z(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText):"number"==typeof n&&((r=t.blockedSegment).lastPushedText=Z(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function hn(e,t,n){for(var r=n.length,a=0;a<r;a++){var o=t.treeContext;t.treeContext=Dt(o,r,a);try{bn(e,t,n[a])}finally{t.treeContext=o}}}function bn(e,t,n){var r=t.blockedSegment.formatContext,a=t.legacyContext,o=t.context;try{return gn(e,t,n)}catch(c){if(Qt(),"object"!=typeof c||null===c||"function"!=typeof c.then)throw t.blockedSegment.formatContext=r,t.legacyContext=a,t.context=o,Ct(o),c;n=c;var i=t.blockedSegment,l=sn(0,i.chunks.length,null,i.formatContext,i.lastPushedText,!0);i.children.push(l),i.lastPushedText=!1,e=un(e,t.node,t.blockedBoundary,l,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=a,t.context=o,Ct(o)}}function _n(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,wn(this,t,e)}function En(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,null===r?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=void 0===n?Error(a(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(e){return En(e,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(r=t.onAllReady)())}function Sn(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&Sn(e,n)}else e.completedSegments.push(t)}function wn(e,t,n){if(null===t){if(n.parentFlushed){if(null!==e.completedRootSegment)throw Error(a(389));e.completedRootSegment=n}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=cn,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(n.parentFlushed&&1===n.status&&Sn(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(_n,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&1===n.status&&(Sn(t,n),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function Nn(e){if(2!==e.status){var t=wt,n=on.current;on.current=rn;var r=an;an=e.responseState;try{var a,o=e.pingedTasks;for(a=0;a<o.length;a++){var i=o[a],l=e,c=i.blockedSegment;if(0===c.status){Ct(i.context);try{gn(l,i,i.node),c.lastPushedText&&c.textEmbedded&&c.chunks.push(M),i.abortSet.delete(i),c.status=1,wn(l,i.blockedBoundary,c)}catch(e){if(Qt(),"object"==typeof e&&null!==e&&"function"==typeof e.then){var u=i.ping;e.then(u,u)}else{i.abortSet.delete(i),c.status=4;var s=i.blockedBoundary,d=e,p=dn(l,d);null===s?pn(l,d):(s.pendingTasks--,s.forceClientRender||(s.forceClientRender=!0,s.errorDigest=p,s.parentFlushed&&l.clientRenderedBoundaries.push(s))),l.allPendingTasks--,0===l.allPendingTasks&&(0,l.onAllReady)()}}}}o.splice(0,a),null!==e.destination&&Tn(e,e.destination)}catch(t){dn(e,t),pn(e,t)}finally{an=r,on.current=n,n===rn&&Ct(t)}}}function Pn(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,l(t,ce),l(t,e.placeholderPrefix),l(t,e=d(r.toString(16))),c(t,ue);case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var u=0;u<n.length;u++){for(o=n[u];i<o.index;i++)l(t,r[i]);o=On(e,t,o)}for(;i<r.length-1;i++)l(t,r[i]);return i<r.length&&(o=c(t,r[i])),o;default:throw Error(a(390))}}function On(e,t,n){var r=n.boundary;if(null===r)return Pn(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,c(t,fe),l(t,ve),r&&(l(t,ge),l(t,d(O(r))),l(t,ye)),c(t,he),Pn(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;o=p(o.boundaryPrefix+i.toString(16)),r=r.id=o,be(t,e.responseState,r),Pn(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),be(t,e.responseState,r.id),Pn(e,t,n);else{if(c(t,se),1!==(n=r.completedSegments).length)throw Error(a(391));On(e,t,n[0])}return c(t,me)}function In(e,t,n){return function(e,t,n,r){switch(n.insertionMode){case 0:case 1:return l(e,_e),l(e,t.segmentPrefix),l(e,d(r.toString(16))),c(e,Ee);case 2:return l(e,we),l(e,t.segmentPrefix),l(e,d(r.toString(16))),c(e,Ne);case 3:return l(e,Oe),l(e,t.segmentPrefix),l(e,d(r.toString(16))),c(e,Ie);case 4:return l(e,Ce),l(e,t.segmentPrefix),l(e,d(r.toString(16))),c(e,Te);case 5:return l(e,ke),l(e,t.segmentPrefix),l(e,d(r.toString(16))),c(e,De);case 6:return l(e,Ae),l(e,t.segmentPrefix),l(e,d(r.toString(16))),c(e,Re);case 7:return l(e,Me),l(e,t.segmentPrefix),l(e,d(r.toString(16))),c(e,Ze);default:throw Error(a(397))}}(t,e.responseState,n.formatContext,n.id),On(e,t,n),function(e,t){switch(t.insertionMode){case 0:case 1:return c(e,Se);case 2:return c(e,Pe);case 3:return c(e,ze);case 4:return c(e,xe);case 5:return c(e,je);case 6:return c(e,qe);case 7:return c(e,Le);default:throw Error(a(397))}}(t,n.formatContext)}function zn(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)Cn(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,l(t,e.startInlineScript),e.sentCompleteBoundaryFunction?l(t,Ye):(e.sentCompleteBoundaryFunction=!0,l(t,Ve)),null===r)throw Error(a(395));return n=d(n.toString(16)),l(t,r),l(t,We),l(t,e.segmentPrefix),l(t,n),c(t,Ge)}function Cn(e,t,n,r){if(2===r.status)return!0;var o=r.id;if(-1===o){if(-1===(r.id=n.rootSegmentID))throw Error(a(392));return In(e,t,r)}return In(e,t,r),l(t,(e=e.responseState).startInlineScript),e.sentCompleteSegmentFunction?l(t,Be):(e.sentCompleteSegmentFunction=!0,l(t,Fe)),l(t,e.segmentPrefix),l(t,o=d(o.toString(16))),l(t,Ue),l(t,e.placeholderPrefix),l(t,o),c(t,He)}function Tn(e,t){o=new Uint8Array(512),i=0;try{var n=e.completedRootSegment;if(null!==n&&0===e.pendingRootTasks){On(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)l(t,r[n]);n<r.length&&c(t,r[n])}var s,p=e.clientRenderedBoundaries;for(s=0;s<p.length;s++){var f=p[s];r=t;var m=e.responseState,v=f.id,y=f.errorDigest,g=f.errorMessage,h=f.errorComponentStack;if(l(r,m.startInlineScript),m.sentClientRenderFunction?l(r,Qe):(m.sentClientRenderFunction=!0,l(r,$e)),null===v)throw Error(a(395));if(l(r,v),l(r,Xe),(y||g||h)&&(l(r,Je),l(r,d(tt(y||"")))),(g||h)&&(l(r,Je),l(r,d(tt(g||"")))),h&&(l(r,Je),l(r,d(tt(h)))),!c(r,Ke))return e.destination=null,s++,void p.splice(0,s)}p.splice(0,s);var b=e.completedBoundaries;for(s=0;s<b.length;s++)if(!zn(e,t,b[s]))return e.destination=null,s++,void b.splice(0,s);b.splice(0,s),u(t),o=new Uint8Array(512),i=0;var _=e.partialBoundaries;for(s=0;s<_.length;s++){var E=_[s];e:{p=e,f=t;var S=E.completedSegments;for(m=0;m<S.length;m++)if(!Cn(p,f,E,S[m])){m++,S.splice(0,m);var w=!1;break e}S.splice(0,m),w=!0}if(!w)return e.destination=null,s++,void _.splice(0,s)}_.splice(0,s);var N=e.completedBoundaries;for(s=0;s<N.length;s++)if(!zn(e,t,N[s]))return e.destination=null,s++,void N.splice(0,s);N.splice(0,s)}finally{u(t),0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.close()}}function xn(e,t){try{var n=e.abortableTasks;n.forEach(function(n){return En(n,e,t)}),n.clear(),null!==e.destination&&Tn(e,e.destination)}catch(t){dn(e,t),pn(e,t)}}t.renderToReadableStream=function(e,t){return new Promise(function(n,r){var a,o,i=new Promise(function(e,t){o=e,a=t}),l=function(e,t,n,r,a,o,i,l,c){var u=[],s=new Set;return(n=sn(t={destination:null,responseState:t,progressiveChunkSize:void 0===r?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:s,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===a?ln:a,onAllReady:void 0===o?cn:o,onShellReady:void 0===i?cn:i,onShellError:void 0===l?cn:l,onFatalError:void 0===c?cn:c},0,null,n,!1,!1)).parentFlushed=!0,e=un(t,e,null,n,s,Et,null,kt),u.push(e),t}(e,function(e,t,n,r,a){e=void 0===e?"":e,t=void 0===t?T:p('<script nonce="'+O(t)+'">');var o=[];if(void 0!==n&&o.push(t,d((""+n).replace(A,R)),x),void 0!==r)for(n=0;n<r.length;n++)o.push(k,d(O(r[n])),j);if(void 0!==a)for(r=0;r<a.length;r++)o.push(D,d(O(a[r])),j);return{bootstrapChunks:o,startInlineScript:t,placeholderPrefix:p(e+"P:"),segmentPrefix:p(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),function(e){return q("http://www.w3.org/2000/svg"===e?2:"http://www.w3.org/1998/Math/MathML"===e?3:0,null)}(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,o,function(){var e=new ReadableStream({type:"bytes",pull:function(e){if(1===l.status)l.status=2,f(e,l.fatalError);else if(2!==l.status&&null===l.destination){l.destination=e;try{Tn(l,e)}catch(e){dn(l,e),pn(l,e)}}},cancel:function(){xn(l)}},{highWaterMark:0});e.allReady=i,n(e)},function(e){i.catch(function(){}),r(e)},a);if(t&&t.signal){var c=t.signal,u=function(){xn(l,c.reason),c.removeEventListener("abort",u)};c.addEventListener("abort",u)}Nn(l)})},t.version="18.2.0"},3191:function(e,t,n){"use strict";var r=n(8563);function a(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;this.promise.then(function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}}),this.promise.then=function(e){var t,r=new Promise(function(e){n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},a.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},a.source=function(){var e;return{token:new a(function(t){e=t}),cancel:e}},e.exports=a},3471:function(e,t,n){"use strict";var r=n(9516);function a(){this.handlers=[]}a.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=a},3864:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3948:function(e,t,n){"use strict";var r=n(9516);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,a,o,i){var l=[];l.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),r.isString(a)&&l.push("path="+a),r.isString(o)&&l.push("domain="+o),!0===i&&l.push("secure"),document.cookie=l.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4202:function(e,t,n){"use strict";var r=n(9516);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function a(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=a(window.location.href),function(t){var n=r.isString(t)?a(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4490:function(e,t,n){"use strict";var r=n(9516),a=n(2881),o=n(3864),i=n(7412),l=n(8563);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new l}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=a.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||i.adapter)(e).then(function(t){return c(e),t.data=a.call(e,t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=a.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},4680:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4802:function(e){e.exports=function e(t,n,r){function a(i,l){if(!n[i]){if(!t[i]){if(o)return o(i,!0);throw new Error("Cannot find module '"+i+"'")}l=n[i]={exports:{}},t[i][0].call(l.exports,function(e){return a(t[i][1][e]||e)},l,l.exports,e,t,n,r)}return n[i].exports}for(var o=void 0,i=0;i<r.length;i++)a(r[i]);return a}({1:[function(e,t,n){(function(r,a,o,i,l,c,u,s,d){"use strict";var p=e("crypto");function f(e,t){var n;return void 0===(n="passthrough"!==(t=y(e,t)).algorithm?p.createHash(t.algorithm):new b).write&&(n.write=n.update,n.end=n.update),h(t,n).dispatch(e),n.update||n.end(""),n.digest?n.digest("buffer"===t.encoding?void 0:t.encoding):(e=n.read(),"buffer"!==t.encoding?e.toString(t.encoding):e)}(n=t.exports=f).sha1=function(e){return f(e)},n.keys=function(e){return f(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(e){return f(e,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(e){return f(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var m=p.getHashes?p.getHashes().slice():["sha1","md5"],v=(m.push("passthrough"),["buffer","hex","binary","base64"]);function y(e,t){var n={};if(n.algorithm=(t=t||{}).algorithm||"sha1",n.encoding=t.encoding||"hex",n.excludeValues=!!t.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=!0===t.ignoreUnknown,n.respectType=!1!==t.respectType,n.respectFunctionNames=!1!==t.respectFunctionNames,n.respectFunctionProperties=!1!==t.respectFunctionProperties,n.unorderedArrays=!0===t.unorderedArrays,n.unorderedSets=!1!==t.unorderedSets,n.unorderedObjects=!1!==t.unorderedObjects,n.replacer=t.replacer||void 0,n.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error("Object argument required.");for(var r=0;r<m.length;++r)m[r].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=m[r]);if(-1===m.indexOf(n.algorithm))throw new Error('Algorithm "'+n.algorithm+'"  not supported. supported values: '+m.join(", "));if(-1===v.indexOf(n.encoding)&&"passthrough"!==n.algorithm)throw new Error('Encoding "'+n.encoding+'"  not supported. supported values: '+v.join(", "));return n}function g(e){if("function"==typeof e)return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function h(e,t,n){function r(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")}return n=n||[],{dispatch:function(t){return this["_"+(null===(t=e.replacer?e.replacer(t):t)?"null":typeof t)](t)},_object:function(t){var a,i=Object.prototype.toString.call(t),l=/\[object (.*)\]/i.exec(i);if(l=(l=l?l[1]:"unknown:["+i+"]").toLowerCase(),0<=(i=n.indexOf(t)))return this.dispatch("[CIRCULAR:"+i+"]");if(n.push(t),void 0!==o&&o.isBuffer&&o.isBuffer(t))return r("buffer:"),r(t);if("object"===l||"function"===l||"asyncfunction"===l)return i=Object.keys(t),e.unorderedObjects&&(i=i.sort()),!1===e.respectType||g(t)||i.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(i=i.filter(function(t){return!e.excludeKeys(t)})),r("object:"+i.length+":"),a=this,i.forEach(function(n){a.dispatch(n),r(":"),e.excludeValues||a.dispatch(t[n]),r(",")});if(!this["_"+l]){if(e.ignoreUnknown)return r("["+l+"]");throw new Error('Unknown object type "'+l+'"')}this["_"+l](t)},_array:function(t,a){a=void 0!==a?a:!1!==e.unorderedArrays;var o=this;if(r("array:"+t.length+":"),!a||t.length<=1)return t.forEach(function(e){return o.dispatch(e)});var i=[];return a=t.map(function(t){var r=new b,a=n.slice();return h(e,r,a).dispatch(t),i=i.concat(a.slice(n.length)),r.read().toString()}),n=n.concat(i),a.sort(),this._array(a,!1)},_date:function(e){return r("date:"+e.toJSON())},_symbol:function(e){return r("symbol:"+e.toString())},_error:function(e){return r("error:"+e.toString())},_boolean:function(e){return r("bool:"+e.toString())},_string:function(e){r("string:"+e.length+":"),r(e.toString())},_function:function(t){r("fn:"),g(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return r("number:"+e.toString())},_xml:function(e){return r("xml:"+e.toString())},_null:function(){return r("Null")},_undefined:function(){return r("Undefined")},_regexp:function(e){return r("regex:"+e.toString())},_uint8array:function(e){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return r("int8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return r("int16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return r("int32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return r("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return r("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return r("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return r("url:"+e.toString())},_map:function(t){return r("map:"),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_set:function(t){return r("set:"),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_file:function(e){return r("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return r("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return r("domwindow")},_bigint:function(e){return r("bigint:"+e.toString())},_process:function(){return r("process")},_timer:function(){return r("timer")},_pipe:function(){return r("pipe")},_tcp:function(){return r("tcp")},_udp:function(){return r("udp")},_tty:function(){return r("tty")},_statwatcher:function(){return r("statwatcher")},_securecontext:function(){return r("securecontext")},_connection:function(){return r("connection")},_zlib:function(){return r("zlib")},_context:function(){return r("context")},_nodescript:function(){return r("nodescript")},_httpparser:function(){return r("httpparser")},_dataview:function(){return r("dataview")},_signal:function(){return r("signal")},_fsevent:function(){return r("fsevent")},_tlswrap:function(){return r("tlswrap")}}}function b(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}n.writeToStream=function(e,t,n){return void 0===n&&(n=t,t={}),h(t=y(e,t),n).dispatch(e)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(e,t,n){(function(e,t,r,a,o,i,l,c,u){!function(e){"use strict";var t="undefined"!=typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),r="/".charCodeAt(0),a="0".charCodeAt(0),o="a".charCodeAt(0),i="A".charCodeAt(0),l="-".charCodeAt(0),c="_".charCodeAt(0);function u(e){return(e=e.charCodeAt(0))===n||e===l?62:e===r||e===c?63:e<a?-1:e<a+10?e-a+26+26:e<i+26?e-i:e<o+26?e-o+26:void 0}e.toByteArray=function(e){var n,r;if(0<e.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var a=e.length,o=(a="="===e.charAt(a-2)?2:"="===e.charAt(a-1)?1:0,new t(3*e.length/4-a)),i=0<a?e.length-4:e.length,l=0;function c(e){o[l++]=e}for(n=0;n<i;n+=4,0)c((16711680&(r=u(e.charAt(n))<<18|u(e.charAt(n+1))<<12|u(e.charAt(n+2))<<6|u(e.charAt(n+3))))>>16),c((65280&r)>>8),c(255&r);return 2==a?c(255&(r=u(e.charAt(n))<<2|u(e.charAt(n+1))>>4)):1==a&&(c((r=u(e.charAt(n))<<10|u(e.charAt(n+1))<<4|u(e.charAt(n+2))>>2)>>8&255),c(255&r)),o},e.fromByteArray=function(e){var t,n,r,a,o=e.length%3,i="";function l(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}for(t=0,r=e.length-o;t<r;t+=3)i+=l((a=n=(e[t]<<16)+(e[t+1]<<8)+e[t+2])>>18&63)+l(a>>12&63)+l(a>>6&63)+l(63&a);switch(o){case 1:i=(i+=l((n=e[e.length-1])>>2))+l(n<<4&63)+"==";break;case 2:i=(i=(i+=l((n=(e[e.length-2]<<8)+e[e.length-1])>>10))+l(n>>4&63))+l(n<<2&63)+"="}return i}}(void 0===n?this.base64js={}:n)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(e,t,n){(function(t,r,a,o,i,l,c,u,s){var d=e("base64-js"),p=e("ieee754");function a(e,t,n){if(!(this instanceof a))return new a(e,t,n);var r,o,i,l,c=typeof e;if("base64"===t&&"string"==c)for(e=(l=e).trim?l.trim():l.replace(/^\s+|\s+$/g,"");e.length%4!=0;)e+="=";if("number"==c)r=I(e);else if("string"==c)r=a.byteLength(e,t);else{if("object"!=c)throw new Error("First argument needs to be a number, array or string.");r=I(e.length)}if(a._useTypedArrays?o=a._augment(new Uint8Array(r)):((o=this).length=r,o._isBuffer=!0),a._useTypedArrays&&"number"==typeof e.byteLength)o._set(e);else if(z(l=e)||a.isBuffer(l)||l&&"object"==typeof l&&"number"==typeof l.length)for(i=0;i<r;i++)a.isBuffer(e)?o[i]=e.readUInt8(i):o[i]=e[i];else if("string"==c)o.write(e,0,t);else if("number"==c&&!a._useTypedArrays&&!n)for(i=0;i<r;i++)o[i]=0;return o}function f(e,t,n,r){var a;if(r||(q("boolean"==typeof n,"missing or invalid endian"),q(null!=t,"missing offset"),q(t+1<e.length,"Trying to read beyond buffer length")),!((r=e.length)<=t))return n?(a=e[t],t+1<r&&(a|=e[t+1]<<8)):(a=e[t]<<8,t+1<r&&(a|=e[t+1])),a}function m(e,t,n,r){var a;if(r||(q("boolean"==typeof n,"missing or invalid endian"),q(null!=t,"missing offset"),q(t+3<e.length,"Trying to read beyond buffer length")),!((r=e.length)<=t))return n?(t+2<r&&(a=e[t+2]<<16),t+1<r&&(a|=e[t+1]<<8),a|=e[t],t+3<r&&(a+=e[t+3]<<24>>>0)):(t+1<r&&(a=e[t+1]<<16),t+2<r&&(a|=e[t+2]<<8),t+3<r&&(a|=e[t+3]),a+=e[t]<<24>>>0),a}function v(e,t,n,r){if(r||(q("boolean"==typeof n,"missing or invalid endian"),q(null!=t,"missing offset"),q(t+1<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 32768&(r=f(e,t,n,!0))?-1*(65535-r+1):r}function y(e,t,n,r){if(r||(q("boolean"==typeof n,"missing or invalid endian"),q(null!=t,"missing offset"),q(t+3<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 2147483648&(r=m(e,t,n,!0))?-1*(4294967295-r+1):r}function g(e,t,n,r){return r||(q("boolean"==typeof n,"missing or invalid endian"),q(t+3<e.length,"Trying to read beyond buffer length")),p.read(e,t,n,23,4)}function h(e,t,n,r){return r||(q("boolean"==typeof n,"missing or invalid endian"),q(t+7<e.length,"Trying to read beyond buffer length")),p.read(e,t,n,52,8)}function b(e,t,n,r,a){if(a||(q(null!=t,"missing value"),q("boolean"==typeof r,"missing or invalid endian"),q(null!=n,"missing offset"),q(n+1<e.length,"trying to write beyond buffer length"),j(t,65535)),!((a=e.length)<=n))for(var o=0,i=Math.min(a-n,2);o<i;o++)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function _(e,t,n,r,a){if(a||(q(null!=t,"missing value"),q("boolean"==typeof r,"missing or invalid endian"),q(null!=n,"missing offset"),q(n+3<e.length,"trying to write beyond buffer length"),j(t,4294967295)),!((a=e.length)<=n))for(var o=0,i=Math.min(a-n,4);o<i;o++)e[n+o]=t>>>8*(r?o:3-o)&255}function E(e,t,n,r,a){a||(q(null!=t,"missing value"),q("boolean"==typeof r,"missing or invalid endian"),q(null!=n,"missing offset"),q(n+1<e.length,"Trying to write beyond buffer length"),A(t,32767,-32768)),e.length<=n||b(e,0<=t?t:65535+t+1,n,r,a)}function S(e,t,n,r,a){a||(q(null!=t,"missing value"),q("boolean"==typeof r,"missing or invalid endian"),q(null!=n,"missing offset"),q(n+3<e.length,"Trying to write beyond buffer length"),A(t,2147483647,-2147483648)),e.length<=n||_(e,0<=t?t:4294967295+t+1,n,r,a)}function w(e,t,n,r,a){a||(q(null!=t,"missing value"),q("boolean"==typeof r,"missing or invalid endian"),q(null!=n,"missing offset"),q(n+3<e.length,"Trying to write beyond buffer length"),R(t,34028234663852886e22,-34028234663852886e22)),e.length<=n||p.write(e,t,n,r,23,4)}function N(e,t,n,r,a){a||(q(null!=t,"missing value"),q("boolean"==typeof r,"missing or invalid endian"),q(null!=n,"missing offset"),q(n+7<e.length,"Trying to write beyond buffer length"),R(t,17976931348623157e292,-17976931348623157e292)),e.length<=n||p.write(e,t,n,r,52,8)}n.Buffer=a,n.SlowBuffer=a,n.INSPECT_MAX_BYTES=50,a.poolSize=8192,a._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(e){return!1}}(),a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=T(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=x(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;default:throw new Error("Unknown encoding")}return n},a.concat=function(e,t){if(q(z(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new a(0);if(1===e.length)return e[0];if("number"!=typeof t)for(o=t=0;o<e.length;o++)t+=e[o].length;for(var n=new a(t),r=0,o=0;o<e.length;o++){var i=e[o];i.copy(n,r),r+=i.length}return n},a.prototype.write=function(e,t,n,r){isFinite(t)?isFinite(n)||(r=n,n=void 0):(u=r,r=t,t=n,n=u),t=Number(t)||0;var o,i,l,c,u=this.length-t;switch((!n||u<(n=Number(n)))&&(n=u),r=String(r||"utf8").toLowerCase()){case"hex":o=function(e,t,n,r){n=Number(n)||0;var o=e.length-n;(!r||o<(r=Number(r)))&&(r=o),q((o=t.length)%2==0,"Invalid hex string"),o/2<r&&(r=o/2);for(var i=0;i<r;i++){var l=parseInt(t.substr(2*i,2),16);q(!isNaN(l),"Invalid hex string"),e[n+i]=l}return a._charsWritten=2*i,i}(this,e,t,n);break;case"utf8":case"utf-8":i=this,l=t,c=n,o=a._charsWritten=k(T(e),i,l,c);break;case"ascii":case"binary":o=function(e,t,n,r){return a._charsWritten=k(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}(this,e,t,n);break;case"base64":i=this,l=t,c=n,o=a._charsWritten=k(x(e),i,l,c);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":o=function(e,t,n,r){return a._charsWritten=k(function(e){for(var t,n,r=[],a=0;a<e.length;a++)t=(n=e.charCodeAt(a))>>8,n%=256,r.push(n),r.push(t);return r}(t),e,n,r)}(this,e,t,n);break;default:throw new Error("Unknown encoding")}return o},a.prototype.toString=function(e,t,n){var r,a,o,i,l=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,(n=void 0!==n?Number(n):l.length)===t)return"";switch(e){case"hex":r=function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var a="",o=t;o<n;o++)a+=C(e[o]);return a}(l,t,n);break;case"utf8":case"utf-8":r=function(e,t,n){var r="",a="";n=Math.min(e.length,n);for(var o=t;o<n;o++)e[o]<=127?(r+=D(a)+String.fromCharCode(e[o]),a=""):a+="%"+e[o].toString(16);return r+D(a)}(l,t,n);break;case"ascii":case"binary":r=function(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;a++)r+=String.fromCharCode(e[a]);return r}(l,t,n);break;case"base64":a=l,i=n,r=0===(o=t)&&i===a.length?d.fromByteArray(a):d.fromByteArray(a.slice(o,i));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=function(e,t,n){for(var r=e.slice(t,n),a="",o=0;o<r.length;o+=2)a+=String.fromCharCode(r[o]+256*r[o+1]);return a}(l,t,n);break;default:throw new Error("Unknown encoding")}return r},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.copy=function(e,t,n,r){if(t=t||0,(r=r||0===r?r:this.length)!==(n=n||0)&&0!==e.length&&0!==this.length){q(n<=r,"sourceEnd < sourceStart"),q(0<=t&&t<e.length,"targetStart out of bounds"),q(0<=n&&n<this.length,"sourceStart out of bounds"),q(0<=r&&r<=this.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length);var o=(r=e.length-t<r-n?e.length-t+n:r)-n;if(o<100||!a._useTypedArrays)for(var i=0;i<o;i++)e[i+t]=this[i+n];else e._set(this.subarray(n,n+o),t)}},a.prototype.slice=function(e,t){var n=this.length;if(e=O(e,n,0),t=O(t,n,n),a._useTypedArrays)return a._augment(this.subarray(e,t));for(var r=t-e,o=new a(r,void 0,!0),i=0;i<r;i++)o[i]=this[i+e];return o},a.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},a.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},a.prototype.readUInt8=function(e,t){if(t||(q(null!=e,"missing offset"),q(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},a.prototype.readUInt16LE=function(e,t){return f(this,e,!0,t)},a.prototype.readUInt16BE=function(e,t){return f(this,e,!1,t)},a.prototype.readUInt32LE=function(e,t){return m(this,e,!0,t)},a.prototype.readUInt32BE=function(e,t){return m(this,e,!1,t)},a.prototype.readInt8=function(e,t){if(t||(q(null!=e,"missing offset"),q(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){return v(this,e,!0,t)},a.prototype.readInt16BE=function(e,t){return v(this,e,!1,t)},a.prototype.readInt32LE=function(e,t){return y(this,e,!0,t)},a.prototype.readInt32BE=function(e,t){return y(this,e,!1,t)},a.prototype.readFloatLE=function(e,t){return g(this,e,!0,t)},a.prototype.readFloatBE=function(e,t){return g(this,e,!1,t)},a.prototype.readDoubleLE=function(e,t){return h(this,e,!0,t)},a.prototype.readDoubleBE=function(e,t){return h(this,e,!1,t)},a.prototype.writeUInt8=function(e,t,n){n||(q(null!=e,"missing value"),q(null!=t,"missing offset"),q(t<this.length,"trying to write beyond buffer length"),j(e,255)),t>=this.length||(this[t]=e)},a.prototype.writeUInt16LE=function(e,t,n){b(this,e,t,!0,n)},a.prototype.writeUInt16BE=function(e,t,n){b(this,e,t,!1,n)},a.prototype.writeUInt32LE=function(e,t,n){_(this,e,t,!0,n)},a.prototype.writeUInt32BE=function(e,t,n){_(this,e,t,!1,n)},a.prototype.writeInt8=function(e,t,n){n||(q(null!=e,"missing value"),q(null!=t,"missing offset"),q(t<this.length,"Trying to write beyond buffer length"),A(e,127,-128)),t>=this.length||(0<=e?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},a.prototype.writeInt16LE=function(e,t,n){E(this,e,t,!0,n)},a.prototype.writeInt16BE=function(e,t,n){E(this,e,t,!1,n)},a.prototype.writeInt32LE=function(e,t,n){S(this,e,t,!0,n)},a.prototype.writeInt32BE=function(e,t,n){S(this,e,t,!1,n)},a.prototype.writeFloatLE=function(e,t,n){w(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){w(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){N(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){N(this,e,t,!1,n)},a.prototype.fill=function(e,t,n){if(t=t||0,n=n||this.length,q("number"==typeof(e="string"==typeof(e=e||0)?e.charCodeAt(0):e)&&!isNaN(e),"value is not a number"),q(t<=n,"end < start"),n!==t&&0!==this.length){q(0<=t&&t<this.length,"start out of bounds"),q(0<=n&&n<=this.length,"end out of bounds");for(var r=t;r<n;r++)this[r]=e}},a.prototype.inspect=function(){for(var e=[],t=this.length,r=0;r<t;r++)if(e[r]=C(this[r]),r===n.INSPECT_MAX_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},a.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw new Error("Buffer.toArrayBuffer not supported in this browser");if(a._useTypedArrays)return new a(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer};var P=a.prototype;function O(e,t,n){return"number"!=typeof e?n:t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0}function I(e){return(e=~~Math.ceil(+e))<0?0:e}function z(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function C(e){return e<16?"0"+e.toString(16):e.toString(16)}function T(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(e.charCodeAt(n));else for(var a=n,o=(55296<=r&&r<=57343&&n++,encodeURIComponent(e.slice(a,n+1)).substr(1).split("%")),i=0;i<o.length;i++)t.push(parseInt(o[i],16))}return t}function x(e){return d.toByteArray(e)}function k(e,t,n,r){for(var a=0;a<r&&!(a+n>=t.length||a>=e.length);a++)t[a+n]=e[a];return a}function D(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function j(e,t){q("number"==typeof e,"cannot write a non-number as a number"),q(0<=e,"specified a negative value for writing an unsigned value"),q(e<=t,"value is larger than maximum value for type"),q(Math.floor(e)===e,"value has a fractional component")}function A(e,t,n){q("number"==typeof e,"cannot write a non-number as a number"),q(e<=t,"value larger than maximum allowed value"),q(n<=e,"value smaller than minimum allowed value"),q(Math.floor(e)===e,"value has a fractional component")}function R(e,t,n){q("number"==typeof e,"cannot write a non-number as a number"),q(e<=t,"value larger than maximum allowed value"),q(n<=e,"value smaller than minimum allowed value")}function q(e,t){if(!e)throw new Error(t||"Failed assertion")}a._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=P.get,e.set=P.set,e.write=P.write,e.toString=P.toString,e.toLocaleString=P.toString,e.toJSON=P.toJSON,e.copy=P.copy,e.slice=P.slice,e.readUInt8=P.readUInt8,e.readUInt16LE=P.readUInt16LE,e.readUInt16BE=P.readUInt16BE,e.readUInt32LE=P.readUInt32LE,e.readUInt32BE=P.readUInt32BE,e.readInt8=P.readInt8,e.readInt16LE=P.readInt16LE,e.readInt16BE=P.readInt16BE,e.readInt32LE=P.readInt32LE,e.readInt32BE=P.readInt32BE,e.readFloatLE=P.readFloatLE,e.readFloatBE=P.readFloatBE,e.readDoubleLE=P.readDoubleLE,e.readDoubleBE=P.readDoubleBE,e.writeUInt8=P.writeUInt8,e.writeUInt16LE=P.writeUInt16LE,e.writeUInt16BE=P.writeUInt16BE,e.writeUInt32LE=P.writeUInt32LE,e.writeUInt32BE=P.writeUInt32BE,e.writeInt8=P.writeInt8,e.writeInt16LE=P.writeInt16LE,e.writeInt16BE=P.writeInt16BE,e.writeInt32LE=P.writeInt32LE,e.writeInt32BE=P.writeInt32BE,e.writeFloatLE=P.writeFloatLE,e.writeFloatBE=P.writeFloatBE,e.writeDoubleLE=P.writeDoubleLE,e.writeDoubleBE=P.writeDoubleBE,e.fill=P.fill,e.inspect=P.inspect,e.toArrayBuffer=P.toArrayBuffer,e}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(e,t,n){(function(n,r,a,o,i,l,c,u,s){a=e("buffer").Buffer;var d=new a(4);d.fill(0),t.exports={hash:function(e,t,n,r){for(var o=t(function(e,t){e.length%4!=0&&(n=e.length+(4-e.length%4),e=a.concat([e,d],n));for(var n,r=[],o=t?e.readInt32BE:e.readInt32LE,i=0;i<e.length;i+=4)r.push(o.call(e,i));return r}(e=a.isBuffer(e)?e:new a(e),r),8*e.length),i=(t=r,new a(n)),l=t?i.writeInt32BE:i.writeInt32LE,c=0;c<o.length;c++)l.call(i,o[c],4*c,!0);return i}}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(e,t,n){(function(t,r,a,o,i,l,c,u,s){a=e("buffer").Buffer;var d=e("./sha"),p=e("./sha256"),f=e("./rng"),m={sha1:d,sha256:p,md5:e("./md5")},v=64,y=new a(v);function g(e,t){var n=m[e=e||"sha1"],r=[];return n||h("algorithm:",e,"is not yet supported"),{update:function(e){return a.isBuffer(e)||(e=new a(e)),r.push(e),e.length,this},digest:function(e){var o=a.concat(r);return o=t?function(e,t,n){a.isBuffer(t)||(t=new a(t)),a.isBuffer(n)||(n=new a(n)),t.length>v?t=e(t):t.length<v&&(t=a.concat([t,y],v));for(var r=new a(v),o=new a(v),i=0;i<v;i++)r[i]=54^t[i],o[i]=92^t[i];return n=e(a.concat([r,n])),e(a.concat([o,n]))}(n,t,o):n(o),r=null,e?o.toString(e):o}}}function h(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}y.fill(0),n.createHash=function(e){return g(e)},n.createHmac=g,n.randomBytes=function(e,t){if(!t||!t.call)return new a(f(e));try{t.call(this,void 0,new a(f(e)))}catch(e){t(e)}};var b,_=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],E=function(e){n[e]=function(){h("sorry,",e,"is not implemented yet")}};for(b in _)E(_[b])}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(e,t,n){(function(n,r,a,o,i,l,c,u,s){var d=e("./helpers");function p(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,a=-1732584194,o=271733878,i=0;i<e.length;i+=16){var l=n,c=r,u=a,s=o;n=m(n,r,a,o,e[i+0],7,-680876936),o=m(o,n,r,a,e[i+1],12,-389564586),a=m(a,o,n,r,e[i+2],17,606105819),r=m(r,a,o,n,e[i+3],22,-1044525330),n=m(n,r,a,o,e[i+4],7,-176418897),o=m(o,n,r,a,e[i+5],12,1200080426),a=m(a,o,n,r,e[i+6],17,-1473231341),r=m(r,a,o,n,e[i+7],22,-45705983),n=m(n,r,a,o,e[i+8],7,1770035416),o=m(o,n,r,a,e[i+9],12,-1958414417),a=m(a,o,n,r,e[i+10],17,-42063),r=m(r,a,o,n,e[i+11],22,-1990404162),n=m(n,r,a,o,e[i+12],7,1804603682),o=m(o,n,r,a,e[i+13],12,-40341101),a=m(a,o,n,r,e[i+14],17,-1502002290),n=v(n,r=m(r,a,o,n,e[i+15],22,1236535329),a,o,e[i+1],5,-165796510),o=v(o,n,r,a,e[i+6],9,-1069501632),a=v(a,o,n,r,e[i+11],14,643717713),r=v(r,a,o,n,e[i+0],20,-373897302),n=v(n,r,a,o,e[i+5],5,-701558691),o=v(o,n,r,a,e[i+10],9,38016083),a=v(a,o,n,r,e[i+15],14,-660478335),r=v(r,a,o,n,e[i+4],20,-405537848),n=v(n,r,a,o,e[i+9],5,568446438),o=v(o,n,r,a,e[i+14],9,-1019803690),a=v(a,o,n,r,e[i+3],14,-187363961),r=v(r,a,o,n,e[i+8],20,1163531501),n=v(n,r,a,o,e[i+13],5,-1444681467),o=v(o,n,r,a,e[i+2],9,-51403784),a=v(a,o,n,r,e[i+7],14,1735328473),n=y(n,r=v(r,a,o,n,e[i+12],20,-1926607734),a,o,e[i+5],4,-378558),o=y(o,n,r,a,e[i+8],11,-2022574463),a=y(a,o,n,r,e[i+11],16,1839030562),r=y(r,a,o,n,e[i+14],23,-35309556),n=y(n,r,a,o,e[i+1],4,-1530992060),o=y(o,n,r,a,e[i+4],11,1272893353),a=y(a,o,n,r,e[i+7],16,-155497632),r=y(r,a,o,n,e[i+10],23,-1094730640),n=y(n,r,a,o,e[i+13],4,681279174),o=y(o,n,r,a,e[i+0],11,-358537222),a=y(a,o,n,r,e[i+3],16,-722521979),r=y(r,a,o,n,e[i+6],23,76029189),n=y(n,r,a,o,e[i+9],4,-640364487),o=y(o,n,r,a,e[i+12],11,-421815835),a=y(a,o,n,r,e[i+15],16,530742520),n=g(n,r=y(r,a,o,n,e[i+2],23,-995338651),a,o,e[i+0],6,-198630844),o=g(o,n,r,a,e[i+7],10,1126891415),a=g(a,o,n,r,e[i+14],15,-1416354905),r=g(r,a,o,n,e[i+5],21,-57434055),n=g(n,r,a,o,e[i+12],6,1700485571),o=g(o,n,r,a,e[i+3],10,-1894986606),a=g(a,o,n,r,e[i+10],15,-1051523),r=g(r,a,o,n,e[i+1],21,-2054922799),n=g(n,r,a,o,e[i+8],6,1873313359),o=g(o,n,r,a,e[i+15],10,-30611744),a=g(a,o,n,r,e[i+6],15,-1560198380),r=g(r,a,o,n,e[i+13],21,1309151649),n=g(n,r,a,o,e[i+4],6,-145523070),o=g(o,n,r,a,e[i+11],10,-1120210379),a=g(a,o,n,r,e[i+2],15,718787259),r=g(r,a,o,n,e[i+9],21,-343485551),n=h(n,l),r=h(r,c),a=h(a,u),o=h(o,s)}return Array(n,r,a,o)}function f(e,t,n,r,a,o){return h((t=h(h(t,e),h(r,o)))<<a|t>>>32-a,n)}function m(e,t,n,r,a,o,i){return f(t&n|~t&r,e,t,a,o,i)}function v(e,t,n,r,a,o,i){return f(t&r|n&~r,e,t,a,o,i)}function y(e,t,n,r,a,o,i){return f(t^n^r,e,t,a,o,i)}function g(e,t,n,r,a,o,i){return f(n^(t|~r),e,t,a,o,i)}function h(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}t.exports=function(e){return d.hash(e,p,16)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(e,t,n){(function(e,n,r,a,o,i,l,c,u){t.exports=function(e){for(var t,n=new Array(e),r=0;r<e;r++)!(3&r)&&(t=4294967296*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(e,t,n){(function(n,r,a,o,i,l,c,u,s){var d=e("./helpers");function p(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n,r,a,o=Array(80),i=1732584193,l=-271733879,c=-1732584194,u=271733878,s=-1009589776,d=0;d<e.length;d+=16){for(var p=i,v=l,y=c,g=u,h=s,b=0;b<80;b++){o[b]=b<16?e[d+b]:m(o[b-3]^o[b-8]^o[b-14]^o[b-16],1);var _=f(f(m(i,5),(_=l,r=c,a=u,(n=b)<20?_&r|~_&a:!(n<40)&&n<60?_&r|_&a|r&a:_^r^a)),f(f(s,o[b]),(n=b)<20?1518500249:n<40?1859775393:n<60?-1894007588:-899497514));s=u,u=c,c=m(l,30),l=i,i=_}i=f(i,p),l=f(l,v),c=f(c,y),u=f(u,g),s=f(s,h)}return Array(i,l,c,u,s)}function f(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function m(e,t){return e<<t|e>>>32-t}t.exports=function(e){return d.hash(e,p,20,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(e,t,n){(function(n,r,a,o,i,l,c,u,s){function d(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function p(e,t){var n,r=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),a=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),o=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var i,l,c=0;c<e.length;c+=16){for(var u=a[0],s=a[1],p=a[2],f=a[3],y=a[4],g=a[5],h=a[6],b=a[7],_=0;_<64;_++)o[_]=_<16?e[_+c]:d(d(d((l=o[_-2],m(l,17)^m(l,19)^v(l,10)),o[_-7]),(l=o[_-15],m(l,7)^m(l,18)^v(l,3))),o[_-16]),n=d(d(d(d(b,m(l=y,6)^m(l,11)^m(l,25)),y&g^~y&h),r[_]),o[_]),i=d(m(i=u,2)^m(i,13)^m(i,22),u&s^u&p^s&p),b=h,h=g,g=y,y=d(f,n),f=p,p=s,s=u,u=d(n,i);a[0]=d(u,a[0]),a[1]=d(s,a[1]),a[2]=d(p,a[2]),a[3]=d(f,a[3]),a[4]=d(y,a[4]),a[5]=d(g,a[5]),a[6]=d(h,a[6]),a[7]=d(b,a[7])}return a}var f=e("./helpers"),m=function(e,t){return e>>>t|e<<32-t},v=function(e,t){return e>>>t};t.exports=function(e){return f.hash(e,p,32,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(e,t,n){(function(e,t,r,a,o,i,l,c,u){n.read=function(e,t,n,r,a){var o,i,l=8*a-r-1,c=(1<<l)-1,u=c>>1,s=-7,d=n?a-1:0,p=n?-1:1;for(a=e[t+d],d+=p,o=a&(1<<-s)-1,a>>=-s,s+=l;0<s;o=256*o+e[t+d],d+=p,s-=8);for(i=o&(1<<-s)-1,o>>=-s,s+=r;0<s;i=256*i+e[t+d],d+=p,s-=8);if(0===o)o=1-u;else{if(o===c)return i?NaN:1/0*(a?-1:1);i+=Math.pow(2,r),o-=u}return(a?-1:1)*i*Math.pow(2,o-r)},n.write=function(e,t,n,r,a,o){var i,l,c=8*o-a-1,u=(1<<c)-1,s=u>>1,d=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1;for(o=t<0||0===t&&1/t<0?1:0,t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,i=u):(i=Math.floor(Math.log(t)/Math.LN2),t*(r=Math.pow(2,-i))<1&&(i--,r*=2),2<=(t+=1<=i+s?d/r:d*Math.pow(2,1-s))*r&&(i++,r/=2),u<=i+s?(l=0,i=u):1<=i+s?(l=(t*r-1)*Math.pow(2,a),i+=s):(l=t*Math.pow(2,s-1)*Math.pow(2,a),i=0));8<=a;e[n+p]=255&l,p+=f,l/=256,a-=8);for(i=i<<a|l,c+=a;0<c;e[n+p]=255&i,p+=f,i/=256,c-=8);e[n+p-f]|=128*o}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(e,t,n){(function(e,n,r,a,o,i,l,c,u){var s,d,p;function f(){}(e=t.exports={}).nextTick=(d="undefined"!=typeof window&&window.setImmediate,p="undefined"!=typeof window&&window.postMessage&&window.addEventListener,d?function(e){return window.setImmediate(e)}:p?(s=[],window.addEventListener("message",function(e){var t=e.source;t!==window&&null!==t||"process-tick"!==e.data||(e.stopPropagation(),0<s.length&&s.shift()())},!0),function(e){s.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=f,e.addListener=f,e.once=f,e.off=f,e.removeListener=f,e.removeAllListeners=f,e.emit=f,e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)},4841:function(e,t,n){"use strict";var r=n(9641).version,a=n(5845),o={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var i={};o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,l){if(!1===e)throw new a(o(r," has been removed"+(t?" in "+t:"")),a.ERR_DEPRECATED);return t&&!i[r]&&(i[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,l)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new a("options must be an object",a.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],l=t[i];if(l){var c=e[i],u=void 0===c||l(c,i,e);if(!0!==u)throw new a("option "+i+" must be "+u,a.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new a("Unknown option "+i,a.ERR_BAD_OPTION)}},validators:o}},4896:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},5019:function(e,t,n){"use strict";var r=n(9516);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},5155:function(e,t,n){"use strict";var r=n(9516),a=n(9106),o=n(3471),i=n(4490),l=n(5343),c=n(9615),u=n(4841),s=u.validators;function d(e){this.defaults=e,this.interceptors={request:new o,response:new o}}d.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=l(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:s.transitional(s.boolean),forcedJSONParsing:s.transitional(s.boolean),clarifyTimeoutError:s.transitional(s.boolean)},!1);var r=[],a=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,r.unshift(e.fulfilled,e.rejected))});var o,c=[];if(this.interceptors.response.forEach(function(e){c.push(e.fulfilled,e.rejected)}),!a){var d=[i,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(c),o=Promise.resolve(t);d.length;)o=o.then(d.shift(),d.shift());return o}for(var p=t;r.length;){var f=r.shift(),m=r.shift();try{p=f(p)}catch(e){m(e);break}}try{o=i(p)}catch(e){return Promise.reject(e)}for(;c.length;)o=o.then(c.shift(),c.shift());return o},d.prototype.getUri=function(e){e=l(this.defaults,e);var t=c(e.baseURL,e.url);return a(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],function(e){d.prototype[e]=function(t,n){return this.request(l(n||{},{method:e,url:t,data:(n||{}).data}))}}),r.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(l(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}d.prototype[e]=t(),d.prototype[e+"Form"]=t(!0)}),e.exports=d},5160:function(e,t,n){"use strict";var r=n(6540),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useSyncExternalStore,i=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var d=i(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;d=c(function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==s&&p.hasValue){var t=p.value;if(s(t,e))return i=t}return i=e}if(t=i,a(o,e))return t;var n=r(e);return void 0!==s&&s(t,n)?(o=e,t):(o=e,i=n)}var o,i,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,s]);var f=o(e,d[0],d[1]);return l(function(){p.hasValue=!0,p.value=f},[f]),u(f),f}},5287:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator,m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function g(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function h(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},h.prototype=g.prototype;var _=b.prototype=new h;_.constructor=b,v(_,g.prototype),_.isPureReactComponent=!0;var E=Array.isArray,S=Object.prototype.hasOwnProperty,w={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function P(e,t,r){var a,o={},i=null,l=null;if(null!=t)for(a in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)S.call(t,a)&&!N.hasOwnProperty(a)&&(o[a]=t[a]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var u=Array(c),s=0;s<c;s++)u[s]=arguments[s+2];o.children=u}if(e&&e.defaultProps)for(a in c=e.defaultProps)void 0===o[a]&&(o[a]=c[a]);return{$$typeof:n,type:e,key:i,ref:l,props:o,_owner:w.current}}function O(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function z(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,a,o,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var c=!1;if(null===e)c=!0;else switch(l){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return i=i(c=e),e=""===o?"."+z(c,0):o,E(i)?(a="",null!=e&&(a=e.replace(I,"$&/")+"/"),C(i,t,a,"",function(e){return e})):null!=i&&(O(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(I,"$&/")+"/")+e)),t.push(i)),1;if(c=0,o=""===o?".":o+":",E(e))for(var u=0;u<e.length;u++){var s=o+z(l=e[u],u);c+=C(l,t,a,s,i)}else if(s=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof s)for(e=s.call(e),u=0;!(l=e.next()).done;)c+=C(l=l.value,t,a,s=o+z(l,u++),i);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function T(e,t,n){if(null==e)return e;var r=[],a=0;return C(e,r,"","",function(e){return t.call(n,e,a++)}),r}function x(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var k={current:null},D={transition:null},j={ReactCurrentDispatcher:k,ReactCurrentBatchConfig:D,ReactCurrentOwner:w};t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!O(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=i,t.PureComponent=b,t.StrictMode=o,t.Suspense=s,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=v({},e.props),o=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)S.call(t,u)&&!N.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){c=Array(u);for(var s=0;s<u;s++)c[s]=arguments[s+2];a.children=c}return{$$typeof:n,type:e.type,key:o,ref:i,props:a,_owner:l}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=P,t.createFactory=function(e){var t=P.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:x}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return k.current.useCallback(e,t)},t.useContext=function(e){return k.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return k.current.useDeferredValue(e)},t.useEffect=function(e,t){return k.current.useEffect(e,t)},t.useId=function(){return k.current.useId()},t.useImperativeHandle=function(e,t,n){return k.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.current.useMemo(e,t)},t.useReducer=function(e,t,n){return k.current.useReducer(e,t,n)},t.useRef=function(e){return k.current.useRef(e)},t.useState=function(e){return k.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.current.useTransition()},t.version="18.2.0"},5338:function(e,t,n){"use strict";var r=n(961);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},5343:function(e,t,n){"use strict";var r=n(9516);e.exports=function(e,t){t=t||{};var n={};function a(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:a(void 0,e[n]):a(e[n],t[n])}function i(e){if(!r.isUndefined(t[e]))return a(void 0,t[e])}function l(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:a(void 0,e[n]):a(void 0,t[n])}function c(n){return n in t?a(e[n],t[n]):n in e?a(void 0,e[n]):void 0}var u={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),function(e){var t=u[e]||o,a=t(e);r.isUndefined(a)&&t!==c||(n[e]=a)}),n}},5556:function(e,t,n){e.exports=n(2694)()},5592:function(e,t,n){"use strict";var r=n(9516),a=n(7522),o=n(3948),i=n(9106),l=n(9615),c=n(2012),u=n(4202),s=n(4896),d=n(5845),p=n(8563),f=n(5656);e.exports=function(e){return new Promise(function(t,n){var m,v=e.data,y=e.headers,g=e.responseType;function h(){e.cancelToken&&e.cancelToken.unsubscribe(m),e.signal&&e.signal.removeEventListener("abort",m)}r.isFormData(v)&&r.isStandardBrowserEnv()&&delete y["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var _=e.auth.username||"",E=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";y.Authorization="Basic "+btoa(_+":"+E)}var S=l(e.baseURL,e.url);function w(){if(b){var r="getAllResponseHeaders"in b?c(b.getAllResponseHeaders()):null,o={data:g&&"text"!==g&&"json"!==g?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:r,config:e,request:b};a(function(e){t(e),h()},function(e){n(e),h()},o),b=null}}if(b.open(e.method.toUpperCase(),i(S,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=w:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(w)},b.onabort=function(){b&&(n(new d("Request aborted",d.ECONNABORTED,e,b)),b=null)},b.onerror=function(){n(new d("Network Error",d.ERR_NETWORK,e,b,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||s;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new d(t,r.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,e,b)),b=null},r.isStandardBrowserEnv()){var N=(e.withCredentials||u(S))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;N&&(y[e.xsrfHeaderName]=N)}"setRequestHeader"in b&&r.forEach(y,function(e,t){void 0===v&&"content-type"===t.toLowerCase()?delete y[t]:b.setRequestHeader(t,e)}),r.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),g&&"json"!==g&&(b.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(m=function(e){b&&(n(!e||e&&e.type?new p:e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(m),e.signal&&(e.signal.aborted?m():e.signal.addEventListener("abort",m))),v||(v=null);var P=f(S);P&&-1===["http","https","file"].indexOf(P)?n(new d("Unsupported protocol "+P+":",d.ERR_BAD_REQUEST,e)):b.send(v)})}},5656:function(e){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},5845:function(e,t,n){"use strict";var r=n(9516);function a(e,t,n,r,a){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a)}r.inherits(a,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=a.prototype,i={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){i[e]={value:e}}),Object.defineProperties(a,i),Object.defineProperty(o,"isAxiosError",{value:!0}),a.from=function(e,t,n,i,l,c){var u=Object.create(o);return r.toFlatObject(e,u,function(e){return e!==Error.prototype}),a.call(u,e.message,t,n,i,l),u.name=e.name,c&&Object.assign(u,c),u},e.exports=a},5848:function(e,t,n){"use strict";var r,a;r=n(7633),a=n(2911),r.version,t.renderToString=r.renderToString,r.renderToStaticMarkup,r.renderToNodeStream,r.renderToStaticNodeStream,a.renderToReadableStream},5901:function(e,t,n){var r=n(246),a=n(2485),o=n(6540),i=n(8997);function l(e){return e&&e.__esModule?e.default:e}function c(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function u(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function s(e){e.forEach(e=>u(e.element))}function d(e){e.forEach(e=>{!function(e,t,n){const r=e.children[n]||null;e.insertBefore(t,r)}(e.parentElement,e.element,e.oldIndex)})}function p(e,t){const n=v(e),r={parentElement:e.from};let a=[];switch(n){case"normal":a=[{element:e.item,newIndex:e.newIndex,oldIndex:e.oldIndex,parentElement:e.from}];break;case"swap":a=[{element:e.item,oldIndex:e.oldIndex,newIndex:e.newIndex,...r},{element:e.swapItem,oldIndex:e.newIndex,newIndex:e.oldIndex,...r}];break;case"multidrag":a=e.oldIndicies.map((t,n)=>({element:t.multiDragElement,oldIndex:t.index,newIndex:e.newIndicies[n].index,...r}))}const o=function(e,t){return e.map(e=>({...e,item:t[e.oldIndex]})).sort((e,t)=>e.oldIndex-t.oldIndex)}(a,t);return o}function f(e,t){const n=[...t];return e.concat().reverse().forEach(e=>n.splice(e.oldIndex,1)),n}function m(e,t,n,r){const a=[...t];return e.forEach(e=>{const t=r&&n&&r(e.item,n);a.splice(e.newIndex,0,t||e.item)}),a}function v(e){return e.oldIndicies&&e.oldIndicies.length>0?"multidrag":e.swapItem?"swap":"normal"}c(e.exports,"Sortable",()=>$882b6d93070905b3$re_export$Sortable),c(e.exports,"Direction",()=>$882b6d93070905b3$re_export$Direction),c(e.exports,"DOMRect",()=>$882b6d93070905b3$re_export$DOMRect),c(e.exports,"GroupOptions",()=>$882b6d93070905b3$re_export$GroupOptions),c(e.exports,"MoveEvent",()=>$882b6d93070905b3$re_export$MoveEvent),c(e.exports,"Options",()=>$882b6d93070905b3$re_export$Options),c(e.exports,"PullResult",()=>$882b6d93070905b3$re_export$PullResult),c(e.exports,"PutResult",()=>$882b6d93070905b3$re_export$PutResult),c(e.exports,"SortableEvent",()=>$882b6d93070905b3$re_export$SortableEvent),c(e.exports,"SortableOptions",()=>$882b6d93070905b3$re_export$SortableOptions),c(e.exports,"Utils",()=>$882b6d93070905b3$re_export$Utils),c(e.exports,"ReactSortable",()=>g);const y={dragging:null};class g extends o.Component{static defaultProps={clone:e=>e};constructor(e){super(e),this.ref=(0,o.createRef)();const t=[...e.list].map(e=>Object.assign(e,{chosen:!1,selected:!1}));e.setList(t,this.sortable,y),l(i)(!e.plugins,'\nPlugins prop is no longer supported.\nInstead, mount it with "Sortable.mount(new MultiDrag())"\nPlease read the updated README.md at https://github.com/SortableJS/react-sortablejs.\n      ')}componentDidMount(){if(null===this.ref.current)return;const e=this.makeOptions();l(r).create(this.ref.current,e)}componentDidUpdate(e){e.disabled!==this.props.disabled&&this.sortable&&this.sortable.option("disabled",this.props.disabled)}render(){const{tag:e,style:t,className:n,id:r}=this.props,a={style:t,className:n,id:r},i=e&&null!==e?e:"div";return(0,o.createElement)(i,{ref:this.ref,...a},this.getChildren())}getChildren(){const{children:e,dataIdAttr:t,selectedClass:n="sortable-selected",chosenClass:r="sortable-chosen",dragClass:i="sortable-drag",fallbackClass:c="sortable-falback",ghostClass:u="sortable-ghost",swapClass:s="sortable-swap-highlight",filter:d="sortable-filter",list:p}=this.props;if(!e||null==e)return null;const f=t||"data-id";return o.Children.map(e,(e,t)=>{if(void 0===e)return;const i=p[t]||{},{className:c}=e.props,u="string"==typeof d&&{[d.replace(".","")]:!!i.filtered},s=l(a)(c,{[n]:i.selected,[r]:i.chosen,...u});return(0,o.cloneElement)(e,{[f]:e.key,className:s})})}get sortable(){const e=this.ref.current;if(null===e)return null;const t=Object.keys(e).find(e=>e.includes("Sortable"));return t?e[t]:null}makeOptions(){const e=function(e){const{list:t,setList:n,children:r,tag:a,style:o,className:i,clone:l,onAdd:c,onChange:u,onChoose:s,onClone:d,onEnd:p,onFilter:f,onRemove:m,onSort:v,onStart:y,onUnchoose:g,onUpdate:h,onMove:b,onSpill:_,onSelect:E,onDeselect:S,...w}=e;return w}(this.props);return["onAdd","onChoose","onDeselect","onEnd","onRemove","onSelect","onSpill","onStart","onUnchoose","onUpdate"].forEach(t=>e[t]=this.prepareOnHandlerPropAndDOM(t)),["onChange","onClone","onFilter","onSort"].forEach(t=>e[t]=this.prepareOnHandlerProp(t)),{...e,onMove:(e,t)=>{const{onMove:n}=this.props,r=e.willInsertAfter||-1;if(!n)return r;const a=n(e,t,this.sortable,y);return void 0!==a&&a}}}prepareOnHandlerPropAndDOM(e){return t=>{this.callOnHandlerProp(t,e),this[e](t)}}prepareOnHandlerProp(e){return t=>{this.callOnHandlerProp(t,e)}}callOnHandlerProp(e,t){const n=this.props[t];n&&n(e,this.sortable,y)}onAdd(e){const{list:t,setList:n,clone:r}=this.props,a=p(e,[...y.dragging.props.list]);s(a),n(m(a,t,e,r).map(e=>Object.assign(e,{selected:!1})),this.sortable,y)}onRemove(e){const{list:t,setList:n}=this.props,r=v(e),a=p(e,t);d(a);let o=[...t];if("clone"!==e.pullMode)o=f(a,o);else{let t=a;switch(r){case"multidrag":t=a.map((t,n)=>({...t,element:e.clones[n]}));break;case"normal":t=a.map(t=>({...t,element:e.clone}));break;default:l(i)(!0,`mode "${r}" cannot clone. Please remove "props.clone" from <ReactSortable/> when using the "${r}" plugin`)}s(t),a.forEach(t=>{const n=t.oldIndex,r=this.props.clone(t.item,e);o.splice(n,1,r)})}o=o.map(e=>Object.assign(e,{selected:!1})),n(o,this.sortable,y)}onUpdate(e){const{list:t,setList:n}=this.props,r=p(e,t);return s(r),d(r),n(function(e,t){return m(e,f(e,t))}(r,t),this.sortable,y)}onStart(){y.dragging=this}onEnd(){y.dragging=null}onChoose(e){const{list:t,setList:n}=this.props;n(t.map((t,n)=>{let r=t;return n===e.oldIndex&&(r=Object.assign(t,{chosen:!0})),r}),this.sortable,y)}onUnchoose(e){const{list:t,setList:n}=this.props;n(t.map((t,n)=>{let r=t;return n===e.oldIndex&&(r=Object.assign(r,{chosen:!1})),r}),this.sortable,y)}onSpill(e){const{removeOnSpill:t,revertOnSpill:n}=this.props;t&&!n&&u(e.item)}onSelect(e){const{list:t,setList:n}=this.props,r=t.map(e=>Object.assign(e,{selected:!1}));e.newIndicies.forEach(t=>{const n=t.index;if(-1===n)return console.log(`"${e.type}" had indice of "${t.index}", which is probably -1 and doesn't usually happen here.`),void console.log(e);r[n].selected=!0}),n(r,this.sortable,y)}onDeselect(e){const{list:t,setList:n}=this.props,r=t.map(e=>Object.assign(e,{selected:!1}));e.newIndicies.forEach(e=>{const t=e.index;-1!==t&&(r[t].selected=!0)}),n(r,this.sortable,y)}}var h,b;h=e.exports,b={},Object.keys(b).forEach(function(e){"default"===e||"__esModule"===e||h.hasOwnProperty(e)||Object.defineProperty(h,e,{enumerable:!0,get:function(){return b[e]}})})},6440:function(e,t,n){"use strict";var r=n(9516);e.exports=function(e,t){t=t||new FormData;var n=[];function a(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(o,i){if(r.isPlainObject(o)||r.isArray(o)){if(-1!==n.indexOf(o))throw Error("Circular reference detected in "+i);n.push(o),r.forEach(o,function(n,o){if(!r.isUndefined(n)){var l,c=i?i+"."+o:o;if(n&&!i&&"object"==typeof n)if(r.endsWith(o,"{}"))n=JSON.stringify(n);else if(r.endsWith(o,"[]")&&(l=r.toArray(n)))return void l.forEach(function(e){!r.isUndefined(e)&&t.append(c,a(e))});e(n,c)}}),n.pop()}else t.append(i,a(o))}(e),t}},6540:function(e,t,n){"use strict";e.exports=n(5287)},6925:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},7018:function(e,t,n){"use strict";var r=n(9516);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},7412:function(e,t,n){"use strict";var r=n(9516),a=n(7018),o=n(5845),i=n(4896),l=n(6440),c={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,d={transitional:i,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(s=n(5592)),s),transformRequest:[function(e,t){if(a(t,"Accept"),a(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,o=r.isObject(e),i=t&&t["Content-Type"];if((n=r.isFileList(e))||o&&"multipart/form-data"===i){var c=this.env&&this.env.FormData;return l(n?{"files[]":e}:e,c&&new c)}return o||"application/json"===i?(u(t,"application/json"),function(e){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||d.transitional,n=t&&t.silentJSONParsing,a=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||a&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw o.from(e,o.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(1534)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(e){d.headers[e]={}}),r.forEach(["post","put","patch"],function(e){d.headers[e]=r.merge(c)}),e.exports=d},7463:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var l=2*(r+1)-1,c=e[l],u=l+1,s=e[u];if(0>o(c,n))u<a&&0>o(s,c)?(e[r]=s,e[u]=n,r=u):(e[r]=c,e[l]=n,r=l);else{if(!(u<a&&0>o(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var u=[],s=[],d=1,p=null,f=3,m=!1,v=!1,y=!1,g="function"==typeof setTimeout?setTimeout:null,h="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function _(e){for(var t=r(s);null!==t;){if(null===t.callback)a(s);else{if(!(t.startTime<=e))break;a(s),t.sortIndex=t.expirationTime,n(u,t)}t=r(s)}}function E(e){if(y=!1,_(e),!v)if(null!==r(u))v=!0,D(S);else{var t=r(s);null!==t&&j(E,t.startTime-e)}}function S(e,n){v=!1,y&&(y=!1,h(O),O=-1),m=!0;var o=f;try{for(_(n),p=r(u);null!==p&&(!(p.expirationTime>n)||e&&!C());){var i=p.callback;if("function"==typeof i){p.callback=null,f=p.priorityLevel;var l=i(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?p.callback=l:p===r(u)&&a(u),_(n)}else a(u);p=r(u)}if(null!==p)var c=!0;else{var d=r(s);null!==d&&j(E,d.startTime-n),c=!1}return c}finally{p=null,f=o,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,N=!1,P=null,O=-1,I=5,z=-1;function C(){return!(t.unstable_now()-z<I)}function T(){if(null!==P){var e=t.unstable_now();z=e;var n=!0;try{n=P(!0,e)}finally{n?w():(N=!1,P=null)}}else N=!1}if("function"==typeof b)w=function(){b(T)};else if("undefined"!=typeof MessageChannel){var x=new MessageChannel,k=x.port2;x.port1.onmessage=T,w=function(){k.postMessage(null)}}else w=function(){g(T,0)};function D(e){P=e,N||(N=!0,w())}function j(e,n){O=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,D(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,o){var i=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?i+o:i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>i?(e.sortIndex=o,n(s,e),null===r(u)&&e===r(s)&&(y?(h(O),O=-1):y=!0,j(E,o-i))):(e.sortIndex=l,n(u,e),v||m||(v=!0,D(S))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7522:function(e,t,n){"use strict";var r=n(5845);e.exports=function(e,t,n){var a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},7633:function(e,t,n){"use strict";var r=n(6540);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=Object.prototype.hasOwnProperty,i=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l={},c={};function u(e){return!!o.call(c,e)||!o.call(l,e)&&(i.test(e)?c[e]=!0:(l[e]=!0,!1))}function s(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var d={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){d[e]=new s(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];d[t]=new s(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){d[e]=new s(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){d[e]=new s(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){d[e]=new s(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){d[e]=new s(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){d[e]=new s(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){d[e]=new s(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){d[e]=new s(e,5,!1,e.toLowerCase(),null,!1,!1)});var p=/[\-:]([a-z])/g;function f(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(p,f);d[t]=new s(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(p,f);d[t]=new s(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(p,f);d[t]=new s(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){d[e]=new s(e,1,!1,e.toLowerCase(),null,!1,!1)}),d.xlinkHref=new s("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){d[e]=new s(e,1,!1,e.toLowerCase(),null,!0,!0)});var m={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v=["Webkit","ms","Moz","O"];Object.keys(m).forEach(function(e){v.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),m[t]=m[e]})});var y=/["'&<>]/;function g(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=y.exec(e);if(t){var n,r="",a=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==n&&(r+=e.substring(a,n)),a=n+1,r+=t}e=a!==n?r+e.substring(a,n):r}return e}var h=/([A-Z])/g,b=/^ms-/,_=Array.isArray;function E(e,t){return{insertionMode:e,selectedValue:t}}var S=new Map;function w(e,t,n){if("object"!=typeof n)throw Error(a(62));for(var r in t=!0,n)if(o.call(n,r)){var i=n[r];if(null!=i&&"boolean"!=typeof i&&""!==i){if(0===r.indexOf("--")){var l=g(r);i=g((""+i).trim())}else{l=r;var c=S.get(l);void 0!==c||(c=g(l.replace(h,"-$1").toLowerCase().replace(b,"-ms-")),S.set(l,c)),l=c,i="number"==typeof i?0===i||o.call(m,r)?""+i:i+"px":g((""+i).trim())}t?(t=!1,e.push(' style="',l,":",i)):e.push(";",l,":",i)}}t||e.push('"')}function N(e,t,n,r){switch(n){case"style":return void w(e,t,r);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=d.hasOwnProperty(n)?d[n]:null)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:!0===r?e.push(" ",n,'=""'):!1!==r&&e.push(" ",n,'="',g(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',g(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',g(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',g(r),'"')}}else if(u(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(" ",n,'="',g(r),'"')}}function P(e,t,n){if(null!=t){if(null!=n)throw Error(a(60));if("object"!=typeof t||!("__html"in t))throw Error(a(61));null!=(t=t.__html)&&e.push(""+t)}}function O(e,t,n,r){e.push(C(n));var a,i=n=null;for(a in t)if(o.call(t,a)){var l=t[a];if(null!=l)switch(a){case"children":n=l;break;case"dangerouslySetInnerHTML":i=l;break;default:N(e,r,a,l)}}return e.push(">"),P(e,i,n),"string"==typeof n?(e.push(g(n)),null):n}var I=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,z=new Map;function C(e){var t=z.get(e);if(void 0===t){if(!I.test(e))throw Error(a(65,e));t="<"+e,z.set(e,t)}return t}function T(e,t,n){if(e.push('\x3c!--$?--\x3e<template id="'),null===n)throw Error(a(395));return e.push(n),e.push('"></template>')}var x=/[<\u2028\u2029]/g;function k(e){return JSON.stringify(e).replace(x,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function D(e,t,n,r){return n.generateStaticMarkup?(e.push(g(t)),!1):(""===t?e=r:(r&&e.push("\x3c!-- --\x3e"),e.push(g(t)),e=!0),e)}var j=Object.assign,A=Symbol.for("react.element"),R=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),F=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),W=Symbol.for("react.scope"),G=Symbol.for("react.debug_trace_mode"),$=Symbol.for("react.legacy_hidden"),Q=Symbol.for("react.default_value"),X=Symbol.iterator;function K(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case q:return"Fragment";case R:return"Portal";case Z:return"Profiler";case M:return"StrictMode";case U:return"Suspense";case H:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case F:return(e.displayName||"Context")+".Consumer";case L:return(e._context.displayName||"Context")+".Provider";case B:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case V:return null!==(t=e.displayName||null)?t:K(e.type)||"Memo";case Y:t=e._payload,e=e._init;try{return K(e(t))}catch(e){}}return null}var J={};function ee(e,t){if(!(e=e.contextTypes))return J;var n,r={};for(n in e)r[n]=t[n];return r}var te=null;function ne(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(null===e){if(null!==n)throw Error(a(401))}else{if(null===n)throw Error(a(401));ne(e,n)}t.context._currentValue2=t.value}}function re(e){e.context._currentValue2=e.parentValue,null!==(e=e.parent)&&re(e)}function ae(e){var t=e.parent;null!==t&&ae(t),e.context._currentValue2=e.value}function oe(e,t){if(e.context._currentValue2=e.parentValue,null===(e=e.parent))throw Error(a(402));e.depth===t.depth?ne(e,t):oe(e,t)}function ie(e,t){var n=t.parent;if(null===n)throw Error(a(402));e.depth===n.depth?ne(e,n):ie(e,n),t.context._currentValue2=t.value}function le(e){var t=te;t!==e&&(null===t?ae(e):null===e?re(t):t.depth===e.depth?ne(t,e):t.depth>e.depth?oe(t,e):ie(t,e),te=e)}var ce={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function ue(e,t,n,r){var a=void 0!==e.state?e.state:null;e.updater=ce,e.props=n,e.state=a;var o={queue:[],replace:!1};e._reactInternals=o;var i=t.contextType;if(e.context="object"==typeof i&&null!==i?i._currentValue2:r,"function"==typeof(i=t.getDerivedStateFromProps)&&(a=null==(i=i(n,a))?a:j({},a,i),e.state=a),"function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate&&("function"==typeof e.UNSAFE_componentWillMount||"function"==typeof e.componentWillMount))if(t=e.state,"function"==typeof e.componentWillMount&&e.componentWillMount(),"function"==typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&ce.enqueueReplaceState(e,e.state,null),null!==o.queue&&0<o.queue.length)if(t=o.queue,i=o.replace,o.queue=null,o.replace=!1,i&&1===t.length)e.state=t[0];else{for(o=i?t[0]:e.state,a=!0,i=i?1:0;i<t.length;i++){var l=t[i];null!=(l="function"==typeof l?l.call(e,o,n,r):l)&&(a?(a=!1,o=j({},o,l)):j(o,l))}e.state=o}else o.queue=null}var se={id:1,overflow:""};function de(e,t,n){var r=e.id;e=e.overflow;var a=32-pe(r)-1;r&=~(1<<a),n+=1;var o=32-pe(t)+a;if(30<o){var i=a-a%5;return o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,{id:1<<32-pe(t)+a|n<<a|r,overflow:o+e}}return{id:1<<o|n<<a|r,overflow:e}}var pe=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(fe(e)/me|0)|0},fe=Math.log,me=Math.LN2,ve="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ye=null,ge=null,he=null,be=null,_e=!1,Ee=!1,Se=0,we=null,Ne=0;function Pe(){if(null===ye)throw Error(a(321));return ye}function Oe(){if(0<Ne)throw Error(a(312));return{memoizedState:null,queue:null,next:null}}function Ie(){return null===be?null===he?(_e=!1,he=be=Oe()):(_e=!0,be=he):null===be.next?(_e=!1,be=be.next=Oe()):(_e=!0,be=be.next),be}function ze(){ge=ye=null,Ee=!1,he=null,Ne=0,be=we=null}function Ce(e,t){return"function"==typeof t?t(e):t}function Te(e,t,n){if(ye=Pe(),be=Ie(),_e){var r=be.queue;if(t=r.dispatch,null!==we&&void 0!==(n=we.get(r))){we.delete(r),r=be.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return be.memoizedState=r,[r,t]}return[be.memoizedState,t]}return e=e===Ce?"function"==typeof t?t():t:void 0!==n?n(t):t,be.memoizedState=e,e=(e=be.queue={last:null,dispatch:null}).dispatch=ke.bind(null,ye,e),[be.memoizedState,e]}function xe(e,t){if(ye=Pe(),t=void 0===t?null:t,null!==(be=Ie())){var n=be.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var a=0;a<r.length&&a<t.length;a++)if(!ve(t[a],r[a])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),be.memoizedState=[e,t],e}function ke(e,t,n){if(25<=Ne)throw Error(a(301));if(e===ye)if(Ee=!0,e={action:n,next:null},null===we&&(we=new Map),void 0===(n=we.get(t)))we.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function De(){throw Error(a(394))}function je(){}var Ae={readContext:function(e){return e._currentValue2},useContext:function(e){return Pe(),e._currentValue2},useMemo:xe,useReducer:Te,useRef:function(e){ye=Pe();var t=(be=Ie()).memoizedState;return null===t?(e={current:e},be.memoizedState=e):t},useState:function(e){return Te(Ce,e)},useInsertionEffect:je,useLayoutEffect:function(){},useCallback:function(e,t){return xe(function(){return e},t)},useImperativeHandle:je,useEffect:je,useDebugValue:je,useDeferredValue:function(e){return Pe(),e},useTransition:function(){return Pe(),[!1,De]},useId:function(){var e=ge.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-pe(e)-1)).toString(32)+t;var n=Re;if(null===n)throw Error(a(404));return t=Se++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Pe(),t(e._source)},useSyncExternalStore:function(e,t,n){if(void 0===n)throw Error(a(407));return n()}},Re=null,qe=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Me(e){return console.error(e),null}function Ze(){}function Le(e,t,n,r,a,o,i,l){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var c={node:t,ping:function(){var t=e.pingedTasks;t.push(c),1===t.length&&tt(e)},blockedBoundary:n,blockedSegment:r,abortSet:a,legacyContext:o,context:i,treeContext:l};return a.add(c),c}function Fe(e,t,n,r,a,o){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:a,textEmbedded:o}}function Be(e,t){if(null!=(e=e.onError(t))&&"string"!=typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Ue(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function He(e,t,n,r,a){for(ye={},ge=t,Se=0,e=n(r,a);Ee;)Ee=!1,Se=0,Ne+=1,be=null,e=n(r,a);return ze(),e}function Ve(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(null!=i){var l=t.legacyContext;if("function"!=typeof n.getChildContext)r=l;else{for(var c in n=n.getChildContext())if(!(c in i))throw Error(a(108,K(r)||"Unknown",c));r=j({},l,n)}t.legacyContext=r,Ge(e,t,o),t.legacyContext=l}else Ge(e,t,o)}function Ye(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function We(e,t,n,i,l){if("function"==typeof n)if(n.prototype&&n.prototype.isReactComponent){l=ee(n,t.legacyContext);var c=n.contextType;ue(c=new n(i,"object"==typeof c&&null!==c?c._currentValue2:l),n,i,l),Ve(e,t,c,n)}else{l=He(e,t,n,i,c=ee(n,t.legacyContext));var s=0!==Se;if("object"==typeof l&&null!==l&&"function"==typeof l.render&&void 0===l.$$typeof)ue(l,n,i,c),Ve(e,t,l,n);else if(s){i=t.treeContext,t.treeContext=de(i,1,0);try{Ge(e,t,l)}finally{t.treeContext=i}}else Ge(e,t,l)}else{if("string"!=typeof n){switch(n){case $:case G:case M:case Z:case q:case H:return void Ge(e,t,i.children);case W:throw Error(a(343));case U:e:{n=t.blockedBoundary,l=t.blockedSegment,c=i.fallback,i=i.children;var d={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s=new Set,errorDigest:null},p=Fe(0,l.chunks.length,d,l.formatContext,!1,!1);l.children.push(p),l.lastPushedText=!1;var f=Fe(0,0,null,l.formatContext,!1,!1);f.parentFlushed=!0,t.blockedBoundary=d,t.blockedSegment=f;try{if(Qe(e,t,i),e.responseState.generateStaticMarkup||f.lastPushedText&&f.textEmbedded&&f.chunks.push("\x3c!-- --\x3e"),f.status=1,Je(d,f),0===d.pendingTasks)break e}catch(t){f.status=4,d.forceClientRender=!0,d.errorDigest=Be(e,t)}finally{t.blockedBoundary=n,t.blockedSegment=l}t=Le(e,c,n,p,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"==typeof n&&null!==n)switch(n.$$typeof){case B:if(i=He(e,t,n.render,i,l),0!==Se){n=t.treeContext,t.treeContext=de(n,1,0);try{Ge(e,t,i)}finally{t.treeContext=n}}else Ge(e,t,i);return;case V:return void We(e,t,n=n.type,i=Ye(n,i),l);case L:if(l=i.children,n=n._context,i=i.value,c=n._currentValue2,n._currentValue2=i,te=i={parent:s=te,depth:null===s?0:s.depth+1,context:n,parentValue:c,value:i},t.context=i,Ge(e,t,l),null===(e=te))throw Error(a(403));return i=e.parentValue,e.context._currentValue2=i===Q?e.context._defaultValue:i,e=te=e.parent,void(t.context=e);case F:return void Ge(e,t,i=(i=i.children)(n._currentValue2));case Y:return void We(e,t,n=(l=n._init)(n._payload),i=Ye(n,i),void 0)}throw Error(a(130,null==n?n:typeof n,""))}switch(c=function(e,t,n,i,l){switch(t){case"select":e.push(C("select"));var c=null,s=null;for(m in n)if(o.call(n,m)){var d=n[m];if(null!=d)switch(m){case"children":c=d;break;case"dangerouslySetInnerHTML":s=d;break;case"defaultValue":case"value":break;default:N(e,i,m,d)}}return e.push(">"),P(e,s,c),c;case"option":s=l.selectedValue,e.push(C("option"));var p=d=null,f=null,m=null;for(c in n)if(o.call(n,c)){var v=n[c];if(null!=v)switch(c){case"children":d=v;break;case"selected":f=v;break;case"dangerouslySetInnerHTML":m=v;break;case"value":p=v;default:N(e,i,c,v)}}if(null!=s)if(n=null!==p?""+p:function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(d),_(s)){for(i=0;i<s.length;i++)if(""+s[i]===n){e.push(' selected=""');break}}else""+s===n&&e.push(' selected=""');else f&&e.push(' selected=""');return e.push(">"),P(e,m,d),d;case"textarea":for(d in e.push(C("textarea")),m=s=c=null,n)if(o.call(n,d)&&null!=(p=n[d]))switch(d){case"children":m=p;break;case"value":c=p;break;case"defaultValue":s=p;break;case"dangerouslySetInnerHTML":throw Error(a(91));default:N(e,i,d,p)}if(null===c&&null!==s&&(c=s),e.push(">"),null!=m){if(null!=c)throw Error(a(92));if(_(m)&&1<m.length)throw Error(a(93));c=""+m}return"string"==typeof c&&"\n"===c[0]&&e.push("\n"),null!==c&&e.push(g(""+c)),null;case"input":for(s in e.push(C("input")),p=m=d=c=null,n)if(o.call(n,s)&&null!=(f=n[s]))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(a(399,"input"));case"defaultChecked":p=f;break;case"defaultValue":d=f;break;case"checked":m=f;break;case"value":c=f;break;default:N(e,i,s,f)}return null!==m?N(e,i,"checked",m):null!==p&&N(e,i,"checked",p),null!==c?N(e,i,"value",c):null!==d&&N(e,i,"value",d),e.push("/>"),null;case"menuitem":for(var y in e.push(C("menuitem")),n)if(o.call(n,y)&&null!=(c=n[y]))switch(y){case"children":case"dangerouslySetInnerHTML":throw Error(a(400));default:N(e,i,y,c)}return e.push(">"),null;case"title":for(v in e.push(C("title")),c=null,n)if(o.call(n,v)&&null!=(s=n[v]))switch(v){case"children":c=s;break;case"dangerouslySetInnerHTML":throw Error(a(434));default:N(e,i,v,s)}return e.push(">"),c;case"listing":case"pre":for(p in e.push(C(t)),s=c=null,n)if(o.call(n,p)&&null!=(d=n[p]))switch(p){case"children":c=d;break;case"dangerouslySetInnerHTML":s=d;break;default:N(e,i,p,d)}if(e.push(">"),null!=s){if(null!=c)throw Error(a(60));if("object"!=typeof s||!("__html"in s))throw Error(a(61));null!=(n=s.__html)&&("string"==typeof n&&0<n.length&&"\n"===n[0]?e.push("\n",n):e.push(""+n))}return"string"==typeof c&&"\n"===c[0]&&e.push("\n"),c;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var h in e.push(C(t)),n)if(o.call(n,h)&&null!=(c=n[h]))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(a(399,t));default:N(e,i,h,c)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return O(e,n,t,i);case"html":return 0===l.insertionMode&&e.push("<!DOCTYPE html>"),O(e,n,t,i);default:if(-1===t.indexOf("-")&&"string"!=typeof n.is)return O(e,n,t,i);for(f in e.push(C(t)),s=c=null,n)if(o.call(n,f)&&null!=(d=n[f]))switch(f){case"children":c=d;break;case"dangerouslySetInnerHTML":s=d;break;case"style":w(e,i,d);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:u(f)&&"function"!=typeof d&&"symbol"!=typeof d&&e.push(" ",f,'="',g(d),'"')}return e.push(">"),P(e,s,c),c}}((l=t.blockedSegment).chunks,n,i,e.responseState,l.formatContext),l.lastPushedText=!1,s=l.formatContext,l.formatContext=function(e,t,n){switch(t){case"select":return E(1,null!=n.value?n.value:n.defaultValue);case"svg":return E(2,null);case"math":return E(3,null);case"foreignObject":return E(1,null);case"table":return E(4,null);case"thead":case"tbody":case"tfoot":return E(5,null);case"colgroup":return E(7,null);case"tr":return E(6,null)}return 4<=e.insertionMode||0===e.insertionMode?E(1,null):e}(s,n,i),Qe(e,t,c),l.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:l.chunks.push("</",n,">")}l.lastPushedText=!1}}function Ge(e,t,n){if(t.node=n,"object"==typeof n&&null!==n){switch(n.$$typeof){case A:return void We(e,t,n.type,n.props,n.ref);case R:throw Error(a(257));case Y:var r=n._init;return void Ge(e,t,n=r(n._payload))}if(_(n))return void $e(e,t,n);if((r=null===n||"object"!=typeof n?null:"function"==typeof(r=X&&n[X]||n["@@iterator"])?r:null)&&(r=r.call(n))){if(!(n=r.next()).done){var o=[];do{o.push(n.value),n=r.next()}while(!n.done);$e(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}"string"==typeof n?(r=t.blockedSegment).lastPushedText=D(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText):"number"==typeof n&&((r=t.blockedSegment).lastPushedText=D(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function $e(e,t,n){for(var r=n.length,a=0;a<r;a++){var o=t.treeContext;t.treeContext=de(o,r,a);try{Qe(e,t,n[a])}finally{t.treeContext=o}}}function Qe(e,t,n){var r=t.blockedSegment.formatContext,a=t.legacyContext,o=t.context;try{return Ge(e,t,n)}catch(c){if(ze(),"object"!=typeof c||null===c||"function"!=typeof c.then)throw t.blockedSegment.formatContext=r,t.legacyContext=a,t.context=o,le(o),c;n=c;var i=t.blockedSegment,l=Fe(0,i.chunks.length,null,i.formatContext,i.lastPushedText,!0);i.children.push(l),i.lastPushedText=!1,e=Le(e,t.node,t.blockedBoundary,l,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=a,t.context=o,le(o)}}function Xe(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,et(this,t,e)}function Ke(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,null===r?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=void 0===n?Error(a(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(e){return Ke(e,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(r=t.onAllReady)())}function Je(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&Je(e,n)}else e.completedSegments.push(t)}function et(e,t,n){if(null===t){if(n.parentFlushed){if(null!==e.completedRootSegment)throw Error(a(389));e.completedRootSegment=n}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=Ze,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(n.parentFlushed&&1===n.status&&Je(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(Xe,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&1===n.status&&(Je(t,n),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function tt(e){if(2!==e.status){var t=te,n=qe.current;qe.current=Ae;var r=Re;Re=e.responseState;try{var a,o=e.pingedTasks;for(a=0;a<o.length;a++){var i=o[a],l=e,c=i.blockedSegment;if(0===c.status){le(i.context);try{Ge(l,i,i.node),l.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("\x3c!-- --\x3e"),i.abortSet.delete(i),c.status=1,et(l,i.blockedBoundary,c)}catch(e){if(ze(),"object"==typeof e&&null!==e&&"function"==typeof e.then){var u=i.ping;e.then(u,u)}else{i.abortSet.delete(i),c.status=4;var s=i.blockedBoundary,d=e,p=Be(l,d);null===s?Ue(l,d):(s.pendingTasks--,s.forceClientRender||(s.forceClientRender=!0,s.errorDigest=p,s.parentFlushed&&l.clientRenderedBoundaries.push(s))),l.allPendingTasks--,0===l.allPendingTasks&&(0,l.onAllReady)()}}}}o.splice(0,a),null!==e.destination&&lt(e,e.destination)}catch(t){Be(e,t),Ue(e,t)}finally{Re=r,qe.current=n,n===Ae&&le(t)}}}function nt(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var l=0;l<n.length;l++){for(o=n[l];i<o.index;i++)t.push(r[i]);o=rt(e,t,o)}for(;i<r.length-1;i++)t.push(r[i]);return i<r.length&&(o=t.push(r[i])),o;default:throw Error(a(390))}}function rt(e,t,n){var r=n.boundary;if(null===r)return nt(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("\x3c!--$!--\x3e"),t.push("<template"),r&&(t.push(' data-dgst="'),r=g(r),t.push(r),t.push('"')),t.push("></template>")),nt(e,t,n),!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e");if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;return o=o.boundaryPrefix+i.toString(16),r=r.id=o,T(t,e.responseState,r),nt(e,t,n),t.push("\x3c!--/$--\x3e")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),T(t,e.responseState,r.id),nt(e,t,n),t.push("\x3c!--/$--\x3e");if(e.responseState.generateStaticMarkup||t.push("\x3c!--$--\x3e"),1!==(n=r.completedSegments).length)throw Error(a(391));return rt(e,t,n[0]),!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e")}function at(e,t,n){return function(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(a(397))}}(t,e.responseState,n.formatContext,n.id),rt(e,t,n),function(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(a(397))}}(t,n.formatContext)}function ot(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)it(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),null===r)throw Error(a(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function it(e,t,n,r){if(2===r.status)return!0;var o=r.id;if(-1===o){if(-1===(r.id=n.rootSegmentID))throw Error(a(392));return at(e,t,r)}return at(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),o=o.toString(16),t.push(o),t.push('","'),t.push(e.placeholderPrefix),t.push(o),t.push('")<\/script>')}function lt(e,t){try{var n=e.completedRootSegment;if(null!==n&&0===e.pendingRootTasks){rt(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var o,i=e.clientRenderedBoundaries;for(o=0;o<i.length;o++){var l=i[o];r=t;var c=e.responseState,u=l.id,s=l.errorDigest,d=l.errorMessage,p=l.errorComponentStack;if(r.push(c.startInlineScript),c.sentClientRenderFunction?r.push('$RX("'):(c.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),null===u)throw Error(a(395));if(r.push(u),r.push('"'),s||d||p){r.push(",");var f=k(s||"");r.push(f)}if(d||p){r.push(",");var m=k(d||"");r.push(m)}if(p){r.push(",");var v=k(p);r.push(v)}if(!r.push(")<\/script>"))return e.destination=null,o++,void i.splice(0,o)}i.splice(0,o);var y=e.completedBoundaries;for(o=0;o<y.length;o++)if(!ot(e,t,y[o]))return e.destination=null,o++,void y.splice(0,o);y.splice(0,o);var g=e.partialBoundaries;for(o=0;o<g.length;o++){var h=g[o];e:{i=e,l=t;var b=h.completedSegments;for(c=0;c<b.length;c++)if(!it(i,l,h,b[c])){c++,b.splice(0,c);var _=!1;break e}b.splice(0,c),_=!0}if(!_)return e.destination=null,o++,void g.splice(0,o)}g.splice(0,o);var E=e.completedBoundaries;for(o=0;o<E.length;o++)if(!ot(e,t,E[o]))return e.destination=null,o++,void E.splice(0,o);E.splice(0,o)}finally{0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.push(null)}}function ct(e,t){try{var n=e.abortableTasks;n.forEach(function(n){return Ke(n,e,t)}),n.clear(),null!==e.destination&&lt(e,e.destination)}catch(t){Be(e,t),Ue(e,t)}}function ut(){}function st(e,t,n,r){var o=!1,i=null,l="",c={push:function(e){return null!==e&&(l+=e),!0},destroy:function(e){o=!0,i=e}},u=!1;if(e=function(e,t,n,r,a,o,i){var l=[],c=new Set;return(n=Fe(t={destination:null,responseState:t,progressiveChunkSize:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:l,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===a?Me:a,onAllReady:Ze,onShellReady:void 0===i?Ze:i,onShellError:Ze,onFatalError:Ze},0,null,n,!1,!1)).parentFlushed=!0,e=Le(t,e,null,n,c,J,null,se),l.push(e),t}(e,function(e,t){return{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:(t=void 0===t?"":t)+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,ut,0,function(){u=!0}),tt(e),ct(e,r),1===e.status)e.status=2,c.destroy(e.fatalError);else if(2!==e.status&&null===e.destination){e.destination=c;try{lt(e,c)}catch(t){Be(e,t),Ue(e,t)}}if(o)throw i;if(!u)throw Error(a(426));return l}t.renderToNodeStream=function(){throw Error(a(207))},t.renderToStaticMarkup=function(e,t){return st(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},t.renderToStaticNodeStream=function(){throw Error(a(208))},t.renderToString=function(e,t){return st(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},t.version="18.2.0"},7980:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},8015:function(e,t,n){"use strict";var r=n(9516),a=n(9012),o=n(5155),i=n(5343),l=function e(t){var n=new o(t),l=a(o.prototype.request,n);return r.extend(l,o.prototype,n),r.extend(l,n),l.create=function(n){return e(i(t,n))},l}(n(7412));l.Axios=o,l.CanceledError=n(8563),l.CancelToken=n(3191),l.isCancel=n(3864),l.VERSION=n(9641).version,l.toFormData=n(6440),l.AxiosError=n(5845),l.Cancel=l.CanceledError,l.all=function(e){return Promise.all(e)},l.spread=n(7980),l.isAxiosError=n(5019),e.exports=l,e.exports.default=l},8418:function(e,t,n){"use strict";e.exports=n(5160)},8563:function(e,t,n){"use strict";var r=n(5845);function a(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(9516).inherits(a,r,{__CANCEL__:!0}),e.exports=a},8997:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=!0,a="Invariant failed";function o(e,t){if(!e){if(r)throw new Error(a);var n="function"==typeof t?t():t;throw new Error(n?a+": "+n:a)}}},9012:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9106:function(e,t,n){"use strict";var r=n(9516);function a(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var i=[];r.forEach(t,function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),i.push(a(t)+"="+a(e))}))}),o=i.join("&")}if(o){var l=e.indexOf("#");-1!==l&&(e=e.slice(0,l)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},9137:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},9516:function(e,t,n){"use strict";var r,a=n(9012),o=Object.prototype.toString,i=(r=Object.create(null),function(e){var t=o.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function l(e){return e=e.toLowerCase(),function(t){return i(t)===e}}function c(e){return Array.isArray(e)}function u(e){return void 0===e}var s=l("ArrayBuffer");function d(e){return null!==e&&"object"==typeof e}function p(e){if("object"!==i(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var f=l("Date"),m=l("File"),v=l("Blob"),y=l("FileList");function g(e){return"[object Function]"===o.call(e)}var h=l("URLSearchParams");function b(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),c(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}var _,E=(_="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return _&&e instanceof _});e.exports={isArray:c,isArrayBuffer:s,isBuffer:function(e){return null!==e&&!u(e)&&null!==e.constructor&&!u(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||o.call(e)===t||g(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:d,isPlainObject:p,isUndefined:u,isDate:f,isFile:m,isBlob:v,isFunction:g,isStream:function(e){return d(e)&&g(e.pipe)},isURLSearchParams:h,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:b,merge:function e(){var t={};function n(n,r){p(t[r])&&p(n)?t[r]=e(t[r],n):p(n)?t[r]=e({},n):c(n)?t[r]=n.slice():t[r]=n}for(var r=0,a=arguments.length;r<a;r++)b(arguments[r],n);return t},extend:function(e,t,n){return b(t,function(t,r){e[r]=n&&"function"==typeof t?a(t,n):t}),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,a,o,i={};t=t||{};do{for(a=(r=Object.getOwnPropertyNames(e)).length;a-- >0;)i[o=r[a]]||(t[o]=e[o],i[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:i,kindOfTest:l,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(u(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:E,isFileList:y}},9615:function(e,t,n){"use strict";var r=n(9137),a=n(4680);e.exports=function(e,t){return e&&!r(t)?a(e,t):t}},9641:function(e){e.exports={version:"0.27.2"}},9982:function(e,t,n){"use strict";e.exports=n(7463)}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={id:e,loaded:!1,exports:{}};return r[e].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},o.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var a=Object.create(null);o.r(a);var i={};t=t||[null,n({}),n([]),n(n)];for(var l=2&r&&e;("object"==typeof l||"function"==typeof l)&&!~t.indexOf(l);l=n(l))Object.getOwnPropertyNames(l).forEach(function(t){i[t]=function(){return e[t]}});return i.default=function(){return e},o.d(a,i),a},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var t="image/png",n="image/jpeg",r="image/jpg",a={SINGLE_CHOICE:{TYPE:"1",DISPLAY_NAME:ZPI18N.getString("zp.local.Single"),DEFAULT_CHOICES:2,CHOICE_TEXT_MAXLENGTH:1e3,MAXIMUM_CHOICES_COUNT:20,MINIMUM_CHOICES_COUNT:2,SUPPORTED_IMAGE_TYPE:[t,r,n],MAX_IMAGE_UPLOAD_SIZE:104857600,QUESTION_TEXT_MAXLENGTH:1e3,ICON:"PI_qt_sc",APPLICABLE_TO:["quiz","exam","trial_quiz","trial_exam"]},MULTIPLE_CHOICE:{TYPE:"2",DISPLAY_NAME:ZPI18N.getString("zp.multiple"),DEFAULT_CHOICES:2,CHOICE_TEXT_MAXLENGTH:1e3,ICON:"PI_qt_mc",MAXIMUM_CHOICES_COUNT:20,MINIMUM_CHOICES_COUNT:2,QUESTION_TEXT_MAXLENGTH:1e3,APPLICABLE_TO:["quiz","exam","trial_quiz","trial_exam"]},TRUE_FALSE:{TYPE:"3",DISPLAY_NAME:ZPI18N.getString("zp.assessment.question.type.true_or_false"),DEFAULT_CHOICES:2,MAXIMUM_BOOLEAN_CHOICES_COUNT:2,QUESTION_TEXT_MAXLENGTH:1e3,ICON:"PI_qt_tof",APPLICABLE_TO:["quiz","exam","trial_quiz","trial_exam"]},BLANKS:{TYPE:"4",DISPLAY_NAME:ZPI18N.getString("zp.assessment.question.type.fill_in_the_blanks"),BLANK_TEXT_MAXLENGTH:255,MAXIMUM_BLANK_COUNT:5,MINIMUM_BLANK_COUNT:1,MAXIMUM_ANSWER_PER_BLANK:5,QUESTION_TEXT_MAXLENGTH:1e3,ICON:"PI_qt_fib",APPLICABLE_TO:["exam","trial_exam"]},MATCHES:{TYPE:"5",DISPLAY_NAME:ZPI18N.getString("zp.assessment.question.type.match_the_following"),DEFAULT_MATCHES:2,MATCH_TEXT_MAXLENGTH:100,MAXIMUM_MATCHES_COUNT:10,MINIMUM_MATCHES_COUNT:2,MAX_ADDITION_MATCH_COUNT:5,QUESTION_TEXT_MAXLENGTH:1e3,ICON:"PI_qt_mtf",APPLICABLE_TO:["exam","trial_exam"]},DESCRIPTIVE:{TYPE:"6",DISPLAY_NAME:ZPI18N.getString("zp.assessment.question.type.descriptive"),ICON:"PI_qt_desc",QUESTION_TEXT_MAXLENGTH:1e3,MAX_WORDS:5e3,APPLICABLE_TO:["exam","trial_exam"]},HOTSPOT:{TYPE:"8",DISPLAY_NAME:ZPI18N.getString("zp.assessment.question.type.hotspot"),SHAPE_RECT_TYPE:0,SHAPE_CIRCLE_TYPE:1,MAX_SHAPE_ALLOWED:1,SHAPE_RECT:"rect",SHAPE_CIRCLE:"circle",MAX_WIDTH:600,MAX_HEIGHT:500,SUPPORTED_IMAGE_TYPE:[t,r,n],HOTSPOT_MAX_IMAGE_UPLOAD_SIZE:104857600,QUESTION_TEXT_MAXLENGTH:1e3,ICON:"PI_qt_hs",APPLICABLE_TO:["exam","trial_exam"]},DROPDOWN:{TYPE:"11",DISPLAY_NAME:ZPI18N.getString("zp.dropdown"),MAXIMUM_DROPDOWN_COUNT:4,MAXIMUM_DROPDOWN_CHOICE_COUNT:5,CHOICE_TEXT_MAXLENGTH:50,QUESTION_TEXT_MAXLENGTH:1e3,ICON:"PI_qt_ddwn",APPLICABLE_TO:["quiz","exam","trial_quiz"]}},i=o(2838),l=o.n(i),c=1e3,u=864e5,s=["avatar","avatarid","fname","lname","empid","usererec","id","isLogEnb","email","isNonUser","reportingTo","dualReportTo","isMobileUser","deptId","entityId","unitId","divId","designation","roleId","locId","empDOJ","mobile","extension","workLoc","workPhone"],d=(ZPI18N.getString("zp.location"),ZPI18N.getString("zp.department"),ZPI18N.getString("zp.designation"),ZPI18N.getString("zp.role"),ZPI18N.getString("zp.gender"),ZPI18N.getString("zp.user"),a.SINGLE_CHOICE.ICON,a.MULTIPLE_CHOICE.ICON,a.TRUE_FALSE.ICON,a.BLANKS.ICON,a.MATCHES.ICON,a.DESCRIPTIVE.ICON,a.HOTSPOT.ICON,a.DROPDOWN.ICON,a.SINGLE_CHOICE.TYPE,a.MULTIPLE_CHOICE.TYPE,a.TRUE_FALSE.TYPE,a.DROPDOWN.TYPE,o(2505));function p(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return f(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(f(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,f(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,f(d,"constructor",u),f(u,"constructor",c),c.displayName="GeneratorFunction",f(u,a,"GeneratorFunction"),f(d),f(d,a,"Generator"),f(d,r,function(){return this}),f(d,"toString",function(){return"[object Generator]"}),(p=function(){return{w:o,m:m}})()}function f(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}f=function(e,t,n,r){function o(t,n){f(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},f(e,t,n,r)}function m(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}var v=o.n(d)().create();v.interceptors.request.use(function(e){var t;return(e=e||{}).otherService||(e.url="/".concat((t="","undefined"!=typeof ZPeople&&void 0!==ZPeople.PORTAL_NAME?t=ZPeople.PORTAL_NAME:"undefined"!=typeof portal?t=portal:"undefined"!=typeof portalname&&(t=portalname),t),"/").concat(e.url)),e},function(e){return Promise.reject(e)}),v.interceptors.response.use(function(){var e,t=(e=p().m(function e(t){var n,r,a,o,i;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=t.headers["waf-encryption-key"],r=t.headers["content-disposition"]&&t.headers["content-disposition"].includes("attachment"),a=t.headers["content-type"],o=a&&a.includes("application/json"),!n){e.n=5;break}if(e.p=1,!(t.data instanceof Blob)){e.n=2;break}return e.a(2,t.data.text().then(function(e){return ZWAF.Encryption.decrypt(e,n,{returnBinary:r}).then(function(e){return t.data=e,t})}));case 2:return e.a(2,ZWAF.Encryption.decrypt(t.data,n).then(function(e){return t.data=o?JSON.parse(e):e,t}));case 3:e.n=5;break;case 4:return e.p=4,i=e.v,e.a(2,Promise.reject(i));case 5:return e.a(2,t)}},e,null,[[1,4]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,l,"next",e)}function l(e){m(o,r,a,i,l,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}(),function(e){return Promise.reject(e)});var y=v;function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e,t,n){return(t=function(e){var t=function(e){if("object"!=_(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}String.prototype.addPortalName=function(){var e="";return"undefined"!=typeof ZPeople&&void 0!==ZPeople.PORTAL_NAME?e=ZPeople.PORTAL_NAME:"undefined"!=typeof portal?e=portal:"undefined"!=typeof portalname&&(e=portalname),(""!==e?"/"+e:"")+this};var E=function(e){return e===a.SINGLE_CHOICE.TYPE||e===a.MULTIPLE_CHOICE.TYPE||e===a.TRUE_FALSE.TYPE},S=function(e,t){new RegExp("(^|\\s)"+t+"(\\s|$)","g").test(e.className)||(e.className=(e.className+" "+t).replace(/\s+/g," ").replace(/(^ | $)/g,""))},w=function(e,t){var n=new RegExp("(^|\\s)"+t+"(\\s|$)","g");e.className=e.className.replace(n,"$1").replace(/\s+/g," ").replace(/(^ | $)/g,"")},N=function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1},P=function(){var e=String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"");return e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),(e=l().sanitize(e)).replace(/\n/g,"<br>")},O=function(e){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)},I=function(e,t){var n=e.textContent||e.innerText||"";return!(n.length>=t&&(e.innerText=n.substring(0,t),O(e),1))},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!+e)return"0 byte";t=t<0?0:t;var n=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,n)).toFixed(t))," ").concat(["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n])},C=function(e){return null===ZPeople.USER_LIST&&(ZPeople.USER_LIST=[]),ZPeople.getUserDetailsById(e)},T=function(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.textContent},x=function(e){e.preventDefault();var t=e.clipboardData&&"object"===_(e.clipboardData)&&"function"==typeof e.clipboardData.getData?e.clipboardData.getData("text/plain"):"",n=document.createElement("textarea");n.innerHTML=t,t=n.innerText,"function"==typeof document.execCommand&&document.execCommand("insertText",!1,t)},k=function(e){if(!e)return-1;var t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,r=window.innerWidth||document.documentElement.clientWidth,a=Math.min(t.bottom,n)-Math.max(t.top,0),o=Math.min(t.right,r)-Math.max(t.left,0);return a>0&&o>0?a*o:0},D=function(e,t){if(e){var n=e.getBoundingClientRect();if(t){var r=t.getBoundingClientRect();return n.top>=r.top&&n.left>=r.left&&n.bottom<=r.bottom&&n.right<=r.right}var a=window.innerHeight||document.documentElement.clientHeight,o=window.innerWidth||document.documentElement.clientWidth;return n.top>=0&&n.left>=0&&n.bottom<=a&&n.right<=o}},j=function(e){return/^\d{8}$/.test(e)?new Date("".concat(e.slice(0,4),"-").concat(e.slice(4,6),"-").concat(e.slice(6,8))).getTime():0},A={android:function(){return navigator.userAgent.match(/Android/i)},blackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},opera:function(){return navigator.userAgent.match(/Opera Mini/i)},windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return A.android()||A.blackBerry()||A.iOS()||A.opera()||A.windows()},lowerResolution:function(){return window.innerWidth<=910}};function R(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];clearTimeout(t),t=setTimeout(function(){e.apply(r,o)},n)}return r.clear=function(){clearTimeout(t)},r}function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L(r.key),r)}}function Z(e,t,n){return(t=L(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){var t=function(e){if("object"!=q(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==q(t)?t:t+""}var F=function(){return function(e,t){return t&&M(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Z(this,"defaults",{text:"Assessment",duration:3e3,close:!0,onClick:function(){},onClose:function(){}}),Z(this,"_keydownHandler",function(e){"Escape"===e.key&&n.hideToast()}),this.options={},this.toastElement=null,this._rootElement=document.body,this._init(t)},[{key:"showSuccess",value:function(){this.toastElement=this._buildToast(),this.toastElement.classList.add("zalertbanner--success"),this.displayIcon.setAttributeNS("".concat(["ht","tp"].join(""),"://www.w3.org/1999/xlink"),"href","#zc__svg--success"),this._showToast()}},{key:"showWarning",value:function(){this.toastElement=this._buildToast(),this.toastElement.classList.add("zalertbanner--warning"),this.displayIcon.setAttributeNS("".concat(["ht","tp"].join(""),"://www.w3.org/1999/xlink"),"href","#zc__svg--warning"),this._showToast()}},{key:"showError",value:function(){this.toastElement=this._buildToast(),this.toastElement.classList.add("zalertbanner--error"),this.displayIcon.setAttributeNS("".concat(["ht","tp"].join(""),"://www.w3.org/1999/xlink"),"href","#zc__svg--error"),this._showToast()}},{key:"_showToast",value:function(){var e=this;if("string"==typeof this.options.selector?this._rootElement=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||this.options.selector instanceof ShadowRoot?this._rootElement=this.options.selector:this._rootElement=document.body,!this._rootElement)throw Error("Root element is not defined");return this._rootElement.insertBefore(this.toastElement,this._rootElement.firstChild),document.addEventListener("keydown",this._keydownHandler),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){e._removeElement(e.toastElement)},this.options.duration)),this}},{key:"hideToast",value:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this._removeElement(this.toastElement)}},{key:"_init",value:function(e){this.options=Object.assign(this.defaults,e),this.toastElement=null}},{key:"_buildToast",value:function(){var e=this,t=["ht","tp"].join("");if(!this.options)throw new Error("Toast is not initialized");var n=document.createElement("div");n.className="zalertbanner",n.style.position="fixed",n.style.top="".concat(10+60*document.querySelectorAll(".zalertbanner").length,"px"),n.style.left="50%",n.style.transform="translateX(-50%)",n.style.whiteSpace="nowrap";var r=document.createElement("i");r.className="zalertbanner__icon";var a=document.createElementNS("".concat(t,"://www.w3.org/2000/svg"),"svg");a.classList.add("zalertbanner__svg"),a.setAttribute("focusable","false"),this.displayIcon=document.createElementNS("".concat(t,"://www.w3.org/2000/svg"),"use"),a.appendChild(this.displayIcon),r.appendChild(a);var o=document.createElement("span");o.className="zalertbanner__text",o.textContent=this.options.text;var i=document.createDocumentFragment();if(this.options.close){(i=document.createElement("div")).className="zalertbanner__action",i.title="Close";var l=document.createElement("button");l.type="button",l.className="zalertbanner__close";var c=document.createElement("i");c.className="zalertbanner__icon";var u=document.createElementNS("".concat(t,"://www.w3.org/2000/svg"),"svg");u.classList.add("zalertbanner__svg"),u.setAttribute("focusable","false");var s=document.createElementNS("".concat(t,"://www.w3.org/2000/svg"),"use");s.setAttributeNS("".concat(t,"://www.w3.org/1999/xlink"),"href","#zc__svg--close"),u.appendChild(s),c.appendChild(u),l.appendChild(c),i.appendChild(l),c.addEventListener("click",function(t){t.stopPropagation(),e._removeElement(e.toastElement),window.clearTimeout(e.toastElement.timeOutValue)})}return n.appendChild(r),n.appendChild(o),this.options.close&&n.appendChild(i),"function"==typeof this.options.onClick&&n.addEventListener("click",function(t){t.stopPropagation(),e.options.onClick()}),n}},{key:"_removeElement",value:function(e){this.options.onClose.call(e),document.removeEventListener("keydown",this._keydownHandler),e.remove()}}])}(),B=function(e){return new F(e)};function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function H(e,t,n){return(t=function(e){var t=function(e){if("object"!=U(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==U(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V="engagementqbank",Y="pulseqbank",W={1:"zp.local.Single",2:"zp.multiple",6:"zp.comment",10:"zp.date",7:"zp.feedback.question.type.nps",9:"zp.lms.feedback.star",12:"zp.feedback.question.type.rating_scale",13:"zp.yesno"},G=200,Q=10,X=1e3,K=50,J=30,ee="agreement_scale",te="frequency_scale",ne="satisfaction_scale",re="custom_number",ae="custom_smiley",oe="thumbsupdown_scale",ie="yesno_scale",le="happyunhappy_scale",ce={3:["zp_em_sdagree","zp_em_nadagree","zp_em_sagree"],5:["zp_em_sdagree","zp_em_dagree","zp_em_nadagree","zp_em_agree","zp_em_sagree"],7:["zp_em_sdagree","zp_em_dagree","zp_em_smdagree","zp_em_nadagree","zp_em_smagree","zp_em_agree","zp_em_sagree"]},ue={2:["redbdrbglit","grnbdrbglit"],3:["redbdrbglit","ylwbdrbglit","grnbdrbglit"],5:["redbdrbglit","redbdrbglit1","ylwbdrbglit","grnbdrbglit1","grnbdrbglit"],7:["redbdrbglit","redbdrbglit1","orgbdrbglit","ylwbdrbglit","ylwbdrbglit1","grnbdrbglit1","grnbdrbglit"]},se={3:["redbdr","ylwbdr","grnbdr"],5:["redbdr","orgbdr","ylwbdr","grnbdr1","grnbdr"],7:["redbdr","redbdr1","orgbdr","ylwbdr","ylwbdr1","grnbdr1","grnbdr"]},de={2:["zp_em_thumbsdown","zp_em_thumbsup"]},pe={2:["zp_em_wrong","zp_em_right"]},fe={2:["zp_em_dagree","zp_em_agree"]},me={3:["redbg1","ylwbg","grnbg"],5:["redbg1","orgbg","ylwbg","grnbg1","grnbg"],7:["redbg1","redbg","orgbg","ylwbg","ylwbg1","grnbg1","grnbg"]},ve={2:["#e8344d","#4dcc57"],3:["#e8344d","#f9ce2b","#4dcc57"],5:["#e8344d","#f89e23","#f9ce2b","#acd91b","#4dcc57"],7:["#e8344d","#f77e20","#f89e23","#f9ce2b","#d4d81d","#acd91b","#4dcc57"]},ye={2:["zpl_ibg PI_like","zpl_ibg PI_tick2","zpl_ibg PI_smile"]},ge=["zpl_thmGmtl","zpl_thmMmos","zpl_thmOblu"],he={agreement_scale:{7:["zp.feedback.customtext.strongly_disagree","zp.feedback.customtext.disagree","zp.feedback.customtext.somewhat_disagree","zp.feedback.customtext.agree_nor_disagree","zp.feedback.customtext.somewhat_agree","zp.feedback.customtext.agree","zp.feedback.customtext.strongly_agree"],5:["zp.feedback.customtext.strongly_disagree","zp.feedback.customtext.disagree","zp.neutral","zp.feedback.customtext.agree","zp.feedback.customtext.strongly_agree"],3:["zp.feedback.customtext.disagree","zp.neutral","zp.feedback.customtext.agree"]},frequency_scale:{7:["zp.survey.minscore.never","zp.feedback.customtext.very_rarely","zp.feedback.customtext.rarely","zp.feedback.customtext.sometimes","zp.feedback.customtext.often","zp.feedback.customtext.very_often","zp.survey.maxscore.always"],5:["zp.survey.minscore.never","zp.feedback.customtext.rarely","zp.feedback.customtext.sometimes","zp.feedback.customtext.often","zp.survey.maxscore.always"],3:["zp.survey.minscore.never","zp.feedback.customtext.sometimes","zp.survey.maxscore.always"]},satisfaction_scale:{7:["zp.verydissatisfied","zp.feedback.customtext.dissatisfied","zp.somewhatdissatisfied","zp.feedback.customtext.satisfied_nor_dissatisfied","zp.somewhatsatisfied","zp.feedback.customtext.satisfied","zp.verysatisfied"],5:["zp.verydissatisfied","zp.feedback.customtext.dissatisfied","zp.neutral","zp.feedback.customtext.satisfied","zp.verysatisfied"],3:["zp.feedback.customtext.dissatisfied","zp.neutral","zp.feedback.customtext.satisfied"]},custom_number:{7:["zp.verydissatisfied","zp.feedback.customtext.dissatisfied","zp.somewhatdissatisfied","zp.feedback.customtext.satisfied_nor_dissatisfied","zp.somewhatsatisfied","zp.feedback.customtext.satisfied","zp.verysatisfied"],5:["zp.verydissatisfied","zp.feedback.customtext.dissatisfied","zp.neutral","zp.feedback.customtext.satisfied","zp.verysatisfied"],3:["zp.feedback.customtext.dissatisfied","zp.neutral","zp.feedback.customtext.satisfied"]},custom_smiley:{7:["zp.verydissatisfied","zp.feedback.customtext.dissatisfied","zp.somewhatdissatisfied","zp.feedback.customtext.satisfied_nor_dissatisfied","zp.somewhatsatisfied","zp.feedback.customtext.satisfied","zp.verysatisfied"],5:["zp.verydissatisfied","zp.feedback.customtext.dissatisfied","zp.neutral","zp.feedback.customtext.satisfied","zp.verysatisfied"],3:["zp.feedback.customtext.dissatisfied","zp.neutral","zp.feedback.customtext.satisfied"]},thumbsupdown_scale:{2:["zp.unlike","zp.like"]},yesno_scale:{2:["zp.no","zp.yes"]},happyunhappy_scale:{2:["zp.unhappy","zp.survey.theme.happy"]}},be=["nhappy","nhappy","nhappy","nhappy","nhappy","nhappy","nhappy","okay","okay","ehappy","ehappy"],_e="employee_engagement",Ee="engagement",Se="enps",we="exitfeedback",Ne="lmsfeedback",Pe="template",Oe="shared",Ie="pulse",ze="small",Ce="medium",Te="large",xe="left",ke="center",De=[{key:0,className:"zpl_thmLayout1",previewClassName:"zpl_bgDeflt P0I"},{key:1,className:"zpl_thmLayout2",previewClassName:"zpl_bgRgt"},{key:2,className:"zpl_thmLayout3",previewClassName:"zpl_bgLft"},{key:3,className:"zpl_thmLayout4",previewClassName:"zpl_bgCtr"},{key:4,className:"zpl_thmLayout5",previewClassName:"zpl_bgRgt15"},{key:5,className:"zpl_thmLayout6",previewClassName:"zpl_bgLft15"},{key:6,className:"zpl_thmLayout7",previewClassName:"zpl_bgTop"},{key:7,className:"zpl_thmLayout8",previewClassName:"zpl_bgCtr15"}],je={0:"mm-dd-yyyy",1:"dd-mm-yyyy",2:"dd-MMM-yyyy",3:"dd-MMM-yy",4:"mm/dd/yyyy",5:"dd/mm/yyyy",6:"yyyy-mm-dd",7:"yyyy/mm/dd",8:"dd.mm.yyyy"},Ae={"mm-dd-yyyy":0,"dd-mm-yyyy":1,"dd-MMM-yyyy":2,"dd-MMM-yy":3,"mm/dd/yyyy":4,"dd/mm/yyyy":5,"yyyy-mm-dd":6,"yyyy/mm/dd":7,"dd.mm.yyyy":8},Re=104857600,qe="POST",Me="GET",Ze="success",Le="create",Fe="custom",Be="organization",Ue="direct_subordinates",He=["enpsqtxt1","enpsqtxt2","enpsqtxt3","enpsqtxt4","enpsqtxt5"],Ve=["enpsatxt1","enpsatxt2","enpsatxt3","enpsatxt4","enpsatxt5"],Ye=["enpsbg1","enpsbg2","enpsbg3","enpsbg4","enpsbg5"],We={small:"zpl_ITQAsml",medium:"",large:"zpl_ITQAlrg"},Ge=[t,r,n],$e="0",Qe="4",Xe="newsurvey",Ke="newsurvey_manual",Je={1:"zp.enpssurvey",2:"zp.engagement.survey",4:"zp.pulse.survey"},et={enps:"zp.enpssurvey",engagement:"zp.engagement.survey",pulse:"zp.pulse.survey"},tt=[{name:ZPI18N.getString("zp.survey.displayimage.strokes.green"),className:"tmpCV0",url:ZPeople.getResourceURL("".concat(newUIImageUrl,"enps/","tmpCV0.png"))},{name:ZPI18N.getString("zp.survey.displayimage.strokes.violet"),className:"tmpCV1",url:ZPeople.getResourceURL("".concat(newUIImageUrl,"enps/","tmpCV1.png"))},{name:ZPI18N.getString("zp.survey.displayimage.strokes.pink"),className:"tmpCV2",url:ZPeople.getResourceURL("".concat(newUIImageUrl,"enps/","tmpCV2.png"))},{name:ZPI18N.getString("zp.survey.displayimage.strokes.red"),className:"tmpCV3",url:ZPeople.getResourceURL("".concat(newUIImageUrl,"enps/","tmpCV3.png"))},{name:ZPI18N.getString("zp.survey.displayimage.strokes.coral"),className:"tmpCV4",url:ZPeople.getResourceURL("".concat(newUIImageUrl,"enps/","tmpCV4.png"))},{name:ZPI18N.getString("zp.survey.displayimage.digital.brown"),className:"tmpCV5",url:ZPeople.getResourceURL("".concat(newUIImageUrl,"enps/","tmpCV5.png"))},{name:ZPI18N.getString("zp.survey.displayimage.digital.ocher"),className:"tmpCV6",url:ZPeople.getResourceURL("".concat(newUIImageUrl,"enps/","tmpCV6.png"))},{name:ZPI18N.getString("zp.survey.displayimage.digital.sepia"),className:"tmpCV7",url:ZPeople.getResourceURL("".concat(newUIImageUrl,"enps/","tmpCV7.png"))},{name:ZPI18N.getString("zp.survey.displayimage.digital.violet"),className:"tmpCV8",url:ZPeople.getResourceURL("".concat(newUIImageUrl,"enps/","tmpCV8.png"))},{name:ZPI18N.getString("zp.survey.displayimage.digital.purple"),className:"tmpCV9",url:ZPeople.getResourceURL("".concat(newUIImageUrl,"enps/","tmpCV9.png"))},{name:ZPI18N.getString("zp.survey.displayimage.camo.violet"),className:"tmpCV10",url:ZPeople.getResourceURL("".concat(newUIImageUrl,"enps/","tmpCV10.png"))},{name:ZPI18N.getString("zp.survey.displayimage.camo.green"),className:"tmpCV11",url:ZPeople.getResourceURL("".concat(newUIImageUrl,"enps/","tmpCV11.png"))},{name:ZPI18N.getString("zp.survey.displayimage.camo.jade"),className:"tmpCV12",url:ZPeople.getResourceURL("".concat(newUIImageUrl,"enps/","tmpCV12.png"))},{name:ZPI18N.getString("zp.survey.displayimage.camo.olive"),className:"tmpCV13",url:ZPeople.getResourceURL("".concat(newUIImageUrl,"enps/","tmpCV13.png"))},{name:ZPI18N.getString("zp.survey.displayimage.camo.brown"),className:"tmpCV14",url:ZPeople.getResourceURL("".concat(newUIImageUrl,"enps/","tmpCV14.png"))}],nt="admin",rt="department_lead",at="manager",ot="ADD_PERM",it="SHARE_PERM",lt="create",ct="config",ut="share",st="UNABLE_TO_PROCESS",dt="COMMENT_MAX_LIMIT_REACHED",pt=["EmployeeName","SurveyName","OpeningDate","ClosingDate"],ft=["EmployeeName","SurveyName"],mt={none:ZPI18N.getString("zp.none"),monthly:ZPI18N.getString("zp.monthly"),quarterly:ZPI18N.getString("zp.quarterly"),halfly:ZPI18N.getString("zp.halfyearly"),annually:ZPI18N.getString("zp.annually"),weekly:ZPI18N.getString("zp.weekly"),biweekly:ZPI18N.getString("zp.biweekly")},vt="Survey_Template",yt=[{value:"10080",label:ZPI18N.getString("zp.numberdays",[7])},{value:"8640",label:ZPI18N.getString("zp.numberdays",[6])},{value:"7200",label:ZPI18N.getString("zp.numberdays",[5])},{value:"5760",label:ZPI18N.getString("zp.numberdays",[4])},{value:"4320",label:ZPI18N.getString("zp.numberdays",[3])},{value:"2880",label:ZPI18N.getString("zp.numberdays",[2])},{value:"1440",label:ZPI18N.getString("zp.numberday",[1])}],gt=[{label:ZPI18N.getString("zp.survey.score.less_equal",[""]),value:"0"},{label:ZPI18N.getString("zp.survey.score.greater_equal",[""]),value:"1"}],ht=[{value:"location",label:ZPI18N.getString("zp.location")},{value:"department",label:ZPI18N.getString("zp.department")},{value:"designation",label:ZPI18N.getString("zp.designation")},{value:"role",label:ZPI18N.getString("zp.role")},{value:"gender",label:ZPI18N.getString("zp.gender")},{value:"user",label:ZPI18N.getString("zp.user")}],bt="all",_t="active",Et="disabled",St="closed",wt="deleted",Nt="ENPS_SURVEY",Pt=["0","1","2","3","4","5","6","7","8","9","10"],Ot="mandatory",It="anonymous",zt="optional",Ct={thisMonth:{label:ZPI18N.getString("zp.onlyparticularmonth")},lastMonth:{label:ZPI18N.getString("zp.lastmonthsmall")},lastThreeMonth:{label:ZPI18N.getString("zp.lite.threemonths")},lastSixMonth:{label:ZPI18N.getString("zp.lite.sixmonths")},custom:{label:ZPI18N.getString("zp.custom_period")}},Tt=[{label:ZPI18N.getString("zp.all"),value:0},{label:ZPI18N.getString("zp.ongoingcases"),value:2},{label:ZPI18N.getString("zp.upcoming"),value:1},{label:ZPI18N.getString("zp.draft"),value:4},{label:ZPI18N.getString("zp.lms.content.Completed"),value:3}],xt=[{label:ZPI18N.getString("zp.engagementsurvey"),value:2},{label:ZPI18N.getString("zp.survey.pulsesurvey"),value:4}],kt=[{name:"all",label:ZPI18N.getString("zp.all"),value:"0",className:"zpl_seclr_bdr2"},{name:"actionpending",label:ZPI18N.getString("zp.pending"),value:"1",className:"zpl_seclr_bdr8"},{name:"completed",label:ZPI18N.getString("zp.lms.content.Completed"),value:"2",className:"zpl_seclr_bdr10"},{name:"expired",label:ZPI18N.getString("zp.expired"),value:"3",className:"zpl_seclr_bdr5"}],Dt=["#5856DE","#00D119","#BD4BE5","#FF8E00","#00C1F5","#FFC900","#FF2729","#FFB319","#5089C6","#3F3697","#ffa600",,"#DF711B","#FC5404","#ff4c54","#00a763","#af75d9","#FF4C29","#628395","#787A91","#F5C6AA","#548CA8","#C68B59","#6F69AC","#FF95C5","#38A3A5","#C8C6C6","#3DB2FF","#f7f300","#3D84B8","#87ffbd","#FFDF6B","#F0E3CA","#28B5B5","#bfef45"],jt={Male:"#1d90ff",Female:"#ffc1ca",unspecified:"#f17601"},At={positive:"#00a763",moderate_positive:"#acd91b",neutral:"#ffa600",negative:"#ff4c54"},Rt=["#ffbd59","#2e8bba","#f34d2c","#5e16eb","#6be6e8"],qt="unspecified",Mt="location",Zt="department",Lt="designation",Ft="role",Bt="gender",Ut="year",Ht={edit:{label:ZPI18N.getString("zp.edit"),value:"edit",iconClass:"PI_edt"},clone:{label:ZPI18N.getString("zp.clone"),value:"clone",iconClass:"PI_clone"},publish:{label:ZPI18N.getString("zp.publish"),value:"publish",iconClass:"PI_publish"},delete:{label:ZPI18N.getString("zp.delete"),value:"delete",className:"red",iconClass:"PI_delete"},enable:{label:ZPI18N.getString("zp.enable"),value:"enable",iconClass:"PI_tick2"},disable:{label:ZPI18N.getString("zp.disable"),value:"disable",iconClass:"PI_disable"},share:{label:ZPI18N.getString("zp.survey.share_report"),value:"share_report",iconClass:"PI_share"},preview:{label:ZPI18N.getString("zp.preview"),value:"preview",iconClass:"PI_eye"},copyurl:{label:ZPI18N.getString("zp.survey.copyurl"),value:"copyurl",iconClass:"PI_cpy"},markasready:{label:ZPI18N.getString("zp.survey.markasready"),value:"markasready",iconClass:"PI_tick2"},print:{label:ZPI18N.getString("zp.print"),value:"print",iconClass:"PI_print"},export:{label:ZPI18N.getString("zp.export"),value:"export",iconClass:"PI_exprt"},seperator:{itemType:"separator"},createEnps:{label:ZPI18N.getString("zp.enpssurvey"),value:"createEnps",iconClass:"PI_enps_survey"},createEngagement:{label:ZPI18N.getString("zp.engagementsurvey"),value:"createEngagement",iconClass:"PI_annual_survey"},createPulse:{label:ZPI18N.getString("zp.survey.pulsesurvey"),value:"createPulse",iconClass:"PI_pulse_survey"}},Vt="completed",Yt="ongoing",Wt="upcoming",Gt=[ZPI18N.getString("zp.jan"),ZPI18N.getString("zp.feb"),ZPI18N.getString("zp.mar"),ZPI18N.getString("zp.apr"),ZPI18N.getString("zp.may"),ZPI18N.getString("zp.jun"),ZPI18N.getString("zp.jul"),ZPI18N.getString("zp.aug"),ZPI18N.getString("zp.sep"),ZPI18N.getString("zp.oct"),ZPI18N.getString("zp.nov"),ZPI18N.getString("zp.dec")],$t="positive",Qt="neutral",Xt="negative",Kt="NA",Jt="not_answered",en={active:"zp_img_tq",answered:"zp_nd_implcmplt",closed:"zp_nd_trainer",disabled:"zp_nd_noesgn",deleted:"zp_nd_template"},tn={IS_EXPORT_VAILD_PASSWORD:/^((?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[#?!@$%^&*-]))[A-Za-z0-9#?!@$%^&*-]{8,}$/},nn="answered",rn="overwrite_template",an="new_template",on="survey",ln="Survey",cn="Files",un={0:{name:"all",label:ZPI18N.getString("zp.all"),type:"0",color:"blu",className:"zpl_seclr_bdr2"},1:{name:"actionpending",label:ZPI18N.getString("zp.pending"),type:"1",color:"ylw",className:"zpl_seclr_bdr8"},2:{name:"completed",label:ZPI18N.getString("zp.completed"),type:"2",color:"grn",className:"zpl_seclr_bdr10"},3:{name:"expired",label:ZPI18N.getString("zp.expired"),type:"3",color:"red",className:"zpl_seclr_bdr5"}},sn={anonymous:ZPI18N.getString("zp.survey.reveal_identity.anonymous"),optional:ZPI18N.getString("zp.survey.reveal_identity.optional"),mandatory:ZPI18N.getString("zp.survey.reveal_identity.mandatory")},dn={anonymous:ZPI18N.getString("zp.anonymous"),optional:ZPI18N.getString("zp.optional"),mandatory:ZPI18N.getString("zp.lms.mandatory")},pn={negative:{label:ZPI18N.getString("zp.survey.report.performed.least"),color:"redbglit2"},neutral:{label:ZPI18N.getString("zp.survey.report.performed.neutral"),color:"ylwbglit2"},positive:{label:ZPI18N.getString("zp.survey.report.metricwise.highly"),color:"grnbglit2"}},fn="actual",mn="delta",vn="single",yn="question_level",gn="group",hn=[{label:ZPI18N.getString("zp.departments"),value:"department"},{label:ZPI18N.getString("zp.designations"),value:"designation"},{label:ZPI18N.getString("zp.locations"),value:"location"}],bn=[{label:ZPI18N.getString("zp.score"),value:"score"},{label:ZPI18N.getString("zp.percentage"),value:"percentage"}],_n=["aq_bgdef","aq_bg1","aq_bg2","aq_bg3","aq_bg4","aq_bg5","aq_bg6","aq_bg7","aq_bg8","aq_bg9","aq_bg10","aq_bg11","aq_bg12","aq_bg13","aq_bg14","aq_bg15","aq_bg16","aq_bg17","aq_bg18","aq_bg19","aq_bg20","aq_bg21","aq_bg22"],En={aq_bgdef:"#ffffff",aq_bg1:"#003E80",aq_bg2:"#00520A",aq_bg3:"#007CFF",aq_bg4:"#00D119",aq_bg5:"#2F7A7A",aq_bg6:"#302E78",aq_bg7:"#56DEDE",aq_bg8:"#6563FF",aq_bg9:"#692A80",aq_bg10:"#997900",aq_bg11:"#A30003",aq_bg12:"#AD3C05",aq_bg13:"#BD4BD5",aq_bg14:"#F95607",aq_bg15:"#FF0004",aq_bg16:"#FFC900",aq_bg17:"#FF8E00",aq_bg18:"#272D35",aq_bg19:"#A35A00",aq_bg20:"#D1D6DB",aq_bg21:"#00a763",aq_bg22:"#acd91b"},Sn="aq_bgdef",wn=H(H(H(H({},$t,"#9be139"),Qt,"#f8cd42"),Xt,"#fe633d"),Kt,"#B3B3B3"),Nn="none",Pn="annually",On="halfly",In="quarterly",zn="monthly",Cn="weekly",Tn="biweekly",xn="all",kn="subordinate",Dn="own_department",jn="custom",An="view",Rn="manual",qn="time-based",Mn=function(e){switch(e.errorcode){case"METRIC_NAME_MAX_LENGTH_EXCEED":case"METRIC_ALREADY_AVAILABLE":case"SURVEY_DISABLED":case"REPEAT_EMPTY":case"INVALID_REPEAT":case"REPEAT_UNTIL_EXCEEDED":case"SURVEY_ALREADY_RESPONDED":case"SURVEY_TIMEDOUT":case"INVALID_METRIC":case"NO_PERMISSION":case dt:case"QUESTIONS_MAXLIMIT_REACHED":case"INSUFFICIENT_QUESTIONS_FOR_SURVEY":case"INVAILD_APPLICABLE_RULES":case"METRIC_ALREADY_TAGGED":case"METRIC_CANNOT_DISABLE":case"MODULE_CANNOT_BE_DISABLED":B({text:e.message,duration:3e3}).showError();break;default:B({text:ZPI18N.getString("zp.unabletoprocess"),duration:3e3}).showError()}};function Zn(e){return Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zn(e)}var Ln=["ht","tp"].join(""),Fn=/^on/,Bn={viewBox:!0},Un={svg:!0,g:!0,path:!0,rect:!0,defs:!0,lineargradient:!0,stop:!0},Hn={fragment:!0},Vn=[],Yn=function(e){return Fn.test(e)},Wn=function(e){return e.slice(2).toLowerCase()},Gn=function(e){return Bn[e]},$n=function(e,t,n){var r=!1;return Vn.forEach(function(a){var o=a(e,t,n);r=r||o}),r},Qn=function(e,t){if(t)for(var n in t)if("ref"===n&&"function"==typeof t[n])t[n](e);else if(Yn(n))"string"!=typeof t[n]&&e.addEventListener(Wn(n),t[n]);else if("style"===n&&"object"===Zn(t[n]))Object.assign(e.style,t[n]);else if("className"===n)e.setAttribute("class",t[n]);else if("dangerouslySetInnerHTML"===n)e.innerHTML=t[n]._html;else{if($n(n,e,t))continue;void 0!==t[n]&&(Gn(n)&&Un[e.type.toLowerCase()]?e.setAttributeNS("",n,t[n]):e.setAttribute(n,t[n]))}},Xn=function(e){var t;if(!e)return document.createComment("");if("function"==typeof e)return e();if("string"==typeof e)return document.createTextNode(e);if("number"==typeof e)return document.createTextNode(String(e));if(e instanceof Node)return e;if("object"===Zn(e)&&"function"==typeof e.type)return e.type(e.props);var n=(e.type||"").trim().toLowerCase();return Un[n]?(n=(e.type||"").trim(),t=document.createElementNS("".concat(Ln,"://www.w3.org/2000/svg"),n),"svg"===n&&t.setAttributeNS("".concat(Ln,"://www.w3.org/2000/xmlns/"),"xmlns:xlink","".concat(Ln,"://www.w3.org/1999/xlink")),e.props&&Qn(t,e.props)):Hn[n]?t=document.createDocumentFragment():n&&(t=document.createElement(n),e.props&&Qn(t,e.props)),(e.children||[]).reduce(function(e,t){return e.concat(t)},[]).forEach(function(e){if(void 0!==e){var n=Xn(e);void 0!==n&&t.appendChild(n)}}),t};function Kn(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return Xn({type:e,props:t,children:r})}var Jn={TWO_POINT_SCALE:{TYPE:"13",TYPE_STR:"twopoint_scale",DISPLAY_NAME:"Yes/No",MAX_COUNT:2,ICON:"PI_yes_no"},NPS:{TYPE:"7",TYPE_STR:"nps",DISPLAY_NAME:ZPI18N.getString("zp.feedback.question.type.nps"),ICON:"PI_nps"},STAR:{TYPE:"9",TYPE_STR:"star",DISPLAY_NAME:ZPI18N.getString("zp.lms.feedback.star"),MAX_COUNT:5,ICON:"PI_star_line"},RATING_SCALE:{TYPE:"12",TYPE_STR:"scale",DISPLAY_NAME:ZPI18N.getString("zp.feedback.question.type.rating_scale"),MAX_COUNT:5,ICON:"PI_rate_scale"},SINGLE_CHOICE:{TYPE:"1",TYPE_STR:"single_choice",DISPLAY_NAME:ZPI18N.getString("zp.local.Single"),DEFAULT_CHOICES:2,CHOICE_TEXT_MAXLENGTH:1e3,MAXIMUM_CHOICES_COUNT:20,MINIMUM_CHOICES_COUNT:2,ICON:"PI_qt_sc"},MULTIPLE_CHOICE:{TYPE:"2",TYPE_STR:"multiple_choice",DISPLAY_NAME:ZPI18N.getString("zp.multiple"),DEFAULT_CHOICES:2,ICON:"PI_qt_mc"},COMMENT:{TYPE:"6",TYPE_STR:"comment",DISPLAY_NAME:ZPI18N.getString("zp.comment"),ICON:"PI_comment"},DATE:{TYPE:"10",TYPE_STR:"datetime",DISPLAY_NAME:ZPI18N.getString("zp.date"),ICON:"PI_date"}};function er(e){return er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},er(e)}function tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nr(e,t,n){return(t=function(e){var t=function(e){if("object"!=er(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=er(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==er(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];ZPeopleComponents.isComponent("#assess-survey-zpmenu")?ar("assess-survey-zpmenu"):Object.keys(e).length&&t.length&&(ZPeopleComponents.createMenu("assess-survey-zpmenu",t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(n),!0).forEach(function(t){nr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({className:"zpl_drpdwn",hide:function(){return ar("assess-survey-zpmenu")}},e)),ZPeopleComponents.menu("#assess-survey-zpmenu").show())},ar=function(e){var t,n;null===(t=ZPeopleComponents.menu(document.getElementById(e)))||void 0===t||t.destroy(),null===(n=document.getElementById(e))||void 0===n||n.remove()},or=Symbol.for("immer-nothing"),ir=Symbol.for("immer-draftable"),lr=Symbol.for("immer-state");function cr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ur=Object.getPrototypeOf;function sr(e){return!!e&&!!e[lr]}function dr(e){return!!e&&(fr(e)||Array.isArray(e)||!!e[ir]||!!e.constructor?.[ir]||hr(e)||br(e))}var pr=Object.prototype.constructor.toString();function fr(e){if(!e||"object"!=typeof e)return!1;const t=ur(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===pr}function mr(e,t){0===vr(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function vr(e){const t=e[lr];return t?t.type_:Array.isArray(e)?1:hr(e)?2:br(e)?3:0}function yr(e,t){return 2===vr(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function gr(e,t,n){const r=vr(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function hr(e){return e instanceof Map}function br(e){return e instanceof Set}function _r(e){return e.copy_||e.base_}function Er(e,t){if(hr(e))return new Map(e);if(br(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=fr(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[lr];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const a=n[r],o=t[a];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(ur(e),t)}{const t=ur(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function Sr(e,t=!1){return Nr(e)||sr(e)||!dr(e)||(vr(e)>1&&(e.set=e.add=e.clear=e.delete=wr),Object.freeze(e),t&&Object.entries(e).forEach(([e,t])=>Sr(t,!0))),e}function wr(){cr(2)}function Nr(e){return Object.isFrozen(e)}var Pr,Or={};function Ir(e){const t=Or[e];return t||cr(0),t}function zr(){return Pr}function Cr(e,t){t&&(Ir("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Tr(e){xr(e),e.drafts_.forEach(Dr),e.drafts_=null}function xr(e){e===Pr&&(Pr=e.parent_)}function kr(e){return Pr={drafts_:[],parent_:Pr,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Dr(e){const t=e[lr];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function jr(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[lr].modified_&&(Tr(t),cr(4)),dr(e)&&(e=Ar(t,e),t.parent_||qr(t,e)),t.patches_&&Ir("Patches").generateReplacementPatches_(n[lr].base_,e,t.patches_,t.inversePatches_)):e=Ar(t,n,[]),Tr(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==or?e:void 0}function Ar(e,t,n){if(Nr(t))return t;const r=t[lr];if(!r)return mr(t,(a,o)=>Rr(e,r,t,a,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return qr(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let a=t,o=!1;3===r.type_&&(a=new Set(t),t.clear(),o=!0),mr(a,(a,i)=>Rr(e,r,t,a,i,n,o)),qr(e,t,!1),n&&e.patches_&&Ir("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Rr(e,t,n,r,a,o,i){if(sr(a)){const i=Ar(e,a,o&&t&&3!==t.type_&&!yr(t.assigned_,r)?o.concat(r):void 0);if(gr(n,r,i),!sr(i))return;e.canAutoFreeze_=!1}else i&&n.add(a);if(dr(a)&&!Nr(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ar(e,a),t&&t.scope_.parent_||"symbol"==typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||qr(e,a)}}function qr(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Sr(t,n)}var Mr={get(e,t){if(t===lr)return e;const n=_r(e);if(!yr(n,t))return function(e,t,n){const r=Fr(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!dr(r)?r:r===Lr(e.base_,t)?(Ur(e),e.copy_[t]=Hr(r,e)):r},has(e,t){return t in _r(e)},ownKeys(e){return Reflect.ownKeys(_r(e))},set(e,t,n){const r=Fr(_r(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Lr(_r(e),t),i=r?.[lr];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((a=n)===(o=r)?0!==a||1/a==1/o:a!=a&&o!=o)&&(void 0!==n||yr(e.base_,t)))return!0;Ur(e),Br(e)}var a,o;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return void 0!==Lr(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Ur(e),Br(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=_r(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){cr(11)},getPrototypeOf(e){return ur(e.base_)},setPrototypeOf(){cr(12)}},Zr={};function Lr(e,t){const n=e[lr];return(n?_r(n):e)[t]}function Fr(e,t){if(!(t in e))return;let n=ur(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=ur(n)}}function Br(e){e.modified_||(e.modified_=!0,e.parent_&&Br(e.parent_))}function Ur(e){e.copy_||(e.copy_=Er(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function Hr(e,t){const n=hr(e)?Ir("MapSet").proxyMap_(e,t):br(e)?Ir("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:zr(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,o=Mr;n&&(a=[r],o=Zr);const{revoke:i,proxy:l}=Proxy.revocable(a,o);return r.draft_=l,r.revoke_=i,l}(e,t);return(t?t.scope_:zr()).drafts_.push(n),n}function Vr(e){return sr(e)||cr(10),Yr(e)}function Yr(e){if(!dr(e)||Nr(e))return e;const t=e[lr];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Er(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Er(e,!0);return mr(n,(e,t)=>{gr(n,e,Yr(t))}),t&&(t.finalized_=!1),n}mr(Mr,(e,t)=>{Zr[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Zr.deleteProperty=function(e,t){return Zr.set.call(this,e,t,void 0)},Zr.set=function(e,t,n){return Mr.set.call(this,e[0],t,n,e[0])};var Wr=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...a){return r.produce(e,e=>t.call(this,e,...a))}}let r;if("function"!=typeof t&&cr(6),void 0!==n&&"function"!=typeof n&&cr(7),dr(e)){const a=kr(this),o=Hr(e,void 0);let i=!0;try{r=t(o),i=!1}finally{i?Tr(a):xr(a)}return Cr(a,n),jr(r,a)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===or&&(r=void 0),this.autoFreeze_&&Sr(r,!0),n){const t=[],a=[];Ir("Patches").generateReplacementPatches_(e,r,t,a),n(t,a)}return r}cr(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,t=>e(t,...n));let n,r;return[this.produce(e,t,(e,t)=>{n=e,r=t}),n,r]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){dr(e)||cr(8),sr(e)&&(e=Vr(e));const t=kr(this),n=Hr(e,void 0);return n[lr].isManual_=!0,xr(t),n}finishDraft(e,t){const n=e&&e[lr];n&&n.isManual_||cr(9);const{scope_:r}=n;return Cr(r,t),jr(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Ir("Patches").applyPatches_;return sr(e)?r(e,t):this.produce(e,e=>r(e,t))}},Gr=Wr.produce;Wr.produceWithPatches.bind(Wr),Wr.setAutoFreeze.bind(Wr),Wr.setUseStrictShallowCopy.bind(Wr),Wr.applyPatches.bind(Wr),Wr.createDraft.bind(Wr),Wr.finishDraft.bind(Wr);var $r=e=>Array.isArray(e)?e:[e];Symbol(),Object.getPrototypeOf({});var Qr="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function Xr(){return{s:0,v:void 0,o:null,p:null}}function Kr(e,t={}){let n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let a,o=0;function i(){let t=n;const{length:i}=arguments;for(let e=0,n=i;e<n;e++){const n=arguments[e];if("function"==typeof n||"object"==typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=Xr(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=Xr(),e.set(n,t)):t=r}}const l=t;let c;if(1===t.s)c=t.v;else if(c=e.apply(null,arguments),o++,r){const e=a?.deref?.()??a;null!=e&&r(e,c)&&(c=e,0!==o&&o--),a="object"==typeof c&&null!==c||"function"==typeof c?new Qr(c):c}return l.s=1,l.v=c,c}return i.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},i.resetResultsCount()},i.resultsCount=()=>o,i.resetResultsCount=()=>{o=0},i}function Jr(e,...t){const n="function"==typeof e?{memoize:e,memoizeOptions:t}:e,r=(...e)=>{let t,r=0,a=0,o={},i=e.pop();"object"==typeof i&&(o=i,i=e.pop()),function(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}(i,`createSelector expects an output function after the inputs, but received: [${typeof i}]`);const l={...n,...o},{memoize:c,memoizeOptions:u=[],argsMemoize:s=Kr,argsMemoizeOptions:d=[],devModeChecks:p={}}=l,f=$r(u),m=$r(d),v=function(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){const n=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}(e),y=c(function(){return r++,i.apply(null,arguments)},...f),g=s(function(){a++;const e=function(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}(v,arguments);return t=y.apply(null,e),t},...m);return Object.assign(g,{resultFunc:i,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>t,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:c,argsMemoize:s})};return Object.assign(r,{withTypes:()=>r}),r}var ea=Jr(Kr),ta=Object.assign((e,t=ea)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e);return t(n.map(t=>e[t]),(...e)=>e.reduce((e,t,r)=>(e[n[r]]=t,e),{}))},{withTypes:()=>ta});function na(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ra=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),aa=()=>Math.random().toString(36).substring(7).split("").join("."),oa={INIT:`@@redux/INIT${aa()}`,REPLACE:`@@redux/REPLACE${aa()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${aa()}`};function ia(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function la(e,t,n){if("function"!=typeof e)throw new Error(na(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(na(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(na(1));return n(la)(e,t)}let r=e,a=t,o=new Map,i=o,l=0,c=!1;function u(){i===o&&(i=new Map,o.forEach((e,t)=>{i.set(t,e)}))}function s(){if(c)throw new Error(na(3));return a}function d(e){if("function"!=typeof e)throw new Error(na(4));if(c)throw new Error(na(5));let t=!0;u();const n=l++;return i.set(n,e),function(){if(t){if(c)throw new Error(na(6));t=!1,u(),i.delete(n),o=null}}}function p(e){if(!ia(e))throw new Error(na(7));if(void 0===e.type)throw new Error(na(8));if("string"!=typeof e.type)throw new Error(na(17));if(c)throw new Error(na(9));try{c=!0,a=r(a,e)}finally{c=!1}return(o=i).forEach(e=>{e()}),e}return p({type:oa.INIT}),{dispatch:p,subscribe:d,getState:s,replaceReducer:function(e){if("function"!=typeof e)throw new Error(na(10));r=e,p({type:oa.REPLACE})},[ra]:function(){const e=d;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(na(11));function n(){const e=t;e.next&&e.next(s())}return n(),{unsubscribe:e(n)}},[ra](){return this}}}}}function ca(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}function ua(e){return({dispatch:t,getState:n})=>r=>a=>"function"==typeof a?a(t,n,e):r(a)}var sa=ua(),da=ua,pa=(((...e)=>{const t=Jr(...e),n=Object.assign((...e)=>{const n=t(...e),r=(e,...t)=>n(sr(e)?Vr(e):e,...t);return Object.assign(r,n),r},{withTypes:()=>n})})(Kr),"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?ca:ca.apply(null,arguments)}),fa=("undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__,e=>e&&"function"==typeof e.match);function ma(e,t){function n(...n){if(t){let r=t(...n);if(!r)throw new Error(Ba(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:n[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>function(e){return ia(e)&&"type"in e&&"string"==typeof e.type}(t)&&t.type===e,n}var va=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function ya(e){return dr(e)?Gr(e,()=>{}):e}function ga(e,t,n){if(e.has(t)){let r=e.get(t);return n.update&&(r=n.update(r,t,e),e.set(t,r)),r}if(!n.insert)throw new Error(Ba(10));const r=n.insert(t,e);return e.set(t,r),r}var ha=e=>t=>{setTimeout(t,e)},ba="undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:ha(10);function _a(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let o=new va;return t&&("boolean"==typeof t?o.push(sa):o.push(da(t.extraArgument))),o},{reducer:n,middleware:r,devTools:a=!0,preloadedState:o,enhancers:i}=e||{};let l,c;if("function"==typeof n)l=n;else{if(!ia(n))throw new Error(Ba(1));l=function(e){const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const a=t[r];"function"==typeof e[a]&&(n[a]=e[a])}const r=Object.keys(n);let a;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if(void 0===n(void 0,{type:oa.INIT}))throw new Error(na(12));if(void 0===n(void 0,{type:oa.PROBE_UNKNOWN_ACTION()}))throw new Error(na(13))})}(n)}catch(e){a=e}return function(e={},t){if(a)throw a;let o=!1;const i={};for(let a=0;a<r.length;a++){const l=r[a],c=n[l],u=e[l],s=c(u,t);if(void 0===s)throw t&&t.type,new Error(na(14));i[l]=s,o=o||s!==u}return o=o||r.length!==Object.keys(e).length,o?i:e}}(n)}c="function"==typeof r?r(t):t();let u=ca;a&&(u=pa({trace:!1,..."object"==typeof a&&a}));const s=function(...e){return t=>(n,r)=>{const a=t(n,r);let o=()=>{throw new Error(na(15))};const i={getState:a.getState,dispatch:(e,...t)=>o(e,...t)},l=e.map(e=>e(i));return o=ca(...l)(a.dispatch),{...a,dispatch:o}}}(...c),d=(e=>function(t){const{autoBatch:n=!0}=t??{};let r=new va(e);return n&&r.push(((e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,o=!1,i=!1;const l=new Set,c="tick"===e.type?queueMicrotask:"raf"===e.type?ba:"callback"===e.type?e.queueNotification:ha(e.timeout),u=()=>{i=!1,o&&(o=!1,l.forEach(e=>e()))};return Object.assign({},r,{subscribe(e){const t=r.subscribe(()=>a&&e());return l.add(e),()=>{t(),l.delete(e)}},dispatch(e){try{return a=!e?.meta?.RTK_autoBatch,o=!a,o&&(i||(i=!0,c(u))),r.dispatch(e)}finally{a=!0}}})})("object"==typeof n?n:void 0)),r})(s);return la(l,o,u(..."function"==typeof i?i(d):d()))}function Ea(e){const t={},n=[];let r;const a={addCase(e,n){const r="string"==typeof e?e:e.type;if(!r)throw new Error(Ba(28));if(r in t)throw new Error(Ba(29));return t[r]=n,a},addMatcher(e,t){return n.push({matcher:e,reducer:t}),a},addDefaultCase(e){return r=e,a}};return e(a),[t,n,r]}var Sa=(e=21)=>{let t="",n=e;for(;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t};function wa(...e){return t=>e.some(e=>((e,t)=>fa(e)?e.match(t):e(t))(e,t))}var Na=["name","message","stack","code"],Pa=class{constructor(e,t){this.payload=e,this.meta=t}_type},Oa=class{constructor(e,t){this.payload=e,this.meta=t}_type},Ia=e=>{if("object"==typeof e&&null!==e){const t={};for(const n of Na)"string"==typeof e[n]&&(t[n]=e[n]);return t}return{message:String(e)}},za=(()=>{function e(e,t,n){const r=ma(e+"/fulfilled",(e,t,n,r)=>({payload:e,meta:{...r||{},arg:n,requestId:t,requestStatus:"fulfilled"}})),a=ma(e+"/pending",(e,t,n)=>({payload:void 0,meta:{...n||{},arg:t,requestId:e,requestStatus:"pending"}})),o=ma(e+"/rejected",(e,t,r,a,o)=>({payload:a,error:(n&&n.serializeError||Ia)(e||"Rejected"),meta:{...o||{},arg:r,requestId:t,rejectedWithValue:!!a,requestStatus:"rejected",aborted:"AbortError"===e?.name,condition:"ConditionError"===e?.name}}));return Object.assign(function(e){return(i,l,c)=>{const u=n?.idGenerator?n.idGenerator(e):Sa(),s=new AbortController;let d,p;function f(e){p=e,s.abort()}const m=async function(){let m;try{let o=n?.condition?.(e,{getState:l,extra:c});if(null!==(v=o)&&"object"==typeof v&&"function"==typeof v.then&&(o=await o),!1===o||s.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const y=new Promise((e,t)=>{d=()=>{t({name:"AbortError",message:p||"Aborted"})},s.signal.addEventListener("abort",d)});i(a(u,e,n?.getPendingMeta?.({requestId:u,arg:e},{getState:l,extra:c}))),m=await Promise.race([y,Promise.resolve(t(e,{dispatch:i,getState:l,extra:c,requestId:u,signal:s.signal,abort:f,rejectWithValue:(e,t)=>new Pa(e,t),fulfillWithValue:(e,t)=>new Oa(e,t)})).then(t=>{if(t instanceof Pa)throw t;return t instanceof Oa?r(t.payload,u,e,t.meta):r(t,u,e)})])}catch(t){m=t instanceof Pa?o(null,u,e,t.payload,t.meta):o(t,u,e)}finally{d&&s.signal.removeEventListener("abort",d)}var v;return n&&!n.dispatchConditionRejection&&o.match(m)&&m.meta.condition||i(m),m}();return Object.assign(m,{abort:f,requestId:u,arg:e,unwrap(){return m.then(Ca)}})}},{pending:a,rejected:o,fulfilled:r,settled:wa(o,r),typePrefix:e})}return e.withTypes=()=>e,e})();function Ca(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var Ta=Symbol.for("rtk-slice-createasyncthunk");function xa(e,t){return`${e}/${t}`}function ka({creators:e}={}){const t=e?.asyncThunk?.[Ta];return function(e){const{name:n,reducerPath:r=n}=e;if(!n)throw new Error(Ba(11));const a=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:e}}()):e.reducers)||{},o=Object.keys(a),i={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},l={addCase(e,t){const n="string"==typeof e?e:e.type;if(!n)throw new Error(Ba(12));if(n in i.sliceCaseReducersByType)throw new Error(Ba(13));return i.sliceCaseReducersByType[n]=t,l},addMatcher(e,t){return i.sliceMatchers.push({matcher:e,reducer:t}),l},exposeAction(e,t){return i.actionCreators[e]=t,l},exposeCaseReducer(e,t){return i.sliceCaseReducersByName[e]=t,l}};function c(){const[t={},n=[],r]="function"==typeof e.extraReducers?Ea(e.extraReducers):[e.extraReducers],a={...t,...i.sliceCaseReducersByType};return function(e){let t,[o,l,c]=Ea(e=>{for(let t in a)e.addCase(t,a[t]);for(let t of i.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)});if("function"==typeof e)t=()=>ya(e());else{const n=ya(e);t=()=>n}function u(e=t(),n){let r=[o[n.type],...l.filter(({matcher:e})=>e(n)).map(({reducer:e})=>e)];return 0===r.filter(e=>!!e).length&&(r=[c]),r.reduce((e,t)=>{if(t){if(sr(e)){const r=t(e,n);return void 0===r?e:r}if(dr(e))return Gr(e,e=>t(e,n));{const r=t(e,n);if(void 0===r){if(null===e)return e;throw new Error(Ba(9))}return r}}return e},e)}return u.getInitialState=t,u}(e.initialState)}o.forEach(r=>{const o=a[r],i={reducerName:r,type:xa(n,r),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(o)?function({type:e,reducerName:t,createNotation:n},r,a){let o,i;if("reducer"in r){if(n&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(r))throw new Error(Ba(17));o=r.reducer,i=r.prepare}else o=r;a.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,i?ma(e,i):ma(e))}(i,o,l):function({type:e,reducerName:t},n,r,a){if(!a)throw new Error(Ba(18));const{payloadCreator:o,fulfilled:i,pending:l,rejected:c,settled:u,options:s}=n,d=a(e,o,s);r.exposeAction(t,d),i&&r.addCase(d.fulfilled,i),l&&r.addCase(d.pending,l),c&&r.addCase(d.rejected,c),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(t,{fulfilled:i||Aa,pending:l||Aa,rejected:c||Aa,settled:u||Aa})}(i,o,l,t)});const u=e=>e,s=new Map;let d;function p(e,t){return d||(d=c()),d(e,t)}function f(){return d||(d=c()),d.getInitialState()}function m(t,n=!1){function r(e){let r=e[t];return void 0===r&&n&&(r=f()),r}function a(t=u){const r=ga(s,n,{insert:()=>new WeakMap});return ga(r,t,{insert:()=>{const r={};for(const[a,o]of Object.entries(e.selectors??{}))r[a]=Da(o,t,f,n);return r}})}return{reducerPath:t,getSelectors:a,get selectors(){return a(r)},selectSlice:r}}const v={name:n,reducer:p,actions:i.actionCreators,caseReducers:i.sliceCaseReducersByName,getInitialState:f,...m(r),injectInto(e,{reducerPath:t,...n}={}){const a=t??r;return e.inject({reducerPath:a,reducer:p},n),{...v,...m(a,!0)}}};return v}}function Da(e,t,n,r){function a(a,...o){let i=t(a);return void 0===i&&r&&(i=n()),e(i,...o)}return a.unwrapped=e,a}var ja=ka();function Aa(){}var{assign:Ra}=Object,qa="listenerMiddleware",Ma=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:o}=e;if(t)a=ma(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Ba(21));return(e=>{if("function"!=typeof e)throw new Error(Ba(32))})(o),{predicate:a,type:t,effect:o}},Za=Object.assign(e=>{const{type:t,predicate:n,effect:r}=Ma(e);return{id:Sa(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ba(22))}}},{withTypes:()=>Za}),La=Object.assign(ma(`${qa}/add`),{withTypes:()=>La}),Fa=(ma(`${qa}/removeAll`),Object.assign(ma(`${qa}/remove`),{withTypes:()=>Fa}));function Ba(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function Ua(e){return Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ua(e)}function Ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ha(Object(n),!0).forEach(function(t){Ya(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ha(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ya(e,t,n){return(t=function(e){var t=function(e){if("object"!=Ua(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ua(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ua(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Symbol.for("rtk-state-proxy-original");var Wa={render:!1,viewType:null,headerName:"",footerLeftActionName:"",footerRightActionName:"",trace:[],data:{}},Ga=ja({name:"modalBox",initialState:Wa,reducers:{overrideModalBoxSlice:function(e,t){return Va(Va({},e),t.payload)},resetModalBoxSlice:function(){return Wa}}}),$a=Ga.actions,Qa=$a.overrideModalBoxSlice,Xa=$a.resetModalBoxSlice,Ka=Ga.reducer;function Ja(e){return Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(e)}function eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function to(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(n),!0).forEach(function(t){no(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function no(e,t,n){return(t=function(e){var t=function(e){if("object"!=Ja(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ja(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ja(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ro={render:!1,viewType:null,headerName:"",showBackButton:!1,data:{},trace:[]},ao=ja({name:"popupModalBox",initialState:ro,reducers:{overridePopupModalBoxSlice:function(e,t){return to(to({},e),t.payload)},resetPopupModalBoxSlice:function(){return ro}}}),oo=ao.actions,io=oo.overridePopupModalBoxSlice,lo=oo.resetPopupModalBoxSlice,co=ao.reducer,uo=o(2543),so=o.n(uo),po=o(4802),fo=o.n(po),mo=function(e){return so().cloneDeep(e)},vo=function(e,t){return!so().isEqual(e,t)},yo=function(e){return e&&Object.keys(e).length>0};function go(e){return so().cloneDeep(e)}function ho(){return so().union.apply(so(),arguments)}function bo(e){return fo()(e)}function _o(e){return _o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_o(e)}function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(n),!0).forEach(function(t){wo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wo(e,t,n){return(t=function(e){var t=function(e){if("object"!=_o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=_o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var No=function(e){var t={survey_name:e.survey_name,survey_id:e.survey_id,opening_time:e.opening_time,closing_time:e.closing_time,status:e.status,response_count:e.response_count,response_percentage:e.response_percentage||0,current_state:e.current_state,url:e.url||"",repeat:e.repeat||"",is_repeat:e.is_repeat,is_ready:e.is_ready||!1,created_by:e.created_by||0,allow_share:e.allow_share||!1,questions:e.questions,first_instance_startdate:e.first_instance_startdate,cover_image:e.cover_image,question_count:e.question_count||(e.questions||[]).length,type:e.type,recurrence_count:e.recurrence_count,activation_type:e.activation_type,survey_state:e.survey_state,upcominginstance:e.upcominginstance||!1};return e.fileInfo&&(t.fileInfo=e.fileInfo),t},Po={CREATE_TEMPLATE:"create-template",ENGAGEMENT:"engagement",ENPS:"enps",CUSTOM_FEEDBACK:"custom-feedback",PULSE:"pulse",THEME_UPLOAD_POPUP:"theme-upload-popup",LOADER:"loader",ENPS_VIEW:"enps-view",ENGAGEMENT_VIEW:"engagement-view",SHARED_VIEW:"shared-view",LIST_TEMPLATE:"list-template",DETAILED_REPORT:"detailed-report",OFFBOARDING_FEEDBACK:"exitfeedback",EXITFLOW_CREATE_LANDINGPAGE:"exitflow-create-landpage",EXTEND_INTERVIEW_CREATION:"extend-interview-creation",LIST_OFFBOARDING_INTERVIEW:"list-offboarding-interview",NO_FLOW_LIST_OFFBOARDING_INTERVIEW:"no-flow-list-offboarding-interview",SAVE_INTERVIEW_POPUP:"save-interview-popup",MY_SURVEY_REPORT_ENPS:"my-survey-report-enps",MY_SURVEY_REPORT_ENGAGEMENT:"my-survey-report-engagement",MY_SURVEY_INFO_POPUP:"my-survey-info-popup",PULSE_VIEW:"pulse-view",SURVEY_DETAILS_POPUP:"survey-details-popup",EMOTION_DETAILED_REPORT:"emotion-detailed-report",SHARE_POPUP:"share-popup"};function Oo(e){return Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oo(e)}function Io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Io(Object(n),!0).forEach(function(t){Co(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Io(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Co(e,t,n){return(t=function(e){var t=function(e){if("object"!=Oo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Oo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Oo(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var To=function(e,t){return(go(e)||[]).map(function(e,n){return n===t?zo(zo({},e),{},{is_new_response:!1}):e})},xo=function(e,t,n){var r=n;return(go(e)||[]).forEach(function(e,a){var o=e.is_new_response;a===t&&o&&(r=n-1)}),r};function ko(e){return ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ko(e)}function Do(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return jo(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(jo(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,jo(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,jo(d,"constructor",u),jo(u,"constructor",c),c.displayName="GeneratorFunction",jo(u,a,"GeneratorFunction"),jo(d),jo(d,a,"Generator"),jo(d,r,function(){return this}),jo(d,"toString",function(){return"[object Generator]"}),(Do=function(){return{w:o,m:p}})()}function jo(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}jo=function(e,t,n,r){function o(t,n){jo(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},jo(e,t,n,r)}function Ao(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Ro(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Ao(o,r,a,i,l,"next",e)}function l(e){Ao(o,r,a,i,l,"throw",e)}i(void 0)})}}function qo(e){return function(e){if(Array.isArray(e))return Zo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Mo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mo(e,t){if(e){if("string"==typeof e)return Zo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zo(e,t):void 0}}function Zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lo(Object(n),!0).forEach(function(t){Bo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Bo(e,t,n){return(t=function(e){var t=function(e){if("object"!=ko(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ko(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ko(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uo={activeMetric:-1,activeQuestionNumber:-1,currentRecurrence:null,reports:void 0,question_report:null,metricanalysis:null,metrics:null,responded_users:null,activeRepondent:0,emotionRespondedUsers:null,emotionActiveRepondent:0,user_report:{},metricFilter:[],reportFilter:{},heatMap:{isHeatMapRequestProcess:!1},filterData:{response_view:{default:{data:[],hasMore:!1}},department:{default:{data:[],hasMore:!1}},location:{default:{data:[],hasMore:!1}},designation:{default:{data:[],hasMore:!1}},reporting_manager:{default:{data:[],hasMore:!1}}},appliedFilterData:{}},Ho={sharedUserList:[],applicableUsersDetails:{applicable_users:[],isUserDataLoaded:!1},showCustomPopup:!1,departmentDetails:{departments:{},isDepartmentDataLoaded:!1},isShareAllAdmin:!1,isShareAllDeptLead:!1},Vo={fetchInitialData:!0,isLoading:!1,pageTitle:"",surveyData:{},themeData:{fetchInitialThemeData:!0},errorData:{},surveyReport:Uo,dbHash:"",prevHash:void 0,surveyShareReport:Ho},Yo=ja({name:"createSurvey",initialState:Vo,reducers:{overrideCreateSurveySlice:function(e,t){return Fo(Fo({},e),t.payload)},overrideCreateSurveyData:function(e,t){e.fetchInitialData||(e.surveyData=Fo(Fo({},e.surveyData),t.payload))},overrideCreateSurveyCloneData:function(e,t){e.fetchInitialData||(e.surveyData.deletedquestion_ids=(e.surveyData.questions||[]).map(function(e){return e.question_id}),e.surveyData=Fo(Fo({},e.surveyData),t.payload))},overrideSurveyReportData:function(e,t){e.surveyReport=Fo(Fo({},e.surveyReport),t.payload)},updateCreateThemeData:function(e,t){e.themeData=Fo(Fo(Fo({},e.themeData),t.payload.themeData),{},{fetchInitialThemeData:!1})},resetCreateSurveySlice:function(){return Vo},surveyErrorData:function(e,t){e.errorData=t.payload.errorData},deleteCreateSurveyQuestionData:function(e,t){var n=t.payload,r=1;if(e.surveyData.metric_type===gn){var a=1;e.surveyData.metric_groups=(e.surveyData.metric_groups||[]).map(function(e){return e.questions=e.questions.filter(function(e){return e.question_id!==n}).map(function(e){return e.question_order=a++,e}),r+=(e.questions||[]).length,e})}else e.surveyData.questions=e.surveyData.questions.filter(function(e){return e.question_id!==n}).map(function(e){return e.question_order=r++,e}),r=(e.surveyData.questions||[]).length;e.surveyData.question_count=r},updateAverageRatingInCreateSurveyQuestion:function(e,t){var n=t.payload.questionId;e.surveyData.questions=(e.surveyData.questions||[]).map(function(e){return e.question_id===n?e.is_avgrating?Fo(Fo({},e),{},{is_avgrating:!1}):Fo(Fo({},e),{},{is_avgrating:!0}):e.is_avgrating?Fo(Fo({},e),{},{is_avgrating:!1}):e})},markAsCreateSurveyQuestionMandatory:function(e,t){var n=t.payload,r=n.questionId,a=n.isMandatory;e.surveyData.metric_type===gn?e.surveyData.metric_groups=(e.surveyData.metric_groups||[]).map(function(e){return e.questions=(e.questions||[]).map(function(e){return e.question_id===r?Fo(Fo({},e),{},{ismandatory:a}):e}),e}):e.surveyData.questions=(e.surveyData.questions||[]).map(function(e){return e.question_id===r?Fo(Fo({},e),{},{ismandatory:a}):e})},updateAverageRatingInCreateSurveyQues:function(e,t){var n=t.payload.questionId;e.surveyData.questions=(e.surveyData.questions||[]).map(function(e){return e.question_id===n?e.is_avgrating?Fo(Fo({},e),{},{is_avgrating:!1}):Fo(Fo({},e),{},{is_avgrating:!0}):e})},updateAverageRatingInCreateSurvey:function(e,t){var n=t.payload.questionId;e.surveyData.questions=(e.surveyData.questions||[]).map(function(e){return e.is_avgrating?Fo(Fo({},e),{},{is_avgrating:!1}):e.question_id===n?Fo(Fo({},e),{},{is_avgrating:!0}):e})},overrideSurveyReportKeywordFilter:function(e,t){e.surveyReport.metricFilter=[].concat(qo(e.surveyReport.metricFilter),qo(t.payload))},removeSurveyReportKeywordFilter:function(e,t){var n=e.surveyReport.metricFilter;n.indexOf(t.payload),delete n[n.indexOf(t.payload)],e.surveyReport.metricFilter=qo(n)},overrideSurveyReportFilterData:function(e,t){var n=t.payload,r=n.key,a=n.value;e.surveyReport.filterData[r].default=Fo(Fo({},e.surveyReport.filterData[r].default),a)},resetSurveyReportFilterData:function(e,t){e.surveyReport.filterData=Object.keys(e.surveyReport.filterData).reduce(function(t,n){return t[n]=Fo(Fo({},e.surveyReport.filterData[n]),{},{default:Fo(Fo({},e.surveyReport.filterData[n].default),{},{data:e.surveyReport.filterData[n].default.data.map(function(e){return Fo(Fo({},e),{},{isSelected:!1})})})}),t},{}),e.surveyReport.appliedFilterData={}},overrideShowCustomSharePopup:function(e,t){e.surveyShareReport.showCustomPopup=t.payload},resetSurveyShareReport:function(e){e.surveyShareReport=Ho}},extraReducers:function(e){e.addCase(Wo.fulfilled,function(e,t){var n=t.payload;e.surveyData=Fo(Fo({},t.payload),{},{instruction:n.instruction||ZPI18N.getString("zp.engagement.template.engagement.instruction"),thankyou_message:n.thankyou_message||ZPI18N.getString("zp.engagement.template.thankyouMsg")}),e.dbHash=bo(e.surveyData),e.fetchInitialData=!1}).addCase(wi.fulfilled,function(e,t){var n=t.payload,r=n.metric_id,a=n.questions,o=1;e.surveyData.metric_type===gn?e.surveyData.metric_groups=(e.surveyData.metric_groups||[]).map(function(e){return e.metric_id===r&&(e.questions=a||[],e.question_count=(e.questions||[]).length),e.questions=(e.questions||[]).map(function(e){return e.question_order=o++,e}),e}):(e.surveyData.questions=(a||[]).map(function(e){return e.question_order=o++,e}),e.surveyData.question_count=(a||[]).length)}).addCase(Si.fulfilled,function(e,t){var n=t.payload||[],r=e.surveyData.metric_groups||[];e.surveyData=Fo(Fo({},e.surveyData),{},{metric_groups:[].concat(qo(r),qo(n))})}).addCase(yi.fulfilled,function(e,t){var n=t.payload.metric_id,r=1;e.surveyData=Fo(Fo({},e.surveyData),{},{metric_groups:(e.surveyData.metric_groups||[]).filter(function(e){return e.metric_id!==n}).map(function(e){return e.questions=(e.questions||[]).map(function(e){return e.question_order=r++,e}),e})})}).addCase(ti.fulfilled,function(e,t){var n=t.payload,r=n.questionData,a=n.isSync,o=n.insertAt,i=r.choices,l=r.metric_id,c=o,u=0;r.addOther=(i||[]).filter(function(e){return e.is_other}),r.choices=(i||[]).filter(function(e){return!e.is_other});var s=1;if(e.surveyData.metric_type===gn)e.surveyData.metric_groups=(e.surveyData.metric_groups||[]).map(function(e){if(e.metric_id===l){null==c?c=(e.questions||[]).length:c-=s-1;var t=qo(e.questions||[]);t.splice(c,0,r),e.questions=t||[],e.question_count=t.length}return e.questions=(e.questions||[]).map(function(e){return e.question_order=s++,e}),u+=(e.questions||[]).length,e}),e.surveyData.question_count=u;else{null==c&&(c=qo(e.surveyData.questions||[]).length);var d=qo(e.surveyData.questions||[]);d.splice(c,0,r),e.surveyData.questions=(d||[]).map(function(e){return e.question_order=s++,e}),e.surveyData.question_count=d.length}a&&(e.dbHash=bo(e.surveyData))}).addCase(ni.fulfilled,function(e,t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Mo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.payload,3),r=n[0],a=n[1],o=n[2];e.surveyData.metric_type===gn?e.surveyData.metric_groups=(e.surveyData.metric_groups||[]).map(function(e){return e.metric_id===a.metric_id&&(e.questions=e.questions.map(function(e){return e.question_id===r?a:e})),e}):e.surveyData.questions=e.surveyData.questions.map(function(e){return e.question_id===r?a:e}),o&&(e.dbHash=bo(e.surveyData))}).addCase(ri.fulfilled,function(e,t){var n=t.payload.questionId,r=1;if(e.surveyData.metric_type===gn){var a=1;e.surveyData.metric_groups=(e.surveyData.metric_groups||[]).map(function(e){return e.questions=e.questions.filter(function(e){return e.question_id!==n}).map(function(e){return e.question_order=a++,e}),r+=(e.questions||[]).length,e})}else e.surveyData.questions=e.surveyData.questions.filter(function(e){return e.question_id!==n}).map(function(e){return e.question_order=r++,e}),r=(e.surveyData.questions||[]).length;e.surveyData.question_count=(e.surveyData.questions||[]).length}).addCase(ai.fulfilled,function(e,t){var n=t.payload,r=n.questionId,a=n.isMandatory,o=n.metricId;e.surveyData.metric_type===gn?e.surveyData.metric_groups=(e.surveyData.metric_groups||[]).map(function(e){return e.metric_id===o&&(e.questions=e.questions.map(function(e){return e.question_id===r?Fo(Fo({},e),{},{ismandatory:a}):e})),e}):e.surveyData.questions=e.surveyData.questions.map(function(e){return e.question_id===r?Fo(Fo({},e),{},{ismandatory:a}):e})}).addCase(oi.fulfilled,function(e,t){var n=t.payload,r=n.metric_order,a=void 0===r?[]:r,o=n.question_order,i=void 0===o?[]:o;if(e.surveyData.metric_type===gn){var l=new Map(a.map(function(e){return[e.metric_id,e.question_order]})),c=new Map((e.surveyData.metric_groups||[]).flatMap(function(e){var t=e.questions;return(void 0===t?[]:t).map(function(e){return[e.question_id,e]})})),u=1;e.surveyData.metric_groups=(e.surveyData.metric_groups||[]).map(function(e){var t=(l.get(e.metric_id)||[]).map(function(e){return c.get(e)}).filter(Boolean);return e.questions=t.map(function(e){return e.question_order=u++,e}),e.question_count=e.questions.length,e})}else{var s=new Map(i.map(function(e,t){return[e,t]})),d=qo(e.surveyData.questions).sort(function(e,t){var n,r;return(null!==(n=s.get(e.question_id))&&void 0!==n?n:1/0)-(null!==(r=s.get(t.question_id))&&void 0!==r?r:1/0)});e.surveyData.questions=d.map(function(e,t){return e.question_order=t+1,e})}}).addCase(Xo.fulfilled,function(e,t){var n=t.payload;e.surveyReport=Fo(Fo({},e.surveyReport),{},{reports:n})}).addCase(ci.fulfilled,function(e,t){var n=t.payload,r=n.question_report,a=n.average_score;e.surveyReport=Fo(Fo({},e.surveyReport),{},{question_report:r,average_score:a})}).addCase(ui.fulfilled,function(e,t){var n=t.payload,r=n.name,a=n.last_responsetime,o=n.time_taken,i=n.score,l=n.question_responses,c=n.metric_responses,u=n.responseId,s=n.response_distribution;e.surveyReport=Fo(Fo({},e.surveyReport),{},{user_report:Fo(Fo({},e.user_report),{},Bo({},u,{userResponses:l||c,name:r,last_responsetime:a,time_taken:o,score:i,response_distribution:s}))})}).addCase(di.fulfilled,function(e,t){var n=t.payload.year_of_joining;e.surveyReport=Fo(Fo({},e.surveyReport),{},{year_of_joining:n})}).addCase(pi.fulfilled,function(e,t){e.surveyReport=Fo(Fo({},e.surveyReport),{},{metricanalysis:t.payload})}).addCase(fi.fulfilled,function(e,t){e.surveyReport=Fo(Fo({},e.surveyReport),{},{metrics:t.payload.metrics})}).addCase(mi.fulfilled,function(e,t){e.surveyReport=Fo(Fo({},e.surveyReport),{},{responded_users:t.payload.responded_users})}).addCase(vi.fulfilled,function(e,t){var n=e.surveyData;e.surveyData={related_to:n.related_to},e.isShowSurveyPage=!0,e.dbHash=bo(e.surveyData)}).addCase(gi.fulfilled,function(e,t){var n=t.payload;e.surveyReport=Fo(Fo({},e.surveyReport),{},{pulseReport:n})}).addCase(hi.fulfilled,function(e,t){var n=t.payload,r=n.responded_users,a=void 0===r?[]:r,o=n.page_info,i=n.isSearch,l=n.startIndex;e.surveyReport=Fo(Fo({},e.surveyReport),{},i||1===l?{responded_users:a,respondedMeta:o,activeRepondent:0}:{responded_users:[].concat(qo(e.surveyReport.responded_users||[]),qo(a)),respondedMeta:o})}).addCase(Ei.fulfilled,function(e,t){e.surveyReport=Fo(Fo({},e.surveyReport),{},{heatMap:Fo(Fo({},t.payload),{},{isHeatMapRequestProcess:!1})})}).addCase(si.fulfilled,function(e,t){var n=t.payload,r=n.questionId,a=n.comment_report,o=n.question_report,i=n.applicable_report,l=n.highlights,c=e.surveyReport.single_question_response;e.surveyReport=Fo(Fo({},e.surveyReport),{},{single_question_response:Fo(Fo({},c),{},{question_id:r,comment_report:a,question_report:o,applicable_report:i,highlights:l})})}).addCase(Ni.fulfilled,function(e,t){var n=t.payload.emp_details;e.surveyShareReport.applicableUsersDetails={applicable_users:n,isUserDataLoaded:!0}}).addCase(Pi.fulfilled,function(e,t){var n=t.payload,r=n.shared_user,a=n.admin,o=n.department_lead,i=n.reporting_manager;e.surveyShareReport.sharedUserList=r,e.surveyShareReport.isShareAllAdmin=a,e.surveyShareReport.isShareAllDeptLead=o,e.surveyShareReport.isShareReportingManager=i}).addCase(Oi.fulfilled,function(e,t){var n=t.payload,r=(n.surveyId,n.shareTo),a=n.shared_user,o=e.surveyShareReport,i=o.sharedUserList,l=void 0===i?[]:i,c=o.applicableUsersDetails,u=(void 0===c?{}:c).applicable_users,s=void 0===u?[]:u;"admin"===r?e.surveyShareReport.isShareAllAdmin=!0:"department_lead"===r?e.surveyShareReport.isShareAllDeptLead=!0:"reporting_manager"===r?e.surveyShareReport.isShareReportingManager=!0:"user"===r&&(e.surveyShareReport.sharedUserList=[].concat(qo(a),qo(l)),e.surveyShareReport.applicableUsersDetails.applicable_users=s.filter(function(e){return!a.some(function(t){return t.emp_details.erecno===e.erecno})}))}).addCase(zi.fulfilled,function(e,t){var n=t.payload,r=(n.surveyId,n.shared_user),a=(e.surveyShareReport.sharedUserList||[]).map(function(e){var t=e.emp_details.erecno,n=(r||[]).find(function(e){return e.emp_details.erecno===t});return n&&(e.access_level=n.access_level,e.visibility_level=n.visibility_level,e.departments=n.departments),e});e.surveyShareReport.sharedUserList=a}).addCase(Ci.fulfilled,function(e,t){var n=t.payload,r=(n.surveyId,n.userId),a=(n.departmentId,e.surveyShareReport),o=a.sharedUserList,i=a.applicableUsersDetails,l=(void 0===i?{}:i).applicable_users,c=void 0===l?[]:l,u=(o||[]).find(function(e){return e.emp_details.erecno===r});e.surveyShareReport.sharedUserList=o.filter(function(e){return e.emp_details.erecno!==r}),e.surveyShareReport.applicableUsersDetails.applicable_users=[].concat(qo(c),[u.emp_details])}).addCase(Ii.fulfilled,function(e,t){var n=t.payload,r=n.shareTo,a=n.userId,o=e.surveyShareReport,i=o.sharedUserList,l=o.applicableUsersDetails,c=(void 0===l?{}:l).applicable_users,u=void 0===c?[]:c,s=(i||[]).find(function(e){return e.emp_details.erecno===a});"admin"===r?e.surveyShareReport.isShareAllAdmin=!1:"department_lead"===r?e.surveyShareReport.isShareAllDeptLead=!1:"reporting_manager"===r?e.surveyShareReport.isShareReportingManager=!1:"user"===r&&(e.surveyShareReport.sharedUserList=i.filter(function(e){return e.emp_details.erecno!==a}),e.surveyShareReport.applicableUsersDetails.applicable_users=[].concat(qo(u),[s.emp_details]))}).addCase(Ti.fulfilled,function(e,t){var n=t.payload.departments.reduce(function(e,t){var n=t.department_id,r=t.department_name;return e[n]=r,e},{});e.surveyShareReport.departmentDetails={departments:n,isDepartmentDataLoaded:!0}}).addCase(xi.fulfilled,function(e,t){var n=t.payload.available_views;e.surveyReport.filterData.response_view.default={data:[].concat(qo(e.surveyReport.filterData.response_view.default.data),qo(n.map(function(e){var t=e.label;return{key:e.value,label:t,erecno:e.erecno,department_id:e.department_id}})))}}).addCase(ki.fulfilled,function(e,t){var n=t.payload,r=n.departments,a=n.has_next,o=n.pno;e.surveyReport.filterData.department.default=0===o?{data:r.map(function(e){return{key:e.department_id,label:e.department_name}}),hasMore:a}:{data:[].concat(qo(e.surveyReport.filterData.department.default.data),qo(r.map(function(e){return{key:e.department_id,label:e.department_name}}))),hasMore:a}}).addCase(Di.fulfilled,function(e,t){var n=t.payload,r=n.locations,a=n.has_next,o=n.pno;e.surveyReport.filterData.location.default=0===o?{data:r.map(function(e){return{key:e.location_id,label:e.location_name}}),hasMore:a}:{data:[].concat(qo(e.surveyReport.filterData.location.default.data),qo(r.map(function(e){return{key:e.location_id,label:e.location_name}}))),hasMore:a}}).addCase(ji.fulfilled,function(e,t){var n=t.payload,r=n.designations,a=n.has_next,o=n.pno;e.surveyReport.filterData.designation.default=0===o?{data:r.map(function(e){return{key:e.designation_id,label:e.designation_name}}),hasMore:a}:{data:[].concat(qo(e.surveyReport.filterData.designation.default.data),qo(r.map(function(e){return{key:e.designation_id,label:e.designation_name}}))),hasMore:a}}).addCase(Ai.fulfilled,function(e,t){var n=t.payload,r=n.reporting_manager,a=n.has_next,o=n.pno;e.surveyReport.filterData.reporting_manager.default=0===o?{data:r.map(function(e){return{key:e.erecno,label:e.employee_name}}),hasMore:a}:{data:[].concat(qo(e.surveyReport.filterData.reporting_manager.default.data),qo(r.map(function(e){return{key:e.erecno,label:e.employee_name}}))),hasMore:a}}).addCase(Ri.fulfilled,function(e,t){var n=t.payload.closing_time;e.surveyData=Fo(Fo({},e.surveyData),{},{status:Vt,current_state:St,survey_state:2,is_ready:!1,closing_time:n})}).addCase(qi.fulfilled,function(e,t){e.surveyData=Fo(Fo({},e.surveyData),{},{status:Yt,current_state:_t,survey_state:1,is_ready:!0})}).addMatcher(function(e){return["createsurvey/engagementQBank","createsurvey/offboardingFeedbackQBank"].includes(e.type)},function(e,t){var n=t.payload.questionbank_id;e.surveyData=Fo(Fo({},e.surveyData),{},{questionbank_id:n})}).addMatcher(function(e){return["createsurvey/addSurvey/fulfilled","createsurvey/editSurvey/fulfilled","createsurvey/getSurvey/fulfilled","createsurvey/extendSurvey/fulfilled"].includes(e.type)},function(e,t){var n,r,a;e.fetchInitialData=!1,e.surveyData=Fo(Fo({},e.surveyData),function(e){var t,n=mo(e);if((null==n||null===(t=n.applicable_to)||void 0===t?void 0:t.type)===Fe){var r=(n.applicable_to.rules||[]).map(function(e){var t=e.applicable_props||{};return e.applicable_props=Object.keys(t).map(function(e){return{type:e,options:(t[e]||[]).map(function(e){var t=Object.keys(e||{})[0];return{label:e[t],value:t}})}}),e});n.applicable_to=So(So({},n.applicable_to),{},{rules:r})}return(null==n?void 0:n.type)===Ee&&(n.instruction=n.instruction||ZPI18N.getString("zp.engagement.template.engagement.instruction"),n.thankyou_message=n.thankyou_message||ZPI18N.getString("zp.engagement.template.thankyouMsg")),n}(t.payload)),null!==(n=t.payload)&&void 0!==n&&n.prev_recurrence&&(e.surveyReport.currentRecurrence=t.payload.prev_recurrence),2!==(null===(r=t.payload)||void 0===r?void 0:r.applicable_type)||null!==(a=t.payload)&&void 0!==a&&a.applicable_to||(e.surveyData=Fo(Fo({},e.surveyData),{},{applicable_to:{type:Be}})),e.surveyReport.reports&&t.payload.closing_time&&(e.surveyReport.reports.closing_time=t.payload.closing_time),e.dbHash=bo(e.surveyData)}).addMatcher(function(e){return["createsurvey/addTemplate/fulfilled","createsurvey/editTemplate/fulfilled"].includes(e.type)},function(e,t){e.surveyData=Fo(Fo({},e.surveyData),t.payload),e.dbHash=bo(e.surveyData)}).addMatcher(function(e){return["createsurvey/getPulseQuestionEmotionRespondedUsers/fulfilled","createsurvey/getPulseMetricRespondedUsers/fulfilled"].includes(e.type)},function(e,t){var n=t.payload,r=n.responded_users,a=n.page_info,o=n.isSearch;e.surveyReport=Fo(Fo({},e.surveyReport),{},o?{emotionRespondedUsers:To(r,0),emotionRespondedMeta:Fo(Fo({},a),{},{new_response_count:xo(r,0,a.new_response_count)}),emotionActiveRepondent:0}:{emotionRespondedUsers:[].concat(qo(e.surveyReport.emotionRespondedUsers||[]),qo(To(r,0))),emotionRespondedMeta:Fo(Fo({},a),{},{new_response_count:xo(r,0,a.new_response_count)})})})}}),Wo=za("createsurvey/getTemplate",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.templateId,a="zpsurvey/surveys/templates/".concat(r,"/questions"),e.n=1,y.get(a);case 1:return o=e.v,e.a(2,o.data.survey);case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Go=za("createsurvey/addTemplate",function(){var e=Ro(Do().m(function e(t,n){var r,a,o;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.payload,e.n=1,y.postForm("zpsurvey/surveys/templates/add",r,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return a=e.v,e.a(2,a.data.survey);case 2:return e.p=2,o=e.v,e.a(2,n.rejectWithValue(o))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),$o=za("createsurvey/editTemplate",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.templateId,a=t.payload,o="zpsurvey/surveys/templates/".concat(r,"/edit"),e.n=1,y.putForm(o,a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return i=e.v,e.a(2,i.data.survey);case 2:return e.p=2,l=e.v,e.a(2,n.rejectWithValue(l))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Qo=za("createsurvey/getSurvey",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a="zpsurvey/surveys/".concat(r),e.n=1,y.get(a);case 1:return o=e.v,e.a(2,o.data.survey);case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Xo=za("createsurvey/getSurveyReport",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l,c;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.recurrenceId,o=new URLSearchParams,a&&o.append("recurrenceId",a),i="zpsurvey/surveys/".concat(r,"/report"),e.n=1,y.get(i,{params:o});case 1:return l=e.v,e.a(2,l.data);case 2:return e.p=2,c=e.v,e.a(2,n.rejectWithValue(c))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Ko=za("createsurvey/addSurvey",function(){var e=Ro(Do().m(function e(t,n){var r,a,o;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.payload,e.n=1,y.postForm("zpsurvey/surveys",r,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return a=e.v,e.a(2,a.data.survey);case 2:return e.p=2,o=e.v,e.a(2,n.rejectWithValue(o))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Jo=za("createsurvey/editSurvey",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.payload,o="zpsurvey/surveys/".concat(r),e.n=1,y.putForm(o,a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return i=e.v,e.a(2,i.data.survey);case 2:return e.p=2,l=e.v,e.a(2,n.rejectWithValue(l))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),ei=za("createsurvey/extendSurvey",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.payload,o="zpsurvey/surveys/".concat(r,"/extenddeadline"),e.n=1,y.patchForm(o,a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return i=e.v,e.a(2,i.data.survey);case 2:return e.p=2,l=e.v,e.a(2,n.rejectWithValue(l))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),ti=za("createsurvey/addQuestion",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l,c,u;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.payload,o=t.isSync,i=t.insertAt,l=r?"zpsurvey/surveys/".concat(r,"/question"):"zpsurvey/questions",e.n=1,y.postForm(l,a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return c=e.v,e.a(2,{questionData:c.data.question,isSync:o,insertAt:i});case 2:return e.p=2,u=e.v,e.a(2,n.rejectWithValue(u))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),ni=za("createsurvey/editQuestion",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l,c,u;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.questionId,a=t.surveyId,o=t.payload,i=t.isSync,l=a?"zpsurvey/surveys/".concat(a,"/question/").concat(r):"zpsurvey/questions/".concat(r),e.n=1,y.putForm(l,o,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return c=e.v,e.a(2,[r,c.data.question,i]);case 2:return e.p=2,u=e.v,e.a(2,n.rejectWithValue(u))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),ri=za("createsurvey/deleteQuestionFromModule",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l,c,u;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.questionId,o=t.metricId,i="zpsurvey/surveys/".concat(r),l={mode:"question_delete",questionData:JSON.stringify({question_id:a})},c=new URLSearchParams(l),e.n=1,y.patch(i,c,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return e.a(2,{questionId:a,metricId:o});case 2:return e.p=2,u=e.v,e.a(2,n.rejectWithValue(u))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),ai=za("createsurvey/markAsQuestionMandatory",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l,c,u,s,d,p,f;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.questionId,o=t.isMandatory,i=t.viewtype,l=t.courseId,c=t.metricId,u={question_id:a,ismandatory:o},i===Po.CUSTOM_FEEDBACK&&(u.course_id=l),s={mode:"mandatoryquestion_update",questionData:JSON.stringify(u)},d=new URLSearchParams(s),p="zpsurvey/surveys/".concat(r),e.n=1,y.patch(p,d,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return e.a(2,{questionId:a,isMandatory:o,metricId:c});case 2:return e.p=2,f=e.v,e.a(2,n.rejectWithValue(f))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),oi=za("createsurvey/reorderQuestion",function(){var e=Ro(Do().m(function e(t){var n,r,a,o,i,l,c;return Do().w(function(e){for(;;)switch(e.n){case 0:return n=t.surveyId,r=t.questionId,a=t.pos,o=t.courseId,i={question_id:r,course_id:o,pos:a},l="zpsurvey/surveys/".concat(n,"/questions/reorder"),e.n=1,y.putForm(l,{orderData:JSON.stringify(i)},{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return c=e.v,e.a(2,c.data)}},e)}));return function(t){return e.apply(this,arguments)}}()),ii=za("createsurvey/engagementQBank",function(){var e=Ro(Do().m(function e(t){var n;return Do().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,y.get("zpsurvey/engagement/qbank");case 1:return n=e.v,e.a(2,{questionbank_id:n.data.questionbank_id})}},e)}));return function(t){return e.apply(this,arguments)}}()),li=za("createsurvey/offboardingFeedbackQBank",function(){var e=Ro(Do().m(function e(t){var n;return Do().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,y.get("zpsurvey/offboardingfeedback/qbank");case 1:return n=e.v,e.a(2,{questionbank_id:n.data.questionbank_id})}},e)}));return function(t){return e.apply(this,arguments)}}()),ci=za("createsurvey/allQuestionReport",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l,c,u;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.payload,o=t.reportFilter,i="zpsurvey/surveys/".concat(r,"/question-report"),l=new URLSearchParams(a),o&&l.append("reportFilter",JSON.stringify(o)),e.n=1,y.get(i,{params:l});case 1:return c=e.v,e.a(2,c.data);case 2:return e.p=2,u=e.v,e.a(2,n.rejectWithValue(u))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),ui=za("createsurvey/singleUserReport",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l,c,u;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.responseId,o=t.payload,i="zpsurvey/surveys/".concat(r,"/responses/").concat(a,"/report"),l=new URLSearchParams(o),e.n=1,y.get(i,{params:l});case 1:return c=e.v,e.a(2,Fo(Fo({},c.data),{},{responseId:a}));case 2:return e.p=2,u=e.v,e.a(2,n.rejectWithValue(u))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),si=za("createsurvey/getQuestionReport",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l,c,u,s;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.questionId,o=t.payload,i=t.reportFilter,l="zpsurvey/surveys/".concat(r,"/questions/").concat(a,"/report"),c=new URLSearchParams(o),i&&c.append("reportFilter",JSON.stringify(i)),e.n=1,y.get(l,{params:c});case 1:return u=e.v,e.a(2,Fo({questionId:a},u.data));case 2:return e.p=2,s=e.v,e.a(2,n.rejectWithValue(s))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),di=za("createsurvey/getYearOfJoiningReport",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l,c,u,s;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.question_id,o=t.recurrenceId,i=t.reportFilter,l="zpsurvey/surveys/".concat(r,"/yearofjoiningreport"),c=new URLSearchParams({questionId:a}),o&&c.append("recurrenceId",o),i&&c.append("reportFilter",JSON.stringify(i)),e.n=1,y.get(l,{params:c});case 1:return u=e.v,e.a(2,Fo({},u.data));case 2:return e.p=2,s=e.v,e.a(2,n.rejectWithValue(s))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),pi=za("createsurvey/getSurveyMetricAnalysis",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l,c,u,s;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.metricId,o=t.recurrenceId,i=t.reportFilter,l=new URLSearchParams({}),a&&l.append("metricId",a),i&&l.append("reportFilter",JSON.stringify(i)),o&&l.append("recurrenceId",o),c="zpsurvey/surveys/".concat(r,"/metricanalysis"),e.n=1,y.get(c,{params:l});case 1:return u=e.v,e.a(2,Fo(Fo({},u.data),{},{metricId:a||-1}));case 2:return e.p=2,s=e.v,e.a(2,n.rejectWithValue(s))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),fi=za("createsurvey/getSurveyMetrics",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l,c;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.mode,o=new URLSearchParams({mode:void 0===a?"active":a}),i="zpsurvey/surveys/".concat(r,"/metrics"),e.n=1,y.get(i+"?"+o);case 1:return l=e.v,e.a(2,l.data);case 2:return e.p=2,c=e.v,e.a(2,n.rejectWithValue(c))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),mi=za("createsurvey/getRespondedUsers",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.payload,a=t.surveyId,o="zpsurvey/surveys/".concat(a,"/responded-users"),e.n=1,y.get(o,{params:new URLSearchParams(r)});case 1:return i=e.v,e.a(2,i.data);case 2:return e.p=2,l=e.v,e.a(2,n.rejectWithValue(l))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),vi=za("createsurvey/untagInterview",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.flowId,o="zpsurvey/flow/".concat(a,"/interview/").concat(r,"/untag"),e.n=1,y.patchForm(o,void 0,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return i=e.v,e.a(2,i.data);case 2:return e.p=2,l=e.v,e.a(2,n.rejectWithValue(l))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),yi=za("createsurvey/deleteMetricGroup",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.metricId,o="zpsurvey/surveys/".concat(r,"/metricgroups/").concat(a),e.n=1,y.delete(o,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return i=e.v,e.a(2,Fo(Fo({},i.data),{},{metric_id:a}));case 2:return e.p=2,l=e.v,e.a(2,n.rejectWithValue(l))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),gi=za("createsurvey/getPulseSurveyReport",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l,c,u;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.recurrenceId,o=t.reportFilter,i=new URLSearchParams({}),a&&i.append("recurrenceId",a),o&&i.append("reportFilter",JSON.stringify(o)),l="zpsurvey/surveys/".concat(r,"/pulse-report"),e.n=1,y.get(l,{params:i});case 1:return c=e.v,e.a(2,c.data);case 2:return e.p=2,u=e.v,e.a(2,n.rejectWithValue(u))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),hi=za("createsurvey/getPulseRespondedUsers",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l,c,u,s,d,p;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.recurrenceId,o=t.startIndex,i=void 0===o?1:o,l=t.isSearch,c=t.reportFilter,u=new URLSearchParams({}),c&&u.append("reportFilter",JSON.stringify(Fo(Fo({},c),{},{status:"completed",start_index:i,limit:J}))),a&&u.append("recurrenceId",a),s="zpsurvey/surveys/".concat(r,"/responded-users"),e.n=1,y.get(s,{params:u});case 1:return d=e.v,e.a(2,Fo(Fo({},d.data),{},{page_info:Fo(Fo({},d.data.page_info),{},{start_index:i+J}),isSearch:l,startIndex:i}));case 2:return e.p=2,p=e.v,e.a(2,n.rejectWithValue(p))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),bi=za("createsurvey/getPulseQuestionEmotionRespondedUsers",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l,c,u,s,d,p,f;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.recurrenceId,o=t.questionId,i=t.startIndex,l=void 0===i?1:i,c=t.isSearch,u=t.reportFilter,s=new URLSearchParams({}),u&&s.append("reportFilter",JSON.stringify(Fo(Fo({},u),{},{status:"completed",start_index:l,limit:J}))),a&&s.append("recurrenceId",a),d="zpsurvey/surveys/".concat(r,"/questions/").concat(o,"/responded-users"),e.n=1,y.get(d,{params:s});case 1:return p=e.v,e.a(2,Fo(Fo({},p.data),{},{page_info:Fo(Fo({},p.data.page_info),{},{start_index:l+J}),isSearch:c}));case 2:return e.p=2,f=e.v,e.a(2,n.rejectWithValue(f))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),_i=za("createsurvey/getPulseMetricRespondedUsers",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l,c,u,s,d,p,f;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.recurrenceId,o=t.metricId,i=t.startIndex,l=void 0===i?1:i,c=t.isSearch,u=t.reportFilter,s=new URLSearchParams({}),u&&s.append("reportFilter",JSON.stringify(Fo(Fo({},u),{},{status:"completed",start_index:l,limit:J}))),a&&s.append("recurrenceId",a),d="zpsurvey/surveys/".concat(r,"/metrics/").concat(o,"/responded-users"),e.n=1,y.get(d,{params:s});case 1:return p=e.v,e.a(2,Fo(Fo({},p.data),{},{page_info:Fo(Fo({},p.data.page_info),{},{start_index:l+J}),isSearch:c}));case 2:return e.p=2,f=e.v,e.a(2,n.rejectWithValue(f))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Ei=za("createsurvey/getPulseHeapMap",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l,c,u,s;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.recurrenceId,o=t.filter,i=t.reportFilter,(l=new URLSearchParams({})).append("type",o),i&&l.append("reportFilter",JSON.stringify(i)),a&&l.append("recurrenceId",a),c="zpsurvey/surveys/".concat(r,"/heatmap"),e.n=1,y.get(c,{params:l});case 1:return u=e.v,e.a(2,u.data);case 2:return e.p=2,s=e.v,e.a(2,n.rejectWithValue(s))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Si=(za("createsurvey/sendSurveyCompletionReminder",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l,c;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.recurrenceId,o=new URLSearchParams({}),a&&o.append("recurrenceId",a),i="zpsurvey/surveys/".concat(r,"/completion/reminder"),e.n=1,y.patch(i,{params:o},{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return l=e.v,e.a(2,l.data);case 2:return e.p=2,c=e.v,e.a(2,n.rejectWithValue(c))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),za("createsurvey/addMetricGroups",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.payload,o="zpsurvey/surveys/".concat(r,"/metricgroups"),e.n=1,y.postForm(o,a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return i=e.v,e.a(2,i.data);case 2:return e.p=2,l=e.v,e.a(2,n.rejectWithValue(l))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}())),wi=za("createsurvey/addQBankQuestionToSurvey",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.payload,o="zpsurvey/surveys/".concat(r,"/questions"),e.n=1,y.putForm(o,a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return i=e.v,e.a(2,i.data);case 2:return e.p=2,l=e.v,e.a(2,n.rejectWithValue(l))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Ni=za("createsurvey/getSurveyApplicableUsers",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l,c,u,s;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.searchTxt,o=t.pno,i=void 0===o?0:o,(l=new URLSearchParams).append("startIndex",i*K),a&&l.append("searchTxt",a),c="zpsurvey/surveys/".concat(r,"/applicableuser"),e.n=1,y.get(c+(l.size>0?"?"+l:""));case 1:return u=e.v,e.a(2,Fo(Fo({},u.data),{},{surveyId:r}));case 2:return e.p=2,s=e.v,console.error("Error in getSurveyApplicableUsers",s),e.a(2,n.rejectWithValue(s))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Pi=za("createsurvey/getSharedUserList",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a="zpsurvey/surveys/".concat(r,"/sharereport"),e.n=1,y.get(a,void 0);case 1:return o=e.v,e.a(2,Fo(Fo({},o.data),{},{surveyId:r}));case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Oi=za("createsurvey/provideReportAccess",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.payload,o="zpsurvey/surveys/".concat(r,"/sharereport"),e.n=1,y.postForm(o,a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return i=e.v,e.a(2,Fo(Fo({surveyId:r},a),i.data));case 2:return e.p=2,l=e.v,e.a(2,n.rejectWithValue(l))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Ii=za("createsurvey/revokeReportAccess",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.payload,o="zpsurvey/surveys/".concat(r,"/sharereport"),e.n=1,y.delete(o,{headers:{"Content-Type":"application/x-www-form-urlencoded","X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)},data:new URLSearchParams(a)});case 1:return i=e.v,e.a(2,Fo(Fo({surveyId:r},a),i.data));case 2:return e.p=2,l=e.v,e.a(2,n.rejectWithValue(l))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),zi=za("createsurvey/editReportAccess",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.payload,o="zpsurvey/surveys/".concat(r,"/sharereport"),e.n=1,y.putForm(o,a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return i=e.v,e.a(2,Fo(Fo({},i.data),{},{surveyId:r}));case 2:return e.p=2,l=e.v,e.a(2,n.rejectWithValue(l))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Ci=za("createsurvey/deleteSharePermission",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.userId,o="zpsurvey/surveys/".concat(r,"/sharereport/users/").concat(a),e.n=1,y.delete(o,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return e.v,e.a(2,{surveyId:r,userId:a});case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Ti=za("createsurvey/getDepartments",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l,c,u,s;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.searchTxt,o=t.pno,i=void 0===o?0:o,(l=new URLSearchParams).append("startIndex",i*K),a&&l.append("searchTxt",a),c="zpsurvey/surveys/".concat(r,"/applicable-departments"),e.n=1,y.get(c+(l.size>0?"?"+l:""),{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return u=e.v,e.a(2,Fo(Fo({},u.data),{},{surveyId:r}));case 2:return e.p=2,s=e.v,e.a(2,n.rejectWithValue(s))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),xi=za("createsurvey/getResponseView",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a="zpsurvey/surveys/".concat(r,"/report-views"),e.n=1,y.get(a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,e.a(2,Fo(Fo({},o.data),{},{surveyId:r}));case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),ki=za("createsurvey/getReportFilterDepartments",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l,c,u,s,d;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.searchTxt,o=t.pno,i=void 0===o?0:o,l=t.mode,(c=new URLSearchParams).append("startIndex",i*K+1),a&&c.append("searchTxt",a),l&&c.append("mode",l),u="zpsurvey/surveys/".concat(r,"/applicable-departments"),e.n=1,y.get(u+(c.size>0?"?"+c:""),{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return s=e.v,e.a(2,Fo(Fo({},s.data),{},{surveyId:r,pno:i}));case 2:return e.p=2,d=e.v,e.a(2,n.rejectWithValue(d))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Di=za("createsurvey/getReportFilterLocations",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l,c,u,s,d;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.searchTxt,o=t.pno,i=void 0===o?0:o,l=t.mode,(c=new URLSearchParams).append("startIndex",i*K+1),a&&c.append("searchTxt",a),l&&c.append("mode",l),u="zpsurvey/surveys/".concat(r,"/applicable-locations"),e.n=1,y.get(u+(c.size>0?"?"+c:""),{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return s=e.v,e.a(2,Fo(Fo({},s.data),{},{surveyId:r,pno:i}));case 2:return e.p=2,d=e.v,e.a(2,n.rejectWithValue(d))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),ji=za("createsurvey/getReportFilterDesignations",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l,c,u,s,d;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.searchTxt,o=t.pno,i=void 0===o?0:o,l=t.mode,(c=new URLSearchParams).append("startIndex",i*K+1),a&&c.append("searchTxt",a),l&&c.append("mode",l),u="zpsurvey/surveys/".concat(r,"/applicable-designations"),e.n=1,y.get(u+(c.size>0?"?"+c:""),{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return s=e.v,e.a(2,Fo(Fo({},s.data),{},{surveyId:r,pno:i}));case 2:return e.p=2,d=e.v,e.a(2,n.rejectWithValue(d))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Ai=za("createsurvey/getReportFilterReportingManagers",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i,l,c,u,s,d;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a=t.searchTxt,o=t.pno,i=void 0===o?0:o,l=t.mode,(c=new URLSearchParams).append("startIndex",i*K+1),a&&c.append("searchTxt",a),l&&c.append("mode",l),u="zpsurvey/surveys/".concat(r,"/applicable-reportingmanagers"),e.n=1,y.get(u+(c.size>0?"?"+c:""),{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return s=e.v,e.a(2,Fo(Fo({},s.data),{},{surveyId:r,pno:i}));case 2:return e.p=2,d=e.v,e.a(2,n.rejectWithValue(d))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Ri=za("createsurvey/closeManualActivation",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a="zpsurvey/surveys/".concat(r,"/close-manualactivation"),e.n=1,y.patchForm(a,void 0,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,e.a(2,o.data);case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),qi=za("createsurvey/reopenManualActivation",function(){var e=Ro(Do().m(function e(t,n){var r,a,o,i;return Do().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a="zpsurvey/surveys/".concat(r,"/reopen-manualactivation"),e.n=1,y.patchForm(a,void 0,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,e.a(2,o.data);case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Mi=ea([function(e){return e.createSurvey}],function(e){var t=e.surveyData;if(t.metric_type===gn&&t.metric_groups){var n=0;return(t.metric_groups||[]).forEach(function(e){n+=(e.questions||[]).length}),n}return(t.questions||[]).length}),Zi=Yo.actions,Li=Zi.overrideCreateSurveySlice,Fi=Zi.overrideCreateSurveyData,Bi=Zi.overrideCreateSurveyCloneData,Ui=Zi.updateCreateThemeData,Hi=Zi.resetCreateSurveySlice,Vi=Zi.surveyErrorData,Yi=Zi.overrideSurveyReportData,Wi=Zi.deleteCreateSurveyQuestionData,Gi=Zi.markAsCreateSurveyQuestionMandatory,$i=Zi.updateAverageRatingInCreateSurveyQuestion,Qi=Zi.overrideSurveyReportKeywordFilter,Xi=Zi.removeSurveyReportKeywordFilter,Ki=(Zi.updateAverageRatingInCreateSurveyQues,Zi.updateAverageRatingInCreateSurvey,Zi.overrideShowCustomSharePopup),Ji=Zi.resetSurveyShareReport,el=Zi.overrideSurveyReportFilterData,tl=Zi.resetSurveyReportFilterData,nl=Yo.reducer,rl=function(){var e=su.getState().assessmentEdit.latest_assessId;return"zpassessment/assessments/".concat(e)};function al(e){return al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(e)}function ol(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return il(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(il(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,il(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,il(d,"constructor",u),il(u,"constructor",c),c.displayName="GeneratorFunction",il(u,a,"GeneratorFunction"),il(d),il(d,a,"Generator"),il(d,r,function(){return this}),il(d,"toString",function(){return"[object Generator]"}),(ol=function(){return{w:o,m:p}})()}function il(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}il=function(e,t,n,r){function o(t,n){il(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},il(e,t,n,r)}function ll(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function cl(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){ll(o,r,a,i,l,"next",e)}function l(e){ll(o,r,a,i,l,"throw",e)}i(void 0)})}}function ul(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ul(Object(n),!0).forEach(function(t){dl(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ul(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dl(e,t,n){return(t=function(e){var t=function(e){if("object"!=al(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=al(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==al(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pl=ja({name:"configuration",initialState:{fetchInitialData:!0,isLoading:!1,isAttemptTaken:!1,userConfirmation:{},pageTitle:"",assessData:{name:"",description:"",layout_type:"all_questions",attempt_allowed:1,duration:-1,timer:"no_timer",pass_percentage:0,shuffle_questions:!1,score_consideration:"latest",result_type:"correct_answer_on_final",is_published:!1},errorData:{},originAssessId:"",dbHash:""},reducers:{overrideConfigSlice:function(e,t){return sl(sl({},e),t.payload)},overrideAssessData:function(e,t){e.assessData=sl(sl({},e.assessData),t.payload)},assessErrorData:function(e,t){e.errorData=t.payload.errorData}},extraReducers:function(e){e.addCase(ml.fulfilled,function(e,t){e.assessData.is_published=t.payload.ispublish}).addCase(fl.pending,function(e,t){e.isLoading=!0}).addCase(fl.rejected,function(e,t){e.isLoading=!1}).addMatcher(function(e){return["configuration/fetchAssessment/fulfilled","configuration/editAssessment/fulfilled"].includes(e.type)},function(e,t){var n,r,a,o,i,l,c=(o=t.payload.assessment,l={},o.hasOwnProperty("name")&&(l.name=o.name),o.hasOwnProperty("description")&&(l.description=o.description),o.hasOwnProperty("layout_type")&&(l.layout_type=o.layout_type),o.hasOwnProperty("attempt_allowed")&&(l.attempt_allowed=o.attempt_allowed),o.hasOwnProperty("duration")&&(l.duration="-1"!==o.duration?(i=o.duration)?Number(i)/6e4:0:parseInt(o.duration)),o.hasOwnProperty("timer")&&(l.timer=o.timer),o.hasOwnProperty("pass_percentage")&&(l.pass_percentage=o.pass_percentage),o.hasOwnProperty("shuffle_questions")&&(l.shuffle_questions=o.shuffle_questions),o.hasOwnProperty("score_consideration")&&(l.score_consideration=o.score_consideration),o.hasOwnProperty("result_type")&&(l.result_type=o.result_type),o.hasOwnProperty("is_published")&&(l.is_published=o.is_published),l);return sl(sl({},e),{},{fetchInitialData:!1,isLoading:!1,userConfirmation:{},isAttemptTaken:null!==(n=null===(r=t.payload.assessment)||void 0===r?void 0:r.attempt_taken)&&void 0!==n?n:e.isAttemptTaken,originAssessId:null===(a=t.payload.assessment)||void 0===a?void 0:a.origin_id,assessData:sl(sl({},e.assessData),c),dbHash:bo(sl(sl({},e.assessData),c)),pageTitle:ZPI18N.getString("zp.untitled")!==c.name?c.name:ZPI18N.getString("zp.assessment.create.new")})})}}),fl=(za("configuration/fetchAssessment",function(){var e=cl(ol().m(function e(t,n){var r,a,o,i;return ol().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r="zpassessment/assessments/".concat(t,"/init"),e.n=1,y.get(r);case 1:return a=e.v,e.a(2,a.data);case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(null==i||null===(o=i.response)||void 0===o?void 0:o.data))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),za("configuration/editAssessment",function(){var e=cl(ol().m(function e(t,n){var r,a,o,i,l,c;return ol().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.assessmentId,a=t.payload,o="zpassessment/assessments/".concat(r),e.n=1,y.putForm(o,a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return i=e.v,e.a(2,i.data);case 2:return e.p=2,c=e.v,e.a(2,n.rejectWithValue(null==c||null===(l=c.response)||void 0===l?void 0:l.data))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}())),ml=za("configuration/publishAssessment",function(){var e=cl(ol().m(function e(t,n){var r,a,o,i,l;return ol().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=rl(),(a=new URLSearchParams).append("mode",t.mode),e.n=1,y.patch(r,a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,e.a(2,o.data);case 2:return e.p=2,l=e.v,e.a(2,n.rejectWithValue(null==l||null===(i=l.response)||void 0===i?void 0:i.data))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),vl=pl.actions,yl=(vl.overrideConfigSlice,vl.overrideAssessData,vl.assessErrorData,pl.reducer);function gl(e){return gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(e)}function hl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hl(Object(n),!0).forEach(function(t){_l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _l(e,t,n){return(t=function(e){var t=function(e){if("object"!=gl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=gl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gl(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var El=ja({name:"assessmentEdit",initialState:{},reducers:{assessEditInitState:function(e,t){return bl(bl({},e),t.payload)},updateLatestAssessId:function(e,t){e.latest_assessId=t.payload.latest_assessId}}}),Sl=El.actions,wl=(Sl.assessEditInitState,Sl.updateLatestAssessId),Nl=El.reducer,Pl=(ZPI18N.getString("zp.true"),ZPI18N.getString("zp.false"),{type:"6",question:"",metric_id:null,ismandatory:!1,enable_comment:!1}),Ol={type:"10",question:"",metric_id:null,date_settings:{date_format:"undefined"!=typeof dateFmt?Ae[dateFmt]:2,start_range:void 0,end_range:void 0},enable_comment:!1,ismandatory:!1,rating_config:{comment_mandatory:!1}},Il={type:"7",question:"",minscore_text:ZPI18N.getString("zp.enps.notlikely"),maxscore_text:ZPI18N.getString("zp.enps.extremelikely"),metric_id:null,enable_comment:!1,ismandatory:!1,rating_config:{comment_mandatory:!1,min_start:0,max_count:10,comment_criteria:0,comment_score:6}},zl={type:"9",question:"",metric_id:null,rating_config:{min_start:1,max_count:5,is_avgrating:!1,comment_mandatory:!1,comment_criteria:0,comment_score:4},enable_comment:!1,ismandatory:!1},Cl={type:"12",question:"",metric_id:null,rating_config:{max_count:5,rating_type:"agreement_scale",layout:0,comment_mandatory:!1,comment_criteria:0,comment_score:3},scale_customtext:{},enable_comment:!1,ismandatory:!1},Tl=function(e){var t=e.type,n={question:e.question,questionbank_id:e.questionbank_id,question_id:e.question_id,type:e.type,mark:e.mark};return e.hasOwnProperty("origin_id")&&(n.origin_id=e.origin_id),e.hasOwnProperty("difficulty_level")&&(n.difficulty_level=e.difficulty_level),e.hasOwnProperty("sequence_recordid")&&(n.sequence_recordid=e.sequence_recordid),e.hasOwnProperty("section_id")&&(n.section_id=e.section_id),E(t)?n.choices=e.choices:t===a.BLANKS.TYPE?n.blanks=e.blanks:t===a.DROPDOWN.TYPE?n.dropdown=e.dropdown.map(function(e){return delete e.type,e}):t===a.MATCHES.TYPE?(n.matches=e.matches,n.additional_matches=e.additional_matches):t===a.HOTSPOT.TYPE?(n.hotspots=e.hotspots,n.fileInfo=e.fileInfo):t===a.DESCRIPTIVE.TYPE&&e.descriptive_settings&&(n.descriptive_settings=e.descriptive_settings),n},xl=function(e){return su.getState().assessmentEdit.latest_assessId!==e},kl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new Set(e.map(function(e){return e.question_id}));return t.forEach(function(t){var r=t.question_id;n.has(r)||(n.add(r),e.push(t))}),e},Dl={criteria_id:"",add_random_question:function(){var e=su.getState().assessmentEdit.latest_assessId;return"zpassessment/assessments/".concat(e,"/questioncriteria")},edit_random_question:function(){var e=su.getState().assessmentEdit.latest_assessId;return"zpassessment/assessments/".concat(e,"/questioncriteria/").concat(this.criteria_id)},delete_random_question:function(){var e=su.getState().assessmentEdit.latest_assessId;return"zpassessment/assessments/".concat(e)}};function jl(e){return jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(e)}function Al(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return Rl(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Rl(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,Rl(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,Rl(d,"constructor",u),Rl(u,"constructor",c),c.displayName="GeneratorFunction",Rl(u,a,"GeneratorFunction"),Rl(d),Rl(d,a,"Generator"),Rl(d,r,function(){return this}),Rl(d,"toString",function(){return"[object Generator]"}),(Al=function(){return{w:o,m:p}})()}function Rl(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Rl=function(e,t,n,r){function o(t,n){Rl(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Rl(e,t,n,r)}function ql(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Ml(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){ql(o,r,a,i,l,"next",e)}function l(e){ql(o,r,a,i,l,"throw",e)}i(void 0)})}}function Zl(e){return function(e){if(Array.isArray(e))return Ll(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ll(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ll(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ll(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Fl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fl(Object(n),!0).forEach(function(t){Ul(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ul(e,t,n){return(t=function(e){var t=function(e){if("object"!=jl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=jl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==jl(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hl=ja({name:"questions",initialState:{count:0,data:[],total_mark:0,fetchInitialData:!0},reducers:{overrideQuestionsSlice:function(e,t){return Bl(Bl({},e),t.payload)},updateAssessQuestions:function(e,t){var n=t.payload;e.data=n.assessment_questions,e.count=(e.data||[]).length,e.total_mark=(e.data||[]).reduce(function(e,t){return e+parseFloat(t.mark)},0)},updateAssessQuestionFromQBankEdit:function(e,t){var n=t.payload.question;e.data=(e.data||[]).map(function(e){if(e.question_id===n.question_id){var t=Tl(n);return delete t.mark,Bl(Bl({},e),t)}return e})}},extraReducers:function(e){e.addCase(Vl.fulfilled,function(e,t){if(t.payload.hasVersioning)Hl.caseReducers.updateAssessQuestions(e,t);else{var n=Tl(t.payload.question);e.data=[].concat(Zl(e.data),[n]),e.count++,e.total_mark+=parseFloat(n.mark)}}).addCase(Yl.fulfilled,function(e,t){if(t.payload.hasVersioning)Hl.caseReducers.updateAssessQuestions(e,t);else{var n=Tl(t.payload.question);e.data=e.data.map(function(t){return t.question_id===n.question_id||parseFloat(n.origin_id)>0&&t.question_id===n.origin_id||parseFloat(t.origin_id)>0&&parseFloat(n.origin_id)&&t.origin_id===n.origin_id?(e.total_mark-=parseFloat(t.mark),e.total_mark+=parseFloat(n.mark),n.sequence_recordid=t.sequence_recordid,n):t})}}).addCase(Wl.fulfilled,function(e,t){if(t.payload.hasVersioning)Hl.caseReducers.updateAssessQuestions(e,t);else{var n=t.payload.question_id;e.data=e.data.filter(function(e){return String(e.question_id)!==String(n)}),e.total_mark=(e.data||[]).reduce(function(e,t){return e+parseFloat(t.mark)},0),e.count--}}).addCase(Gl.fulfilled,function(e,t){var n=t.payload,r=n.hasVersioning,a=n.questions;r?Hl.caseReducers.updateAssessQuestions(e,t):(e.data=[].concat(Zl(e.data),Zl(a)),e.count=e.data.length,e.total_mark=e.data.reduce(function(e,t){return e+Number(t.mark)},0))}).addCase($l.fulfilled,function(e,t){var n=t.payload;if(n.hasVersioning)Hl.caseReducers.updateAssessQuestions(e,t);else{var r=n.questions,a=go(e.data),o=n.questioncriteria.criteria_id,i=a.map(function(e,t){if(e.criteria_id===o)return t}).filter(function(e){return void 0!==e}),l=a.filter(function(e){return e.criteria_id!==o}),c=l.length;r.forEach(function(e,t){i[t]?l.splice(i[t],0,e):l.splice(c++,0,e)}),e.data=Zl(l),e.count=e.data.length,e.total_mark=e.data.reduce(function(e,t){return e+Number(t.mark)},0)}}).addCase(Ql.fulfilled,function(e,t){if(t.payload.hasVersioning)Hl.caseReducers.updateAssessQuestions(e,t);else{var n=t.payload.sequence_recordid,r=e.data.filter(function(e){return e.sequence_recordid!==n});e.data=Zl(r),e.count=e.data.length,e.total_mark=e.data.reduce(function(e,t){return e+Number(t.mark)},0)}}).addCase(Xl.fulfilled,function(e,t){var n=Zl(e.data),r=t.payload.question_order;n.sort(function(e,t){return r.indexOf(e.sequence_recordid)-r.indexOf(t.sequence_recordid)}),e.data=n})}}),Vl=za("questioncard/addQuestion",function(){var e=Ml(Al().m(function e(t,n){var r,a,o,i,l,c,u;return Al().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.payload,a=du.create_question(),o=!1,e.n=1,y.postForm(a,r,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return 200===(i=e.v).status&&(o=xl(null==i||null===(l=i.data)||void 0===l?void 0:l.assessment_id))&&n.dispatch(wl({latest_assessId:i.data.assessment_id})),e.a(2,Bl(Bl({},i.data),{},{hasVersioning:o}));case 2:return e.p=2,u=e.v,e.a(2,n.rejectWithValue(null==u||null===(c=u.response)||void 0===c?void 0:c.data))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Yl=za("questioncard/editQuestion",function(){var e=Ml(Al().m(function e(t,n){var r,a,o,i,l,c,u;return Al().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.payload,a=t.questionId,o=du.update_question.bind({questionId:a})(),i=!1,e.n=1,y.putForm(o,r,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return 200===(l=e.v).status&&(i=xl(null==l||null===(c=l.data)||void 0===c?void 0:c.assessment_id))&&n.dispatch(wl({latest_assessId:l.data.assessment_id})),e.a(2,Bl(Bl({},l.data),{},{hasVersioning:i}));case 2:return e.p=2,u=e.v,e.a(2,n.rejectWithValue(u.response.data))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Wl=za("questioncard/deleteQuestion",function(){var e=Ml(Al().m(function e(t,n){var r,a,o,i,l,c,u;return Al().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.payload,a=du.delete_question(),o=!1,(i=new URLSearchParams).append("mode","question"),i.append("questionData",r.questionData),e.n=1,y.patch(a,i,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:if(200!==(l=e.v).status){e.n=2;break}return(o=xl(null==l||null===(c=l.data)||void 0===c?void 0:c.assessment_id))&&n.dispatch(wl({latest_assessId:l.data.assessment_id})),e.a(2,Bl(Bl({},l.data),{},{hasVersioning:o}));case 2:e.n=4;break;case 3:return e.p=3,u=e.v,e.a(2,n.rejectWithValue(u));case 4:return e.a(2)}},e,null,[[0,3]])}));return function(t,n){return e.apply(this,arguments)}}()),Gl=za("questioncard/addrandomQuestion",function(){var e=Ml(Al().m(function e(t,n){var r,a,o,i,l,c;return Al().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.payload,a=Dl.add_random_question(),o=!1,e.n=1,y.postForm(a,{criteria:JSON.stringify(r)},{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return 200===(i=e.v).status&&(o=xl(null==i||null===(l=i.data)||void 0===l?void 0:l.assessment_id))&&n.dispatch(wl({latest_assessId:i.data.assessment_id})),e.a(2,Bl(Bl({},i.data),{},{hasVersioning:o}));case 2:return e.p=2,c=e.v,e.a(2,n.rejectWithValue(c))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),$l=za("questioncard/editrandomQuestion",function(){var e=Ml(Al().m(function e(t,n){var r,a,o,i,l,c,u;return Al().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.payload,a=t.criteria_id,o=Dl.edit_random_question.bind({criteria_id:a})(),i=!1,e.n=1,y.putForm(o,{criteria:JSON.stringify(r)},{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return 200===(l=e.v).status&&(i=xl(null==l||null===(c=l.data)||void 0===c?void 0:c.assessment_id))&&n.dispatch(wl({latest_assessId:l.data.assessment_id})),e.a(2,Bl(Bl({},l.data),{},{hasVersioning:i}));case 2:return e.p=2,u=e.v,e.a(2,n.rejectWithValue(u))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Ql=za("questioncard/deleteRandomQuestion",function(){var e=Ml(Al().m(function e(t,n){var r,a,o,i,l,c,u,s;return Al().w(function(e){for(;;)switch(e.p=e.n){case 0:for(l in e.p=0,r=t.payload,a=Dl.delete_random_question(),o=!1,i=new URLSearchParams,r)i.append(l,r[l]);return e.n=1,y.patch(a,i,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return 200===(c=e.v).status&&(o=xl(null==c||null===(u=c.data)||void 0===u?void 0:u.assessment_id))&&n.dispatch(wl({latest_assessId:c.data.assessment_id})),e.a(2,Bl(Bl({},c.data),{},{hasVersioning:o}));case 2:return e.p=2,s=e.v,e.a(2,n.rejectWithValue(s))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Xl=za("questioncard/reorderQuestion",function(){var e=Ml(Al().m(function e(t){var n,r,a,o,i;return Al().w(function(e){for(;;)switch(e.n){case 0:return n=t.sequenceRecordId,r=t.pos,a={sequence_recordid:n,pos:r},o=du.reorder_question.bind({sequenceRecordId:n})(),e.n=1,y.putForm(o,{orderData:JSON.stringify(a)},{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return i=e.v,e.a(2,i.data)}},e)}));return function(t){return e.apply(this,arguments)}}()),Kl=Hl.actions,Jl=(Kl.overrideQuestionsSlice,Kl.updateAssessQuestions,Kl.updateAssessQuestionFromQBankEdit,Hl.reducer);function ec(e){return ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(e)}function tc(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return nc(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(nc(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,nc(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,nc(d,"constructor",u),nc(u,"constructor",c),c.displayName="GeneratorFunction",nc(u,a,"GeneratorFunction"),nc(d),nc(d,a,"Generator"),nc(d,r,function(){return this}),nc(d,"toString",function(){return"[object Generator]"}),(tc=function(){return{w:o,m:p}})()}function nc(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}nc=function(e,t,n,r){function o(t,n){nc(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},nc(e,t,n,r)}function rc(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ac(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ac(Object(n),!0).forEach(function(t){ic(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ac(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ic(e,t,n){return(t=function(e){var t=function(e){if("object"!=ec(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ec(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ec(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lc=ja({name:"editor",initialState:{instruction:"",thankyou_message:""},reducers:{overrideEditorSlice:function(e,t){return oc(oc({},e),t.payload)},instruction:function(e,t){e.instruction=t.payload.instruction},thankYouMessage:function(e,t){e.thankyou_message=t.payload.thankyou_message}},extraReducers:function(e){e.addCase(cc.fulfilled,function(e,t){var n=t.payload.assessment,r=n.instruction,a=n.thankyou_message;e.instruction=r,e.thankyou_message=a})}}),cc=za("editor/editIntroThnkUMessage",function(){var e,t=(e=tc().m(function e(t,n){var r,a,o,i,l,c;return tc().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.assessmentId,a=t.payload,o="zpassessment/assessments/".concat(r),e.n=1,y.putForm(o,a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return i=e.v,e.a(2,i.data);case 2:return e.p=2,c=e.v,e.a(2,n.rejectWithValue(null==c||null===(l=c.response)||void 0===l?void 0:l.data))}},e,null,[[0,2]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){rc(o,r,a,i,l,"next",e)}function l(e){rc(o,r,a,i,l,"throw",e)}i(void 0)})});return function(e,n){return t.apply(this,arguments)}}()),uc=(lc.actions.overrideEditorSlice,lc.reducer);function sc(e){return sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(e)}function dc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dc(Object(n),!0).forEach(function(t){fc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fc(e,t,n){return(t=function(e){var t=function(e){if("object"!=sc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=sc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==sc(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mc(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return vc(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(vc(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,vc(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,vc(d,"constructor",u),vc(u,"constructor",c),c.displayName="GeneratorFunction",vc(u,a,"GeneratorFunction"),vc(d),vc(d,a,"Generator"),vc(d,r,function(){return this}),vc(d,"toString",function(){return"[object Generator]"}),(mc=function(){return{w:o,m:p}})()}function vc(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}vc=function(e,t,n,r){function o(t,n){vc(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},vc(e,t,n,r)}function yc(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}var gc=za("security/updateSecurity",function(){var e,t=(e=mc().m(function e(t,n){var r,a,o,i,l,c;return mc().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.assessmentId,a=t.payload,o="zpassessment/assessments/".concat(r,"/network-security"),e.n=1,y.patchForm(o,a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return i=e.v,e.a(2,i.data);case 2:return e.p=2,c=e.v,e.a(2,n.rejectWithValue(null==c||null===(l=c.response)||void 0===l?void 0:l.data))}},e,null,[[0,2]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){yc(o,r,a,i,l,"next",e)}function l(e){yc(o,r,a,i,l,"throw",e)}i(void 0)})});return function(e,n){return t.apply(this,arguments)}}()),hc=ja({name:"security",initialState:{securityData:{},fetchInitialData:!0,isLoading:!1,errorData:{}},reducers:{overrideSecuritySlice:function(e,t){return pc(pc({},e),t.payload)},overrideBrowserSecurity:function(e,t){e.securityData.security=pc(pc({},e.securityData.security),t.payload)},overrideNetworkSecuriy:function(e,t){var n,r,a,o;e.securityData.restrict_ip=null!==(n=null===(r=t.payload)||void 0===r?void 0:r.restrict_ip)&&void 0!==n?n:e.securityData.restrict_ip,e.securityData.allowed_ip_ranges=null!==(a=null===(o=t.payload)||void 0===o?void 0:o.allowed_ip_ranges)&&void 0!==a?a:e.securityData.allowed_ip_ranges},securityErrorData:function(e,t){e.errorData=t.payload.errorData}},extraReducers:function(e){e.addCase(gc.pending,function(e,t){e.isLoading=!0}).addCase(gc.rejected,function(e,t){e.isLoading=!1}).addCase(gc.fulfilled,function(e,t){var n=t.payload;return pc(pc({},e),{},{isLoading:!1,securityData:n,dbHash:bo(n)})})}}),bc=hc.actions,_c=(bc.overrideSecuritySlice,bc.overrideBrowserSecurity,bc.overrideNetworkSecuriy,bc.securityErrorData,hc.reducer);function Ec(e){return Ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(e)}function Sc(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return wc(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(wc(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,wc(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,wc(d,"constructor",u),wc(u,"constructor",c),c.displayName="GeneratorFunction",wc(u,a,"GeneratorFunction"),wc(d),wc(d,a,"Generator"),wc(d,r,function(){return this}),wc(d,"toString",function(){return"[object Generator]"}),(Sc=function(){return{w:o,m:p}})()}function wc(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}wc=function(e,t,n,r){function o(t,n){wc(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},wc(e,t,n,r)}function Nc(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Pc(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Nc(o,r,a,i,l,"next",e)}function l(e){Nc(o,r,a,i,l,"throw",e)}i(void 0)})}}function Oc(e){return function(e){if(Array.isArray(e))return Ic(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ic(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ic(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ic(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function zc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Cc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zc(Object(n),!0).forEach(function(t){Tc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Tc(e,t,n){return(t=function(e){var t=function(e){if("object"!=Ec(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ec(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ec(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xc=ja({name:"questionbank",initialState:{hid:"",data:[],render:!1,importCard:!1,hasMoreQuestions:!1,questions:null,taggedIds:[],tagPayload:{question_ids:[],deletedquestion_ids:[]},importPayload:{errorQues:[],totalQuestionCnt:"",importedQuesCnt:""},filteredIds:[],lastFetchTime:0,flag:0,fetchInitialData:!0,isLoading:!1},reducers:{overrideQBankSlice:function(e,t){return Cc(Cc({},e),t.payload)},resetQuestionHistory:function(e,t){var n=t.payload.questionId;e.questions=e.questions.map(function(e){return e.question_id===n&&delete e.history,e})},resetQuestionBankCard:function(e,t){e.render=!1,e.taggedIds=[],e.filteredIds=[],e.tagPayload={question_ids:[],deletedquestion_ids:[]},e.isLoading=!1},resetImportQuesCard:function(e,t){e.importCard=!1,e.importPayload={errorQues:[],totalQuestionCnt:"",importedQuesCnt:""}},updateActiveQuestionIds:function(e,t){var n=t.payload.assessQuestions,r=new Set,a=new Set;(n||[]).forEach(function(e){parseFloat(e.origin_id)>0&&r.add(e.origin_id),parseFloat(e.question_id)>0&&r.add(e.question_id)}),(e.questions||[]).forEach(function(e){(r.has(e.question_id)||parseFloat(e.origin_id)>0&&r.has(e.origin_id))&&a.add(e.question_id)}),e.taggedIds=Oc(a)},resetTagPayload:function(e,t){var n=t.payload.assessQuestions,r=new Set,a=[];return(n||[]).forEach(function(e){parseFloat(e.origin_id)>0&&r.add(e.origin_id),r.add(e.question_id)}),(e.questions||[]).forEach(function(e){(r.has(e.question_id)||parseFloat(e.origin_id)>0&&r.has(e.origin_id))&&a.push(e.question_id)}),Cc(Cc({},e),{},{taggedIds:a,tagPayload:{question_ids:[],deletedquestion_ids:[]}})}},extraReducers:function(e){e.addCase(kc.fulfilled,function(e,t){return Cc(Cc({},e),{},{hid:t.payload.hid,data:t.payload.questionbanks})}).addCase(Dc.fulfilled,function(e,t){var n=t.payload.questionbank,r=n.question_count,a=n.questionbank_id,o=n.name;e.data=[].concat(Oc(e.data),[{question_count:r,questionbank_id:a,name:o}])}).addCase(jc.fulfilled,function(e,t){var n=t.payload,r=n.errorQues,a=n.totalQuestionCnt,o=n.importedQuesCnt;e.importPayload={errorQues:JSON.parse(r),totalQuestionCnt:a,importedQuesCnt:o}}).addCase(Ac.fulfilled,function(e,t){var n=t.payload,r=n.questions,a=n.hasMore,o=n.assessQuestions,i=e.filteredIds,l=new Set,c=new Set(Oc(e.taggedIds||[])),u=new Set(e.taggedIds);if(e.render){(o||[]).forEach(function(e){parseFloat(e.origin_id)>0&&l.add(e.origin_id),parseFloat(e.question_id)>0&&l.add(e.question_id)}),(r||[]).forEach(function(e){(l.has(e.question_id)||parseFloat(e.origin_id)>0&&l.has(e.origin_id))&&!u.has(e.question_id)&&c.add(e.question_id)});var s=mo(e.questions||[]);return Cc(Cc({},e),{},{questions:kl(s,r),taggedIds:Oc(c),hasMoreQuestions:a,lastFetchTime:Date.now(),flag:null!=i&&i.length?0:1,fetchInitialData:!1,isLoading:!1})}}).addCase(Rc.fulfilled,function(e,t){var n=t.payload,r=n.history,a=n.questionId;e.questions=e.questions.map(function(e){return e.question_id===a?Cc(Cc({},e),{},{history:r}):e})}).addCase(Mc.fulfilled,function(e,t){var n=t.payload,r=n.origin_id,a=n.question_id;e.questions=e.questions.map(function(e){return e.question_id===a||parseFloat(r)>0&&e.question_id===r||parseFloat(r)>0&&parseFloat(e.origin_id)>0&&e.origin_id===r?t.payload:e})}).addCase(qc.fulfilled,function(e,t){var n=t.payload.questionbank_id,r=e.filteredIds;(0===r.length||r.includes(n))&&(e.questions=[t.payload].concat(Oc(e.questions)))}).addCase(Zc.fulfilled,function(e,t){var n=t.payload.question_id,r=Oc(e.taggedIds),a=r.indexOf(n);a>-1&&r.splice(a,1),e.taggedIds=r,e.questions=e.questions.filter(function(e){return e.question_id!==n})}).addCase(Lc.fulfilled,function(e,t){e.questions=[t.payload].concat(Oc(e.questions))}).addCase(Fc.fulfilled,function(e,t){var n=t.payload,r=n.origin_id,a=n.question_id;e.questions=e.questions.map(function(t){var o=Oc(e.taggedIds);if(t.origin_id===r||t.question_id===a||t.question_id===r){var i=Tl(n),l={question:n.question,questionbank_id:n.questionbank_id,question_id:n.question_id,type:n.type,mark:n.mark,created_time:n.created_time,origin_id:n.origin_id,version:n.version,difficulty_level:n.difficulty_level};i.history=[l].concat(Oc(t.history));var c=o.indexOf(t.question_id);return c>-1&&(o.splice(c,1),e.taggedIds=[].concat(Oc(o),[l.question_id])),i}return t})})}}),kc=za("questionbank/getQuestionBanks",function(){var e=Pc(Sc().m(function e(t){var n,r;return Sc().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,y("zpassessment/qbanks");case 1:if(200!==(n=e.v).status){e.n=2;break}return e.a(2,n.data);case 2:return e.a(2,n.text().then(function(e){throw new Error(e)}));case 3:return e.p=3,r=e.v,e.a(2,t.rejectWithValue(r))}},e,null,[[0,3]])}));return function(t){return e.apply(this,arguments)}}()),Dc=za("questionbank/createQuestionBank",function(){var e=Pc(Sc().m(function e(t,n){var r,a,o;return Sc().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.payload,e.n=1,y.postForm("zpassessment/qbanks",r,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return a=e.v,e.a(2,a.data);case 2:return e.p=2,o=e.v,e.a(2,n.rejectWithValue(o))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),jc=za("questionbank/importQuestions",function(){var e=Pc(Sc().m(function e(t,n){var r,a;return Sc().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,y.postForm("zpassessment/importUploadFile",t,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return r=e.v,e.a(2,r.data);case 2:return e.p=2,a=e.v,e.a(2,n.rejectWithValue(a))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Ac=za("questionbank/getQBankQuestions",function(){var e=Pc(Sc().m(function e(t,n){var r,a,o,i,l,c,u;return Sc().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.startIndex,a=t.assessQuestions,o=t.filter,i=du.question_bank(),l=new URLSearchParams({mode:"qbank",startIndex:r}),o&&l.append("filter",JSON.stringify(o)),e.n=1,y.get(i+"?"+l);case 1:return c=e.v,e.a(2,Cc(Cc({},c.data),{},{assessQuestions:a}));case 2:return e.p=2,u=e.v,e.a(2,n.rejectWithValue(u))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Rc=za("questionbank/getQuestionHistory",function(){var e=Pc(Sc().m(function e(t,n){var r,a,o,i,l;return Sc().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.questionId,a=t.questionBankId,o=du.question_bank_read.bind({questionId:r})(),e.n=1,y.get(o,{params:{mode:"version"}});case 1:return i=e.v,e.a(2,{history:i.data,questionId:r,questionBankId:a});case 2:return e.p=2,l=e.v,e.a(2,n.rejectWithValue(l))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),qc=za("questionbank/addQbankQuestion",function(){var e=Pc(Sc().m(function e(t,n){var r,a,o,i;return Sc().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.payload,a=du.question_bank(),e.n=1,y.postForm(a,r,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,e.a(2,o.data.question);case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Mc=za("questionbank/editQbankQuestion",function(){var e=Pc(Sc().m(function e(t,n){var r,a,o,i,l;return Sc().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.questionId,a=t.payload,o=du.question_bank_read.bind({questionId:r})(),e.n=1,y.putForm(o,a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return i=e.v,e.a(2,i.data.question);case 2:return e.p=2,l=e.v,e.a(2,n.rejectWithValue(l))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Zc=za("questionbank/deleteQbankQuestion",function(){var e=Pc(Sc().m(function e(t,n){var r,a,o,i,l;return Sc().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.questionId,a=t.questionBankId,o=du.question_bank_read.bind({questionId:r})(),e.n=1,y.delete(o,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return i=e.v,e.a(2,Cc({questionBankId:a},i.data.question));case 2:return e.p=2,l=e.v,e.a(2,n.rejectWithValue(l.response.data))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Lc=za("questionbank/cloneQuestion",function(){var e=Pc(Sc().m(function e(t,n){var r,a,o;return Sc().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=du.question_clone.bind({questionId:t})(),e.n=1,y.putForm(r,{mode:"version"},{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return a=e.v,e.a(2,a.data.question);case 2:return e.p=2,o=e.v,e.a(2,n.rejectWithValue(o.response.data))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Fc=za("questionbank/restoreQuestion",function(){var e=Pc(Sc().m(function e(t,n){var r,a,o;return Sc().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=du.question_restore.bind({questionId:t})(),e.n=1,y.putForm(r,{mode:"version"},{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return a=e.v,e.a(2,a.data.question);case 2:return e.p=2,o=e.v,e.a(2,n.rejectWithValue(o.response.data))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Bc=xc.actions,Uc=(Bc.resetQuestionHistory,Bc.resetQuestionBankCard,Bc.resetImportQuesCard,Bc.overrideQBankSlice,Bc.resetTagPayload,Bc.updateActiveQuestionIds),Hc=xc.reducer;function Vc(e){return Vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(e)}function Yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Wc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yc(Object(n),!0).forEach(function(t){Gc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Gc(e,t,n){return(t=function(e){var t=function(e){if("object"!=Vc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Vc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Vc(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $c=ja({name:"lightbox",initialState:{fileInfo:[{}],render:!1},reducers:{initLightbox:function(e,t){return Wc(Wc({},e),t.payload)},resetLightBox:function(e,t){e.fileInfo=[{}],e.render=!1}}}),Qc=$c.actions,Xc=Qc.initLightbox,Kc=(Qc.resetLightBox,$c.reducer);function Jc(e){return Jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(e)}function eu(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return tu(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(tu(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,tu(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,tu(d,"constructor",u),tu(u,"constructor",c),c.displayName="GeneratorFunction",tu(u,a,"GeneratorFunction"),tu(d),tu(d,a,"Generator"),tu(d,r,function(){return this}),tu(d,"toString",function(){return"[object Generator]"}),(eu=function(){return{w:o,m:p}})()}function tu(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}tu=function(e,t,n,r){function o(t,n){tu(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},tu(e,t,n,r)}function nu(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ru(Object(n),!0).forEach(function(t){ou(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ru(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ou(e,t,n){return(t=function(e){var t=function(e){if("object"!=Jc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Jc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Jc(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iu={render:!1,isLoading:!1,category:[],tags:[],type:[],difficulty_level:"1",mark:"1",available_question:0,question_count:0,criteria_id:"",mode:"add"},lu=ja({name:"randomquestion",initialState:iu,reducers:{openRandomQuestion:function(e,t){return au(au(au({},iu),t.payload),{render:!0})},overrideRandomSlice:function(e,t){return au(au({},e),t.payload)},closeRandomQuestionCard:function(){return iu}},extraReducers:function(e){e.addCase(cu.fulfilled,function(e,t){var n,r=t.payload,a=r.newState,o=r.selectedCount,i=r.criteria_id;return au(au(au({},e),a),{isLoading:!1,available_question:(null===(n=t.payload)||void 0===n||null===(n=n.response)||void 0===n||null===(n=n.questions)||void 0===n?void 0:n.length)||"",question_count:o,criteria_id:i})})}}),cu=za("randomquestion/fetchRandomQuestion",function(){var e,t=(e=eu().m(function e(t,n){var r,a,o,i,l;return eu().w(function(e){for(;;)switch(e.p=e.n){case 0:return r=t.filterData,a=t.selectedCount,o=t.criteria_id,e.p=1,i=new URLSearchParams({filter:JSON.stringify(r),mode:"random"}),e.a(2,y.get("zpassessment/questions?"+i).then(function(e){return{newState:r,response:e.data,selectedCount:a,criteria_id:o}}).catch(function(e){var t;return n.rejectWithValue((null===(t=e.response)||void 0===t?void 0:t.data)||e.message)}));case 2:return e.p=2,l=e.v,e.a(2,n.rejectWithValue(l))}},e,null,[[1,2]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){nu(o,r,a,i,l,"next",e)}function l(e){nu(o,r,a,i,l,"throw",e)}i(void 0)})});return function(e,n){return t.apply(this,arguments)}}()),uu=lu.actions,su=(uu.closeRandomQuestionCard,uu.openRandomQuestion,uu.updateMode,uu.overrideRandomSlice,_a({reducer:{configuration:yl,questions:Jl,questionCard:ts,questionBank:Hc,editor:uc,security:_c,assessmentEdit:Nl,lightBox:Kc,randomQuestion:lu.reducer}})),du={questionId:"",assessmentId:"",sequenceRecordId:"",questions:function(){var e=su.getState().assessmentEdit.latest_assessId;return"zpassessment/assessments/".concat(e,"/questions-overview")},create_question:function(){var e=su.getState().assessmentEdit.latest_assessId;return"zpassessment/assessments/".concat(e,"/questions")},read_question:function(){var e=su.getState().assessmentEdit.latest_assessId;return"zpassessment/assessments/".concat(e,"/questions/").concat(this.questionId)},delete_question:function(){var e=su.getState().assessmentEdit.latest_assessId;return"zpassessment/assessments/".concat(e)},update_question:function(){var e=su.getState().assessmentEdit.latest_assessId;return"zpassessment/assessments/".concat(e,"/questions/").concat(this.questionId)},reorder_question:function(){var e=su.getState().assessmentEdit.latest_assessId;return"zpassessment/assessments/".concat(e,"/questions/reorder")},question_bank:function(){return"zpassessment/questions"},question_bank_read:function(){return"zpassessment/questions/".concat(this.questionId)},question_clone:function(){return"zpassessment/questions/".concat(this.questionId,"/clone")},question_restore:function(){return"zpassessment/questions/".concat(this.questionId,"/restore")},question_tags:function(){return"zpassessment/questions/".concat(this.questionId,"/tags")}};function pu(e){return pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(e)}function fu(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return mu(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(mu(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,mu(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,mu(d,"constructor",u),mu(u,"constructor",c),c.displayName="GeneratorFunction",mu(u,a,"GeneratorFunction"),mu(d),mu(d,a,"Generator"),mu(d,r,function(){return this}),mu(d,"toString",function(){return"[object Generator]"}),(fu=function(){return{w:o,m:p}})()}function mu(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}mu=function(e,t,n,r){function o(t,n){mu(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},mu(e,t,n,r)}function vu(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function yu(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){vu(o,r,a,i,l,"next",e)}function l(e){vu(o,r,a,i,l,"throw",e)}i(void 0)})}}function gu(e){return function(e){if(Array.isArray(e))return hu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return hu(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bu(Object(n),!0).forEach(function(t){Eu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Eu(e,t,n){return(t=function(e){var t=function(e){if("object"!=pu(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=pu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==pu(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Su={render:!1,mode:"",viewType:null,header:"",actions:{submitButton:"",submitNAddButton:"",cancelButton:""},data:{},isLoading:!1,disableCardActions:!1,errorData:{},dbHash:""},wu=ja({name:"questionCard",initialState:Su,reducers:{openEditCard:function(e,t){return _u(_u(_u({},e),{render:!0,mode:"edit",header:ZPI18N.getString("zp.assessment.common.editquestion"),actions:{submitButton:ZPI18N.getString("zp.save"),submitNAddButton:"",cancelButton:ZPI18N.getString("zp.cancel")},data:{type:"1"},isLoading:!0,disableCardActions:!1,errorData:{}}),t.payload)},overrideQuestionCardSlice:function(e,t){return _u(_u({},e),t.payload)},resetQuestionCardSlice:function(){return Su},questionData:function(e,t){var n=t.payload.data.type;e.data[n]=t.payload.data[n],e.data.type=n},updateQuestionError:function(e,t){e.errorData.question=t.payload.question},updateChoiceError:function(e,t){e.errorData.choices=t.payload.choices},updateMatchError:function(e,t){e.errorData.matches=t.payload.matches},updateBlankError:function(e,t){e.errorData.blanks=t.payload.blanks},updateDropdownError:function(e,t){e.errorData.dropdown=t.payload.dropdown},updateDescriptiveError:function(e,t){e.errorData.descriptive=t.payload.descriptive},updateHotspotError:function(e,t){e.errorData.hotspot=t.payload.hotspot},resetErrorData:function(e,t){e.errorData={}},updateQuestion:function(e,t){var n=e.data.type;e.data[n].question=t.payload.question},updateChoices:function(e,t){var n=e.data.type;e.data[n].choices=t.payload.choices},updateAddOtherFieldChoice:function(e,t){var n=e.data.type;e.data[n].addOther=t.payload.addOther},updateBlanks:function(e,t){var n=e.data.type;e.data[n].blanks=t.payload.blanks},updateBlank:function(e,t){var n=t.payload,r=n.blank,a=n.index,o=e.data.type;e.data[o].blanks[a]=r},updateMatches:function(e,t){var n=e.data.type;e.data[n].matches=t.payload.matches},updateAdditionalMatches:function(e,t){var n=e.data.type;e.data[n].additional_matches=t.payload.additional_matches},updateDropdowns:function(e,t){var n=e.data.type;e.data[n].dropdown=t.payload.dropdown},updateDropdownChoices:function(e,t){var n=t.payload,r=n.choices,a=n.index,o=e.data.type;e.data[o].dropdown[a].choices=r},updateDescriptiveMaxWord:function(e,t){var n=e.data.type;e.data[n].descriptive_settings=t.payload.descriptive_settings},toggleDescriptiveMaxWord:function(e,t){var n=e.data.type;e.data[n].hasOwnProperty("descriptive_settings")?(delete e.data[n].descriptive_settings,delete e.errorData.descriptive):e.data[n].descriptive_settings={max_words:""}},updateHotspots:function(e,t){var n=e.data.type;e.data[n].hotspots=[t.payload.hotspots]},updateQuestionFileInfo:function(e,t){var n=e.data.type;e.data[n].fileInfo=t.payload.fileInfo},changeImageInHotspot:function(e,t){var n=e.data.type,r=mo(e.data[n]);if(Object.keys(r.fileInfo).length>0){var a;e.data[n].deletedattachment_id=mo(ho(r.deletedattachment_id||[],[r.fileInfo.contentId]));var o=r.deletedhotspot_id||[],i=null===(a=r.hotspots[0])||void 0===a?void 0:a.hotspot_id;i=void 0!==i?[i]:void 0,e.data[n].deletedhotspot_id=ho(o,i)}e.data[n].fileInfo=t.payload.fileInfo,e.data[n].hotspots=[{}]},updateQuestionType:function(e,t){e.data.type=t.payload.type},updatePartialMark:function(e,t){var n=e.data.type;e.data[n].partial_mark=t.payload.partial_mark},updateQBankId:function(e,t){var n=e.data.type;e.data[n].questionbank_id=t.payload.questionbank_id},updateDifficultyLevel:function(e,t){var n=e.data.type;e.data[n].difficulty_level=t.payload.difficulty_level},updateMark:function(e,t){var n=e.data.type;e.data[n].mark=t.payload.mark},updateTags:function(e,t){var n=e.data.type;e.data[n].tags=t.payload.tags},updateDeletedChoiceId:function(e,t){var n=t.payload.deletedchoice_id,r=e.data.type;e.data[r].deletedchoice_id=[].concat(gu(e.data[r].deletedchoice_id||[]),[n])},updateDeletedMatchId:function(e,t){var n=t.payload.deletedmatch_id,r=e.data.type;e.data[r].deletedmatch_id=[].concat(gu(e.data[r].deletedmatch_id||[]),[n])},updateDeletedDropdownId:function(e,t){var n=t.payload.deleteddropdown_id,r=e.data.type;e.data[r].deleteddropdown_id=[].concat(gu(e.data[r].deleteddropdown_id||[]),[n])},updatedeleteHotspotId:function(e,t){var n=t.payload.deletedhotspot_id,r=e.data.type;e.data[r].deletedhotspot_id=[].concat(gu(e.data[r].deletedhotspot_id||[]),[n||[]])},updateDeletedAttachmentId:function(e,t){var n=t.payload.deletedContentId,r=e.data.type;e.data[r].deletedattachment_id=[].concat(gu(e.data[r].deletedattachment_id||[]),[n])},updateEnableComment:function(e,t){var n=e.data.type;e.data[n].enable_comment=t.payload.enable_comment},updateIsQuestionMandatory:function(e,t){var n=e.data.type;e.data[n].ismandatory=t.payload.ismandatory},updateCommentMandatory:function(e,t){var n=e.data.type;e.data[n].rating_config.comment_mandatory=t.payload.comment_mandatory},updateAverageRating:function(e,t){var n=e.data.type;e.data[n].is_avgrating=t.payload.is_avgrating},updateMaxCount:function(e,t){var n=e.data.type;e.data[n].rating_config.max_count=t.payload.max_count},updateRatingType:function(e,t){var n=e.data.type;e.data[n].rating_config.rating_type=t.payload.rating_type},updateCommentRule:function(e,t){var n=e.data.type,r=t.payload,a=r.comment_criteria,o=r.comment_score,i=1===a?"R>="+o:"R<="+o;e.data[n].rating_config.comment_rule=i},updateCommentCriteria:function(e,t){var n=e.data.type;e.data[n].rating_config.comment_criteria=t.payload.comment_criteria},updateCommentScore:function(e,t){var n=e.data.type;e.data[n].rating_config.comment_score=t.payload.comment_score},updateRSLayout:function(e,t){var n=e.data.type;e.data[n].rating_config.layout=t.payload.layout},updateMinScoreText:function(e,t){var n=e.data.type;e.data[n].minscore_text=t.payload.minscore_text},updateMaxScoreText:function(e,t){var n=e.data.type;e.data[n].maxscore_text=t.payload.maxscore_text},updateDateSetting:function(e,t){var n=e.data.type;e.data[n].date_settings=_u(_u({},e.data[n].date_settings),t.payload.date_settings)},updateScaleCustomText:function(e,t){var n=e.data.type;e.data[n].scale_customtext=t.payload.scale_customtext},updateSpecificScaleCustomText:function(e,t){var n=t.payload,r=n.key,a=n.scale_customtext,o=e.data.type;Array.isArray(e.data[o].scale_customtext)&&e.data[o].scale_customtext[r]&&(e.data[o].scale_customtext[r].label=a)},updateMetricId:function(e,t){var n=e.data.type;e.data[n].metric_id=t.payload.metric_id},updateSurveyId:function(e,t){var n=e.data.type;e.data[n].survey_id=t.payload.survey_id}},extraReducers:function(e){e.addMatcher(function(e){return["questioncard/readQuestion/fulfilled","questioncard/readQBankQuestion/fulfilled"].includes(e.type)},function(e,t){var n=t.payload;if(e.render&&e.requestId===t.meta.requestId){var r=n.type,o=Eu(Eu({},r,function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Tl(e);return!t||n.type!==a.BLANKS.TYPE&&n.type!==a.DROPDOWN.TYPE||function(e){e.type===a.BLANKS.TYPE?e.blanks.forEach(function(e){e.uuid=crypto.randomUUID()}):e.type===a.DROPDOWN.TYPE&&e.dropdown.forEach(function(e){e.uuid=crypto.randomUUID()})}(n),e.hasOwnProperty("fileInfo")&&(n.fileInfo=e.fileInfo),e.hasOwnProperty("tags")&&(n.tags=e.tags),n.type===a.MATCHES.TYPE&&((n.matches||[]).forEach(function(e){delete e.value_id,delete e.added_sequence}),n.additional_matches=(e.additional_matches||[]).map(function(e){return delete e.value_id,delete e.added_sequence,delete e.score,delete e.match_key,e})),n.difficulty_level=e.difficulty_level,n.partial_mark=e.partial_mark,delete n.origin_id,delete n.sequence_recordid,n}(n)),"type",r);return _u(_u({},e),{},{mode:"edit",header:ZPI18N.getString("zp.assessment.common.editquestion"),actions:{submitButton:ZPI18N.getString("zp.save"),submitNAddButton:"",cancelButton:ZPI18N.getString("zp.cancel")},data:o,isLoading:!1,disableCardActions:!1,errorData:{},dbHash:bo(o[r])})}}).addMatcher(function(e){return["questioncard/readQuestion/pending","questioncard/readQBankQuestion/pending"].includes(e.type)},function(e,t){e.requestId=t.meta.requestId})}}),Nu=(za("questioncard/readQuestion",function(){var e=yu(fu().m(function e(t,n){var r,a,o;return fu().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=du.read_question.bind({questionId:t})(),e.n=1,y.get(r);case 1:return a=e.v,e.a(2,a.data.question);case 2:return e.p=2,o=e.v,e.a(2,n.rejectWithValue(o))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),za("questioncard/readQBankQuestion",function(){var e=yu(fu().m(function e(t,n){var r,a,o;return fu().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=du.question_bank_read.bind({questionId:t})(),e.n=1,y.get(r);case 1:return a=e.v,e.a(2,a.data.question);case 2:return e.p=2,o=e.v,e.a(2,n.rejectWithValue(o))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),wu.actions),Pu=Nu.questionData,Ou=(Nu.updateQuestionType,Nu.updateChoices),Iu=Nu.updateAddOtherFieldChoice,zu=(Nu.updateBlanks,Nu.updateBlank,Nu.updateMatches,Nu.updateQuestion),Cu=(Nu.updateDropdowns,Nu.updateDropdownChoices,Nu.updatePartialMark,Nu.updateQBankId),Tu=(Nu.updateDifficultyLevel,Nu.updateMark,Nu.updateDescriptiveMaxWord,Nu.updateChoiceError),xu=(Nu.updateTags,Nu.updateMatchError,Nu.updateQuestionError),ku=(Nu.updateBlankError,Nu.updateDropdownError,Nu.resetErrorData),Du=(Nu.updateDescriptiveError,Nu.updateHotspotError,Nu.updateHotspots,Nu.updateQuestionFileInfo),ju=(Nu.updatedeleteHotspotId,Nu.updateDeletedAttachmentId),Au=Nu.updateDeletedChoiceId,Ru=(Nu.updateDeletedMatchId,Nu.updateDeletedDropdownId,Nu.toggleDescriptiveMaxWord,Nu.openEditCard,Nu.changeImageInHotspot,Nu.overrideQuestionCardSlice),qu=Nu.resetQuestionCardSlice,Mu=(Nu.updateAdditionalMatches,Nu.updateMetricId),Zu=Nu.updateEnableComment,Lu=Nu.updateIsQuestionMandatory,Fu=Nu.updateCommentMandatory,Bu=Nu.updateMaxCount,Uu=Nu.updateRatingType,Hu=Nu.updateCommentRule,Vu=Nu.updateCommentCriteria,Yu=Nu.updateCommentScore,Wu=Nu.updateRSLayout,Gu=Nu.updateScaleCustomText,$u=Nu.updateSpecificScaleCustomText,Qu=Nu.updateMinScoreText,Xu=Nu.updateMaxScoreText,Ku=Nu.updateDateSetting,Ju=Nu.updateSurveyId,es=Nu.updateAverageRating,ts=wu.reducer;function ns(e){return ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ns(e)}function rs(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return as(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(as(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,as(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,as(d,"constructor",u),as(u,"constructor",c),c.displayName="GeneratorFunction",as(u,a,"GeneratorFunction"),as(d),as(d,a,"Generator"),as(d,r,function(){return this}),as(d,"toString",function(){return"[object Generator]"}),(rs=function(){return{w:o,m:p}})()}function as(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}as=function(e,t,n,r){function o(t,n){as(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},as(e,t,n,r)}function os(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function is(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){os(o,r,a,i,l,"next",e)}function l(e){os(o,r,a,i,l,"throw",e)}i(void 0)})}}function ls(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function us(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cs(Object(n),!0).forEach(function(t){ss(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cs(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ss(e,t,n){return(t=function(e){var t=function(e){if("object"!=ns(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ns(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ns(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ds={data:[],selectedQuesIds:[],render:!1,hasMoreQuestions:!1,questionBankId:null,questions:null,taggedIds:[],tagPayload:{question_ids:[]},viewType:null,lastFetchTime:0,fetchInitialData:!0,isLoading:!1},ps=ja({name:"questionbank",initialState:ds,reducers:{overrideQBankSlice:function(e,t){return us(us({},e),t.payload)},updateQuestions:function(e,t){var n=t.payload,r=mo(e.questions||[]);null!=e.questions&&(e.questions=kl([n],r))},resetQuestionBankCard:function(e){return ds},updateActiveQuestionIds:function(e,t){var n,r=t.payload.surveyQuestions,a=new Set,o=new Set;(r||[]).forEach(function(e){parseFloat(e.question_id)>0&&a.add(e.question_id)}),(e.questions||[]).forEach(function(e){a.has(e.question_id)&&o.add(e.question_id)}),e.taggedIds=function(e){if(Array.isArray(e))return ls(e)}(n=o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return ls(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ls(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},resetTagPayload:function(e,t){var n=t.payload.surveyQuestions,r=new Set,a=[];return(n||[]).forEach(function(e){r.add(e.question_id)}),(e.questions||[]).forEach(function(e){r.has(e.question_id)&&a.push(e.question_id)}),us(us({},e),{},{taggedIds:a,tagPayload:{question_ids:[]}})},deletequestion:function(e,t){var n=t.payload.question_id;e.questions&&(e.questions=e.questions.filter(function(e){return e.question_id!==n})),e.taggedIds&&(e.taggedIds=e.taggedIds.filter(function(e){return e!==n})),e.tagPayload.question_ids&&(e.tagPayload.question_ids=e.tagPayload.question_ids.filter(function(e){return e!==n}))},editQuestion:function(e,t){e.questions=(e.questions||[]).map(function(e){return e.question_id===t.payload.question_id?t.payload:e})}},extraReducers:function(e){e.addCase(fs.fulfilled,function(e,t){var n=t.payload,r=n.questions,a=n.hasMore;if(e.render){var o=mo(e.questions||[]);return us(us({},e),{},{questions:kl(o,r),hasMoreQuestions:a,lastFetchTime:Date.now(),fetchInitialData:!1,isLoading:!1})}}).addCase(ms.fulfilled,function(e,t){var n=t.payload,r=n.questions,a=n.hasMore;return us(us({},e),{},{questions:r,hasMoreQuestions:a,lastFetchTime:Date.now(),fetchInitialData:!1,isLoading:!1})})}}),fs=za("questionbank/getQBankQuestions",function(){var e=is(rs().m(function e(t,n){var r,a,o,i,l;return rs().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.pno,a=t.mode,o={mode:a,startIndex:100*r},e.n=1,y.get("zpsurvey/questions",{params:o});case 1:return i=e.v,e.a(2,i.data);case 2:return e.p=2,l=e.v,e.a(2,n.rejectWithValue(l))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),ms=za("questionbank/getEnpsQBankQuestions",function(){var e=is(rs().m(function e(t,n){var r,a,o;return rs().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r={mode:"enpsqbank",startIndex:0},e.n=1,y.get("zpsurvey/questions",{params:r});case 1:return a=e.v,e.a(2,a.data);case 2:return e.p=2,o=e.v,e.a(2,n.rejectWithValue(o))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),vs=ps.actions,ys=vs.resetQuestionBankCard,gs=vs.updateQuestions,hs=vs.overrideQBankSlice,bs=vs.resetTagPayload,_s=vs.deletequestion,Es=vs.editQuestion,Ss=ps.reducer;function ws(e){return ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ws(e)}function Ns(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return Ps(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Ps(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,Ps(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,Ps(d,"constructor",u),Ps(u,"constructor",c),c.displayName="GeneratorFunction",Ps(u,a,"GeneratorFunction"),Ps(d),Ps(d,a,"Generator"),Ps(d,r,function(){return this}),Ps(d,"toString",function(){return"[object Generator]"}),(Ns=function(){return{w:o,m:p}})()}function Ps(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Ps=function(e,t,n,r){function o(t,n){Ps(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Ps(e,t,n,r)}function Os(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Is(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Os(o,r,a,i,l,"next",e)}function l(e){Os(o,r,a,i,l,"throw",e)}i(void 0)})}}function zs(e){return function(e){if(Array.isArray(e))return Cs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Cs(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cs(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ts(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ts(Object(n),!0).forEach(function(t){ks(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ts(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ks(e,t,n){return(t=function(e){var t=function(e){if("object"!=ws(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ws(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ws(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ds=ja({name:"enpsRecords",initialState:{fetchInitialData:!0,viewMode:"gridView",filter:{status:$e},isFilterSave:!1,hasMore:!1,nextPageNumber:0,data:[]},reducers:{overrideEnpsRecordsSlice:function(e,t){return xs(xs({},e),t.payload)},addEnpsRecord:function(e,t){var n=t.payload,r=e.filter,a=$m(n,r);!e.fetchInitialData&&a&&(e.data=[n].concat(zs(e.data)))},editEnpsRecord:function(e,t){var n=t.payload,r=e.filter,a=$m(n,r);if(!e.fetchInitialData&&a){var o=t.payload;e.data=(e.data||data).map(function(e){return o.survey_id===e.survey_id?xs(xs({},e),o):e})}}},extraReducers:function(e){e.addCase(js.fulfilled,function(e,t){var n=t.payload,r=n.surveys,a=n.hasMore;n.filter,e.filter,e.data=[].concat(zs(e.data),zs(r.map(function(e){return No(e)}))),e.fetchInitialData=!1,e.hasMore=a,e.nextPageNumber=e.nextPageNumber+1}).addCase(qs.fulfilled,function(e,t){var n=t.payload.survey.survey_id;e.data=(e.data||data).filter(function(e){return e.survey_id!==n})}).addCase(Ms.fulfilled,function(e,t){var n=t.payload.surveyId;e.data=(e.data||data).map(function(e){return n===e.survey_id?xs(xs({},e),{},{current_state:Et}):e})}).addCase(Zs.fulfilled,function(e,t){var n=t.payload.surveyId;e.data=(e.data||data).map(function(e){return n===e.survey_id?xs(xs({},e),{},{current_state:_t}):e})}).addMatcher(function(e){return["enpsRecords/publishEnps/fulfilled","enpsRecords/unpublishEnps/fulfilled"].includes(e.type)},function(e,t){var n=No(t.payload),r=e.filter,a=e.fetchInitialData;if($m(n,r)&&!a)if(-1===(e.data||[]).findIndex(function(e){return n.survey_id===e.survey_id})){var o=(e.data||[]).filter(function(e){return n.survey_id!==e.survey_id});e.data=[n].concat(zs(o))}else e.data=(e.data||data).map(function(e){return n.survey_id===e.survey_id?n:e});else{var i=(e.data||[]).filter(function(e){return n.survey_id!==e.survey_id});e.data=i}})}}),js=za("enpsRecords/getSurveyRecords",function(){var e=Is(Ns().m(function e(t,n){var r,a,o,i,l,c;return Ns().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.mode,a=t.pno,o=t.filter,(i=new URLSearchParams).append("mode",r),i.append("startIndex",a*K),(Object.keys(o).length>1||1===Object.keys(o).length&&(null==o?void 0:o.status)!==$e)&&i.append("filter",JSON.stringify(o)),e.n=1,y.get("zpsurvey/surveys/list",{params:i});case 1:return l=e.v,e.a(2,xs(xs({},l.data),{},{filter:o}));case 2:return e.p=2,c=e.v,e.a(2,n.rejectWithValue(c))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),As=za("enpsRecords/publishEnps",function(){var e=Is(Ns().m(function e(t,n){var r,a,o,i;return Ns().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyData,a="zpsurvey/surveys/".concat(r.survey_id,"/publish"),e.n=1,y.patch(a,null,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,n.dispatch(Fi({is_ready:!0,survey_state:1})),e.a(2,xs(xs(xs({},o.data),r),{},{is_ready:!0,survey_state:1}));case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Rs=za("enpsRecords/unpublishEnps",function(){var e=Is(Ns().m(function e(t,n){var r,a,o,i;return Ns().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyData,a="zpsurvey/surveys/".concat(r.survey_id,"/unpublish"),e.n=1,y.patch(a,null,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,n.dispatch(Fi({is_ready:!1,survey_state:0})),e.a(2,xs(xs(xs({},o.data),r),{},{is_ready:!1,survey_state:0}));case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),qs=za("enpsRecords/deleteEnpsRecord",function(){var e=Is(Ns().m(function e(t,n){var r,a,o,i;return Ns().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a="zpsurvey/surveys/".concat(r),e.n=1,y.delete(a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,e.a(2,o.data);case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Ms=za("enpsRecords/disableEnpsRecord",function(){var e=Is(Ns().m(function e(t,n){var r,a,o,i;return Ns().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a="zpsurvey/surveys/".concat(r,"/disable"),e.n=1,y.patch(a,null,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,n.dispatch(Fi({current_state:Et})),e.a(2,xs(xs({},o.data),{},{surveyId:r}));case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Zs=za("enpsRecords/enableEnpsRecord",function(){var e=Is(Ns().m(function e(t,n){var r,a,o,i;return Ns().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a="zpsurvey/surveys/".concat(r,"/enable"),e.n=1,y.patch(a,null,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,n.dispatch(Fi({current_state:_t})),e.a(2,xs(xs({},o.data),{},{surveyId:r}));case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Ls=Ds.actions,Fs=Ls.overrideEnpsRecordsSlice,Bs=Ls.addEnpsRecord,Us=Ls.editEnpsRecord,Hs=Ds.reducer;function Vs(e){return Vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(e)}function Ys(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return Ws(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Ws(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,Ws(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,Ws(d,"constructor",u),Ws(u,"constructor",c),c.displayName="GeneratorFunction",Ws(u,a,"GeneratorFunction"),Ws(d),Ws(d,a,"Generator"),Ws(d,r,function(){return this}),Ws(d,"toString",function(){return"[object Generator]"}),(Ys=function(){return{w:o,m:p}})()}function Ws(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Ws=function(e,t,n,r){function o(t,n){Ws(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Ws(e,t,n,r)}function Gs(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function $s(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Gs(o,r,a,i,l,"next",e)}function l(e){Gs(o,r,a,i,l,"throw",e)}i(void 0)})}}function Qs(e){return function(e){if(Array.isArray(e))return Xs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Xs(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xs(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ks(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Js(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ks(Object(n),!0).forEach(function(t){ed(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ks(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ed(e,t,n){return(t=function(e){var t=function(e){if("object"!=Vs(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Vs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Vs(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var td=ja({name:"engagementRecords",initialState:{fetchInitialData:!0,viewMode:"gridView",filter:{status:$e},isFilterSave:!1,hasMore:!1,nextPageNumber:0,data:[]},reducers:{overrideEngagementRecordsSlice:function(e,t){return Js(Js({},e),t.payload)},addEngagementRecord:function(e,t){var n=t.payload,r=e.filter,a=$m(n,r);!e.fetchInitialData&&a&&(e.data=[n].concat(Qs(e.data)))},editEngagementRecord:function(e,t){var n=t.payload,r=e.filter,a=$m(n,r);!e.fetchInitialData&&a&&(e.data=(e.data||data).map(function(e){return n.survey_id===e.survey_id?Js(Js({},e),n):e}))}},extraReducers:function(e){e.addCase(nd.fulfilled,function(e,t){var n=t.payload,r=n.surveys,a=n.hasMore;n.filter,e.filter,e.data=[].concat(Qs(e.data),Qs(r.map(function(e){return No(e)}))),e.fetchInitialData=!1,e.hasMore=a,e.nextPageNumber=e.nextPageNumber+1}).addCase(od.fulfilled,function(e,t){var n=t.payload.survey.survey_id;e.data=(e.data||data).filter(function(e){return e.survey_id!==n})}).addCase(id.fulfilled,function(e,t){var n=t.payload.surveyId;e.data=(e.data||data).map(function(e){return n===e.survey_id?Js(Js({},e),{},{current_state:Et}):e})}).addCase(ld.fulfilled,function(e,t){var n=t.payload.surveyId;e.data=(e.data||data).map(function(e){return n===e.survey_id?Js(Js({},e),{},{current_state:_t}):e})}).addMatcher(function(e){return["engagementRecords/publishEngagement/fulfilled","engagementRecords/unpublishEngagement/fulfilled"].includes(e.type)},function(e,t){var n=No(t.payload),r=e.filter,a=e.fetchInitialData;if($m(n,r)&&!a)if(-1===(e.data||[]).findIndex(function(e){return n.survey_id===e.survey_id})){var o=(e.data||[]).filter(function(e){return n.survey_id!==e.survey_id});e.data=[n].concat(Qs(o))}else e.data=(e.data||data).map(function(e){return n.survey_id===e.survey_id?n:e});else{var i=(e.data||[]).filter(function(e){return n.survey_id!==e.survey_id});e.data=i}})}}),nd=za("engagementRecords/getEngagementRecords",function(){var e=$s(Ys().m(function e(t,n){var r,a,o,i,l,c;return Ys().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.mode,a=t.pno,o=t.filter,(i=new URLSearchParams).append("mode",r),i.append("startIndex",a*K),(Object.keys(o).length>1||1===Object.keys(o).length&&(null==o?void 0:o.status)!==$e)&&i.append("filter",JSON.stringify(o)),e.n=1,y.get("zpsurvey/surveys/list",{params:i});case 1:return l=e.v,e.a(2,Js(Js({},l.data),{},{filter:o}));case 2:return e.p=2,c=e.v,e.a(2,n.rejectWithValue(c))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),rd=za("engagementRecords/publishEngagement",function(){var e=$s(Ys().m(function e(t,n){var r,a,o,i;return Ys().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyData,a="zpsurvey/surveys/".concat(r.survey_id,"/publish"),e.n=1,y.patch(a,null,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,n.dispatch(Fi({is_ready:!0,survey_state:1})),e.a(2,Js(Js(Js({},o.data),r),{},{is_ready:!0,survey_state:1}));case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),ad=za("engagementRecords/unpublishEngagement",function(){var e=$s(Ys().m(function e(t,n){var r,a,o,i;return Ys().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyData,a="zpsurvey/surveys/".concat(r.survey_id,"/unpublish"),e.n=1,y.patch(a,null,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,n.dispatch(Fi({is_ready:!1,survey_state:0})),e.a(2,Js(Js(Js({},o.data),r),{},{is_ready:!1,survey_state:0}));case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),od=za("engagementRecords/deleteEngagementRecord",function(){var e=$s(Ys().m(function e(t,n){var r,a,o,i;return Ys().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a="zpsurvey/surveys/".concat(r),e.n=1,y.delete(a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,e.a(2,o.data);case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),id=za("engagementRecords/disableEngagementRecord",function(){var e=$s(Ys().m(function e(t,n){var r,a,o,i;return Ys().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a="zpsurvey/surveys/".concat(r,"/disable"),e.n=1,y.patch(a,null,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,n.dispatch(Fi({current_state:Et})),e.a(2,Js(Js({},o.data),{},{surveyId:r}));case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),ld=za("engagementRecords/enableEngagementRecord",function(){var e=$s(Ys().m(function e(t,n){var r,a,o,i;return Ys().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a="zpsurvey/surveys/".concat(r,"/enable"),e.n=1,y.patch(a,null,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,n.dispatch(Fi({current_state:_t})),e.a(2,Js(Js({},o.data),{},{surveyId:r}));case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),cd=td.actions,ud=cd.overrideEngagementRecordsSlice,sd=cd.addEngagementRecord,dd=cd.editEngagementRecord,pd=td.reducer,fd={questionId:"",question_pool:function(){return"zpsurvey/questions"},question_pool_read:function(){return"zpsurvey/questions/".concat(this.questionId)}};function md(e){return md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(e)}function vd(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return yd(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(yd(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,yd(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,yd(d,"constructor",u),yd(u,"constructor",c),c.displayName="GeneratorFunction",yd(u,a,"GeneratorFunction"),yd(d),yd(d,a,"Generator"),yd(d,r,function(){return this}),yd(d,"toString",function(){return"[object Generator]"}),(vd=function(){return{w:o,m:p}})()}function yd(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}yd=function(e,t,n,r){function o(t,n){yd(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},yd(e,t,n,r)}function gd(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function hd(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){gd(o,r,a,i,l,"next",e)}function l(e){gd(o,r,a,i,l,"throw",e)}i(void 0)})}}function bd(e){return function(e){if(Array.isArray(e))return _d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return _d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_d(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ed(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ed(Object(n),!0).forEach(function(t){wd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ed(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wd(e,t,n){return(t=function(e){var t=function(e){if("object"!=md(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=md(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==md(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nd=ja({name:"questionpool",initialState:{questionData:[],QBankId:null,taggingTemplateId:null,selectedQids:[],filterJSON:{},activeFilter:{},nextPageId:0,hasMore:!1,fetchInitialData:!0,isLoading:!1},reducers:{overrideQuestionPoolSlice:function(e,t){return Sd(Sd({},e),t.payload)},resetQuestionPoolSlice:function(e){return Sd(Sd({},e),{},{questionData:[]})},updateTaggingTemplateId:function(e,t){e.taggingTemplateId=t.payload},updateSelectedQids:function(e,t){e.selectedQids=t.payload},overrideSelectedQids:function(e,t){e.selectedQids=[].concat(bd(e.selectedQids),[t.payload])},updateQuestionData:function(e,t){var n=t.payload,r=mo(e.questionData||[]);null!=e.questionData&&(e.questionData=kl([n],r))},deleteQuestionData:function(e,t){e.questionData=e.questionData.filter(function(e){return e.question_id!==t.payload.question_id})},deleteBulkQuestionData:function(e,t){var n,r=(null===(n=t.payload)||void 0===n?void 0:n.question_ids)||[];e.questionData=e.questionData.filter(function(e){return!r.includes(e.question_id)})}},extraReducers:function(e){e.addCase(Pd.fulfilled,function(e,t){return Sd(Sd({},e),{},{questionData:[].concat(bd(e.questionData),bd(t.payload.questions)),QBankId:t.payload.questionBankId,hasMore:t.payload.hasMore,fetchInitialData:!1})}).addCase(Od.fulfilled,function(e,t){e.questionData=[t.payload.questionData].concat(bd(e.questionData))}).addCase(Id.fulfilled,function(e,t){e.questionData=e.questionData.map(function(e){return e.question_id===t.payload.question_id?t.payload:e})}).addCase(zd.fulfilled,function(e,t){e.questionData=e.questionData.filter(function(e){return e.question_id!==t.payload.question_id})})}}),Pd=za("questionpool/getQuestionPool",function(){var e=hd(vd().m(function e(t,n){var r,a,o,i,l,c;return vd().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.pno,a=t.mode,o=t.filter,(i=new URLSearchParams).append("startIndex",100*r),i.append("mode",a),o&&Object.keys(o).length>0&&i.append("filterData",JSON.stringify(o)),e.n=1,y.get("zpsurvey/questions",{params:i});case 1:return l=e.v,e.a(2,Sd({},l.data));case 2:return e.p=2,c=e.v,e.a(2,n.rejectWithValue(c))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Od=za("questionpool/addQuestionPool",function(){var e=hd(vd().m(function e(t,n){var r,a,o,i;return vd().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.payload,a=fd.question_pool(),e.n=1,y.postForm(a,r,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,e.a(2,{questionData:o.data.question});case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Id=za("questionpool/editQuestionPool",function(){var e=hd(vd().m(function e(t,n){var r,a,o,i,l;return vd().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.questionId,a=t.payload,o=fd.question_pool_read.bind({questionId:r})(),e.n=1,y.putForm(o,a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return 200===(i=e.v).status&&n.dispatch(Es(i.data.question)),e.a(2,i.data.question);case 2:return e.p=2,l=e.v,e.a(2,n.rejectWithValue(l))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),zd=za("questionpool/deleteQuestionPool",function(){var e=hd(vd().m(function e(t,n){var r,a,o,i;return vd().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.questionId,a=fd.question_pool_read.bind({questionId:r})(),e.n=1,y.delete(a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,e.a(2,o.data.question);case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Cd=Nd.actions,Td=Cd.overrideQuestionPoolSlice,xd=Cd.resetQuestionPoolSlice,kd=Cd.updateTaggingTemplateId,Dd=Cd.updateSelectedQids,jd=(Cd.overrideSelectedQids,Cd.updateQuestionData),Ad=(Cd.deleteQuestionData,Cd.deleteBulkQuestionData),Rd=Nd.reducer;function qd(e){return qd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(e)}var Md=["type"];function Zd(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return Ld(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Ld(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,Ld(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,Ld(d,"constructor",u),Ld(u,"constructor",c),c.displayName="GeneratorFunction",Ld(u,a,"GeneratorFunction"),Ld(d),Ld(d,a,"Generator"),Ld(d,r,function(){return this}),Ld(d,"toString",function(){return"[object Generator]"}),(Zd=function(){return{w:o,m:p}})()}function Ld(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Ld=function(e,t,n,r){function o(t,n){Ld(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Ld(e,t,n,r)}function Fd(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Bd(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Fd(o,r,a,i,l,"next",e)}function l(e){Fd(o,r,a,i,l,"throw",e)}i(void 0)})}}function Ud(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Hd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ud(Object(n),!0).forEach(function(t){Vd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ud(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Vd(e,t,n){return(t=function(e){var t=function(e){if("object"!=qd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=qd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qd(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yd(e){return function(e){if(Array.isArray(e))return Wd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Wd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wd(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Gd=function(e,t){e.metrics.all&&(e.metrics.all=[Hd(Hd({},t.payload),{},{status:1})].concat(Yd(e.metrics.all))),e.metrics.active&&(e.metrics.active=[Hd(Hd({},t.payload),{},{status:1})].concat(Yd(e.metrics.active||[])))},$d=function(e,t){var n=t.payload.metric_id,r=Hd({},t.payload);e.metrics.all=(e.metrics.all||[]).map(function(e){return e.metric_id==n?Hd(Hd({},e),r):e}),e.metrics.active=(e.metrics.active||[]).map(function(e){return e.metric_id==n?Hd(Hd({},e),r):e})},Qd=function(e,t){var n=t.payload.metric_id;e.metrics.all=(e.metrics.all||[]).filter(function(e){return e.metric_id!=n}),e.metrics.active=(e.metrics.active||[]).filter(function(e){e.metric_id})},Xd=function(e,t){var n=t.payload.metric_id;e.metrics.active=e.metrics.active||[],e.metrics.all=(e.metrics.all||[]).map(function(t){return t.metric_id==n&&(t.status=1,e.metrics.active.push(t)),t})},Kd=function(e,t){var n=t.payload.metric_id;e.metrics.all=(e.metrics.all||[]).map(function(e){return e.metric_id==n&&(e.status=0),e}),e.metrics.active=(e.metrics.active||[]).filter(function(e){e.metric_id})},Jd=ja({name:"surveycommon",initialState:{applicability:{},initData:{},mailTemplates:{},metrics:{}},reducers:{overrideSurveyCommonSlice:function(e,t){return Hd(Hd({},e),t.payload)},updateMetricCreateData:function(e,t){e.metrics.createData=Hd(Hd({},e.metrics.createData),t.payload)},overrideMetricCreateData:function(e,t){e.metrics.createData=t.payload},overrideAddMetrics:function(e,t){Gd(e,t)},overrideEditMetrics:function(e,t){$d(e,t)},overrideDeleteMetrics:function(e,t){Qd(e,t)},overrideEnableMetrics:function(e,t){Xd(e,t)},overrideDisableMetrics:function(e,t){Kd(e,t)},overrideSurveyInitData:function(e,t){e.initData=Hd(Hd({},e.initData),t.payload)}},extraReducers:function(e){e.addCase(ep.fulfilled,function(e,t){e.initData=t.payload}).addCase(tp.fulfilled,function(e,t){var n=t.payload,r=n.mode,a=n.department;e.applicability="department_lead"===r?Hd(Hd({},e.applicability),{},{lead_departments:a}):Hd(Hd({},e.applicability),t.payload)}).addCase(np.fulfilled,function(e,t){e.mailTemplates=Hd(Hd({},e.mailTemplates),t.payload)}).addCase(rp.fulfilled,function(e,t){var n=t.payload,r=n.type,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(n,Md);e.mailTemplates[r]=Hd(Hd({},e.mailTemplates[r]),a)}).addCase(ap.fulfilled,function(e,t){e.metrics.all=t.payload}).addCase(op.fulfilled,function(e,t){e.metrics.active=t.payload}).addCase(ip.fulfilled,function(e,t){Gd(e,t)}).addCase(lp.fulfilled,function(e,t){$d(e,t)}).addCase(cp.fulfilled,function(e,t){Qd(e,t)}).addCase(up.fulfilled,function(e,t){Xd(e,t)}).addCase(sp.fulfilled,function(e,t){Kd(e,t)})}}),ep=za("surveycommon/getSurveyInitData",function(){var e=Bd(Zd().m(function e(t,n){var r,a;return Zd().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,y.get("zpsurvey/surveys/initpage");case 1:return r=e.v,e.a(2,r.data);case 2:return e.p=2,a=e.v,e.a(2,n.rejectWithValue(a))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),tp=za("surveycommon/getApplicableToProps",function(){var e=Bd(Zd().m(function e(t,n){var r,a,o,i;return Zd().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.type,a=t.mode,e.n=1,y.get("zpsurvey/surveys/applicableprops",{params:{type:r,mode:a||"all"}});case 1:return o=e.v,e.a(2,Hd(Hd({},o.data.applicable_to),{},{mode:a||"all"}));case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),np=za("surveycommon/getMailTemplates",function(){var e=Bd(Zd().m(function e(t,n){var r,a,o;return Zd().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=new URLSearchParams({mode:"list"}),e.n=1,y.get("zpsurvey/surveys/mailtemplates?"+r);case 1:return a=e.v,e.a(2,a.data.templates);case 2:return e.p=2,o=e.v,e.a(2,n.rejectWithValue(o))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),rp=za("surveycommon/saveMailTemplate",function(){var e=Bd(Zd().m(function e(t,n){var r,a,o,i,l;return Zd().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,r=t.templateId,a=t.mailConfigData,o="zpsurvey/surveys/mailtemplates".concat(r?"/"+r:""),i=null,!r){e.n=2;break}return e.n=1,y.putForm(o,{mailConfig:JSON.stringify(a)},{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:i=e.v,e.n=4;break;case 2:return e.n=3,y.postForm(o,{mailConfig:JSON.stringify(a)},{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 3:i=e.v;case 4:return e.a(2,Hd(Hd({},i.data),{},{type:a.type}));case 5:return e.p=5,l=e.v,e.a(2,n.rejectWithValue(l))}},e,null,[[0,5]])}));return function(t,n){return e.apply(this,arguments)}}()),ap=za("surveycommon/getAllMetrics",function(){var e=Bd(Zd().m(function e(t,n){var r,a,o;return Zd().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=new URLSearchParams({mode:"all"}),e.n=1,y.get("zpsurvey/surveys/metrics?"+r);case 1:return a=e.v,e.a(2,a.data.metrics);case 2:return e.p=2,o=e.v,e.a(2,n.rejectWithValue(o))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),op=za("surveycommon/getActiveMetrics",function(){var e=Bd(Zd().m(function e(t,n){var r,a,o;return Zd().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=new URLSearchParams({mode:"active"}),e.n=1,y.get("zpsurvey/surveys/metrics?"+r);case 1:return a=e.v,e.a(2,a.data.metrics);case 2:return e.p=2,o=e.v,e.a(2,n.rejectWithValue(o))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),ip=za("surveycommon/addMetrics",function(){var e=Bd(Zd().m(function e(t,n){var r,a,o;return Zd().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.payload,e.n=1,y.postForm("zpsurvey/surveys/metrics",{metricData:JSON.stringify(r)},{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return 200===(a=e.v).status&&fm.dispatch(mp({metric_id:a.data.metric_id,name:r.metric_name})),e.a(2,{metric_id:a.data.metric_id,name:r.metric_name});case 2:return e.p=2,o=e.v,e.a(2,n.rejectWithValue(o))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),lp=za("surveycommon/editMetrics",function(){var e=Bd(Zd().m(function e(t,n){var r,a,o,i,l;return Zd().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.metricId,a=t.payload,o="zpsurvey/metrics/".concat(r),e.n=1,y.putForm(o,{metricData:JSON.stringify(a)},{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return 200===(i=e.v).status&&fm.dispatch(vp({metric_id:i.data.metric_id,name:a.metric_name})),e.a(2,{metric_id:i.data.metric_id,name:a.metric_name});case 2:return e.p=2,l=e.v,e.a(2,n.rejectWithValue(l))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),cp=za("surveycommon/deleteMetrics",function(){var e=Bd(Zd().m(function e(t,n){var r,a,o;return Zd().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.metricId,a="zpsurvey/metrics/".concat(r),e.n=1,y.delete(a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return 200===e.v.status&&fm.dispatch(yp({metric_id:r})),e.a(2,{metric_id:r});case 2:return e.p=2,o=e.v,e.a(2,n.rejectWithValue(o))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),up=za("surveycommon/enableMetrics",function(){var e=Bd(Zd().m(function e(t,n){var r,a,o,i;return Zd().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.metricId,a=t.payload,o="zpsurvey/metrics/".concat(r,"/enable"),e.n=1,y.patch(o,a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return e.v,e.a(2,{metric_id:r});case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),sp=za("surveycommon/disableMetrics",function(){var e=Bd(Zd().m(function e(t,n){var r,a,o,i;return Zd().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.metricId,a=t.payload,o="zpsurvey/metrics/".concat(r,"/disable"),e.n=1,y.patch(o,a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return 200===e.v.status&&fm.dispatch(gp({metric_id:r})),e.a(2,{metric_id:r});case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),dp=Jd.actions,pp=(dp.overrideSurveyCommonSlice,dp.updateMetricCreateData),fp=dp.overrideMetricCreateData,mp=dp.overrideAddMetrics,vp=dp.overrideEditMetrics,yp=dp.overrideDeleteMetrics,gp=(dp.overrideEnableMetrics,dp.overrideDisableMetrics),hp=dp.overrideSurveyInitData,bp=Jd.reducer;function _p(e){return _p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(e)}function Ep(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return Sp(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Sp(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,Sp(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,Sp(d,"constructor",u),Sp(u,"constructor",c),c.displayName="GeneratorFunction",Sp(u,a,"GeneratorFunction"),Sp(d),Sp(d,a,"Generator"),Sp(d,r,function(){return this}),Sp(d,"toString",function(){return"[object Generator]"}),(Ep=function(){return{w:o,m:p}})()}function Sp(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Sp=function(e,t,n,r){function o(t,n){Sp(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Sp(e,t,n,r)}function wp(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Np(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Pp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Np(Object(n),!0).forEach(function(t){Op(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Np(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Op(e,t,n){return(t=function(e){var t=function(e){if("object"!=_p(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=_p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_p(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ip={render:!1,isLoading:!0,type:null,header:"",mailAlertId:void 0,dbHash:null},zp=ja({name:"mail",initialState:Ip,reducers:{overrideMailSlice:function(e,t){return Pp(Pp({},e),t.payload)},resetMailSlice:function(){return Ip}},extraReducers:function(e){e.addCase(Cp.fulfilled,function(e,t){return Pp(Pp(Pp({},e),t.payload),{},{isLoading:!1,dbHash:bo(t.payload.template_details)})})}}),Cp=za("mail/getMailTemplate",function(){var e,t=(e=Ep().m(function e(t,n){var r,a,o,i,l,c;return Ep().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.mailAlertId,a=t.type,o=new URLSearchParams({mailalertid:r||0}),i="zpsurvey/surveys/mailtemplates/".concat(a),e.n=1,y.get(i+"?"+o);case 1:return l=e.v,e.a(2,l.data);case 2:return e.p=2,c=e.v,e.a(2,n.rejectWithValue(c))}},e,null,[[0,2]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){wp(o,r,a,i,l,"next",e)}function l(e){wp(o,r,a,i,l,"throw",e)}i(void 0)})});return function(e,n){return t.apply(this,arguments)}}()),Tp=zp.actions,xp=Tp.overrideMailSlice,kp=Tp.resetMailSlice,Dp=zp.reducer;function jp(e){return jp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(e)}function Ap(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return Rp(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Rp(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,Rp(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,Rp(d,"constructor",u),Rp(u,"constructor",c),c.displayName="GeneratorFunction",Rp(u,a,"GeneratorFunction"),Rp(d),Rp(d,a,"Generator"),Rp(d,r,function(){return this}),Rp(d,"toString",function(){return"[object Generator]"}),(Ap=function(){return{w:o,m:p}})()}function Rp(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Rp=function(e,t,n,r){function o(t,n){Rp(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Rp(e,t,n,r)}function qp(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Mp(e){return function(e){if(Array.isArray(e))return Zp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Zp(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zp(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Lp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lp(Object(n),!0).forEach(function(t){Bp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Bp(e,t,n){return(t=function(e){var t=function(e){if("object"!=jp(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=jp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==jp(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Up=ja({name:"sharedSurvey",initialState:{viewMode:"gridView",filter:{status:2},data:[]},reducers:{overrideSharedSurveysSlice:function(e,t){return Fp(Fp({},e),t.payload)}},extraReducers:function(e){e.addCase(Hp.fulfilled,function(e,t){var n=t.payload,r=n.surveys;n.hasMore,e.data=[].concat(Mp(e.data),Mp(r.map(function(e){return No(e)})))})}}),Hp=za("enpsRecords/getSharedReports",function(){var e,t=(e=Ap().m(function e(t,n){var r,a,o;return Ap().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t.mode,t.pno,r=t.filter,e.n=1,y.get("zpsurvey/surveys/share/list");case 1:return a=e.v,e.a(2,Fp(Fp({},a.data),{},{filter:r}));case 2:return e.p=2,o=e.v,e.a(2,n.rejectWithValue(o))}},e,null,[[0,2]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){qp(o,r,a,i,l,"next",e)}function l(e){qp(o,r,a,i,l,"throw",e)}i(void 0)})});return function(e,n){return t.apply(this,arguments)}}()),Vp=(Up.actions.overrideSharedSurveysSlice,Up.reducer);function Yp(e){return Yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(e)}function Wp(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return Gp(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Gp(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,Gp(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,Gp(d,"constructor",u),Gp(u,"constructor",c),c.displayName="GeneratorFunction",Gp(u,a,"GeneratorFunction"),Gp(d),Gp(d,a,"Generator"),Gp(d,r,function(){return this}),Gp(d,"toString",function(){return"[object Generator]"}),(Wp=function(){return{w:o,m:p}})()}function Gp(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Gp=function(e,t,n,r){function o(t,n){Gp(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Gp(e,t,n,r)}function $p(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Qp(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){$p(o,r,a,i,l,"next",e)}function l(e){$p(o,r,a,i,l,"throw",e)}i(void 0)})}}function Xp(e){return function(e){if(Array.isArray(e))return Kp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Kp(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kp(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Jp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ef(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jp(Object(n),!0).forEach(function(t){tf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tf(e,t,n){return(t=function(e){var t=function(e){if("object"!=Yp(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Yp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Yp(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nf=ja({name:"mySurvey",initialState:{fetchInitialData:!0,surveyStatusCount:{},data:[],currentSurvey:{},filter:{status:un[1].type},report:[]},reducers:{overrideMySurveysSlice:function(e,t){return ef(ef({},e),t.payload)},overrideMySurveyData:function(e,t){e.data=[].concat(Xp(e.data),Xp(t.payload))},overrideMySurveyStatusCount:function(e,t){e.surveyStatusCount=ef(ef({},e.surveyStatusCount),t.payload)},editMySurveyRecord:function(e,t){var n=t.payload;e.fetchInitialData||(e.data=(e.data||data).map(function(e){return n.survey_id===e.survey_id?ef(ef({},e),n):e}))}},extraReducers:function(e){e.addCase(rf.fulfilled,function(e,t){var n=t.payload.mysurvey_status_count,r=n.actionpending,a=n.completed,o=n.all;e.surveyStatusCount=n,e.view==bt?e.filter={status:un[0].type}:r>0?e.filter={status:un[1].type}:a>0?e.filter={status:un[2].type}:o>0&&(e.filter={status:un[0].type})}).addCase(af.fulfilled,function(e,t){var n=t.payload,r=n.surveys;n.answered_surveys,e.data=Xp(r.map(function(e){return e})),e.fetchInitialData=!1}).addCase(of.fulfilled,function(e,t){var n=t.payload,r=n.surveyId,a=n.response,o=a.completed_schedules,i=a.response;e.report=ef(ef({},e.report),{},tf({},r,{completed_schedules:o,response:i}))})}}),rf=za("mySurvey/getMySurveyStatusCount",function(){var e=Qp(Wp().m(function e(t,n){var r,a;return Wp().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,y.get("zpsurvey/surveys/mysurveys/status");case 1:return r=e.v,e.a(2,ef({},r.data));case 2:return e.p=2,a=e.v,e.a(2,n.rejectWithValue(a))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),af=za("mySurvey/getMySurveys",function(){var e=Qp(Wp().m(function e(t,n){var r,a,o,i;return Wp().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t.pno,r=t.filter,a=new URLSearchParams,(Object.keys(r).length>1||1===Object.keys(r).length&&(null==r?void 0:r.status)!==$e)&&a.append("filter",JSON.stringify(r)),e.n=1,y.get("zpsurvey/surveys/mysurveys",{params:a});case 1:return o=e.v,e.a(2,ef({},o.data));case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),of=za("mySurvey/getMySurveyReport",function(){var e=Qp(Wp().m(function e(t,n){var r,a,o;return Wp().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,e.n=1,y.get("zpsurvey/surveys/mysurveys/".concat(r,"/report"));case 1:return a=e.v,e.a(2,{surveyId:r,response:a.data});case 2:return e.p=2,o=e.v,e.a(2,n.rejectWithValue(o))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),lf=nf.actions,cf=lf.overrideMySurveysSlice,uf=lf.overrideMySurveyData,sf=lf.overrideMySurveyStatusCount,df=lf.editMySurveyRecord,pf=nf.reducer;function ff(e){return ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(e)}function mf(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return vf(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(vf(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,vf(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,vf(d,"constructor",u),vf(u,"constructor",c),c.displayName="GeneratorFunction",vf(u,a,"GeneratorFunction"),vf(d),vf(d,a,"Generator"),vf(d,r,function(){return this}),vf(d,"toString",function(){return"[object Generator]"}),(mf=function(){return{w:o,m:p}})()}function vf(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}vf=function(e,t,n,r){function o(t,n){vf(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},vf(e,t,n,r)}function yf(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function gf(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){yf(o,r,a,i,l,"next",e)}function l(e){yf(o,r,a,i,l,"throw",e)}i(void 0)})}}function hf(e){return function(e){if(Array.isArray(e))return bf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return bf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bf(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ef(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_f(Object(n),!0).forEach(function(t){Sf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Sf(e,t,n){return(t=function(e){var t=function(e){if("object"!=ff(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ff(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ff(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wf={hid:"",currentTemplateId:null,historyQuestionId:null,selectedQuesIds:[],data:[],filterJSON:{},activeFilter:{},nextPageId:0,hasMoreTemplates:!1,fetchInitialData:!0,isLoading:!1},Nf=ja({name:"templatelist",initialState:wf,reducers:{overrideTemplateListSlice:function(e,t){return Ef(Ef({},e),t.payload)},resetTemplateListSlice:function(e){return Ef(Ef({},e),{},{currentQBankId:null,historyQuestionId:null,selectedQuesIds:[],filterCriteria:wf.filterCriteria})},resetTemplateList:function(){return wf},overrideTemplateListData:function(e,t){e.data=[].concat(hf(t.payload),hf(e.data))},overrideTemplateListNextPageId:function(e,t){e.nextPageId=t.payload.nextPageId},overrideTemplateListQuestionSlice:function(e,t){var n=t.payload,r=n.templateId,a=n.questions,o=(e.data||[]).find(function(e){return e.survey_id==r});o&&(o.questions=a||[])},updateTemplateListQuestionSlice:function(e,t){var n=t.payload,r=n.templateId,a=n.questions,o=(e.data||[]).find(function(e){return e.survey_id==r});o&&(o.questions=[].concat(hf(o.questions),[a]))},updateSingleTemplateSlice:function(e,t){var n=t.payload.templateId;e.data=(e.data||[]).map(function(e){return e.survey_id==n?Ef(Ef({},e),t.payload):e})},overrideTemplateListFilter:function(e,t){e.filterJSON=t.payload}},extraReducers:function(e){e.addCase(If.fulfilled,function(e,t){e.data=e.data.filter(function(e){return e.survey_id!=t.payload})}).addCase(zf.fulfilled,function(e,t){var n=t.payload.survey_id;e.data=(e.data||[]).map(function(e){return e.survey_id==n?Ef(Ef({},e),{},{is_ready:!0}):e})}).addCase(Cf.fulfilled,function(e,t){var n=t.payload.survey;e.data=(e.data||[]).map(function(e){return e.survey_id==n.survey_id||e.survey_id==n.uniquename?Ef(Ef(Ef({},e),n),{},{fetchInitialData:!1}):e})}).addMatcher(function(e){return["templatelist/getTemplates/fulfilled","templatelist/getOffboardingInterviews/fulfilled"].includes(e.type)},function(e,t){var n=t.payload.surveys;return Ef(Ef({},e),{},{data:(n||[]).map(function(e){return Ef(Ef({},e),{},{fetchInitialData:!0,questions:e.questions||[]})}),fetchInitialData:!1})})}}),Pf=za("templatelist/getTemplates",function(){var e=gf(mf().m(function e(t,n){var r,a,o,i,l;return mf().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.mode,a=t.payload,o=new URLSearchParams,null!=r&&o.append("mode",r),a&&Object.keys(a).length>0&&o.append("filter",JSON.stringify(a)),e.n=1,y.get("zpsurvey/surveys/templates"+(o.size>0?"?"+o:""));case 1:return i=e.v,e.a(2,Ef({},i.data));case 2:return e.p=2,l=e.v,e.a(2,n.rejectWithValue(l))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Of=za("templatelist/getOffboardingInterviews",function(){var e=gf(mf().m(function e(t,n){var r,a,o,i;return mf().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.pno,(a=new URLSearchParams).append("mode",we),a.append("startIndex",r*K),e.n=1,y.get("zpsurvey/surveys/list",{params:a});case 1:return o=e.v,e.a(2,Ef({},o.data));case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),If=za("templatelist/deleteTemplate",function(){var e=gf(mf().m(function e(t,n){var r,a,o,i;return mf().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.templateId,a="zpsurvey/surveys/templates/".concat(r,"/delete"),e.n=1,y.delete(a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,e.a(2,o.data.survey.survey_id);case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),zf=za("templatelist/publishTemplate",function(){var e=gf(mf().m(function e(t,n){var r,a,o,i;return mf().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.templateId,a="zpsurvey/templates/".concat(r,"/publish"),e.n=1,y.patch(a,null,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,e.a(2,o.data);case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Cf=za("templatelist/getTemplate",function(){var e=gf(mf().m(function e(t,n){var r,a,o,i;return mf().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.templateId,a="zpsurvey/surveys/templates/".concat(r,"/questions"),e.n=1,y.get(a);case 1:return o=e.v,e.a(2,Ef({},o.data));case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Tf=Nf.actions,xf=(Tf.overrideTemplateListSlice,Tf.resetTemplateListSlice),kf=Tf.overrideTemplateListData,Df=(Tf.overrideTemplateListNextPageId,Tf.overrideTemplateListQuestionSlice,Tf.updateTemplateListQuestionSlice,Tf.updateSingleTemplateSlice),jf=(Tf.overrideTemplateListFilter,Tf.resetTemplateList),Af=Nf.reducer;function Rf(e){return Rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(e)}function qf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Mf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qf(Object(n),!0).forEach(function(t){Zf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Zf(e,t,n){return(t=function(e){var t=function(e){if("object"!=Rf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Rf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Rf(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lf={render:!1,fetchInitialData:!0,isLoading:!1,pageTitle:"",templateId:null,viewType:null,surveyData:{survey_name:"",description:"",type:"",questions_per_page:0},errorData:{}},Ff=ja({name:"viewtemplate",initialState:Lf,reducers:{overrideViewTemplateSlice:function(e,t){return Mf(Mf({},e),t.payload)},overrideViewTemplateData:function(e,t){e.surveyData=Mf(Mf({},e.surveyData),t.payload)},resetViewTemplateSlice:function(){return Lf}}}),Bf=Ff.actions,Uf=Bf.overrideViewTemplateSlice,Hf=(Bf.overrideViewTemplateData,Bf.resetViewTemplateSlice),Vf=Ff.reducer;function Yf(e){return Yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(e)}function Wf(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return Gf(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Gf(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,Gf(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,Gf(d,"constructor",u),Gf(u,"constructor",c),c.displayName="GeneratorFunction",Gf(u,a,"GeneratorFunction"),Gf(d),Gf(d,a,"Generator"),Gf(d,r,function(){return this}),Gf(d,"toString",function(){return"[object Generator]"}),(Wf=function(){return{w:o,m:p}})()}function Gf(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Gf=function(e,t,n,r){function o(t,n){Gf(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Gf(e,t,n,r)}function $f(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Qf(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){$f(o,r,a,i,l,"next",e)}function l(e){$f(o,r,a,i,l,"throw",e)}i(void 0)})}}function Xf(e){return function(e){if(Array.isArray(e))return Kf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Kf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kf(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Jf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function em(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jf(Object(n),!0).forEach(function(t){tm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tm(e,t,n){return(t=function(e){var t=function(e){if("object"!=Yf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Yf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Yf(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nm=ja({name:"pulseRecords",initialState:{fetchInitialData:!0,viewMode:"gridView",filter:{status:$e},isFilterSave:!1,hasMore:!1,nextPageNumber:0,data:[]},reducers:{overridePulseRecordsSlice:function(e,t){return em(em({},e),t.payload)},addPulseRecord:function(e,t){var n=t.payload,r=e.filter,a=$m(n,r);!e.fetchInitialData&&a&&(e.data=[n].concat(Xf(e.data)))},editPulseRecord:function(e,t){var n=t.payload,r=e.filter,a=$m(n,r);!e.fetchInitialData&&a&&(e.data=(e.data||data).map(function(e){return n.survey_id===e.survey_id?em(em({},e),n):e}))}},extraReducers:function(e){e.addCase(rm.fulfilled,function(e,t){var n=t.payload,r=n.surveys,a=n.hasMore;n.filter,e.filter,e.data=[].concat(Xf(e.data),Xf(r.map(function(e){return No(e)}))),e.fetchInitialData=!1,e.hasMore=a,e.nextPageNumber=e.nextPageNumber+1}).addCase(im.fulfilled,function(e,t){var n=t.payload.survey.survey_id;e.data=(e.data||data).filter(function(e){return e.survey_id!==n})}).addCase(lm.fulfilled,function(e,t){var n=t.payload.surveyId;e.data=(e.data||data).map(function(e){return n===e.survey_id?em(em({},e),{},{current_state:Et}):e})}).addCase(cm.fulfilled,function(e,t){var n=t.payload.surveyId;e.data=(e.data||data).map(function(e){return n===e.survey_id?em(em({},e),{},{current_state:_t}):e})}).addMatcher(function(e){return["pulseRecords/publishPulse/fulfilled","pulseRecords/unpublishPulse/fulfilled"].includes(e.type)},function(e,t){var n=No(t.payload),r=e.filter,a=e.fetchInitialData;if($m(n,r)&&!a)if(-1===(e.data||[]).findIndex(function(e){return n.survey_id===e.survey_id})){var o=(e.data||[]).filter(function(e){return n.survey_id!==e.survey_id});e.data=[n].concat(Xf(o))}else e.data=(e.data||data).map(function(e){return n.survey_id===e.survey_id?n:e});else{var i=(e.data||[]).filter(function(e){return n.survey_id!==e.survey_id});e.data=i}})}}),rm=za("pulseRecords/getPulseRecords",function(){var e=Qf(Wf().m(function e(t,n){var r,a,o,i,l,c;return Wf().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.mode,a=t.pno,o=t.filter,(i=new URLSearchParams).append("mode",r),i.append("startIndex",a*K),(Object.keys(o).length>1||1===Object.keys(o).length&&(null==o?void 0:o.status)!==$e)&&i.append("filter",JSON.stringify(o)),e.n=1,y.get("zpsurvey/surveys/list",{params:i});case 1:return l=e.v,e.a(2,em(em({},l.data),{},{filter:o}));case 2:return e.p=2,c=e.v,e.a(2,n.rejectWithValue(c))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),am=za("pulseRecords/publishPulse",function(){var e=Qf(Wf().m(function e(t,n){var r,a,o,i;return Wf().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyData,a="zpsurvey/surveys/".concat(r.survey_id,"/publish"),e.n=1,y.patch(a,null,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,n.dispatch(Fi({is_ready:!0,survey_state:1})),e.a(2,em(em(em({},o.data),r),{},{is_ready:!0,survey_state:1}));case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),om=za("pulseRecords/unpublishPulse",function(){var e=Qf(Wf().m(function e(t,n){var r,a,o,i;return Wf().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyData,a="zpsurvey/surveys/".concat(r.survey_id,"/unpublish"),e.n=1,y.patch(a,null,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,n.dispatch(Fi({is_ready:!1,survey_state:0})),e.a(2,em(em(em({},o.data),r),{},{is_ready:!1,survey_state:0}));case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),im=za("pulseRecords/deletePulseRecord",function(){var e=Qf(Wf().m(function e(t,n){var r,a,o,i;return Wf().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a="zpsurvey/surveys/".concat(r),e.n=1,y.delete(a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,e.a(2,o.data);case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),lm=za("PulseRecords/disablePulseRecord",function(){var e=Qf(Wf().m(function e(t,n){var r,a,o,i;return Wf().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a="zpsurvey/surveys/".concat(r,"/disable"),e.n=1,y.patch(a,null,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,n.dispatch(Fi({current_state:Et})),e.a(2,em(em({},o.data),{},{surveyId:r}));case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),cm=za("pulseRecords/enablePulseRecord",function(){var e=Qf(Wf().m(function e(t,n){var r,a,o,i;return Wf().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a="zpsurvey/surveys/".concat(r,"/enable"),e.n=1,y.patch(a,null,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,n.dispatch(Fi({current_state:_t})),e.a(2,em(em({},o.data),{},{surveyId:r}));case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),um=nm.actions,sm=um.overridePulseRecordsSlice,dm=um.addPulseRecord,pm=um.editPulseRecord,fm=_a({reducer:{modalBox:Ka,popupModalBox:co,createSurvey:nl,enpsRecords:Hs,engagementRecords:pd,pulseRecords:nm.reducer,questionCard:ts,questionBank:Ss,questionPool:Rd,surveyCommon:bp,mail:Dp,sharedSurvey:Vp,mySurvey:pf,templateList:Af,viewTemplate:Vf}});function mm(e){return mm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(e)}function vm(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return ym(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(ym(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,ym(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,ym(d,"constructor",u),ym(u,"constructor",c),c.displayName="GeneratorFunction",ym(u,a,"GeneratorFunction"),ym(d),ym(d,a,"Generator"),ym(d,r,function(){return this}),ym(d,"toString",function(){return"[object Generator]"}),(vm=function(){return{w:o,m:p}})()}function ym(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}ym=function(e,t,n,r){function o(t,n){ym(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},ym(e,t,n,r)}function gm(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function hm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hm(Object(n),!0).forEach(function(t){_m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _m(e,t,n){return(t=function(e){var t=function(e){if("object"!=mm(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=mm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==mm(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Em=function(){var e,t;return"undefined"!=typeof Layout&&null!==(e=Layout)&&void 0!==e&&null!==(e=e.PageUtil)&&void 0!==e&&e.contWrap[0]?null===(t=Layout)||void 0===t||null===(t=t.PageUtil)||void 0===t?void 0:t.contWrap[0]:document.body},Sm=function(){return settingsPage.container[0]},wm=function(){var e;return null===(e=Layout.HashUtil.getPreviousHashConfig())||void 0===e?void 0:e.fullHash},Nm=function(e){return null!=e&&e.startsWith("zp.")?ZPI18N.getString(e):e},Pm=function(e){return e===Po.ENPS?Cm("employeeengagement-surveys-enps"):e===Po.ENGAGEMENT?Cm("employeeengagement-surveys-fullengagement"):e===Po.PULSE?Cm("employeeengagement-surveys-pulse"):void console.error("Error in getting module container")},Om=function(e,t){return(he[e][t]||[]).map(function(e,t){return{label:e,value:t}})},Im=function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=ue[e];return 0==(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)?n=n.map(function(e){return e+" zpl_act"}):ge.includes(t)&&(n=n.map(function(e){return e+(["ylwbdrbglit","grnbdrbglit"].includes(e)?" whi":"")})),n},zm=function(e){var t="";switch(e.type||""){case Jn.SINGLE_CHOICE.TYPE:case Jn.SINGLE_CHOICE.TYPE_STR:t=Jn.SINGLE_CHOICE.ICON;break;case Jn.MULTIPLE_CHOICE.TYPE:case Jn.MULTIPLE_CHOICE.TYPE_STR:t=Jn.MULTIPLE_CHOICE.ICON;break;case Jn.COMMENT.TYPE:case Jn.COMMENT.TYPE_STR:t=Jn.COMMENT.ICON;break;case Jn.DATE.TYPE:case Jn.DATE.TYPE_STR:t=Jn.DATE.ICON;break;case Jn.NPS.TYPE:case Jn.NPS.TYPE_STR:t=Jn.NPS.ICON;break;case Jn.STAR.TYPE:case Jn.STAR.TYPE_STR:t=Jn.STAR.ICON;break;case Jn.RATING_SCALE.TYPE:case Jn.RATING_SCALE.TYPE_STR:t=Jn.RATING_SCALE.ICON;break;case Jn.TWO_POINT_SCALE.TYPE:case Jn.TWO_POINT_SCALE.TYPE_STR:t=Jn.TWO_POINT_SCALE.ICON}return t},Cm=function(e){return document.getElementById(e)},Tm=function(e,t){new RegExp("(^|\\s)"+t+"(\\s|$)","g").test(e.className)||(e.className=(e.className+" "+t).replace(/\s+/g," ").replace(/(^ | $)/g,""))},xm=function(e,t){var n=new RegExp("(^|\\s)"+t+"(\\s|$)","g");e.className=e.className.replace(n,"$1").replace(/\s+/g," ").replace(/(^ | $)/g,"")},km=function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1},Dm=function(e){var t=e.substring(0,4),n=parseInt(e.substring(4,6),10)-1,r=e.substring(6,8);return new Date(t,n,r,0,0,0,0)},jm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e.getFullYear(),n=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0");return"".concat(t).concat(n).concat(r)},Am=function(e){return Kn("div",{className:"ctable",style:e?{height:e+"px"}:"",_rel:"loadbar"},Kn("div",{className:"ctcell"},Kn("div",{className:"loader-inner line-scale"},Kn("div",null),Kn("div",null),Kn("div",null),Kn("div",null),Kn("div",null))))},Rm=function(){var e=document.querySelector("[_rel=loadbar]");e&&e.parentNode.removeChild(e)},qm=(document.addEventListener,function(e){e.stopPropagation?(e.preventDefault(),e.stopPropagation()):(e.cancelBubble=!0,e.returnValue=!1)}),Mm=function(e,t,n,r,a,o){return n=n||"GET",t=t||{},$.ajax({url:e,type:n,data:t,headers:"GET"!=n.toUpperCase()?{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}:{},success:function(e){null!=r&&"function"==typeof r&&r(e,t,a)},error:function(e){null!=o&&"function"==typeof o&&o(e,t,a)}})},Zm=function(e,t){var n={moduleName:"Survey",portalId:_LOGGEDIN_ACCZSOID},r={headers:{"x-streammode":"1","x-service":UDS_UPLOAD_SERVICE_CODE,"app-info":JSON.stringify(n),"file-info":JSON.stringify({fileName:encodeURIComponent(e.name),contentType:e.type,fileSize:e.size}),"upload-id":t,"x-fclient-version":"2"},withCredentials:!0};return y.post(UDS_UPLOAD_URL,e,bm(bm({},r),{},{otherService:!0}))},Lm=function(e,t){return e+864e5*t},Fm=function(e,t){var n="[object Date]"===Object.prototype.toString.call(e)?e:Dm(e),r="[object Date]"===Object.prototype.toString.call(t)?t:Dm(t),a=0;r>n&&(a=6e4*(r.getTimezoneOffset()-n.getTimezoneOffset()));var o=Math.abs(r.getTime()-n.getTime())-a;return Math.ceil(o/864e5)},Bm=function(e,t){return window.location.protocol+"//"+window.location.host+"".addPortalName()+"/survey/"+e+(t?"/preview":"")},Um=function(e){return"Survey"==e?390:e==vt?300:void 0},Hm=function(e,t,n){xm(e,"zpl_erorbx"),xm(t,"ztextbox__error"),null==n||n.parentNode.removeChild(n)},Vm=function(e){e.checked=!e.checked},Ym=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=function(e){return e&&(Math.floor(e)===e?0:e.toString().split(".")[1].length||0)}(parseFloat(e));return e&&n>0?parseFloat(e.toFixed(t)):e},Wm=function(e,t){return{data:e,values:t,sort:!1,dataMapping:{value:"id",id:"id",text:"value",informativeText:"value",titleText:"value"},placeholder:ZPI18N.getString("zp.select"),lazyLoading:!1,dropdownList:{itemType:"checkbox",virtualization:!0},search:{by:"name",retainKeyword:!1}}},Gm=function(){var e,t=(e=vm().m(function e(){var t,n,r,a,o,i,l,c,u,s,d,p;return vm().w(function(e){for(;;)switch(e.n){case 0:if(t=fm.getState().surveyCommon,n=t.applicability,r=t.initData,a=r.role,o=void 0===a?"":a,i=r.department_lead,l=r.is_manager,c=r.is_direct_subordinates,u=o===nt,s={},!c||!u&&!l){e.n=1;break}s={type:Ue},e.n=4;break;case 1:if(!i){e.n=3;break}if(0!==Object.keys((null==n?void 0:n.lead_departments)||{}).length){e.n=2;break}return e.n=2,fm.dispatch(tp({mode:rt,type:Zt}));case 2:d=fm.getState().surveyCommon.applicability.lead_departments,s={type:Fe,rules:[{rule_name:"Criteria 1",applicable_props:[{type:Zt,options:Object.keys(d||{}).map(function(e){return{label:d[e],value:e}})}]}]},e.n=4;break;case 3:(u||l)&&((p=ZPeople.CURR_USER).deptId>0?s={type:Fe,rules:[{rule_name:"Criteria 1",applicable_props:[{type:Zt,options:[{label:p.deptName,value:p.deptId}]}]}]}:u&&(s={type:Be}));case 4:return e.a(2,s)}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){gm(o,r,a,i,l,"next",e)}function l(e){gm(o,r,a,i,l,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}(),$m=function(e,t){if(e.activation_type==Rn)return!0;var n=Dm(e.opening_time),r=Dm(e.closing_time),a=new Date;if(t.status===$e)return!0;if(e.is_ready){if("1"===t.status&&n>a)return!0;if("2"===t.status&&n<=a&&a<=r)return!0}else if("4"===t.status)return!0;return!1},Qm=function(e){return e.toLowerCase().replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},Xm=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(e=e.toLowerCase())==Mt?ZPI18N.getString(t?"zp.survey.unspecifed.locations":"zp.survey.unspecifed.location"):e==Zt?ZPI18N.getString(t?"zp.survey.unspecifed.departments":"zp.survey.unspecifed.department"):e==Lt?ZPI18N.getString(t?"zp.survey.unspecifed.designations":"zp.survey.unspecifed.designation"):e==Ft?ZPI18N.getString(t?"zp.survey.unspecifed.roles":"zp.survey.unspecifed.role"):e==Bt?ZPI18N.getString("zp.survey.unspecifed.gender"):e==Ut?ZPI18N.getString("zp.survey.unspecifed.year"):void 0},Km=function(e,t){return e==Jn.COMMENT.TYPE_STR||e==Jn.RATING_SCALE.TYPE_STR?{negative:ZPI18N.getString("zp.negative"),neutral:ZPI18N.getString("zp.neutral"),positive:ZPI18N.getString("zp.positive")}:e==Jn.NPS.TYPE_STR?{negative:ZPI18N.getString("zp.survey.report.detractors"),neutral:ZPI18N.getString("zp.survey.report.passive"),positive:ZPI18N.getString("zp.survey.report.promoters")}:e==Jn.STAR.TYPE_STR?Jm(t):e==Jn.TWO_POINT_SCALE.TYPE_STR?{negative:ZPI18N.getString("zp.negative"),positive:ZPI18N.getString("zp.positive")}:{}},Jm=function(e){var t,n,r={},a=e%2==0;return a?(t=Math.floor((e+2)/2),n=Math.floor((e-2)/2)):(t=(e+1)/2,n=(e-1)/2),r.negative=1==n?n:"1 - "+n+" "+ZPI18N.getString("zp.lms.feedback.star"),r.neutral=a?n+1+" - "+t:t+" "+ZPI18N.getString("zp.lms.feedback.star"),r.positive=e==t+1?e:t+1+" - "+e+" "+ZPI18N.getString("zp.lms.feedback.star"),r},ev=function(e,t){return e.sort(function(e,n){return n[t]>e[t]?1:n[t]<e[t]?-1:0})},tv=function(e,t){$(document).on("keydown",function(n){var r=13===n.keyCode,a=27===n.keyCode;r&&"function"==typeof e&&e(n),a&&"function"==typeof t&&t(n)})},nv=function(e){switch(e){case $t:return"grn";case Qt:return"ylw";case Xt:return"red";default:return""}},rv=function(e,t){return t||Dt[e]},av=function(e){return 0===e?ZPI18N.getString("zp.duetoday"):1==e?ZPI18N.getString("zp.dayleft",["0".concat(e)]):ZPI18N.getString("zp.daysleft_LC",[e>0&e<10?"0".concat(e):e])},ov=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.type;switch(a){case Jn.SINGLE_CHOICE.TYPE_STR:return Object.keys(r).length>0&&r.choice_id;case Jn.MULTIPLE_CHOICE.TYPE_STR:return Object.keys(r).length>0&&(null===(t=r.choice_id)||void 0===t?void 0:t.length)>0;case Jn.COMMENT.TYPE_STR:return Object.keys(r).length>0&&(null===(n=r.comment)||void 0===n?void 0:n.trim().length)>0;case Jn.DATE.TYPE_STR:return Object.keys(r).length>0&&r.date;case Jn.TWO_POINT_SCALE.TYPE_STR:case Jn.NPS.TYPE_STR:case Jn.STAR.TYPE_STR:case Jn.RATING_SCALE.TYPE_STR:return Object.keys(r).length>0&&r.score>=(a===Jn.STAR.TYPE_STR?1:0)}},iv=function(e){return"".concat(e," ").concat(e>1?ZPI18N.getString("zp.questions"):ZPI18N.getString("zp.question"))},lv=function(e){var t=document.createElement("div");return t.innerText=e,t.innerHTML},cv=function(e){switch(e){case $t:return ZPI18N.getString("zp.survey.favorable");case Qt:return ZPI18N.getString("zp.neutral");case Xt:return ZPI18N.getString("zp.survey.unfavorable");case Jt:return ZPI18N.getString("zp.unasnwered")}return""},uv=function(e){switch(e){case $t:return"grnbg1";case Qt:return"ylwbg";case Xt:return"redbg1";case Jt:return"plse_gry"}},sv=function(e){return e==Ee||e==Ie},dv=function(e){switch(e){case Se:return ZPI18N.getString("zp.enpssurvey");case Ee:return ZPI18N.getString("zp.engagementsurvey");case Ie:return ZPI18N.getString("zp.survey.pulsesurvey");default:return""}},pv=function(e){switch(e){case Se:return"PI_enps_survey";case Ee:return"PI_annual_survey";case Ie:return"PI_pulse_survey";default:return"PI_enps"}},fv=function(e,t,n){return null!=n&&n.isMetricRequest&&"PATTERN_NOT_MATCHED"===e&&(t=ZPI18N.getString("zp.filesexcludesplchars",[ZPI18N.getString("zp.survey.employee.metrics")])),"URL_ROLLING_THROTTLES_LIMIT_EXCEEDED"===e&&(t=ZPI18N.getString("zp.threshold.limit.exceeded.msg",[5])),t},mv=function(e){return e<=6?"red":7===e||8===e?"ylw":9===e||10===e?"grn":""},vv=function(){return void 0!==("undefined"==typeof portalname?"undefined":mm(portalname))&&(portalname.includes("zpeoplehr")||portalname.includes("mrm7774")||portalname.includes("selvacorp"))},yv=function(e){gv(window.location.protocol+"//"+window.location.host+"/"+portalName+"/survey/"+e.url)};function gv(e){var t=window.open();t.location=e,t.opener=null}const hv=(e,t,n,r)=>{let a,o,i,l,c=Cm("zpsurveyPrev")?Se:Ee,u=c==Se?r?.querySelector("#CARD-CONT"):Cm("ZPEEUInter")?.querySelector("div[rel=PREV-CARD]"),s="active"===e.current_state,d="";s&&(a="center"==e.theme?.introtq_props?.align?" text-center":"",o=e.theme?.introtq_props?.font?We[e.theme.introtq_props.font]:"",i=e.theme?.color?.background?e.theme.color.background:"",l=e.theme?.bg_settings?.patt?e.theme.bg_settings.patt:"",d=""!=i&&""!=l||0!=e.theme?.layout&&""!=i?i:""),u&&(c==Ee?(u.querySelector("div[rel=FDBK-WRAPPER]")&&u.removeChild(u.querySelector("div[rel=FDBK-WRAPPER]")),u.classList.contains("zpl_ITQAsml")&&u.classList.remove("zpl_ITQAsml"),u.classList.contains("zpl_ITQAlrg")&&u.classList.remove("zpl_ITQAlrg"),Tm(u,s?o:"zpl_thmBrck P0I")):u.innerHTML="");let p=Kn("fragment",null,c==Se&&"disabled"!=e.current_state&&"deleted"!=e.current_state&&Kn("p",{className:"zpl_secn"}),c==Se&&("answered"===e.current_state||"closed"===e.current_state)&&Kn("div",{className:"ui_queNmbr"},Kn("span",null,e.survey_name)),Kn("div",{className:c==Se?"zpl_secn":d},Kn("div",{className:`zpl_thmIntro flex-dirC ${s?a:"text-center"}`},Kn("div",{className:"zpl_thmImgCon"},Kn("div",{className:`zpl_tqImg ${en[e.current_state]}`})),Kn("div",null,c!=Se||"answered"!==e.current_state&&"closed"!==e.current_state?Kn("h3",{rel:"MSG-CONT"},bv(e.current_state,c)?t:e.survey_name):Kn("h6",{className:"zpl_lineClmp3"},e.question),Kn("p",{className:"zpl_mt3"},bv(e.current_state,c)?n:t)))),c==Se&&"disabled"!=e.current_state&&"deleted"!=e.current_state&&Kn("p",{className:"zpl_secn"}));return p.querySelector("h3[rel=MSG-CONT]")&&c==Ee&&"active"===e.current_state&&(p.querySelector("h3[rel=MSG-CONT]").innerHTML=t),u?u.appendChild(p):p},bv=(e,t)=>"active"===e||"deleted"===e||t==Se&&"disabled"===e;let _v=!1;const Ev=function(){let e=[],t={};return{setAnsweredSurvey:function(t){e.push(t)},setAnsweredSurveys:function(t){e=t},getAnsweredSurveys:function(){return e},setDraftResponseSurveys:function(e){t=e},getDraftResponseSurveys:function(){return t}}}(),Sv=e=>{let t=Cm("zp_feeds_views");if(t){let n=t.querySelector("div.zpl_SurveyPreviewPop[rel=ENPS_CONTAINER][sid='"+e.survey_id+"']");n&&n.replaceWith(wv({sobj:e}))}},wv=e=>{let{sobj:t}=e,n=Tv.getObject(t.survey_id);t=JSON.parse(JSON.stringify(t)),t.sending=!!n&&n.sending;let r=Ev.getDraftResponseSurveys();if(n?.hasOwnProperty("drafted_response"))t.drafted_response=n.drafted_response,t.reveal_identity=!!n.reveal_identity&&n.reveal_identity;else if(r[t.survey_id]){let e=r[t.survey_id];t.drafted_response=e.drafted_response,t.reveal_identity=!!e.reveal_identity&&e.reveal_identity}let a=Ev.getAnsweredSurveys(),o=t.recurrence_id>0?t.survey_id+"_"+t.recurrence_id:t.survey_id;if(t.current_state=a.length>0&&a.includes(o)?"answered":t.current_state||"active","active"===t.current_state&&t.closing_time>0){const e=Dm(t.closing_time),n=jm();e<Dm(n)&&(t.current_state="closed")}return Tv.setObject(t),t.type==Se?Nv(t):t.type==Ee||t.type==Ie?Pv(t):void 0},Nv=e=>Kn("div",{className:"zpl_SurveyPreviewPop",rel:"ENPS_CONTAINER",onClick:t=>"active"===e.current_state?Hv(t):qm(t),sid:e.survey_id},Kn(Fv,{sobj:e})),Pv=e=>Kn("div",{className:"zpl_SurveyPreviewPop",rel:"ENPS_CONTAINER",sid:e.survey_id},Kn(oy,{sobj:e})),Ov=()=>{Mm("/zpsurvey/surveys/list",{mode:"enpslistbyerecno",startIndex:0},Me,function(e){Iv(e)},{})},Iv=e=>{Tv.reset();let t="";if(void 0===e||e.surveys<=0)t=Cv(ZPI18N.getString("zp.survey.norecords")),ZPDashboard?.Widget.show(Nt,t);else{let n=Kn("div",{className:"zp_enps-hm nps_mul in"},Kn("div",{className:"nps_mul-con"},Kn("div",{className:"zpeNps"},Kn("div",{className:"img_str enpsHC"}),Kn("ul",{rel:"enps_list"}))));t=n.querySelector("ul[rel=enps_list]"),[...e.surveys||[]].forEach(e=>{let n;if(e.activation_type==qn){let t=Calendar.getCurrentDate().getDateBy("yyyyMMdd"),r=Fm(t,e.opening_time);n=0==r?ZPI18N.getString("zp.today"):ZPI18N.getString(1===r?"zp.survey.dayago":"zp.survey.daysago",[r])}t.append(Kn("fragment",null,Kn("li",{onClick:t=>{qm(t),e.type==Se?Dv(e):e.type!=Ee&&e.type!=Ie||yv(e)}},Kn("b",{className:"DB PT8 ZPregI"},e.survey_name),e.activation_type==qn&&Kn("fragment",null,Kn("p",null,n)))))}),ZPDashboard?.Widget.show(Nt,n)}let n=document.querySelector("[name="+Nt+"]"),r=n?n.querySelector(".dash-head"):null;if(r){let t=r.querySelector(".cout.DN");t?.parentNode.removeChild(t),r.querySelector(".cout")?r.querySelector(".cout").querySelector("b[rel=PDG-COUNT]").innerText=e.surveys?e.surveys.length+"":"0":r.appendChild(zv(e.surveys?e.surveys.length+"":"0"))}},zv=e=>Kn("span",{className:"cout"},ZPI18N.getString("zp.pending"),Kn("span",null,Kn("b",{rel:"PDG-COUNT"},e))),Cv=e=>Kn("div",{className:"ZPNdata"},Kn("i",{className:"CR-nodata"},Kn("i",{className:"path1"}),Kn("i",{className:"path2"}),Kn("i",{className:"path3"}),Kn("i",{className:"path4"}),Kn("i",{className:"path5"}),Kn("i",{className:"path6"}),Kn("i",{className:"path7"}),Kn("i",{className:"path8"})),Kn("h5",{id:"zp_views_nodata"},e)),Tv=function(){let e={},t={};return{setObject:function(t){e[t.survey_id]=t},getObject:function(t){return e[t]||null},reset:function(){e={}},setWMSData:function(e){t[e.survey_id]=e},getWMSData:function(e){return t[e]||null}}}(),xv=e=>{let{sobj:t}=e,n=t.type==Ee||t.type==Ie?ZPI18N.getString("zp.survey.enter_feedback"):ZPI18N.getString("zp.submit");return ZPCreateDOM("div",{className:t.type==Ee||t.type==Ie?"zpl_secn M0I":"zpl_secn"},ZPCreateDOM("div",{className:"zlabel zlabel--blue zlabel--medium zbutton zbutton--medium zbutton--primary has-focus has-mfocus",id:"zpl_btnloading","data-appearance":"primary","data-action-in-progress":"true","aria-label":ZPI18N.getString("zp.submit"),tabindex:"0",role:"button",rel:"SUBMIT",onClick:e=>{kv(t,e)}},ZPCreateDOM("span",{className:"zbutton__text"},n)))},kv=(e,t)=>{if(e.type==Se){let n=(t.target||t.srcElement).closest("div[rel=ENPS_CONTAINER]");!e.sending&&Xv(n,e)}else yv(e)},Dv=e=>{let t=Tv.getObject(e.survey_id);(e=JSON.parse(JSON.stringify(e))).sending=!!t&&t.sending,e.current_state=t?t.current_state:"active",e=t||e,Tv.setObject(e);const n=Cm("zpsurveyPopup")?Cm("zpsurveyPopup"):document.body.appendChild(ZPCreateDOM("div",{id:"zpsurveyPopup"}));n.className="zpl_mdl zpl_mcenter zpl_SurveyPreviewPop zpl_SPna zpl_mopen",n.setAttribute("data-modal-box","surveyPreview2"),n.innerHTML="",n.appendChild(jv(e))},jv=e=>ZPCreateDOM("div",{className:"zpl_minr",rel:"ENPS_CONTAINER",sid:e.survey_id,recur_id:e?e.recurrence_id:"",onClick:t=>Rv(t,e.current_state)},ZPCreateDOM("div",{className:"zpl_mcnt P0I"},Av(e))),Av=e=>ZPCreateDOM("div",{className:"zpl_crd"},ZPCreateDOM("div",{className:"zpl_crdcnt",id:"CARD-CONT"},ZPCreateDOM("a",{className:"_cls PI_cls"}),ZPCreateDOM(Fv,{sobj:e}))),Rv=(e,t)=>{const n=e.target||e.srcElement;km(n,"PI_cls")?Uv():"active"===t&&km(n,"zlabel--outline")?Hv(e):qm(e)},qv=e=>{const{sobj:t}=e;if(t.respondent_identity===Ot||t.respondent_identity===It)return ZPCreateDOM("div",{className:"zpl_secn prev_textare M0I"},ZPCreateDOM("div",{className:"zpl_info"},ZPCreateDOM("em",{tabindex:"0"},t.respondent_identity===Ot?ZPI18N.getString("zp.enps.mantatory_disclosure_identity.note"):ZPI18N.getString("zp.enps.note_anonymous"))))},Mv=e=>{const{sobj:t}=e;if(t.respondent_identity===zt){let e,n=!1,r=Tv.getWMSData(t.survey_id);return r?.hasOwnProperty("reveal_identity")?n=r.reveal_identity:t.hasOwnProperty("reveal_identity")&&(n=!!t.reveal_identity&&t.reveal_identity),e=ZPCreateDOM("div",{className:"zcheckbox",tabindex:"0"},ZPCreateDOM("input",{type:"checkbox",className:"zcheckbox__helper",name:"check",id:"REVEAL-IDTY"}),ZPCreateDOM("label",{className:"zcheckbox__label",onClick:e=>ay(e,t)},ZPI18N.getString("zp.enps.reveal_identity"))),n&&e.querySelector("input").setAttribute("checked",""),e}},Zv=e=>{const{sobj:t}=e;let n,r="",a=Tv.getWMSData(t.survey_id);return a?.hasOwnProperty("comment")?r=a.comment:t?.hasOwnProperty("drafted_response")&&(r=t.drafted_response[t.question_id]?.comment?t.drafted_response[t.question_id].comment:""),t.enable_comment&&(n=ZPCreateDOM("textarea",{type:"text",className:"ztextbox",placeholder:ZPI18N.getString("zp.enps.provide_comment"),rows:"4",rel:"SCOMMENT",maxLength:X,onInput:e=>{let n=(e.target||e.srcElement).closest("div[rel=ENPS_CONTAINER]");Yv(n),Lv(n,t)}}),n.value=r),n},Lv=(e,t)=>{let n=e.querySelector("div[rel=COMMENT-NOTE]"),r=n.querySelector("textarea[rel=SCOMMENT]"),a={};((e,t)=>{let n;t.value.length>=X?(n=ZPCreateDOM("em",{className:"zpl_f9 zpl_mt1 zpl_flex red"},ZPI18N.getString("zp.survey.comment.length.exceed",[X])),t.after(n),!km(e,"mndt")&&Tm(e,"mndt")):(n?.remove(),km(e,"mndt")&&xm(e,"mndt"))})(n,r),t?.hasOwnProperty("drafted_response")&&(a=t.drafted_response[t.question_id]),r?.value.trim()?a.comment=r.value.trim():a.hasOwnProperty("comment")&&delete a.comment,a.hasOwnProperty("score")&&Wv(t,a)},Fv=e=>{let{sobj:t}=e,n=-1,r=ZPCreateDOM("fragment",null,ZPCreateDOM("div",{className:"ui_queNmbr",tabindex:"0","aria-label":ZPI18N.getString("zp.survey.participate.survey.desc",[t.survey_name])},ZPCreateDOM("span",null,t.survey_name)),ZPCreateDOM("div",{className:"d-flexM flex-dirC"},ZPCreateDOM("div",{className:"pop_img eneutral"}),ZPCreateDOM("div",{className:"zpl_secn zpl_txtcenter",tabindex:"0","aria-label":ZPI18N.getString("zp.question")+" : "+Nm(t.question)},ZPCreateDOM("h6",{className:"zpl_lineClmp3"},t.question),Bv(t)),(()=>{if("active"===t.current_state)return ZPCreateDOM("fragment",null,ZPCreateDOM(Vv,{sobj:t}),t.enable_comment||t.respondent_identity===zt?ZPCreateDOM("div",{className:"zpl_secn prev_textare",rel:"COMMENT-NOTE"},ZPCreateDOM(Zv,{sobj:t}),ZPCreateDOM(Mv,{sobj:t})):"",ZPCreateDOM(qv,{sobj:t}))})(),"active"!==t.current_state||!t.enable_comment&&t.respondent_identity!==zt?void 0:ZPCreateDOM(xv,{sobj:t})));return t?.hasOwnProperty("drafted_response")&&"active"===t.current_state&&(n=t.drafted_response[t.question_id]?.score,r.querySelector("div[rel=SCOREBTN]")?.setAttribute("score",n),Tm(r.querySelector("div.pop_img"),n>-1?"pop_img "+be[n]:"pop_img eneutral")),r},Bv=e=>"closed"===e.current_state?ZPCreateDOM("div",null,ZPCreateDOM("p",{className:"zpl_lineClmp2"},ZPI18N.getString("zp.survey.closed"))):"answered"===e.current_state?ZPCreateDOM("div",null,ZPCreateDOM("p",{className:"zpl_lineClmp2"},ZPI18N.getString("zp.survey.submitted_feedback"))):"disabled"===e.current_state?ZPCreateDOM("div",null,ZPCreateDOM("p",{className:"zpl_lineClmp2"},ZPI18N.getString("zp.survey.feed.disabled.survey"))):void 0,Uv=()=>{const e=Cm("zpsurveyPopup");e&&e.parentNode.removeChild(e),"undefined"!=typeof ZPFeeds&&ZPFeeds.SINGLEPOP&&ZPFeeds.Notifications.removeDetailDiv()},Hv=e=>{let t=e.target||e.srcElement,n=t.closest("div[rel=ENPS_CONTAINER]"),r=n.getAttribute("sid"),a=Tv.getObject(r);if(km(t,"zlabel--outline")&&!a.sending){let r=Number(t.innerHTML),o=n.querySelector("div[rel=SUBMIT]");$v(r,n,e),Qv(r,n,a),!o&&Xv(n,a)}},Vv=e=>{let{sobj:t}=e,n=-1,r=Tv.getWMSData(t.survey_id);return r?.hasOwnProperty("score")?n=r.score:t?.hasOwnProperty("drafted_response")&&(n=t.drafted_response[t.question_id]?.score),ZPCreateDOM("div",{className:"zpl_secn"},ZPCreateDOM("div",{className:"zpl_numbrScal M0I",tabindex:"0","aria-label":ZPI18N.getString("zp.survey.nps.response.desc",[t.minscore_text,t.maxscore_text])},n>=0&&ny(n),ZPCreateDOM(ry,{score:n}),ZPCreateDOM("div",{className:"d-flex j-cnt-btwen numbrScal_btm"},ZPCreateDOM("em",null,t.minscore_text),ZPCreateDOM("em",null,t.maxscore_text))))},Yv=e=>{let t=e.querySelector("div[rel=COMMENT-NOTE]"),n=t.querySelector("textarea[rel=SCOMMENT]"),r=e.querySelector("div[rel=SUBMIT]");n&&km(t,"mndt")&&""==n.value.trim()?Tm(r,"disabled"):xm(r,"disabled")},Wv=R((e,t)=>{let n=e.survey_id;Mm(`/zpsurvey/surveys/${n}/questions/${e.question_id}/save`,{responseData:JSON.stringify(t)},qe,function(){e.hasOwnProperty("drafted_response")||(e.drafted_response={},t.score>=0&&(e.drafted_response[e.question_id]=t)),Tv.setObject(e)},null,function(e){let t=e.responseJSON;Mn(t||{errorcode:st})})},300),Gv=e=>e<=6?"redbdrbglit1 red":7===e||8===e?"ylwbdrbglit1 ylw":9===e||10===e?"grnbdrbglit1 grn":"",$v=(e,t,n,r)=>{let a=t.getAttribute("sid"),o=Tv.getObject(a);if(r&&e>-1&&(o?.hasOwnProperty("drafted_response")||(o.drafted_response={}),o.drafted_response[o.question_id]||(o.drafted_response[o.question_id]={}),o.drafted_response[o.question_id].score=e),"mouseleave"===n?.type&&o?.hasOwnProperty("drafted_response")&&(e=o.drafted_response[o.question_id]?.score),!o.sending){const r=t.querySelector("div.pop_img"),a=t.querySelector("div[rel=SCOREBTN]");[...a.children||[]].forEach((t,n)=>{let r=Gv(n);xm(t,r),n<=e&&Tm(t,r)}),a.setAttribute("score",e),r.className=e>-1?"pop_img "+be[e]:"pop_img eneutral";const i=t.querySelector("div[rel=ARROW]");if(i&&i.remove(),e>-1&&a.parentElement.insertBefore(ny(e),a),"click"===n?.type&&(o.respondent_identity==zt||o.enable_comment)){let t=o?.hasOwnProperty("drafted_response")?o.drafted_response[o.question_id]:{};t.score=e,Wv(o,t)}}},Qv=(e,t,n)=>{let r=!0;if(n.enable_comment){let a=n.comment_rule,o="NULL"!==n.comment_rule?Number(a.match(/\d+/)[0]):-1,i=t.querySelector("div[rel=COMMENT-NOTE]"),l=i.querySelector("span[rel=NPS_CMT_REQ]"),c=i.querySelector("textarea"),u=c?.value?.trim();n.comment_mandatory&&o>=0&&o<=10&&e>=0&&e<=10&&(a.match(/R<=/)&&e<=o||a.match(/R>=/)&&e>=o)&&!u.trim().length?(i.className="zpl_secn prev_textare mndt",l=l||ZPCreateDOM("span",{className:"red",rel:"NPS_CMT_REQ"},"(",ZPI18N.getString("zp.lms.settings.required"),")"),i.insertBefore(l,i.firstChild),r=!1):(i.className="zpl_secn prev_textare",l&&i.removeChild(l)),Yv(t)}return r},Xv=(e,t)=>{let n=!!Cm("zpsurveyPrev")&&isPreview,r=e.querySelector("div[rel=SCOREBTN]").getAttribute("score"),a=t.survey_id,o=t.question_id;if(r=Number(r),r>=0&&r<=10){let i=Kv(e,t,r);t.sending=i&&Object.keys(i).length>0,n?hv(t,ZPI18N.getString("zp.survey.thankyoumsg_ttl",[""]),ZPI18N.getString("zp.survey.thankyoumsg_note",[""]),e):Jv(a,o,i,t,e)}else B({text:ZPI18N.getString("zp.survey.error.response.empty"),duration:3e3}).showError()},Kv=(e,t,n)=>{const r=e.querySelector("textarea"),a=e.querySelector("#REVEAL-IDTY");let o=r?.value?.trim();if(o&&o.replace(/\s+/,""),!Qv(n,e,t))return;let i={score:n};return t.recurrence_id&&(i.recurrence_id=t.recurrence_id),o&&(i.comment=o),a&&(i.reveal_identity=a.hasAttribute("checked")),t.respondent_identity===Ot&&(i.reveal_identity=!0),i},Jv=(e,t,n,r,a)=>{n&&Object.keys(n).length>0&&Mm(`/zpsurvey/surveys/${e}/questions/${t}`,{responseData:JSON.stringify(n)},qe,function(){Cm("zpsurveyPrev")?hv(r,ZPI18N.getString("zp.survey.thankyoumsg_ttl",[""]),ZPI18N.getString("zp.survey.thankyoumsg_note",[""]),a):(r.sending=!1,r.current_state="answered",Uv(),ey(e,a),Ov())},null,function(e){Cm("zpsurveyPrev")||(Uv(),r.sending=!1);let t=e.responseJSON;"MORE_THAN_MAX_LENGTH"==t.errorcode&&(t.errorcode=dt,t.message=ZPI18N.getString("zp.survey.comment.length.exceed",[X])),Mn(t||{errorcode:st})})},ey=(e,t)=>{let n=Tv.getObject(e);Ev.setAnsweredSurvey(e),B({text:ZPI18N.getString("zp.survey.response_submit.thankyou_msg"),duration:3e3}).showSuccess(),t.closest('[id^="actionList_SURVEY"]')?t.closest('[id^="actionList_SURVEY"]').remove():t.closest(`div[rel="${e}"]`)?n.created_by!=erecno&&Cm("surveys").children.length>1&&t.closest(`div[rel="${e}"]`).remove():Sv(n)},ty=e=>{const t=e.target||e.srcElement,n=t.closest("div[rel=ENPS_CONTAINER]");if("mouseover"===e.type){let e=Number(t.innerHTML);km(t,"zlabel--outline")&&$v(e,n)}else"mouseleave"===e.type&&$v(-1,n,e)},ny=e=>ZPCreateDOM("div",{className:"arrw",style:{insetInlineStart:47*e+"px"},rel:"ARROW"},ZPCreateDOM("span",{className:`arrw-reversed ${mv(e)}`})),ry=e=>{let{score:t}=e,n=Array.from({length:11},(e,n)=>ZPCreateDOM("button",{className:`zlabel zlabel--outline zlabel--medium ${null!=t&&n<=t?Gv(n):""}`},n+""));return ZPCreateDOM("div",{className:"d-inle-flex",rel:"SCOREBTN",onMouseOver:ty,onMouseLeave:ty},n)},ay=(e,t)=>{const n=(e.target||e.srcElement).parentElement.querySelector("input");let r;n.hasAttribute("checked")?n.removeAttribute("checked"):n.setAttribute("checked",""),t?.hasOwnProperty("drafted_response")&&(r=t.drafted_response[t.question_id]),r.hasOwnProperty("score")&&((e,t)=>{let n=t.survey_id;Mm(`/zpsurvey/surveys/${n}/save`,{responseData:JSON.stringify({reveal_identity:e})},qe,function(){t.reveal_identity=e,Tv.setObject(t)},null,function(e){let t=e.responseJSON;Mn(t||{errorcode:st})})})(n.hasAttribute("checked"),t)},oy=e=>{let{sobj:t}=e;return ZPCreateDOM("fragment",null,ZPCreateDOM("div",{className:"ui_queNmbr"},ZPCreateDOM("span",null,t.survey_name)),ZPCreateDOM("div",{className:"d-flexM flex-dirC"},ZPCreateDOM("div",{className:"pop_img tnq"}),"active"===t.current_state?ZPCreateDOM(xv,{sobj:t}):ZPCreateDOM("div",{className:"zpl_secn zpl_txtcenter M0I"},Bv(t))))};function iy(e){return iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(e)}function ly(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return cy(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(cy(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,cy(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,cy(d,"constructor",u),cy(u,"constructor",c),c.displayName="GeneratorFunction",cy(u,a,"GeneratorFunction"),cy(d),cy(d,a,"Generator"),cy(d,r,function(){return this}),cy(d,"toString",function(){return"[object Generator]"}),(ly=function(){return{w:o,m:p}})()}function cy(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}cy=function(e,t,n,r){function o(t,n){cy(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},cy(e,t,n,r)}function uy(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function sy(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){uy(o,r,a,i,l,"next",e)}function l(e){uy(o,r,a,i,l,"throw",e)}i(void 0)})}}function dy(e){return function(e){if(Array.isArray(e))return py(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return py(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?py(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function py(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function fy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function my(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fy(Object(n),!0).forEach(function(t){vy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vy(e,t,n){return(t=function(e){var t=function(e){if("object"!=iy(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=iy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==iy(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yy={render:!1,surveys:[],mandatoryActions:[],errordata:{},attemptdata:{},tomorrow_shift_time:void 0},gy=ja({name:"attemptPopup",initialState:yy,reducers:{overrideattemptSlice:function(e,t){return my(my({},e),t.payload)},overrideSurveys:function(e,t){e.surveys=[].concat(dy(e.surveys),dy(t.payload))},overrideAttemptData:function(e,t){e.attemptdata=my(my({},e.attemptdata),t.payload)},overrideAttemptQuestionData:function(e,t){e.attemptdata.questions=my(my({},e.attemptdata.questions),t.payload)},updateMandatoryActions:function(e,t){e.mandatoryActions=t.payload},overrideMandatoryActions:function(e,t){e.mandatoryActions=[].concat(dy(e.mandatoryActions),[t.payload])},updateMandatoryActionData:function(e,t){var n=t.payload;e.mandatoryActions=e.mandatoryActions.map(function(e,t){return n.id==e.id?my(my({},e),n):e})},overrideErrorData:function(e,t){e.errordata=my(my({},e.errordata),t.payload)},resetattemptSlice:function(){return yy},resetTomorrowShiftTime:function(e,t){e.tomorrow_shift_time=void 0}},extraReducers:function(e){e.addCase(hy.fulfilled,function(e,t){var n=t.payload,r=n.status,a=n.mandatoryActions,o=n.tomorrow_shift_time;r===Ze&&(e.tomorrow_shift_time=o?Number(o):0,a.length>0&&(e.render=!0,e.mandatoryActions=a))}).addCase(by.fulfilled,function(e,t){var n=t.payload.tomorrow_shift_time;e.mandatoryActions=[],e.tomorrow_shift_time=n?Number(n):0}).addCase(_y.fulfilled,function(e,t){var n=t.payload,r=n.status,a=n.mandatoryActions,o=n.tomorrow_shift_time;r===Ze&&(e.tomorrow_shift_time=o?Number(o):0,a.length>0&&(e.render=!0,e.mandatoryActions=a))})}}),hy=za("attemptPopup/getSurveyList",function(){var e=sy(ly().m(function e(t,n){var r,a,o,i;return ly().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.scope,(a=new URLSearchParams).append("scope",JSON.stringify(r)),isPlatformOrg&&(a.append("isPlatformOrg",!0),a.append("pfExtId",pfExtId)),e.n=1,y.get("zpcommon/mandatoryactions",{params:a});case 1:return o=e.v,e.a(2,o.data);case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),by=za("attemptPopup/bulkSkipAction",function(){var e=sy(ly().m(function e(t,n){var r,a,o;return ly().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r={},isPlatformOrg&&(r={isPlatformOrg:!0,pfExtId:pfExtId}),e.n=1,y.postForm("zpcommon/mandatoryactions/skip",r,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return a=e.v,e.a(2,a.data);case 2:return e.p=2,o=e.v,e.a(2,n.rejectWithValue(o))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),_y=za("attemptPopup/exculdeAdminAction",function(){var e=sy(ly().m(function e(t,n){var r,a;return ly().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,y.patch("zpcommon/mandatoryactions/exclude",void 0,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return r=e.v,e.a(2,r.data);case 2:return e.p=2,a=e.v,e.a(2,n.rejectWithValue(a))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Ey=gy.actions,Sy=Ey.overrideattemptSlice,wy=(Ey.resetattemptSlice,Ey.overrideAttemptData),Ny=Ey.overrideAttemptQuestionData,Py=Ey.overrideMandatoryActions,Oy=Ey.updateMandatoryActions,Iy=Ey.updateMandatoryActionData,zy=Ey.overrideErrorData,Cy=Ey.resetTomorrowShiftTime,Ty=(Ey.overrideSurveys,gy.reducer),xy=_a({reducer:{attempt:Ty}});class ky{defaultOptions;modal;options;constructor(e){this.defaultOptions={modalId:"popup",title:""},this.options={...this.defaultOptions,...e},this.modal=this.createModal()}createModal(){let e=this;const t=document.createElement("div");t.className="zpl_mdl zpl_mcenter zpl_mopen",t.setAttribute("data-modal-box",this.options.modalId);const n=document.createElement("div");n.classList.add("zpl_minr"),this.options.popupHeight&&n.classList.add(this.options.popupHeight);const r=document.createElement("div");r.className="zpl_mhder",r.setAttribute("rel","popup-header");const a=document.createElement("div"),o=document.createElement("h4");o.textContent=this.options.title,o.setAttribute("rel","popup-heading");const i=document.createElement("a");if(i.className="_cls PI_cls",i.addEventListener("click",function(t){e.options.closeaction(t),e.modal.remove()}),a.appendChild(o),this.options.desc){const e=document.createElement("span");e.className="zpl_mt2 zpl_db",e.textContent=this.options.desc,e.setAttribute("rel","popup-desc"),a.appendChild(e)}r.appendChild(a),"function"==typeof e.options.closeaction&&r.appendChild(i);const l=document.createElement("div");l.className="zpl_mcnt zpl_fm";const c=(()=>{const t=this.options.buttons;if(!t||0===t.length)return ZPCreateDOM("div",{className:"zpl_mfoter"});const n=(t||[]).find(e=>"save"===e.name),r=(t||[]).find(e=>"close"===e.name),a=(t||[]).find(e=>"outline"===e.name),o=(t||[]).find(e=>"checkbox"===e.name);return ZPCreateDOM("div",{className:"zpl_mfoter"},n&&(e=>{const{txt:t,callback:n,id:r="savebtn",className:a}=e,o=ZPCreateDOM("button",{id:r,className:`zlabel zlabel--blue zlabel--medium ${a||""}`},t);return o.addEventListener("click",function(e){n(e)}),o})(n),r&&(t=>{const{txt:n,callback:r,id:a="cancelbtn"}=t,o=ZPCreateDOM("button",{id:a,className:"zlabel zlabel--outline zlabel--medium"},n);return o.addEventListener("click",function(t){r(t),e.modal.remove()}),o})(r),a&&(e=>{const{txt:t,callback:n,id:r="outlinebtn",attributes:a}=e,o=ZPCreateDOM("a",{id:r,className:"zpl_link",href:"#"},t);return Object.keys(a).length>0&&Object.keys(a).forEach(e=>{o.setAttribute(e,a[e])}),o.addEventListener("click",function(e){n(e)}),o})(a),o&&(e=>{const{id:t,txt:n,attributes:r,callback:a}=e,o=document.createElement("div");o.className="zcheckbox";const i=document.createElement("input");i.id=t,i.type="checkbox",i.setAttribute("rel",t),i.className="zcheckbox__helper";const l=document.createElement("label");return l.setAttribute("for",t),l.className="zcheckbox__label",l.textContent=n,l.setAttribute("rel",t),l.setAttribute("title",n),r&&Object.keys(r).length>0&&Object.keys(r).forEach(e=>{l.setAttribute(e,r[e])}),i.addEventListener("change",function(e){const t=e.target.checked;"function"==typeof a&&a(t),t?l.classList.add("zcheckbox__label--checked"):l.classList.remove("zcheckbox__label--checked")}),o.appendChild(i),o.appendChild(l),o})(o))})();return n.appendChild(r),n.appendChild(l),n.appendChild(c),l.appendChild(this.options.content),t.appendChild(n),t}appendTo(e){e.appendChild(this.modal)}removeElement(){this.modal.remove()}}function Dy(e){return Dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(e)}function jy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ay(r.key),r)}}function Ay(e){var t=function(e){if("object"!=Dy(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Dy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Dy(t)?t:t+""}var Ry=function(){return function(e,t){return t&&jy(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Yes",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Cancel",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"yellow",l=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0,s=arguments.length>8?arguments[8]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){(t=Ay(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"keydownHandler",function(e){"Escape"===e.key&&r.removeModal()}),this.title=t,this.message=n,this.confirmText=a,this.cancelText=o,this.theme=i,this.icon=l,this.modal=this.createModalElement(),this.confirmCallback=c,this.cancelCallback=u,this.closeCallback=s},[{key:"getTheme",value:function(){return this.theme}},{key:"getIcon",value:function(){switch(this.theme){case"yellow":return"info";case"red":return"delete";case"green":return"success";default:return this.icon||"info"}}},{key:"createModalElement",value:function(){var e=document.createElement("div");e.style.display="none";var t=document.createElement("div");t.className="zpl_mdl zpl_malrtmsg zpl_mopen",e.appendChild(t);var n=document.createElement("div");n.className="zpl_minr",t.appendChild(n),this.closeIcon=document.createElement("a"),this.closeIcon.className="_cls PI_cls",n.appendChild(this.closeIcon),this.closeIcon.onclick=this.removeModal;var r=document.createElement("div");r.className="zpl_mcnt",n.appendChild(r);var a=document.createElement("div");a.className="alert_contain",r.appendChild(a);var o=document.createElement("i");o.className="ico ".concat(this.getIcon()),a.appendChild(o);var i=document.createElement("div");i.className="cont",a.appendChild(i);var l=document.createElement("h3");l.textContent=this.title,i.appendChild(l);var c=document.createElement("p");c.textContent=this.message,i.appendChild(c);var u=document.createElement("div");return u.className="zpl_mfoter",n.appendChild(u),this.confirmButton=document.createElement("button"),this.confirmButton.type="button",this.confirmButton.className="zlabel zlabel--".concat(this.getTheme()," zlabel--medium MR10"),this.confirmButton.textContent=this.confirmText,u.appendChild(this.confirmButton),this.cancelButton=document.createElement("button"),this.cancelButton.type="button",this.cancelButton.className="zlabel zlabel--outline zlabel--medium",this.cancelButton.textContent=this.cancelText,u.appendChild(this.cancelButton),e}},{key:"addModalToBody",value:function(){document.body.appendChild(this.modal)}},{key:"showModal",value:function(){this.modal.style.display="block",document.addEventListener("keydown",this.keydownHandler)}},{key:"hideModal",value:function(){document.removeEventListener("keydown",this.keydownHandler),this.modal.style.display="none"}},{key:"removeModal",value:function(){document.removeEventListener("keydown",this.keydownHandler),document.body.removeChild(this.modal)}},{key:"confirmation",value:function(){var e=this;return this.addModalToBody(),this.showModal(),this.promise=new Promise(function(t,n){e.confirmButton.onclick=function(){"function"==typeof e.confirmCallback&&e.confirmCallback(),t(!0),e.removeModal()},e.cancelButton.onclick=function(){"function"==typeof e.cancelCallback&&e.cancelCallback(),t(!1),e.removeModal()},e.closeIcon.onclick=function(){"function"==typeof e.closeCallback&&e.closeCallback(),t(!1),e.removeModal()}}),this.promise}}])}();const qy=()=>{let e=ZPeople.INIT_DATA.initCallbackData;const{INITCB_SURVEY_MANDATORY:t,INITCB_FILE_MANDATORY:n}=e;if(!t&&!n)return Kn("fragment",null);let r=[];t&&r.push(on),n&&r.push("policy"),xy.dispatch(hy({scope:r})).then(e=>{if("fulfilled"===e.meta.requestStatus){const t=e.payload;let n=t.tomorrow_shift_time;t.mandatoryActions?.length>0&&Ly(),n&&$y(n),Gy()}else{let t=e?.payload?.response?.data?.message??ZPI18N.getString("zp.unabletoprocess");B({text:t,duration:3e3}).showError()}})};let My,Zy;const Ly=()=>{const{mandatoryActions:e}=xy.getState().attempt;Fy(e)},Fy=e=>{if(My?.removeElement(),!e||e?.length<=0)return Kn("fragment",null);if(e.filter(e=>e.is_completed).length==e.length)return xy.dispatch(Oy([])),Kn("fragment",null);let t=!0,n=!1,r=0,a=0;e.forEach((e,o)=>{e.allow_skip||(t=!1),e.show_exemptAdmin&&(n=!0),e.type==ln&&r++,e.type==cn&&a++});const o=e.filter(e=>{const{type:t,ends_in:n,is_completed:r}=e;return t==ln&&0==n&&0==r}).length>0,i=document.getElementById("wrapper");document.getElementById("ee_mandatory-react-root")||i.appendChild(Kn("div",{id:"ee_mandatory-react-root"}));const l=i.querySelector("#ee_mandatory-react-root"),c=()=>r==e.length?ZPI18N.getString("zp.mandatory.surveys"):a==e.length?ZPI18N.getString("zp.mandatory.policies"):ZPI18N.getString("zp.mandatory.policies_and_surveys");let u;t&&(u=ZPI18N.getString("zp.skip")+", "+ZPI18N.getString("zp.press.escape.toexit"));let s={title:c(),desc:ZPI18N.getString("zp.mandatory.popup.desc"),modalId:"MandatoryPopup",buttons:t?[{name:"outline",txt:ZPI18N.getString("zp.skip"),attributes:{tabindex:"0","aria-label":u},callback:e=>{qm(e),Hy()}}]:!o&&n?[{name:"checkbox",id:"mandatory-exclude-acknowledge",txt:ZPI18N.getString("zp.mandatory.policies.exempt.ack"),callback:e=>Qy(e)}]:[],popupHeight:"zpl_maxhgt600",content:Kn("div",{className:"zpl_mt4"},Kn("div",{className:"zpl_msplst",rel:"MANDADORY_LIST"},Kn(Am,null)))};My=new ky(s),My.appendTo(l),t&&tv(void 0,e=>{null!=My&&(qm(e),Hy())});const d=document.querySelector("[data-modal-box='MandatoryPopup']");let p=d?.querySelector("span[rel=popup-desc]"),f=d?.querySelector("div[rel=popup-header]");d&&(d.setAttribute("tabindex","-1"),d.focus()),f.setAttribute("tabindex","0"),f.setAttribute("aria-label",c()+" "+ZPI18N.getString("zp.alert")),p.setAttribute("tabindex","0"),By(My.modal,e)},By=(e,t)=>{const n=e.querySelector("[rel=MANDADORY_LIST]");n.innerHTML="",n.appendChild(Kn("fragment",null,(t||[]).map((e,n)=>{const{name:r,id:a,ends_in:o,addional_info:i,type:l,is_completed:c,activation_type:u}=e,{url:s,question_count:d}=i||{};switch(l){case ln:return Kn("div",{key:a,id:`mandatory-box-${a}`},Kn(Uy,{name:r,id:a,daysleft:o,onClickHandler:()=>(e=>{gv(Bm(e))})(s),btnLabel:ZPI18N.getString("zp.survey.start.feedback"),isCompleted:c,qcount:d,mandatoryLength:t.length,surveyIndex:n,activation_type:u}));case cn:return Kn("div",{key:a,id:`mandatory-box-${a}`,dangerouslySetInnerHTML:{_html:FilesUtil.MandatoryFiles.constructCard(e,t.length)}});default:return Kn("fragment",null)}}))),Wy()},Uy=e=>{const{name:t,id:n,btnLabel:r,daysleft:a,onClickHandler:o,isCompleted:i=!1,qcount:l,mandatoryLength:c,surveyIndex:u,activation_type:s}=e;let d=av(a);return Kn("fragment",null,Kn("div",null,Kn("i",{className:"PI_s_emp_eng zpl_fh2 zpl_whtbg grn"})),Kn("div",{className:"zpl_msp-dts",tabindex:"0","aria-label":ZPI18N.getString("zp.local.survey")+`${u+1} - ${t}, ${d}`},Kn("div",{className:"zpl_msp-name zpl_clamp-1"},Kn("span",{className:"zpl_msp-title",tabindex:"-1"},t)),!i&&Kn("span",{className:"zpl_flex-a-c zpl_gap-1",tabindex:"-1"},l>0&&Kn("fragment",null,Kn("span",null,`${l} ${l<=1?ZPI18N.getString("zp.question"):ZPI18N.getString("zp.questions")}`),Kn("em",{className:"zpl_dots"})),s==qn&&Kn("span",{className:"red"},d))),Kn("div",{className:"zpl_msp-act"},i?Kn("div",{className:"zpl_hvr zpl_hvrsw"},Kn("i",{className:"PI_tick2_fil grn zpl_h3"})):Kn("div",{className:"zpl_hvr "+(c>1?"":"zpl_hvrsw")},Kn("button",{className:"zlabel zlabel--blue zlabel--medium zlabel--primary",onClick:o},r))))},Hy=()=>{xy.dispatch(by()).then(e=>{if("fulfilled"===e.meta.requestStatus){const{tomorrow_shift_time:t}=e.payload;My.modal.remove(),$y(t)}else if("rejected"===e.meta.requestStatus){let t=e.payload?.response?.data?.message?e.payload.response.data.message:ZPI18N.getString("zp.unabletoprocess");B({text:t,duration:3e3}).showError()}})},Vy=()=>{xy.dispatch(_y()).then(e=>{if("fulfilled"===e.meta.requestStatus){const{tomorrow_shift_time:t}=e.payload;My.modal.remove(),$y(t)}else if("rejected"===e.meta.requestStatus){let t=e.payload?.response?.data?.message?e.payload.response.data.message:ZPI18N.getString("zp.unabletoprocess");B({text:t,duration:3e3}).showError()}})},Yy=e=>{const{id:t}=e;xy.dispatch(Iy({id:t,is_completed:!0,allow_skip:!0})),Ly()},Wy=()=>{new MutationObserver(e=>{if(!document.querySelector("[data-modal-box='MandatoryPopup']")){const{mandatoryActions:e}=xy.getState().attempt;Fy(e)}}).observe(document.body,{childList:!0,subtree:!0})},Gy=()=>{let e=Date.now();setInterval(function(){const t=Date.now();if(t-e>5e3){const{tomorrow_shift_time:e}=xy.getState().attempt;Date.now()>=e?(clearTimeout(Zy),qy(),xy.dispatch(Cy())):$y(e)}e=t},2e3)},$y=e=>{const t=Date.now(),n=(e?Number(e):0)-t;clearTimeout(Zy),Zy=setTimeout(()=>{qy()},n)},Qy=async e=>{const t=document.querySelector("[data-modal-box='MandatoryPopup']"),n=t?.querySelector("#mandatory-exclude-acknowledge");if(!t||!n)return;function r(){n.checked=!1}const a=new Ry(ZPI18N.getString("zp.mandatory.policies.exempt.popup.title"),ZPI18N.getString("zp.mandatory.policies.exempt.popup.desc"),ZPI18N.getString("zp.confirm"),ZPI18N.getString("zp.cancel"),void 0,void 0,function(){Vy(),n.checked=!1},r,r);await a.confirmation()};var Xy,Ky=function(){window.location.hash="operations/employeeengagement/templates/add"},Jy=function(e){window.location.hash="operations/employeeengagement/templates/edit/template-id:".concat(e)},eg=function(){window.location.hash="employeeengagement/surveys/enps/add"},tg=function(){window.location.hash="employeeengagement/surveys/enps"},ng=function(e){window.location.hash="employeeengagement/surveys/enps/view/".concat(e)},rg=function(e){window.location.hash="employeeengagement/surveys/enps/edit/".concat(e)},ag=function(e){window.location.hash="employeeengagement/surveys/enps/clone/".concat(e)},og=function(){window.location.hash="employeeengagement/surveys/fullengagement/add"},ig=function(){window.location.hash="employeeengagement/surveys/fullengagement"},lg=function(e){window.location.hash="employeeengagement/surveys/fullengagement/view/".concat(e)},cg=function(e){window.location.hash="employeeengagement/surveys/fullengagement/edit/".concat(e)},ug=function(e){window.location.hash="employeeengagement/surveys/fullengagement/clone/".concat(e)},sg=function(e){window.location.hash="settings/service/zp_offboarding/interview/edit/".concat(e)},dg=function(){window.location.hash="employeeengagement/mydata/mysurveys"},pg=function(){window.location.hash="employeeengagement/mydata/mysurveys-view:all"},fg=function(){window.location.hash="employeeengagement/surveys/pulse/add"},mg=function(){window.location.hash="employeeengagement/surveys/pulse"},vg=function(e){window.location.hash="employeeengagement/surveys/pulse/view/".concat(e)},yg=function(e){window.location.hash="employeeengagement/surveys/pulse/edit/".concat(e)},gg=function(e){window.location.hash="employeeengagement/surveys/pulse/clone/".concat(e)},hg={survey_name:"",description:"",respondent_identity:It,instruction:ZPI18N.getString("zp.engagement.template.engagement.instruction"),thankyou_message:ZPI18N.getString("zp.engagement.template.thankyouMsg"),type:"engagement",opening_time:jm(new Date),closing_time:jm((Xy=new Date,Xy.setDate(Xy.getDate()+6),Xy)),questions_per_page:0,questions:[],applicable_to:{type:Be},is_ready:!1,is_repeat:!1,repeat:{},is_reminder:!1,reminders:[],mail_notification:!0,cover_image:{id:Math.floor(Math.random()*tt.length),is_default:!0},survey_mandatory:!1,metric_type:yn,activation_type:qn},bg={survey_name:"",description:"",respondent_identity:"anonymous",instruction:ZPI18N.getString("zp.engagement.template.engagement.instruction"),thankyou_message:ZPI18N.getString("zp.engagement.template.thankyouMsg"),type:"pulse",opening_time:jm(new Date),closing_time:jm(function(){var e=new Date;return e.setDate(e.getDate()+6),e}()),questions_per_page:0,questions:[],applicable_to:{type:Be},is_ready:!1,is_repeat:!1,repeat:{},is_reminder:!1,reminders:[],mail_notification:!0,cover_image:{id:Math.floor(Math.random()*tt.length),is_default:!0},survey_mandatory:!1,metric_type:yn,activation_type:qn},_g={survey_name:"",opening_time:jm(new Date),closing_time:jm(function(){var e=new Date;return e.setDate(e.getDate()+6),e}()),question:"",enable_comment:!0,comment_mandatory:!1,comment_rule:"R<=6",comment_criteria:"0",comment_score:6,type:Se,minscore_text:ZPI18N.getString("zp.enps.notlikely"),maxscore_text:ZPI18N.getString("zp.enps.extremelikely"),is_repeat:!1,repeat:{},respondent_identity:zt,metric_type:vn,metric_id:null,mail_notification:!0,applicable_to:{type:Be},cover_image:{id:Math.floor(Math.random()*tt.length),is_default:!0},survey_mandatory:!1,activation_type:qn};function Eg(e){var t={survey_name:e.survey_name,type:e.type,description:e.description,instruction:e.instruction,thankyou_message:e.thankyou_message,questions_per_page:e.questions_per_page,questionbank_id:e.questionbank_id,cover_image_id:e.cover_image_id,fileInfo:e.fileInfo,theme_id:e.theme_id,metric_type:e.metric_type};return e.metric_type===vn&&(t.metric_id=e.metric_id),e.metric_type===gn?t.metric_groups=e.metric_groups:t.questions=e.questions,t}function Sg(e){return Sg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(e)}function wg(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return Ng(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Ng(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,Ng(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,Ng(d,"constructor",u),Ng(u,"constructor",c),c.displayName="GeneratorFunction",Ng(u,a,"GeneratorFunction"),Ng(d),Ng(d,a,"Generator"),Ng(d,r,function(){return this}),Ng(d,"toString",function(){return"[object Generator]"}),(wg=function(){return{w:o,m:p}})()}function Ng(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Ng=function(e,t,n,r){function o(t,n){Ng(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Ng(e,t,n,r)}function Pg(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Og(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Pg(o,r,a,i,l,"next",e)}function l(e){Pg(o,r,a,i,l,"throw",e)}i(void 0)})}}function Ig(e){return function(e){if(Array.isArray(e))return zg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return zg(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zg(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Cg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Tg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cg(Object(n),!0).forEach(function(t){xg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xg(e,t,n){return(t=function(e){var t=function(e){if("object"!=Sg(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Sg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Sg(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Math.floor(Math.random()*tt.length);var kg={theme_name:"",layout:0,qa_props:{font:"medium"},introtq_props:{font:"medium",align:"left"},color:{question:"enpsqtxt1",answer:"enpsatxt1",background:"enpsbg1"},bg_settings:{bg:0},errorData:{}},Dg={viewType:null,themeList:[],themeData:kg,mode:"view",fetchInitialData:!0},jg=ja({name:"createTheme",initialState:Dg,reducers:{overrideCreateThemeSlice:function(e,t){return Tg(Tg({},e),t.payload)},overrideCreateThemeData:function(e,t){e.themeData=Tg(Tg({},e.themeData),t.payload)},resetCreateThemeData:function(e){e.themeData=Tg({},kg)},resetCreateThemeSlice:function(){return Dg},themeErrorData:function(e,t){e.themeData.errorData=t.payload.errorData},updateThemeName:function(e,t){e.themeData.theme_name=t.payload.theme_name},updateLayout:function(e,t){e.themeData.layout=t.payload.layout},overrideQuestionAnswerSection:function(e,t){e.themeData.qa_props=Tg(Tg({},e.themeData.qa_props),t.payload.qa_props)},overrideIntroThankyouScreen:function(e,t){e.themeData.introtq_props=Tg(Tg({},e.themeData.introtq_props),t.payload.introtq_props)},overrideThemeColor:function(e,t){e.themeData.color=Tg(Tg({},e.themeData.color),t.payload.color)},updateBackgroundSettings:function(e,t){e.themeData.bg_settings=t.payload.bg_settings},overrideBackgroundSettings:function(e,t){e.themeData.bg_settings=Tg(Tg({},e.themeData.bg_settings),t.payload.bg_settings)}},extraReducers:function(e){e.addCase(Ag.fulfilled,function(e,t){e.themeList=[].concat(Ig(e.themeList),Ig(t.payload))}).addCase(Rg.fulfilled,function(e,t){e.themeList=[].concat(Ig(e.themeList),Ig(t.payload)),e.fetchInitialData=!1}).addCase(qg.fulfilled,function(e,t){var n=t.payload;e.themeList=[].concat(Ig(e.themeList),[Tg(Tg({},n),e.themeData)])}).addCase(Mg.fulfilled,function(e,t){var n=t.payload.theme_id;e.themeList=(e.themeList||[]).map(function(t){return n==t.theme_id?Tg(Tg({},t),e.themeData):t})})}}),Ag=za("CreateTheme/getDefaultTheme",function(){var e=Og(wg().m(function e(t,n){var r,a;return wg().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,y.get("zpsurvey/surveys/themes",{params:{mode:"default"}});case 1:return r=e.v,e.a(2,r.data.themes);case 2:return e.p=2,a=e.v,e.a(2,n.rejectWithValue(a))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Rg=za("CreateTheme/getCustomTheme",function(){var e=Og(wg().m(function e(t,n){var r,a;return wg().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,y.get("zpsurvey/surveys/themes",{params:{mode:"custom"}});case 1:return r=e.v,e.a(2,r.data.themes);case 2:return e.p=2,a=e.v,e.a(2,n.rejectWithValue(a))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),qg=za("CreateTheme/addTheme",function(){var e=Og(wg().m(function e(t,n){var r,a,o,i;return wg().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.themeData,a={themeData:JSON.stringify(r)},e.n=1,y.postForm("zpsurvey/surveys/theme",a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,e.a(2,Tg(Tg({},r),{},{theme_id:o.data.theme_id}));case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Mg=za("CreateTheme/editTheme",function(){var e=Og(wg().m(function e(t,n){var r,a,o,i,l,c;return wg().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.themeId,a=t.themeData,o={themeData:JSON.stringify(a)},i="zpsurvey/surveys/theme/".concat(r),e.n=1,y.putForm(i,o,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return l=e.v,e.a(2,Tg(Tg({},a),{},{theme_id:l.data.theme_id}));case 2:return e.p=2,c=e.v,e.a(2,n.rejectWithValue(c))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Zg=jg.actions,Lg=Zg.overrideCreateThemeSlice,Fg=Zg.overrideCreateThemeData,Bg=Zg.resetCreateThemeData,Ug=(Zg.resetCreateThemeSlice,Zg.themeErrorData),Hg=Zg.updateThemeName,Vg=Zg.updateLayout,Yg=Zg.overrideQuestionAnswerSection,Wg=Zg.overrideIntroThankyouScreen,Gg=Zg.overrideThemeColor,$g=Zg.updateBackgroundSettings,Qg=Zg.overrideBackgroundSettings,Xg=jg.reducer;function Kg(e){return Kg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kg(e)}function Jg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jg(Object(n),!0).forEach(function(t){th(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function th(e,t,n){return(t=function(e){var t=function(e){if("object"!=Kg(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Kg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Kg(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nh={render:!1,viewType:null,headerName:"",footerLeftActionName:"",footerRightActionName:"",trace:[]},rh=ja({name:"uploadPopup",initialState:nh,reducers:{overrideUploadPopupSlice:function(e,t){return eh(eh({},e),t.payload)},resetUploadPopupSlice:function(){return nh}}}),ah=rh.actions,oh=ah.overrideUploadPopupSlice,ih=ah.resetUploadPopupSlice,lh=_a({reducer:{modalBox:Ka,createSurvey:nl,templateList:Af,viewTemplate:Vf,questionCard:ts,questionBank:Ss,questionPool:Rd,createTheme:Xg,uploadPopup:rh.reducer,surveyCommon:bp,attempt:Ty}});function ch(e){return ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(e)}function uh(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return sh(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(sh(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,sh(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,sh(d,"constructor",u),sh(u,"constructor",c),c.displayName="GeneratorFunction",sh(u,a,"GeneratorFunction"),sh(d),sh(d,a,"Generator"),sh(d,r,function(){return this}),sh(d,"toString",function(){return"[object Generator]"}),(uh=function(){return{w:o,m:p}})()}function sh(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}sh=function(e,t,n,r){function o(t,n){sh(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},sh(e,t,n,r)}function dh(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ph(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){dh(o,r,a,i,l,"next",e)}function l(e){dh(o,r,a,i,l,"throw",e)}i(void 0)})}}function fh(e){return function(e){if(Array.isArray(e))return mh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return mh(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mh(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function vh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vh(Object(n),!0).forEach(function(t){gh(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gh(e,t,n){return(t=function(e){var t=function(e){if("object"!=ch(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ch(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ch(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hh={fetchInitialData:!0,viewMode:"gridView",hasMore:!1,nextPageNumber:0,data:[]},bh=ja({name:"offboardingInterviewRecords",initialState:hh,reducers:{overrideInterviewRecordsSlice:function(e,t){return yh(yh({},e),t.payload)},resetInterviewRecordsSlice:function(){return hh},addInterviewRecord:function(e,t){var n=t.payload;e.fetchInitialData||(e.data=[n].concat(fh(e.data)))},editInterviewRecord:function(e,t){var n=t.payload;e.fetchInitialData||(e.data=(e.data||data).map(function(e){return n.survey_id===e.survey_id?yh(yh({},e),n):e}))}},extraReducers:function(e){e.addCase(_h.fulfilled,function(e,t){var n=t.payload,r=n.surveys,a=n.hasMore;e.data=[].concat(fh(e.data),fh((r||[]).map(function(e){return{survey_name:(t=e).survey_name,survey_id:t.survey_id,status:t.status,response_count:t.response_count,response_percentage:t.response_percentage||0,current_state:t.current_state,url:t.url||"",is_ready:t.is_ready||!1,created_by:t.created_by||0,questions:t.questions,question_count:t.question_count||(t.questions||[]).length,is_default:t.is_default,template_type:t.template_type};var t}))),e.fetchInitialData=!1,e.hasMore=a,e.nextPageNumber=e.nextPageNumber+1}).addCase(Eh.fulfilled,function(e,t){var n=t.payload.survey.survey_id;e.data=(e.data||data).filter(function(e){return e.survey_id!==n})}).addCase(Sh.fulfilled,function(e,t){var n=No(t.payload);if(e.fetchInitialData){var r=(e.data||[]).filter(function(e){return n.survey_id!==e.survey_id});e.data=r}else if(-1===(e.data||[]).findIndex(function(e){return n.survey_id===e.survey_id})){var a=(e.data||[]).filter(function(e){return n.survey_id!==e.survey_id});e.data=[n].concat(fh(a))}else e.data=(e.data||data).map(function(e){return n.survey_id===e.survey_id?n:e})})}}),_h=za("offboardingInterviewRecords/getInterviewRecords",function(){var e=ph(uh().m(function e(t,n){var r,a,o,i,l,c;return uh().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.mode,a=t.pno,o=t.filter,(i=new URLSearchParams).append("mode",r),i.append("startIndex",a*K),(Object.keys(o).length>1||1===Object.keys(o).length)&&i.append("filter",JSON.stringify(o)),e.n=1,y.get("zpsurvey/surveys/list",{params:i});case 1:return l=e.v,e.a(2,yh(yh({},l.data),{},{filter:o}));case 2:return e.p=2,c=e.v,e.a(2,n.rejectWithValue(c))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Eh=za("offboardingInterviewRecords/deleteInterviewRecord",function(){var e=ph(uh().m(function e(t,n){var r,a,o,i;return uh().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyId,a="zpsurvey/surveys/".concat(r),e.n=1,y.delete(a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return o=e.v,e.a(2,o.data);case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),Sh=za("offboardingInterviewRecords/publishInterviewRecord",function(){var e=ph(uh().m(function e(t,n){var r,a,o,i,l;return uh().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.surveyData,a=t.isStoreInSlice,o="zpsurvey/surveys/".concat(r.survey_id,"/publish"),e.n=1,y.patch(o,null,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return i=e.v,a&&n.dispatch(Li({surveyData:r,dbHash:bo(r)})),n.dispatch(kf([r])),e.a(2,yh(yh(yh({},i.data),r),{},{is_ready:!0}));case 2:return e.p=2,l=e.v,e.a(2,n.rejectWithValue(l))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),wh=bh.actions,Nh=wh.resetInterviewRecordsSlice,Ph=wh.addInterviewRecord,Oh=wh.editInterviewRecord,Ih=_a({reducer:{modalBox:Ka,popupModalBox:co,createSurvey:nl,questionCard:ts,questionBank:Ss,templateList:Af,viewTemplate:Vf,getInterviewRecords:bh.reducer}});function zh(e){return zh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(e)}function Ch(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return Th(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Th(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,Th(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,Th(d,"constructor",u),Th(u,"constructor",c),c.displayName="GeneratorFunction",Th(u,a,"GeneratorFunction"),Th(d),Th(d,a,"Generator"),Th(d,r,function(){return this}),Th(d,"toString",function(){return"[object Generator]"}),(Ch=function(){return{w:o,m:p}})()}function Th(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Th=function(e,t,n,r){function o(t,n){Th(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Th(e,t,n,r)}function xh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xh(Object(n),!0).forEach(function(t){Dh(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Dh(e,t,n){return(t=function(e){var t=function(e){if("object"!=zh(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=zh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==zh(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jh(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Ah(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){jh(o,r,a,i,l,"next",e)}function l(e){jh(o,r,a,i,l,"throw",e)}i(void 0)})}}var Rh=function(){var e=Ah(Ch().m(function e(){var t,n;return Ch().w(function(e){for(;;)switch(e.n){case 0:return t=fm.getState().createSurvey.surveyData,setTimeout(function(){fm.dispatch(Qa({render:!0,viewType:Po.ENGAGEMENT,headerName:ZPI18N.getString("zp.engagement.new")}))},0),e.n=1,Gm();case 1:n=e.v,t.survey_id?fm.dispatch(Li({surveyData:kh(kh({},hg),{},{applicable_to:n},Eg(t)),fetchInitialData:!1})):fm.dispatch(Li({surveyData:kh(kh({},hg),{},{applicable_to:n}),fetchInitialData:!1}));case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),qh=function(){var e=Ah(Ch().m(function e(){var t,n;return Ch().w(function(e){for(;;)switch(e.n){case 0:return t=fm.getState().createSurvey.surveyData,setTimeout(function(){fm.dispatch(Qa({render:!0,viewType:Po.PULSE,headerName:ZPI18N.getString("zp.pulse.new")}))},0),e.n=1,Gm();case 1:n=e.v,t.survey_id?fm.dispatch(Li({surveyData:kh(kh({},bg),{},{applicable_to:n},Eg(t)),fetchInitialData:!1})):fm.dispatch(Li({surveyData:kh(kh({},bg),{},{applicable_to:n}),fetchInitialData:!1}));case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Mh=function(e,t,n,r){setTimeout(function(){fm.dispatch(Qa({render:!0,viewType:Po.LOADER,headerName:"",prevHash:n}))},0),fm.dispatch(Qo({surveyId:e})).then(function(n){var a=null==n?void 0:n.payload;if("fulfilled"===n.meta.requestStatus)a.activation_type==qn&&a.is_ready||a.activation_type==Rn&&(2==a.survey_state||1==a.survey_state)?fm.dispatch(Qa({headerName:null==a?void 0:a.survey_name,viewType:t===Ee?Po.ENGAGEMENT_VIEW:t===Se?Po.ENPS_VIEW:t===ut?Po.SHARED_VIEW:t===Ie?Po.PULSE_VIEW:void 0,data:r?{isShowDetailedPage:!0}:{}})):t===Se?rg(e):t===Ee?cg(e):t===Ie&&yg(e);else if("rejected"===n.meta.requestStatus){var o,i,l=null!==(o=null==n||null===(i=n.payload)||void 0===i||null===(i=i.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.message)&&void 0!==o?o:ZPI18N.getString("zp.unabletoprocess");B({text:l,duration:3e3}).showError()}})},Zh=function(){var e=Ah(Ch().m(function e(){var t;return Ch().w(function(e){for(;;)switch(e.n){case 0:return setTimeout(function(){fm.dispatch(Qa({render:!0,viewType:Po.ENPS,headerName:ZPI18N.getString("zp.enps.newenps")}))},0),e.n=1,Gm();case 1:t=e.v,fm.dispatch(Li({surveyData:kh(kh({},_g),{},{applicable_to:t}),fetchInitialData:!1}));case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Lh=function(){var e=lh.getState().questionPool,t=e.questionData,n=e.selectedQids,r=kh(kh({},hg),{},{respondent_identity:void 0,questions:function(e,t){return e.filter(function(e){return t.includes(e.question_id)})}(t,n)});lh.dispatch(Li({surveyData:r,dbHash:bo(r),fetchInitialData:!1,prevHash:wm()})),setTimeout(function(){lh.dispatch(Qa({render:!0,viewType:Po.CREATE_TEMPLATE,headerName:ZPI18N.getString("zp.template.add")}))},0)},Fh=function(){var e=lh.getState().questionPool,t=e.questionData,n=e.selectedQids,r=kh(kh({},bg),{},{respondent_identity:void 0,questions:function(e,t){return e.filter(function(e){return t.includes(e.question_id)})}(t,n)});lh.dispatch(Li({surveyData:r,dbHash:bo(r),fetchInitialData:!1,prevHash:wm()})),setTimeout(function(){lh.dispatch(Qa({render:!0,viewType:Po.CREATE_TEMPLATE,headerName:ZPI18N.getString("zp.template.add")}))},0)},Bh=function(e){var t=e.type,n=e.survey_id;switch(t){case Se:ng(n);break;case Ee:lg(n);break;case Ie:vg(n)}},Uh=function(e){switch(e.type){case Se:fm.dispatch(Hi()),tg();break;case Ee:fm.dispatch(Hi()),ig();break;case Ie:fm.dispatch(Hi()),mg()}};const Hh=(e,t,n)=>{if(n){let r=ZPCreateDOM("div",{rel:t.survey_id},Yh(t,n));return e.append(r),r}e.append(Yh(t,n))},Vh=e=>Dm(e).getDateBy(dateFmt),Yh=(e,t)=>{let n=C(e.created_by),r=e.type,a=n.avatar||ZPeople.getDefaultUserImagePath(),o="undefined"!=typeof portalname&&"string"==typeof portalname?portalname:"undefined"!=typeof portal&&"string"==typeof portal?portal:"",i=e.activation_type===qn?Dm(e.closing_time):0,l=0;return e.activation_type===qn&&(l=i<=Calendar.getCurrentDate()?0:Fm(Calendar.getCurrentDate().getDateBy("yyyyMMdd"),i)),a=a.startsWith("viewPhoto?")?window.location.protocol+"//"+Layout.ZPZOHOURL+"/"+o+"/"+a:a,ZPCreateDOM("div",{className:"zpl_msplst zpl_mspgroup zpl_mspenps"},ZPCreateDOM("div",null,ZPCreateDOM("span",{className:"icn"},ZPCreateDOM("div",{className:"zpl_em"},ZPCreateDOM("div",{className:"zpl_emimg"},ZPCreateDOM("img",{src:a})))),ZPCreateDOM("div",{className:"zpl_mspacts_rht"},ZPCreateDOM("div",{className:"zpl_hvr"},t&&e.created_by==erecno?Qh(ZPI18N.getString("zp.viewdetails"),function(){Bh(e)}):"",$h(e,t)?Qh(ZPI18N.getString("zp.survey.start.feedback"),function(){yv(e)}):"")),ZPCreateDOM("div",null,ZPCreateDOM("div",{className:"zpl_msp-dts"},ZPCreateDOM("div",{className:"zpl_msp-name"},ZPCreateDOM("span",{className:"zpl_msp-title"},ZPI18N.getString("zp.survey.feed.survey.name.header",[T(n.name)]))),e.is_answered||e.status!=Yt?"":ZPCreateDOM("div",{className:"d-flex d-flexclmcap10"},e.activation_type===qn?r==Se?ZPCreateDOM("fragment",null,ZPCreateDOM("em",null,Vh(e.opening_time)),"-",ZPCreateDOM("em",null,Vh(e.closing_time))," "):l>0&&ZPCreateDOM("em",null,av(l)):r==Se?ZPCreateDOM("fragment",null,ZPCreateDOM("em",null,Vh(e.opening_time))):l>0&&ZPCreateDOM("em",null,av(l)))),ZPCreateDOM("div",{className:"zpl_msplst"},ZPCreateDOM("div",{className:t&&(e.type==Ee||e.type==Ie)&&e.created_by==erecno&&e.response_count>0?"zpl_mspsubs zpl_flex-column":"zpl_mspsubs",rel:"SUB-TAB"},Gh(e,t))))))},Wh=(e,t)=>ZPCreateDOM("fragment",null,ZPCreateDOM("div",{className:"zpl_msp-dts"},ZPCreateDOM("div",{className:"zpl_msp-name"},ZPCreateDOM("span",{className:"zpl_msp-title"},e.survey_name))),e.activation_type==qn?ZPCreateDOM("fragment",null,ZPCreateDOM("div",{className:"zpl_compoffar w150"},ZPCreateDOM("span",null,ZPCreateDOM("em",null,ZPI18N.getString("zp.sdate"))),ZPCreateDOM("div",null,ZPCreateDOM("span",null,ZPCreateDOM("b",null,Vh(e.opening_time))))),ZPCreateDOM("div",{className:"zpl_compoffar w150"},ZPCreateDOM("span",null,ZPCreateDOM("em",null,ZPI18N.getString("zp.edate"))),ZPCreateDOM("div",null,ZPCreateDOM("span",null,ZPCreateDOM("b",null,Vh(e.closing_time)))))):ZPCreateDOM("fragment",null,ZPCreateDOM("div",{className:"zpl_compoffar w150"}),ZPCreateDOM("div",{className:"zpl_compoffar w150"})),(t&&e.created_by!=erecno?e.is_answered:e.status===Vt)&&ZPCreateDOM("div",{className:"w150"},ZPCreateDOM("div",{className:"zpl_flex-a-c",rel:"CMPLT_TICK"},ZPCreateDOM("i",{className:"PI_tick2 grn"}),ZPCreateDOM("em",{className:"grn zpl_ml2"},ZPI18N.getString("zp.completed"))))),Gh=(e,t)=>e.type==Ee||e.type==Ie?t&&e.created_by==erecno&&e.response_count>0?vb(e):Wh(e,t):e.type==Se?t&&(e.is_answered||e.created_by==erecno&&(void 0===e.isowner_eligible||e.status===Vt))?Wh(e,t):(e=>(e.sending=!1,Tv.setObject(e),ZPCreateDOM("div",{className:"zpl_SurveyPreviewPop wd100_per",rel:"ENPS_CONTAINER",onClick:t=>"active"===e.current_state?Hv(t):qm(t),sid:e.survey_id},ZPCreateDOM(Fv,{sobj:e}))))(e):void 0,$h=(e,t)=>{if(e.type==Ee||e.type==Ie){if(!t)return!0;if(e.status==Yt){if(void 0!==e.isowner_eligible&&e.isowner_eligible&&!e.is_answered)return!0;if(e.created_by!=erecno&&void 0===e.isowner_eligible&&!e.is_answered)return!0}}return!1},Qh=(e,t)=>ZPCreateDOM("button",{className:"zlabel zlabel--blue zlabel--medium zlabel--outline",onClick:()=>t()},ZPCreateDOM("span",{className:"zpl_ellipsis150"},e));function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xh.apply(null,arguments)}const Kh=e=>{const{name:t,id:n,rel:r,className:a,buttonHander:o,type:i}=e;return Kn("button",{id:n,rel:r,className:`zlabel zlabel--${i} zlabel--medium ${a||""}`,onClick:o},t)},Jh=e=>Kn(Kh,Xh({},e,{type:"blue"})),eb=e=>Kn(Kh,Xh({},e,{type:"outline"})),tb=e=>{const{editQuestionHandler:t,deleteQuestionHandler:n}=e;return Kn("td",null,Kn("div",{className:"zpl_hvr"},"function"==typeof t&&Kn("i",{className:"PI_edt",onClick:t}),"function"==typeof n&&Kn("i",{className:"PI_delete",onClick:n})))},nb=e=>{const{addQuestionHandler:t}=e;return Kn(Jh,{name:ZPI18N.getString("zp.survey.createquestion"),buttonHander:t})},rb=e=>{const{message:t,description:n,isButtonNeeded:r=!1,btnMsg:a,btnHandler:o,className:i="zp_nd_nodata",headerTabIndex:l=0,descTabIndex:c=0}=e;return Kn("div",{className:"zpl_crd wd100_per"},Kn("div",{className:"zpl_crdcnt"},Kn("div",{className:"zpl_Emptydata"},Kn("div",null,Kn("div",{className:`zpl_emptimg ${i}`}),Kn("h4",{tabIndex:l},t),n&&Kn("p",{tabIndex:c},n),r&&Kn("font",null,Kn(Jh,{name:a,buttonHander:o}))))))},ab=({clsCallback:e})=>Kn("div",null,Kn("div",{className:"zpl_fltrhd"},Kn("h5",null,ZPI18N.getString("zp.filter")),Kn("i",{className:"PI_cls",onClick:e,onKeyDown:t=>{"Escape"===t.key&&e()},tabIndex:"0","aria-label":ZPI18N.getString("zp.close"),role:"button"}))),ob=({id:e="eeFilterSave",isSaveBTNNeeded:t=!0,saveCallback:n,clsCallback:r})=>Kn("div",null,Kn(Jh,{id:e,className:t?"":"hide",name:ZPI18N.getString("zp.apply"),buttonHander:n}),Kn(eb,{name:ZPI18N.getString("zp.reset"),buttonHander:r})),ib=e=>{const{staticChildren:t,children:n,isSaveBTNNeeded:r,clsCallback:a,saveCallback:o,resetCallback:i}=e;return Kn("div",{className:"zpl_fltr",rel:"EE_FILTER_WRAPPER",role:"dialog","aria-label":ZPI18N.getString("zp.filter.popup")+" "+ZPI18N.getString("zp.open"),tabIndex:"0"},Kn("div",null,Kn(ab,{clsCallback:a}),t),Kn("div",{className:"zpl_fltrcnt",rel:"EE_FILTER_BODY"},n),Kn(ob,{isSaveBTNNeeded:r,saveCallback:o,clsCallback:i}))},lb=e=>{const{filterLabel:t,filter:n,onClickContainer:r,moreOptionHandler:a,closeHandler:o}=e;return Kn("li",{rel:"TOP_FILTER",id:"templateMoreFilter",onClick:r},Kn("label",null,t," :"),"object"==typeof n?Kn("fragment",null,Kn("span",null,n[0]),n?.length>1&&Kn("sub",{"data-menu-id":"FilterCountView",className:"zpl_drpdwn-js",onClick:a},"+ ",n?.length-1)):Kn("span",null,n),Kn("a",{className:"PI_cls",onClick:o}))},cb=({info:e,className:t,infoClassName:n})=>Kn("div",{className:`zpl_topgrpmnu ${t||""}`},Kn("div",{className:`zpl_info ${n||""}`},Kn("div",null,Kn("p",null,e)))),ub=({name:e,rel:t})=>Kn("div",{className:"zpl_secn",rel:t},Kn("div",null,Kn("h5",null,e))),sb=({name:e,label:t,onInputHandler:n,parentRel:r="EE_POPUP",inputRel:a="EE_POPUP_INPUT",maxLength:o=100})=>Kn("form",null,Kn("div",{className:"zpl_crd"},Kn("div",{className:"zpl_crdcnt"},Kn("div",{className:"zpl_secn"},Kn("div",null,Kn("label",{className:"zpl_mtry"},t)),Kn("div",{rel:r},Kn("input",{maxLength:o,onInput:t=>{n(t,e)},type:"text",className:"ztextbox",rel:a,value:e||""})))))),db=function(){let e=[];return{setDeptSpecificSurveys:function(t){e=t},getDeptSpecificSurveys:function(){return e}}}(),pb=e=>{e.surveys||(e=e&&JSON.parse(T(e)));let t=Cm("surveys"),n=e.surveys?e.surveys:e;if(t){let r=db.getDeptSpecificSurveys();n.length>0&&db.setDeptSpecificSurveys(n),r.length>0&&(void 0===n.length&&r.push(n),db.setDeptSpecificSurveys(r));let a=t.querySelector(`div[rel="${e.survey_id}"]`);if(void 0===n.length){if(a)return;if(t.querySelector(".zpl_crd"))t.querySelector(".zpl_crd").replaceWith(Hh(t,e,!0));else if(t.querySelector("div[rel=VIEW_ALL]")){let n=t.querySelector("div[rel=VIEW_ALL]");n.parentNode.insertBefore(Hh(t,e,!0),n.nextSibling)}else t.prepend(ZPCreateDOM("div",{rel:e.survey_id},Yh(e,!0)))}else 0==n.length?(t.innerHTML="",t.append(ZPCreateDOM(rb,{message:ZPI18N.getString("zp.survey.teamspace.norecords")}))):(t.innerHTML="",fb(n,e.total_count))}},fb=(e,t)=>{let n=Cm("surveys");for(let t=0;t<e.length;t++){let r=e[t];Hh(n,r,!0)}t>5&&e.length<=5&&!n.querySelector("div[rel=VIEW_ALL]")&&n.insertBefore(mb(),n.firstChild)},mb=()=>ZPCreateDOM("div",{className:"zpl_msplst zpl_acrdhead",rel:"VIEW_ALL"},ZPCreateDOM("div",{className:"zpl_msp-hgroup"},ZPCreateDOM("div",{className:"zpl_mspacts_rht"},ZPCreateDOM("div",null,ZPCreateDOM("a",{className:"zpl_lnk",onClick:pg},ZPI18N.getString("zp.viewall")))))),vb=e=>ZPCreateDOM("fragment",null,yb(e),ZPCreateDOM("div",{className:"zpl_npCon zpl_ma0 zpl_flex-wrap"},gb(e),bb(e))),yb=e=>ZPCreateDOM("div",{className:"zpl_npCon"},ZPCreateDOM("div",{className:"d-flexC"},ZPCreateDOM("span",null,ZPCreateDOM("b",null,e.survey_name)),ZPCreateDOM("em",{className:"zpl_dots sm"}),ZPCreateDOM("span",{className:"zpl_flex-a-c zpl_flex-wrap"},ZPCreateDOM("em",null,Vh(e.opening_time)),e.activation_type==qn?ZPCreateDOM("fragment",null,"-",ZPCreateDOM("em",null,Vh(e.closing_time))):""))),gb=e=>{const t=parseInt(e.employee_count)||"0",n=e.completed_response/t*360||0,r=n+e.partical_response/t*360||0;let a={};return a.background=`conic-gradient(var(--grn2) 0deg, var(--grn2) ${n}deg, var(--primaryylwclr) ${n}deg, var(--primaryylwclr) ${r}deg, var(--red2) ${r}deg) !important`,ZPCreateDOM("div",{className:"zpl_chrtnp a-itm-cntr"},ZPCreateDOM("div",{className:"rprt_hroCon"},ZPCreateDOM("div",{className:"d-flexM"},ZPCreateDOM("div",{style:"min-width: 120px; min-height: 120px;"},ZPCreateDOM("div",{className:"chart-container"},ZPCreateDOM("div",{className:"chart","data-chart":"5"},ZPCreateDOM("div",{className:"pie-chart pie-chart--donut",style:a}),ZPCreateDOM("font",{className:"pie-chart__value"},ZPCreateDOM("em",null,e.employee_count),ZPI18N.getString("zp.engagement.report.respondent.overall"))))))),ZPCreateDOM("div",{className:"d-flexclmcap"},ZPCreateDOM(hb,{responseInfo:{status:ZPI18N.getString("zp.completed"),css:"zpl_lbdr _bx grnbg1",response_count:e.completed_response||"0"}}),ZPCreateDOM(hb,{responseInfo:{status:e.status===Vt?ZPI18N.getString("zp.extension.incomplete"):ZPI18N.getString("zp.inprogress"),css:"zpl_lbdr _bx ylwbg",response_count:e.partical_response||"0"}}),ZPCreateDOM(hb,{responseInfo:{status:ZPI18N.getString("zp.covidtestnottaken"),css:"zpl_lbdr _bx redbg1",response_count:parseInt(e.employee_count)-(parseInt(e.completed_response)+parseInt(e.partical_response))||"0"}})))},hb=e=>{const{responseInfo:t}=e;return ZPCreateDOM("div",{className:"d-flexclmcap8 a-itm-cntr"},ZPCreateDOM("span",{className:t.css}),ZPCreateDOM("em",null,t.status),ZPCreateDOM("span",null,ZPCreateDOM("b",null,t.response_count)))},bb=e=>{let t=e.question_report;const{avgStarRating:n,starQuesCount:r,avgNPSScore:a,npsQuesCount:o}=(()=>{let e=0,n=0,r=0,a=0;return(t||[]).forEach((t,o)=>{switch(t.type){case Jn.NPS.TYPE_STR:t.answer.score&&(r+=parseInt(t.answer.score)),a++;break;case Jn.STAR.TYPE_STR:let o=t.answer.average_score*(5/t.max_count);e+=o,n++}}),{avgStarRating:e,starQuesCount:n,avgNPSScore:r,npsQuesCount:a}})();return ZPCreateDOM("div",{className:"zpl_chrtnp P0I"},ZPCreateDOM("ul",null,ZPCreateDOM("li",null,ZPCreateDOM("div",null,ZPCreateDOM("em",null,ZPI18N.getString("zp.survey.report.response_rate"))),ZPCreateDOM("div",null,ZPCreateDOM("span",null,ZPCreateDOM("b",null,(e.response_percentage||0)+"%")))),ZPCreateDOM("li",null,ZPCreateDOM("div",null,ZPCreateDOM("em",null,ZPI18N.getString("zp.lms.feedback.averagerating"))),ZPCreateDOM("div",{className:"d-flexclmcap12 "+(0==r?" disabled":"")},ZPCreateDOM(_b,{maxCount:5,score:r>0?n/r:0}))),ZPCreateDOM("li",null,ZPCreateDOM("div",null,ZPCreateDOM("em",null,ZPI18N.getString("zp.survey.report.enps_score"))),ZPCreateDOM("div",{className:0===o?"disabled":""},ZPCreateDOM("span",null,ZPCreateDOM("b",null,o>0?Ym(a/o):"--"))))))},_b=e=>{const{maxCount:t,score:n}=e;let r=[];for(let e=0;e<t;e++)n>=e+1?r.push(ZPCreateDOM("i",{key:e,className:"PI_star ylw"})):n>e?r.push(ZPCreateDOM("i",{key:e,className:"PI_halfstar ylw"})):r.push(ZPCreateDOM("i",{key:e,className:"PI_star gry"}));return ZPCreateDOM("div",{className:"zpl_strRatn"},ZPCreateDOM("div",{className:"zpl_str"},r))};var Eb,Sb=(Eb={},{setFileId:function(e,t){Eb[e]=t},resolveFileId:function(e,t){Eb[e](t)},isFileIdExist:function(e){return"function"==typeof Eb[e]},deleteFileId:function(e){delete Eb[e]}});const wb=({className:e="",id:t="ee-react-root"})=>Kn("div",{className:e,id:t});var Nb=o(6540),Pb=o.t(Nb,2),Ob=o(5338),Ib=o(8418),zb=Nb,Cb=Symbol.for("react-redux-context"),Tb="undefined"!=typeof globalThis?globalThis:{};function xb(){if(!zb.createContext)return{};const e=Tb[Cb]??(Tb[Cb]=new Map);let t=e.get(zb.createContext);return t||(t=zb.createContext(null),e.set(zb.createContext,t)),t}var kb=xb();function Db(e=kb){return function(){return zb.useContext(e)}}var jb=Db(),Ab=()=>{throw new Error("uSES not initialized!")},Rb=(e,t)=>e===t;function qb(e=kb){const t=e===kb?jb:Db(e),n=(e,n={})=>{const{equalityFn:r=Rb,devModeChecks:a={}}="function"==typeof n?{equalityFn:n}:n,{store:o,subscription:i,getServerState:l,stabilityCheck:c,identityFunctionCheck:u}=t(),s=(zb.useRef(!0),zb.useCallback({[e.name](t){return e(t)}}[e.name],[e,c,a.stabilityCheck])),d=Ab(i.addNestedSub,o.getState,l||o.getState,s,r);return zb.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var Mb=qb();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");var Zb={notify(){},get:()=>[]};var Lb=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Fb="undefined"!=typeof navigator&&"ReactNative"===navigator.product,Bb=Lb||Fb?zb.useLayoutEffect:zb.useEffect;function Ub(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Hb(e,t){if(Ub(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Ub(e[n[r]],t[n[r]]))return!1;return!0}Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var Vb=function({store:e,context:t,children:n,serverState:r,stabilityCheck:a="once",identityFunctionCheck:o="once"}){const i=zb.useMemo(()=>{const t=function(e,t){let n,r=Zb,a=0,o=!1;function i(){u.onStateChange&&u.onStateChange()}function l(){a++,n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){(()=>{let t=e;for(;t;)t.callback(),t=t.next})()},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){r&&null!==e&&(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}())}function c(){a--,n&&0===a&&(n(),n=void 0,r.clear(),r=Zb)}const u={addNestedSub:function(e){l();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),c())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,l())},tryUnsubscribe:function(){o&&(o=!1,c())},getListeners:()=>r};return u}(e);return{store:e,subscription:t,getServerState:r?()=>r:void 0,stabilityCheck:a,identityFunctionCheck:o}},[e,r,a,o]),l=zb.useMemo(()=>e.getState(),[e]);Bb(()=>{const{subscription:t}=i;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),l!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}},[i,l]);const c=t||kb;return zb.createElement(c.Provider,{value:i},n)};function Yb(e=kb){const t=e===kb?jb:Db(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var Wb=Yb();function Gb(e=kb){const t=e===kb?Wb:Yb(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var $b,Qb,Xb,Kb=Gb();function Jb(){return Jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jb.apply(this,arguments)}function e_(e,t){if(!1===e||null==e)throw new Error(t)}function t_(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function n_(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function r_(e,t,n){void 0===n&&(n="/");let r=g_(("string"==typeof t?n_(t):t).pathname||"/",n);if(null==r)return null;let a=a_(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let o=null;for(let e=0;null==o&&e<a.length;++e)o=m_(a[e],y_(r));return o}function a_(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,o)=>{let i={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(e_(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let l=E_([r,i.relativePath]),c=n.concat(i);e.children&&e.children.length>0&&(e_(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),a_(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:f_(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of o_(e.path))a(e,t,n);else a(e,t)}),t}function o_(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return a?[o,""]:[o];let i=o_(r.join("/")),l=[];return l.push(...i.map(e=>""===e?o:[o,e].join("/"))),a&&l.push(...i),l.map(t=>e.startsWith("/")&&""===t?"/":t)}$b=Ib.useSyncExternalStoreWithSelector,Ab=$b,Nb.useSyncExternalStore,function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Qb||(Qb={})),function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Xb||(Xb={})),new Set(["lazy","caseSensitive","path","id","index","children"]);const i_=/^:\w+$/,l_=3,c_=2,u_=1,s_=10,d_=-2,p_=e=>"*"===e;function f_(e,t){let n=e.split("/"),r=n.length;return n.some(p_)&&(r+=d_),t&&(r+=c_),n.filter(e=>!p_(e)).reduce((e,t)=>e+(i_.test(t)?l_:""===t?u_:s_),r)}function m_(e,t){let{routesMeta:n}=e,r={},a="/",o=[];for(let e=0;e<n.length;++e){let i=n[e],l=e===n.length-1,c="/"===a?t:t.slice(a.length)||"/",u=v_({path:i.relativePath,caseSensitive:i.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let s=i.route;o.push({params:r,pathname:E_([a,u.pathname]),pathnameBase:S_(E_([a,u.pathnameBase])),route:s}),"/"!==u.pathnameBase&&(a=E_([a,u.pathnameBase]))}return o}function v_(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),t_("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=l[n]||"";i=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const c=l[n];return e[r]=a&&!c?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return t_(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c||"",r),e},{}),pathname:o,pathnameBase:i,pattern:e}}function y_(e){try{return decodeURI(e)}catch(t){return t_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function g_(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function h_(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function b_(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function __(e,t,n,r){let a;void 0===r&&(r=!1),"string"==typeof e?a=n_(e):(a=Jb({},e),e_(!a.pathname||!a.pathname.includes("?"),h_("?","pathname","search",a)),e_(!a.pathname||!a.pathname.includes("#"),h_("#","pathname","hash",a)),e_(!a.search||!a.search.includes("#"),h_("#","search","hash",a)));let o,i=""===e||""===a.pathname,l=i?"/":a.pathname;if(null==l)o=n;else if(r){let e=t[t.length-1].replace(/^\//,"").split("/");if(l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e.pop();a.pathname=t.join("/")}o="/"+e.join("/")}else{let e=t.length-1;if(l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}o=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"==typeof e?n_(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:w_(r),hash:N_(a)}}(a,o),u=l&&"/"!==l&&l.endsWith("/"),s=(i||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!s||(c.pathname+="/"),c}const E_=e=>e.join("/").replace(/\/\/+/g,"/"),S_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),w_=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",N_=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;const P_=["post","put","patch","delete"],O_=(new Set(P_),["get",...P_]);function I_(){return I_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I_.apply(this,arguments)}new Set(O_),new Set([301,302,303,307,308]),new Set([307,308]),Symbol("deferred");const z_=Nb.createContext(null),C_=Nb.createContext(null),T_=Nb.createContext(null),x_=Nb.createContext(null),k_=Nb.createContext({outlet:null,matches:[],isDataRoute:!1}),D_=Nb.createContext(null);function j_(){return null!=Nb.useContext(x_)}function A_(){return j_()||e_(!1),Nb.useContext(x_).location}function R_(e){Nb.useContext(T_).static||Nb.useLayoutEffect(e)}function q_(){let{isDataRoute:e}=Nb.useContext(k_);return e?function(){let{router:e}=function(){let e=Nb.useContext(z_);return e||e_(!1),e}(U_.UseNavigateStable),t=V_(H_.UseNavigateStable),n=Nb.useRef(!1);return R_(()=>{n.current=!0}),Nb.useCallback(function(r,a){void 0===a&&(a={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,I_({fromRouteId:t},a)))},[e,t])}():function(){j_()||e_(!1);let e=Nb.useContext(z_),{basename:t,navigator:n}=Nb.useContext(T_),{matches:r}=Nb.useContext(k_),{pathname:a}=A_(),o=JSON.stringify(b_(r).map(e=>e.pathnameBase)),i=Nb.useRef(!1);return R_(()=>{i.current=!0}),Nb.useCallback(function(r,l){if(void 0===l&&(l={}),!i.current)return;if("number"==typeof r)return void n.go(r);let c=__(r,JSON.parse(o),a,"path"===l.relative);null==e&&"/"!==t&&(c.pathname="/"===c.pathname?t:E_([t,c.pathname])),(l.replace?n.replace:n.push)(c,l.state,l)},[t,n,o,a,e])}()}function M_(e,t,n){j_()||e_(!1);let{navigator:r}=Nb.useContext(T_),{matches:a}=Nb.useContext(k_),o=a[a.length-1],i=o?o.params:{},l=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let c,u=A_();if(t){var s;let e="string"==typeof t?n_(t):t;"/"===l||(null==(s=e.pathname)?void 0:s.startsWith(l))||e_(!1),c=e}else c=u;let d=c.pathname||"/",p=r_(e,{pathname:"/"===l?d:d.slice(l.length)||"/"}),f=function(e,t,n){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}let o=e,i=null==(r=n)?void 0:r.errors;if(null!=i){let e=o.findIndex(e=>e.route.id&&(null==i?void 0:i[e.route.id]));e>=0||e_(!1),o=o.slice(0,Math.min(o.length,e+1))}return o.reduceRight((e,r,a)=>{let l=r.route.id?null==i?void 0:i[r.route.id]:null,c=null;n&&(c=r.route.errorElement||L_);let u=t.concat(o.slice(0,a+1)),s=()=>{let t;return t=l?c:r.route.Component?Nb.createElement(r.route.Component,null):r.route.element?r.route.element:e,Nb.createElement(B_,{match:r,routeContext:{outlet:e,matches:u,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?Nb.createElement(F_,{location:n.location,revalidation:n.revalidation,component:c,error:l,children:s(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):s()},null)}(p&&p.map(e=>Object.assign({},e,{params:Object.assign({},i,e.params),pathname:E_([l,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:E_([l,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n);return t&&f?Nb.createElement(x_.Provider,{value:{location:I_({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Qb.Pop}},f):f}function Z_(){let e=function(){var e;let t=Nb.useContext(D_),n=function(){let e=Nb.useContext(C_);return e||e_(!1),e}(H_.UseRouteError),r=V_(H_.UseRouteError);return t||(null==(e=n.errors)?void 0:e[r])}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Nb.createElement(Nb.Fragment,null,Nb.createElement("h2",null,"Unexpected Application Error!"),Nb.createElement("h3",{style:{fontStyle:"italic"}},t),n?Nb.createElement("pre",{style:r},n):null,null)}const L_=Nb.createElement(Z_,null);class F_ extends Nb.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?Nb.createElement(k_.Provider,{value:this.props.routeContext},Nb.createElement(D_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function B_(e){let{routeContext:t,match:n,children:r}=e,a=Nb.useContext(z_);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),Nb.createElement(k_.Provider,{value:t},r)}var U_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(U_||{}),H_=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(H_||{});function V_(e){let t=function(){let e=Nb.useContext(k_);return e||e_(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||e_(!1),n.route.id}const Y_=Pb.startTransition;function W_(e){let{basename:t,children:n,initialEntries:r,initialIndex:a,future:o}=e,i=Nb.useRef();null==i.current&&(i.current=function(e){void 0===e&&(e={});let t,{initialEntries:n=["/"],initialIndex:r,v5Compat:a=!1}=e;t=n.map((e,t)=>s(e,"string"==typeof e?null:e.state,0===t?"default":void 0));let o=c(null==r?t.length-1:r),i=Qb.Pop,l=null;function c(e){return Math.min(Math.max(e,0),t.length-1)}function u(){return t[o]}function s(e,n,r){void 0===n&&(n=null);let a=function(e,t,n,r){return void 0===n&&(n=null),Jb({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?n_(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}(t?u().pathname:"/",e,n,r);return t_("/"===a.pathname.charAt(0),"relative pathnames are not supported in memory history: "+JSON.stringify(e)),a}function d(e){return"string"==typeof e?e:function(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}(e)}let p={get index(){return o},get action(){return i},get location(){return u()},createHref:d,createURL(e){return new URL(d(e),"http://localhost")},encodeLocation(e){let t="string"==typeof e?n_(e):e;return{pathname:t.pathname||"",search:t.search||"",hash:t.hash||""}},push(e,n){i=Qb.Push;let r=s(e,n);o+=1,t.splice(o,t.length,r),a&&l&&l({action:i,location:r,delta:1})},replace(e,n){i=Qb.Replace;let r=s(e,n);t[o]=r,a&&l&&l({action:i,location:r,delta:0})},go(e){i=Qb.Pop;let n=c(o+e),r=t[n];o=n,l&&l({action:i,location:r,delta:e})},listen(e){return l=e,()=>{l=null}}};return p}({initialEntries:r,initialIndex:a,v5Compat:!0}));let l=i.current,[c,u]=Nb.useState({action:l.action,location:l.location}),{v7_startTransition:s}=o||{},d=Nb.useCallback(e=>{s&&Y_?Y_(()=>u(e)):u(e)},[u,s]);return Nb.useLayoutEffect(()=>l.listen(d),[l,d]),Nb.createElement(Q_,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l})}function G_(e){let{to:t,replace:n,state:r,relative:a}=e;j_()||e_(!1);let{matches:o}=Nb.useContext(k_),{pathname:i}=A_(),l=q_(),c=__(t,b_(o).map(e=>e.pathnameBase),i,"path"===a),u=JSON.stringify(c);return Nb.useEffect(()=>l(JSON.parse(u),{replace:n,state:r,relative:a}),[l,u,a,n,r]),null}function $_(e){e_(!1)}function Q_(e){let{basename:t="/",children:n=null,location:r,navigationType:a=Qb.Pop,navigator:o,static:i=!1}=e;j_()&&e_(!1);let l=t.replace(/^\/*/,"/"),c=Nb.useMemo(()=>({basename:l,navigator:o,static:i}),[l,o,i]);"string"==typeof r&&(r=n_(r));let{pathname:u="/",search:s="",hash:d="",state:p=null,key:f="default"}=r,m=Nb.useMemo(()=>{let e=g_(u,l);return null==e?null:{location:{pathname:e,search:s,hash:d,state:p,key:f},navigationType:a}},[l,u,s,d,p,f,a]);return null==m?null:Nb.createElement(T_.Provider,{value:c},Nb.createElement(x_.Provider,{children:n,value:m}))}function X_(e){let{children:t,location:n}=e;return function(e,t){return M_(e,t)}(K_(t),n)}function K_(e,t){void 0===t&&(t=[]);let n=[];return Nb.Children.forEach(e,(e,r)=>{if(!Nb.isValidElement(e))return;let a=[...t,r];if(e.type===Nb.Fragment)return void n.push.apply(n,K_(e.props.children,a));e.type!==$_&&e_(!1),e.props.index&&e.props.children&&e_(!1);let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=K_(e.props.children,a)),n.push(o)}),n}new Promise(()=>{}),Nb.Component;var J_=function(e){var t=e.className,n=e.index,r=e.onClickHandler,a=e.onHoverHandler,o=e.onLeaveHandler,i=e.ariaLabel,l=e.disabled;return Nb.createElement("button",{rel:"BUTTON",onClick:r,onMouseOver:a,onMouseLeave:o,index:n,className:"zlabel zlabel--medium"+(t?" "+t:""),"aria-label":i,disabled:l},e.children)},eE=function(e){var t=e.name,n=void 0===t?"Question Header":t,r=e.cancelAction,a=e.disableCancel,o=void 0!==a&&a,i=e.isPreviewBtnNeeded,l=void 0!==i&&i,c=e.previewbtnHandler;return Nb.createElement("div",{className:"zpl_mhder"},Nb.createElement("div",null,Nb.createElement("h4",null,n)),l?Nb.createElement("div",{className:"zpl_mhderrgt"},Nb.createElement(J_,{className:"zlabel zlabel--blue zlabel--outline zlabel--medium",onClickHandler:c},ZPI18N.getString("zp.preview"))):"",Nb.createElement("a",{className:"_cls PI_cls",onClick:function(){return!o&&r()}}))},tE=function(e){var t=e.name,n=void 0===t?"":t,r=e.cancelAction,a=e.disabled,o=void 0!==a&&a;return Nb.createElement("button",{type:"button",className:"zlabel zlabel--outline zlabel--medium",onClick:r,disabled:o},n)},nE=function(e){var t=e.name,n=void 0===t?"":t,r=e.submitAction,a=e.disabled,o=void 0!==a&&a,i=e.isSaving,l=void 0!==i&&i,c=e.color,u=void 0===c?"blue":c;return Nb.createElement("button",{className:"zlabel zlabel--".concat(u," zlabel--medium ").concat(l?"zbutton zbutton--medium zbutton--normal is-disabled zbutton--loading zh-transition":null),onClick:r,disabled:o||l},l&&Nb.createElement("i",{className:"zbutton__icon zbutton--loader "},Nb.createElement("svg",{className:"zbutton__svg zbutton__loader zeffects--rotate",width:"100%",height:"100%"},Nb.createElement("circle",{className:"circle__track",cx:"8px",cy:"8px",r:"8px"}),Nb.createElement("circle",{className:"circle__load",cx:"8px",cy:"8px",r:"8px"}))),Nb.createElement("span",{className:"zbutton__text"},n))},rE=function(e){var t=e.submitName,n=e.submitAddName,r=e.cancelName,a=e.submitAction,o=e.submitNewAction,i=e.cancelAction,l=e.isSaving,c=void 0!==l&&l,u=e.isSaveNewSaving,s=void 0!==u&&u,d=e.disableSubmit,p=e.info;return Nb.createElement("div",{className:"zpl_mfoter"},p&&Nb.createElement("p",{className:"zpl_info MB10"},Nb.createElement("em",null,p)),Nb.createElement(nE,{name:t,submitAction:a,disabled:d,isSaving:c}),n&&Nb.createElement(nE,{name:n,submitAction:o,disabled:d,isSaving:s,color:"outline"}),Nb.createElement(tE,{name:r,cancelAction:i,disabled:c}))},aE=function(e){var t=e.height,n=e.extraClass,r=void 0===n?"":n;return Nb.createElement("div",{className:"zpl_secn ".concat(r),style:t&&{height:"".concat(t,"px")}},Nb.createElement("div",{className:"loader-inner line-scale"},Nb.createElement("div",null),Nb.createElement("div",null),Nb.createElement("div",null),Nb.createElement("div",null),Nb.createElement("div",null)))},oE=o(2017),iE=o.n(oE),lE=o(5556),cE=o.n(lE),uE=["tagName","html","innerRef"];function sE(e){return sE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sE(e)}function dE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dE(Object(n),!0).forEach(function(t){gE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hE(r.key),r)}}function mE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(mE=function(){return!!e})()}function vE(e){return vE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vE(e)}function yE(e,t){return yE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yE(e,t)}function gE(e,t,n){return(t=hE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hE(e){var t=function(e){if("object"!=sE(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=sE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==sE(t)?t:t+""}function bE(e){return null==e?void 0:e.replace(/&nbsp;|\u202F|\u00A0/g," ").replace(/<br \/>/g,"<br>")}var _E,EE=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return gE(e=function(e,t,n){return t=vE(t),function(e,t){if(t&&("object"==sE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mE()?Reflect.construct(t,n||[],vE(e).constructor):t.apply(e,n))}(this,t,[].concat(r)),"lastHtml",e.props.html),gE(e,"el","function"==typeof e.props.innerRef?{current:null}:Nb.createRef()),gE(e,"getEl",function(){return(e.props.innerRef&&"function"!=typeof e.props.innerRef?e.props.innerRef:e.el).current}),gE(e,"emitChange",function(t){var n=e.getEl();if(n){var r=n.innerHTML;if(e.props.onChange){var a=Object.assign({},t,{target:{value:r}});e.props.onChange(a)}e.lastHtml=r}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yE(e,t)}(t,e),function(e,t){return t&&fE(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.tagName,r=t.html,a=t.innerRef,o=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,uE);return Nb.createElement(n||"div",pE(pE({},o),{},{ref:"function"==typeof a?function(t){a(t),e.el.current=t}:a||this.el,onInput:this.emitChange,contentEditable:!this.props.disabled,dangerouslySetInnerHTML:{__html:r}}),this.props.children)}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=this.getEl();return!n||bE(e.html)!==bE(n.innerHTML)||t.disabled!==e.disabled||t.tagName!==e.tagName||t.className!==e.className||t.innerRef!==e.innerRef||t.placeholder!==e.placeholder||!iE()(t.style,e.style)}},{key:"componentDidUpdate",value:function(){var e=this.getEl();e&&(this.props.html!==e.innerHTML&&(e.innerHTML=this.props.html),this.lastHtml=this.props.html,function(e){var t=document.createTextNode("");e.appendChild(t);var n=document.activeElement===e;if(null!==(null==t?void 0:t.nodeValue)&&n){var r=window.getSelection();if(null!==r){var a=document.createRange();a.setStart(t,t.nodeValue.length),a.collapse(!0),r.removeAllRanges(),r.addRange(a)}e instanceof HTMLElement&&e.focus()}}(e))}}])}(Nb.Component);gE(EE,"propTypes",{html:lE.string.isRequired,onChange:lE.func,disabled:lE.bool,tagName:lE.string,className:lE.string,style:lE.object,innerRef:lE.oneOfType([lE.object,lE.func])});var SE=new Uint8Array(16);function wE(){if(!_E&&!(_E="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _E(SE)}for(var NE=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,PE=[],OE=0;OE<256;++OE)PE.push((OE+256).toString(16).substr(1));var IE=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(PE[e[t+0]]+PE[e[t+1]]+PE[e[t+2]]+PE[e[t+3]]+"-"+PE[e[t+4]]+PE[e[t+5]]+"-"+PE[e[t+6]]+PE[e[t+7]]+"-"+PE[e[t+8]]+PE[e[t+9]]+"-"+PE[e[t+10]]+PE[e[t+11]]+PE[e[t+12]]+PE[e[t+13]]+PE[e[t+14]]+PE[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&NE.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},zE=function(e,t,n){var r=(e=e||{}).random||(e.rng||wE)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return IE(r)},CE=function(e){var t=e.fileInfo,n=e.onDelete,r=Kb(),a=(null==t?void 0:t.isError)||!1;return Nb.createElement("ul",{className:"zpl_imgTag"},Nb.createElement("li",null,Nb.createElement("div",{className:a?"ztextbox__error":null},null!=t&&t.dummyImg?Nb.createElement("span",{className:"PI_image"}):Nb.createElement("img",{src:null==t?void 0:t.previewURL,alt:null==t?void 0:t.name,onClick:function(){r(Xc({fileInfo:[t],render:!0}))}}),Nb.createElement("i",{className:"PI_cls",onClick:n}))))};function TE(e){return TE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TE(e)}function xE(e){return function(e){if(Array.isArray(e))return kE(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return kE(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kE(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function DE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DE(Object(n),!0).forEach(function(t){AE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function AE(e,t,n){return(t=function(e){var t=function(e){if("object"!=TE(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=TE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==TE(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var RE=function(e){var t=e.triggerUpload,n=e.type,r=e.choiceIndex,o=e.imageFile,i=(0,Nb.useRef)(null),l=Kb(),c=Mb(function(e){return e.questionCard.data});(0,Nb.useEffect)(function(){t&&i.current.click()},[t]),(0,Nb.useEffect)(function(){o&&u(o)},[o]);var u=function(e){var t=null==e?void 0:e.type,o=c.type,i=c[o],u=mo(i.choices);if(a.SINGLE_CHOICE.SUPPORTED_IMAGE_TYPE.includes(t)){if(e.size>a.SINGLE_CHOICE.MAX_IMAGE_UPLOAD_SIZE)return void B({text:ZPI18N.getString("zp.assessment.warning.hotspot.imagesize"),duration:3e3}).showWarning();var d=crypto.randomUUID();ZPAssessFileHandler.setFileId(d,function(e){var t=jE(jE({},e.fileInfo),{},{isNew:!0});"choice"===n?(u[r].fileInfo=t,l(Ou({choices:xE(u)}))):"question"===n&&l(Du({fileInfo:t})),l(Ru({disableCardActions:!1}))}),function(e,t){var n={moduleName:"Assessment",portalId:_LOGGEDIN_ACCZSOID},r={headers:{"x-streammode":"1","x-service":UDS_UPLOAD_SERVICE_CODE,"app-info":JSON.stringify(n),"file-info":JSON.stringify({fileName:encodeURIComponent(e.name),contentType:e.type,fileSize:e.size}),"upload-id":t,"x-fclient-version":"2"},withCredentials:!0};return y.post(UDS_UPLOAD_URL,e,h(h({},r),{},{otherService:!0}))}(e,d).then(function(){l(Ru({disableCardActions:!1}))}).catch(function(){s(n,r,!0),l(Ru({disableCardActions:!1}))}),s(n,r),l(Ru({disableCardActions:!0}))}else B({text:ZPI18N.getString("zp.assessment.warning.hotspot.filetype"),duration:3e3}).showWarning()},s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=c.type,a=c[r],o=mo(a.choices),i={dummyImg:!0,isError:n};"choice"===e?(o[t].fileInfo=i,l(Ou({choices:xE(o)}))):"question"===e&&l(Du({fileInfo:i}))};return Nb.createElement("input",{id:"fileInput",ref:i,type:"file",onChange:function(e){return function(e){var t=e.target.files[0];u(t)}(e)},style:{display:"none"}})},qE=o(961);function ME(e){return e&&e.ownerDocument||document}function ZE(e){return ME(e).defaultView||window}var LE=function(e,t){(0,Nb.useEffect)(function(){function n(n){n.preventDefault(),e.current&&!e.current.contains(n.target)&&"function"==typeof t&&t(n)}return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[e,t])},FE=function(e){var t=e.anchorEleRef,n=e.id,r=void 0===n?"assessment-popper":n,a=e.children,o=e.className,i=e.container,l=e.anchorOrigin,c=void 0===l?{vertical:"bottom",horizontal:"left"}:l,u=e.transformOrigin,s=void 0===u?{vertical:"top",horizontal:"left"}:u,d=e.marginThreshold,p=void 0===d?16:d,f=e.open,m=void 0!==f&&f,v=e.setIsOpen,y=e.disableScrollLock,g=void 0!==y&&y,h=e.style,b=e.clickAwayHandler,_=(0,Nb.useRef)();LE(_,b);var E=function(e,t){var n=0;return"number"==typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n},S=function(e,t){var n=0;return"number"==typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n},w=function(e){return[e.horizontal,e.vertical].map(function(e){return"number"==typeof e?"".concat(e,"px"):e}).join(" ")},N=Nb.useCallback(function(){var e,n="function"==typeof(e=t.current)?e():e,r=(n&&1===n.nodeType?n:ME(_.current).body).getBoundingClientRect();return{top:r.top+E(r,c.vertical),left:r.left+S(r,c.horizontal)}},[t,c,E,S]),P=Nb.useCallback(function(e){e.style.display="flex";var n={width:e.offsetWidth,height:e.offsetHeight},r=O(n),a=N(),o=a.top-r.vertical,i=a.left-r.horizontal,l=ZE(t),c=l.innerHeight-p,u=l.innerWidth-p,s=c-(a.top+n.height),d=a.top-n.height;if(s<0&&d>s){var f=t.current.offsetHeight+4;o=a.top-n.height-r.vertical-f}if(i<p){var m=i-p;i-=m,r.horizontal+=m}else if(i+n.width>u){var v=i+n.width-u;i-=v,r.horizontal+=v}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(i),"px"),transformOrigin:w(r)}},[t,c,N,w,p]),O=Nb.useCallback(function(e){return{vertical:E(e,s.vertical),horizontal:S(e,s.horizontal)}},[s,E,S]),I=Nb.useCallback(function(){var e=_.current;if(e){var t=P(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,e.style.display="flex"}},[P]);Nb.useLayoutEffect(function(){m&&I()},[m,I]),(0,Nb.useEffect)(function(){var e=function(e){g?I():v(!1)},t="undefined"!=typeof InstallTrigger?"DOMMouseScroll":"mousewheel";return document.addEventListener(t,e),function(){document.removeEventListener(t,e)}},[t,g,I]),(0,Nb.useEffect)(function(){if(m){var e=R(function(){I()}),n=ZE(t);return n.addEventListener("resize",e),function(){e.clear(),n.removeEventListener("resize",e)}}},[t,m,I]);var z=i||(t&&t.current?ME(t.current).body:document.body);return qE.createPortal(Nb.createElement("div",{className:o,ref:_,style:h,id:r,role:"listbox"},a),z)};function BE(e){var t=e.anchorEleRef,n=e.colorList,r=e.open,a=void 0!==r&&r,o=e.setIsOpen,i=e.colorPickerHandler,l=e.colorPickerName,c=e.containerClass,u=void 0===c?"":c,s=e.usedColors,d=e.clickAwayHandler,p=e.selectedColor;return Nb.createElement(FE,{anchorEleRef:t,open:a,setIsOpen:o,className:"zpl_drpdwn zpl_drpdwnic zpl_clrpckr zmenu zmenu--iconwithtext "+u,style:{position:"absolute"},clickAwayHandler:d},Nb.createElement("ul",{"data-body":"true",className:"zmenu__body",style:{height:"auto"}},(n||[]).map(function(e,t){return Nb.createElement("li",{key:zE(),color:e,onClick:function(e){return i(e,l)},"data-item-type":"default",className:"zmenu__item ".concat(e," ").concat(null!=s&&s.includes(e)?"disabled":""," ").concat(p!=Sn&&e==p?"zpl_sel tck":""),role:"menuitem"},Nb.createElement("div",{className:"zmenu__iconcontainer"},Nb.createElement("i",{className:"zmenu__icon"})))})))}function UE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var HE=function(e){var t=e.isOther,n=e.addOther,r=e.choices,a=e.choiceColor,o=e.usedColors,i=e.index,l=Kb(),c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return UE(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?UE(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(!1),2),u=c[0],s=c[1],d=(0,Nb.useRef)(null);return Nb.createElement(Nb.Fragment,null,Nb.createElement("i",{className:"zpl_ibg zpl_drpdwn-js qaSort_IP ".concat(a),type:"button","data-menu-id":"colorDrpdown",ref:d,rel:"ColorPicker ".concat(i+1),onClick:function(){s(!0)}}),u&&Nb.createElement(BE,{anchorEleRef:d,colorList:_n,open:!0,setIsOpen:s,colorPickerHandler:function(e){var a=(e.target||e.srcElement).getAttribute("color"),o=mo(t?n||[]:r);a==Sn?o[i].hasOwnProperty("color_code")&&delete o[i].color_code:o[i].color_code=En[a],l(t?Iu({addOther:o}):Ou({choices:o})),s(!1)},colorPickerName:"choice",usedColors:o.filter(function(e){return e!=a&&e!=Sn}),clickAwayHandler:function(e){d.current&&!d.current.contains(e.target)&&s(!1)},selectedColor:a}))};function VE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||YE(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YE(e,t){if(e){if("string"==typeof e)return WE(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WE(e,t):void 0}}function WE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var GE=function(e){var t=e.choice,n=e.score,r=e.onClickChoice,a=e.onTypeChoice,o=e.deleteChoice,i=e.index,l=e.fileInfo,c=e.showImgUpload,u=void 0===c||c,s=e.error,d=void 0===s?"":s,p=e.showDeleteIcon,f=void 0===p||p,m=e.choiceMaxLength,v=e.focus,y=void 0!==v&&v,g=e.isOther,h=void 0!==g&&g,b=e.viewType,_=e.choices,E=e.showColPicker,S=e.addOther,w=e.choiceColor,N=e.usedColors,O=null!=t&&t.choice_id?t.choice_id:zE(),z=(0,Nb.useRef)(null),C=(null==d?void 0:d.length)>0,T=VE((0,Nb.useState)(!1),2),k=T[0],D=T[1],j=VE((0,Nb.useState)(null),2),A=j[0],R=j[1],q=Kb();(0,Nb.useEffect)(function(){k&&D(!1)},[k]),(0,Nb.useEffect)(function(){y&&"dd-question"!==document.activeElement.getAttribute("fld")&&z.current.focus()},[]);return Nb.createElement("li",{id:"".concat(h?"other-":"","choice-").concat(i)},E&&Nb.createElement(HE,{isOther:h,addOther:S,choices:_,choiceColor:w,usedColors:N,index:i}),Nb.createElement("div",{className:C?"ztextbox__error":""},Nb.createElement("div",null,Nb.createElement(RE,{triggerUpload:k,type:"choice",choiceIndex:i,imageFile:A}),Nb.createElement("div",{className:"zradiobutton d-flexC"},b!=_e&&Nb.createElement("input",{type:"radio",id:O,className:"zradiobutton__helper",checked:n>0,onChange:function(){return r(i)}}),b!=_e&&Nb.createElement("label",{htmlFor:O,className:"zradiobutton__label M0I"}),Nb.createElement(EE,{className:"zradiobutton__text",tagName:"span",html:P(t),onChange:function(e){I(e.currentTarget,m),a(e.currentTarget.innerText,i)},innerRef:z,id:"".concat(h?"other-":"","choice-").concat(i),"data-text":b==_e?ZPI18N.getString("zp.survey.choice.enter"):"",onPaste:function(e){return function(e){var t=e.clipboardData||window.clipboardData;if(t){if(u){var n,r=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=YE(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(i)throw a}}}}(t.items);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(0===a.type.indexOf("image")){var o=a.getAsFile(),i="pasted-image-"+Date.now()+".png";return R(new File([o],i,{type:o.type,lastModified:Date.now()})),void e.preventDefault()}}}catch(e){r.e(e)}finally{r.f()}}x(e)}}(e)}})),Nb.createElement("div",{className:"zpl_hvr"},u&&Nb.createElement("i",{className:"PI_frm_img",onClick:function(){return D(!0)}}),f&&Nb.createElement("i",{className:"PI_delete",onClick:function(){return o(i)}}))),l&&Nb.createElement(CE,{fileInfo:l,onDelete:function(){return function(e){var t,n=e.contentId,r=mo(_);delete r[i].fileInfo,q(Ou({choices:(t=r,function(e){if(Array.isArray(e))return WE(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||YE(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())})),(null==e||!e.isNew)&&n&&q(ju({deletedContentId:n})),q(Ru({disableCardActions:!1}))}(l)}})),C?Nb.createElement("span",{className:"ztextbox--error__label"}," ",d):null)},$E=function(e){var t=e.msg,n=void 0===t?"":t,r=e.extraClassName,a=void 0===r?"":r,o=e.style,i=void 0===o?{}:o;return Nb.createElement("div",{className:"zpl_info ".concat(a),style:i},Nb.createElement("em",null,n))};function QE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var XE=function(e){var t=e.isAddOther,n=void 0!==t&&t,r=e.addOther,a=void 0===r?[]:r,o=Kb(),i=mo(a||[]);return Nb.createElement(Nb.Fragment,null,n&&a.length<=0&&Nb.createElement("a",{className:"zpl_lnkbg",onClick:function(){var e;i.push({choice:ZPI18N.getString("zp.engagement.question.choice.other"),is_other:!0}),o(Iu({addOther:(e=i,function(e){if(Array.isArray(e))return QE(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return QE(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QE(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}))}}," ",ZPI18N.getString("zp.survey.add.other.answer")))};function KE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||eS(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JE(e){return function(e){if(Array.isArray(e))return tS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||eS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eS(e,t){if(e){if("string"==typeof e)return tS(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tS(e,t):void 0}}function tS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nS=function(e){var t=e.choice,n=e.score,r=e.onClickChoice,o=e.onTypeChoice,i=e.deleteChoice,l=e.index,c=e.showImgUpload,u=void 0===c||c,s=e.error,d=void 0===s?"":s,p=e.fileInfo,f=e.focus,m=void 0!==f&&f,v=e.isOther,y=void 0!==v&&v,g=e.viewType,h=e.choices,b=e.showColPicker,_=e.addOther,E=e.choiceColor,S=e.usedColors,w=(0,Nb.useRef)(null);(0,Nb.useRef)(null),(0,Nb.useEffect)(function(){m&&w.current.focus()},[]);var N=KE((0,Nb.useState)(!1),2),O=N[0],z=N[1],C=KE((0,Nb.useState)(null),2),T=C[0],k=C[1];(0,Nb.useEffect)(function(){O&&z(!1)},[O]),(0,Nb.useEffect)(function(){T&&k(null)},[T]);var D=Kb(),j=d.length>0,A=zE();return Nb.createElement("li",{id:"choice-".concat(l)},b&&Nb.createElement(HE,{isOther:y,addOther:_,choices:h,choiceColor:E,usedColors:S,index:l}),Nb.createElement("div",{className:j?"ztextbox__error":""},Nb.createElement(RE,{triggerUpload:O,type:"choice",choiceIndex:l,imageFile:T}),Nb.createElement("div",null,Nb.createElement("div",{className:"zcheckbox d-flexC"},g!=_e&&Nb.createElement("input",{type:"checkbox",onChange:function(e){r(e,l)},checked:n>0,className:"zcheckbox__helper",id:A}),g!=_e&&Nb.createElement("label",{className:"zcheckbox__label M0I",htmlFor:A}),Nb.createElement(EE,{className:"zcheckbox__text",tagName:"span",html:P(t),onChange:function(e){I(e.currentTarget,a.SINGLE_CHOICE.CHOICE_TEXT_MAXLENGTH),o(e.currentTarget.innerText,l)},innerRef:w,"data-text":g==_e?ZPI18N.getString("zp.survey.choice.enter"):"",onPaste:function(e){return function(e){var t=e.clipboardData||window.clipboardData;if(t){if(u){var n,r=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=eS(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(i)throw a}}}}(t.items);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(0===a.type.indexOf("image")){var o=a.getAsFile(),i="pasted-image-"+Date.now()+".png";return k(new File([o],i,{type:o.type,lastModified:Date.now()})),void e.preventDefault()}}}catch(e){r.e(e)}finally{r.f()}}x(e)}}(e)}})),Nb.createElement("div",{className:"zpl_hvr"},u&&Nb.createElement("i",{className:"PI_frm_img",onClick:function(){return z(!0)}}),Nb.createElement("i",{className:"PI_delete",onClick:function(e){i(l)}}))),p&&Nb.createElement(CE,{fileInfo:p,onDelete:function(){return function(e){var t=e.contentId,n=mo(h);delete n[l].fileInfo,D(Ou({choices:JE(n)})),(null==e||!e.isNew)&&t&&D(ju({deletedContentId:t})),D(Ru({disableCardActions:!1}))}(p)}})),j?Nb.createElement("span",{className:"ztextbox--error__label"},d):null)},rS=function(e){var t=e.choices,n=void 0===t?[]:t,r=e.error,o=void 0===r?{}:r,i=e.maxChoiceCount,l=e.showImgUpload,c=e.isChoiceInfoNeeded,u=void 0===c||c,s=e.isAddOther,d=void 0!==s&&s,p=e.addOther,f=void 0===p?[]:p,m=e.viewType,v=e.qbankMode,y=e.showColPicker,g=o.choicesError||[],h=o.overallError||"",b=h.length>0,_=mo(n),E=[].concat(JE(n||[]),JE(f||[])).map(function(e){return e.color_code&&CN[e.color_code]}),S=Kb(),w=function(e,t){_.at(t).choice=e,S(Ou({choices:JE(_)}))},N=function(e,t){var n=!parseFloat(_[t].score||0)>0,r=_.filter(function(e){return e.score>0}).length;n&&r++,!n&&r--,_.forEach(function(e,a){t===a&&(e.score=n?(100/r).toFixed(2):"0"),e.score>0&&(e.score=(100/r).toFixed(2)),u||(e.score="0")}),S(Ou({choices:JE(_)}))},P=function(e){var t=_[e],n=null==t?void 0:t.fileInfo;if(_.splice(e,1),parseFloat(t.score||0)>0){var r=_.filter(function(e){return e.score>0}).length;_.forEach(function(e){e.score>0&&(e.score=(100/r).toFixed(2))})}if(S(Ou({choices:JE(_)})),t.hasOwnProperty("choice_id")){var a=t.choice_id;S(Au({deletedchoice_id:a}))}null!=n&&n.hasOwnProperty("isNew")||null==n||!n.contentId||S(ju({deletedContentId:n.contentId}))};return Nb.createElement("div",{className:"zpl_Ans"},Nb.createElement("div",{className:"zpl_gbox wd100_per"},u&&Nb.createElement($E,{msg:ZPI18N.getString("zp.assessment.question.multichoice.message")}),Nb.createElement("div",{className:"zpl_crd M0I"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"d-flexclmcap"},Nb.createElement("ul",{className:"zpl_qaSort"},n.map(function(e,t){var r=null!=e&&e.color_code?CN[e.color_code]:Sn;return Nb.createElement(nS,{key:null==e?void 0:e.choice_id,choice:null==e?void 0:e.choice,score:null==e?void 0:e.score,error:g.at(t),onClickChoice:N,onTypeChoice:w,deleteChoice:P,index:t,fileInfo:null==e?void 0:e.fileInfo,showImgUpload:l,isChoiceInfoNeeded:u,focus:(null==n?void 0:n.length)-1===t,viewType:m,choices:n,showColPicker:y,choiceColor:r,usedColors:E})}),Nb.createElement(lS,{qtype:a.MULTIPLE_CHOICE.TYPE,addOther:f,choicesError:g,viewType:m,showColPicker:y,usedColors:E})),n.length+f.length<i&&Nb.createElement("div",{className:"mt10"+(d?" flexclmcap d-flexC":"")},Nb.createElement("a",{className:"zpl_lnkbg",onClick:function(){_.push({choice:""}),S(Ou({choices:JE(_)}))}},ZPI18N.getString("zp.assessment.common.addchoice")),"custom-feedback"!=v&&Nb.createElement(XE,{isAddOther:d,addOther:f})),b&&Nb.createElement("span",{className:"ztextbox--error__label"},h)))))))};function aS(){return aS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aS.apply(null,arguments)}function oS(e){return function(e){if(Array.isArray(e))return iS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return iS(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iS(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var lS=function(e){var t=e.addOther,n=void 0===t?[]:t,r=e.choicesError,o=e.qtype,i=e.viewType,l=e.showColPicker,c=e.usedColors,u=mo(n||[]),s=Kb(),d=function(e,t){u[t].choice=e,s(Iu({addOther:oS(u)}))},p=function(e){u.forEach(function(t,n){t.score=e!==n?"0":"100.0"}),s(Iu({addOther:oS(u)}))},f=function(e){var t=u[e],n=null==t?void 0:t.fileInfo;if(u.splice(e,1),s(Iu({addOther:oS(u)})),null!=t&&t.hasOwnProperty("choice_id")){var r=t.choice_id;s(Au({deletedchoice_id:r}))}null!=n&&n.hasOwnProperty("isNew")||null==n||!n.contentId||s(ju({deletedContentId:n.contentId}))};return Nb.createElement(Nb.Fragment,null,n.map(function(t,u){var s=null!=t&&t.color_code?CN[t.color_code]:Sn;return Nb.createElement(Nb.Fragment,null,o==a.SINGLE_CHOICE.TYPE?Nb.createElement(GE,aS({},e,{key:null==t?void 0:t.choice_id,index:u,choice:null==t?void 0:t.choice,error:r.at(u),score:null==t?void 0:t.score,showImgUpload:!1,choiceMaxLength:a.SINGLE_CHOICE.CHOICE_TEXT_MAXLENGTH,focus:(null==n?void 0:n.length)-1===u,onClickChoice:p,onTypeChoice:d,deleteChoice:f,isOther:!0,viewType:i,showColPicker:l,addOther:n,choiceColor:s,usedColors:c})):o==a.MULTIPLE_CHOICE.TYPE?Nb.createElement(nS,aS({},e,{key:null==t?void 0:t.choice_id,index:u,choice:null==t?void 0:t.choice,error:r.at(u),score:null==t?void 0:t.score,showImgUpload:!1,choiceMaxLength:a.SINGLE_CHOICE.CHOICE_TEXT_MAXLENGTH,focus:(null==n?void 0:n.length)-1===u,onClickChoice:p,onTypeChoice:d,deleteChoice:f,isOther:!0,viewType:i,showColPicker:l,addOther:n,choiceColor:s,usedColors:c})):void 0)}))};function cS(){return cS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cS.apply(null,arguments)}function uS(e){return function(e){if(Array.isArray(e))return sS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return sS(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sS(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var dS=function(e){var t=e.choices,n=void 0===t?[]:t,r=e.error,o=void 0===r?{}:r,i=e.addChoice,l=e.maxChoiceCount,c=e.isChoiceInfoNeeded,u=void 0===c||c,s=e.isAddOther,d=void 0!==s&&s,p=e.addOther,f=void 0===p?[]:p,m=e.showImgUpload,v=e.viewType,y=e.qbankMode,g=e.showColPicker,h=o.choicesError||[],b=o.overallError||"",_=b.length>0,E=[].concat(uS(n||[]),uS(f||[])).map(function(e){return(null==e?void 0:e.color_code)&&CN[e.color_code]});return Nb.createElement(Nb.Fragment,null,u&&Nb.createElement($E,{msg:ZPI18N.getString("zp.assessment.question.choice.message")}),Nb.createElement("div",{className:"zpl_crd M0I"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"d-flexclmcap"},Nb.createElement("ul",{className:"zpl_qaSort"},n.map(function(t,r){var a=null!=t&&t.color_code?CN[t.color_code]:Sn;return Nb.createElement(GE,cS({},e,{key:null==t?void 0:t.choice_id,index:r,choice:null==t?void 0:t.choice,error:h.at(r),score:null==t?void 0:t.score,showImgUpload:m,fileInfo:null==t?void 0:t.fileInfo,focus:(null==n?void 0:n.length)-1===r,choices:n,showColPicker:g,choiceColor:a,usedColors:E}))}),Nb.createElement(lS,{qtype:a.SINGLE_CHOICE.TYPE,addOther:f,choicesError:h,viewType:v,showColPicker:g,usedColors:E})),n.length+f.length<l&&Nb.createElement("div",{className:"mt10"+(d?" flexclmcap d-flexC":"")},Nb.createElement("a",{className:"zpl_lnkbg",onClick:i}," ",ZPI18N.getString("zp.assessment.common.addchoice")),"custom-feedback"!=y&&Nb.createElement(XE,{isAddOther:d,addOther:f})),_&&Nb.createElement("span",{className:"ztextbox--error__label"},b))))))},pS=function(e){var t=e.name,n=void 0===t?"":t,r=e.children,a=e.className,o=e.isMandatory;return Nb.createElement("div",{className:a||""},Nb.createElement("label",{className:o?"zpl_mtry":""},n),r)};function fS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||mS(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mS(e,t){if(e){if("string"==typeof e)return vS(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vS(e,t):void 0}}function vS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var yS=function(e){var t=e.question,n=void 0===t?"":t,r=e.fileInfo,a=e.showFileImage,o=void 0!==a&&a,i=e.error,l=void 0===i?"":i,u=e.questionRef,s=Kb(),d=fS((0,Nb.useState)(!1),2),p=d[0],f=d[1],m=fS((0,Nb.useState)(null),2),v=m[0],y=m[1],g=l.length>0;return(0,Nb.useEffect)(function(){p&&f(!1)},[p]),(0,Nb.useEffect)(function(){v&&y(null)},[v]),Nb.createElement("div",{className:"zpl_Que"},Nb.createElement("div",{className:g>0?"ztextbox__error":""},Nb.createElement(RE,{triggerUpload:p,type:"question",imageFile:v}),Nb.createElement("div",null,Nb.createElement(EE,{className:"flex-grow",onChange:function(e){var t;I(e.currentTarget,c)?g&&l===ZPI18N.getString("zp.maxFieldLength",[ZPI18N.getString("zp.question"),c])&&s(xu({question:""})):s(xu({question:ZPI18N.getString("zp.maxFieldLength",[ZPI18N.getString("zp.question"),c])})),t=e.currentTarget.innerText,s(zu({question:t}))},html:P(n),innerRef:u,onPaste:function(e){var t=e.clipboardData||window.clipboardData;if(t){if(o){var n,r=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=mS(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(i)throw a}}}}(t.items);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(0===a.type.indexOf("image")){var i=a.getAsFile(),l="pasted-image-"+Date.now()+".png",c=new File([i],l,{type:i.type,lastModified:Date.now()});return y(c),void e.preventDefault()}}}catch(e){r.e(e)}finally{r.f()}}x(e)}}}),o?Nb.createElement("div",{className:"zpl_hvr"},Nb.createElement("i",{className:"PI_frm_img",onClick:function(){return f(!0)}})):null),r&&Nb.createElement(CE,{fileInfo:r,onDelete:function(){return function(e){var t=e.contentId;s(Du({fileInfo:void 0})),(null==e||!e.isNew)&&t&&s(ju({deletedContentId:t})),s(Ru({disableCardActions:!1}))}(r)}})),g?Nb.createElement("span",{className:"ztextbox--error__label"},l):null)};function gS(){return gS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gS.apply(null,arguments)}var hS=function(e){var t=e.children,n=(e.dropdownId,e.className),r=e.innerProps,a=e.innerRef,o=e.isDisabled,i=e.isFocused,l=e.tabIndex,c=e.ariaLabel,u=e.focusId;return Nb.createElement("div",gS({className:"zselectbox ".concat(n," ").concat(o?"disabled":""," ").concat(i?"has-focus has-kfocus":""),ref:a,tabIndex:l,"aria-label":c,"aria-activedescendant":u,"aria-haspopup":"listbox"},r),t)},bS=function(e){var t=e.children,n=e.onMouseDown,r=e.onToughEnd;return Nb.createElement("div",{className:"zselectbox__selected",onMouseDown:n,onTouchEnd:r},t)},_S=function(e){var t=e.children;return Nb.createElement(Nb.Fragment,null,t)};function ES(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var SS=function(e){var t=e.noOptionsMessage;return Nb.createElement("div",{className:"zdropdownlist__noresults","data-warning":"noresults"},Nb.createElement("span",{className:"zdropdownlist__noresultstext"},t))},wS=function(e){var t=e.inputRef,n=e.handleInputChange,r=e.inputValue;return Nb.createElement("div",{className:"zdropdownlist__search"},Nb.createElement("div",{className:"zdropdownlist__searchiconcontainer"},Nb.createElement("i",{className:"zdropdownlist__searchicon"},Nb.createElement("svg",{focusable:"false"},Nb.createElement("use",{xlinkHref:"#zc__svg--search"})))),Nb.createElement("input",{ref:t,autoFocus:!0,autoComplete:"off",type:"text",className:"zdropdownlist__searchfield has-focus",onInput:n,value:r}))},NS=function(e){var t=e.options,n=e.selectOption,r=e.focusedOption,a=e.selectedOptions,o=e.isLoading,i=e.showSelectionIcon,l=e.onOptionHover,c=e.menuListRef,u=e.focusedOptionRef;return o?Nb.createElement("ul",{className:"zdropdownlist__body zh-scroll_y",style:{height:"auto"},ref:c},Nb.createElement("li",{tabIndex:0,className:"zdropdownlist__loader zdropdownlist__fullloader"},Nb.createElement("i",{className:"zdropdownlist__loadericon zh-loading"},Nb.createElement("svg",{className:"zeffects--rotate",viewBox:"0 0 20 20"},Nb.createElement("circle",{className:"circle__track",cx:"10",cy:"10",r:"9"}),Nb.createElement("circle",{className:"circle__load",cx:"10",cy:"10",r:"9"}))))):0===(null==t?void 0:t.length)?null:Nb.createElement("ul",{"aria-label":"item-list",tabIndex:-1,role:"group",className:"zdropdownlist__body zh-scroll_y",style:{height:"auto"},ref:c},(t||[]).map(function(e,o){return Nb.createElement(PS,{key:"select-menu-option-".concat(o),option:e,onSelect:function(){return n(e)},isFocused:(null==r?void 0:r.value)===e.value,isSelected:(a||[]).map(function(e){return e.value}).includes(e.value),showSelectionIcon:i,onHover:function(){return l(e)},innerRef:u,ariaLabel:"".concat(e.label,", ").concat(o," of ").concat(t.length-1)})}))},PS=function(e){var t,n=e.option,r=e.onSelect,a=e.isFocused,o=e.isSelected,i=e.showSelectionIcon,l=e.onHover,c=e.innerRef,u=e.ariaLabel,s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ES(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ES(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Nb.useState(!1),2),d=s[0],p=s[1],f=Nb.useRef(null),m=(t="",a&&(t+="has-focus on-hover"),o&&(t+=" is-selected"),t);return Nb.useEffect(function(){a&&null!=c&&c.current&&c.current.focus()},[a]),Nb.useEffect(function(){if(null!=f&&f.current){var e=f.current.offsetWidth,t=f.current.scrollWidth;p(t>e)}},[f]),Nb.createElement("li",{className:"zdropdownlist__item ".concat(m),id:n.value,onClick:function(e){e.stopPropagation(),r()},role:"option",tabIndex:0,"aria-label":u,onMouseOver:l,onMouseMove:l,ref:function(e){a&&(c.current=e)},title:d?n.label:null},i?Nb.createElement("div",{className:"zdropdownlist__checkedindication"},Nb.createElement("i",{className:"zdropdownlist__checkedicon"},Nb.createElement("svg",{focusable:"false"},Nb.createElement("use",{xlinkHref:"#zc__svg--tick"})))):null,Nb.createElement("div",{className:"zdropdownlist__content"},Nb.createElement("span",{className:"zdropdownlist__text",ref:f},n.label)))},OS=function(e){var t,n=e.menuIsOpen,r=e.setMenuIsOpen,a=e.selectOption,o=e.anchorEleRef,i=e.options,l=e.focusedOption,c=e.closeMenu,u=e.onOptionHover,s=e.selectedOptions,d=e.maxMenuHeight,p=e.isLoading,f=e.isMulti,m=e.menuListRef,v=e.focusedOptionRef,y=e.isSearchable,g=e.inputRef,h=e.handleInputChange,b=e.noOptionsMessage,_=e.inputValue;if(!n)return null;var E="".concat((null==o||null===(t=o.current)||void 0===t?void 0:t.offsetWidth)||250,"px");return Nb.createElement(FE,{className:"zdropdownlist zmenu--selectmenu zdropdownlist--withoutcheckeditem zposition--bottomleft zh-radiustop zh-userselectnone",anchorEleRef:o,open:n,setIsOpen:r,style:{minWidth:E,maxWidth:E,maxHeight:"".concat(d||300,"px"),overflow:"auto"},clickAwayHandler:function(e){o.current&&!o.current.contains(e.target)&&c()},disableScrollLock:!0},y?Nb.createElement(wS,{inputRef:g,handleInputChange:h,inputValue:_}):null,Nb.createElement(NS,{options:i,selectOption:a,focusedOption:l,selectedOptions:s,isLoading:p,showSelectionIcon:f,onOptionHover:u,menuListRef:m,focusedOptionRef:v}),0!==(null==i?void 0:i.length)||p?null:Nb.createElement(SS,{noOptionsMessage:b}))};function IS(e){return IS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IS(e)}function zS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function CS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zS(Object(n),!0).forEach(function(t){TS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TS(e,t,n){return(t=function(e){var t=function(e){if("object"!=IS(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=IS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==IS(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xS(e){return function(e){if(Array.isArray(e))return jS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||DS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||DS(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DS(e,t){if(e){if("string"==typeof e)return jS(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jS(e,t):void 0}}function jS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function AS(e){var t=e.className,n=e.placeholder,r=void 0===n?ZPI18N.getString("zp.select"):n,a=e.noOptionsMessage,o=void 0===a?ZPI18N.getString("zp.nodatafound"):a,i=e.value,l=e.options,c=void 0===l?[]:l,u=e.style,s=void 0===u?{}:u,d=e.onKeyDown,p=e.onChange,f=e.onMenuOpen,m=e.onMenuClose,v=e.onFocus,y=e.isMulti,g=void 0!==y&&y,h=e.isLoading,b=void 0!==h&&h,_=e.isSearchable,E=void 0!==_&&_,S=e.isDisabled,w=void 0!==S&&S,N=e.closeMenuOnSelect,P=void 0===N||N,O=e.maxMenuHeight,I=void 0===O?300:O,z=kS((0,Nb.useState)(!1),2),C=z[0],T=z[1],x=kS((0,Nb.useState)(!1),2),k=x[0],D=x[1],j=kS((0,Nb.useState)(null),2),A=j[0],R=j[1],q=kS((0,Nb.useState)(""),2),M=q[0],Z=q[1],L=kS((0,Nb.useState)(!1),2),F=(L[0],L[1]),B=kS((0,Nb.useState)({}),2),U=B[0],H=B[1],V=(0,Nb.useRef)(null),Y=(0,Nb.useRef)(null),W=(0,Nb.useRef)(null),G=(0,Nb.useRef)(null);(0,Nb.useEffect)(function(){Q.length&&M.length?J("first"):R(null)},[M]),i=i||[];var $=Array.isArray(i)?i:[i],Q=(0,Nb.useCallback)(function(){if("function"==typeof loadOptions&&null!=M&&M.length&&!U[M].isLoading)return U[M].options;var e=xS(c);return null!=M&&M.length&&(e=e.filter(function(e){var t;return null===(t=e.label)||void 0===t?void 0:t.toLowerCase().includes(M.toLowerCase())})),e},[M,c,U,$])(),X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first";if(!C){k||te();var t="first"===e?0:Q.length-1;if(!g){var n=Q.findIndex(function(e){var t;return e.value===(null===(t=$[0])||void 0===t?void 0:t.value)});n>-1&&(t=n)}!A&&R(c[t]),T(!0),"function"==typeof f&&f(),F(!0)}},K=function(){k&&ne(),T(!1),R(null),"function"==typeof m&&m($)},J=function(e){if(Q.length){var t=0,n=Q.indexOf(A);A||(n=-1),"up"===e?t=n>0?n-1:Q.length-1:"down"===e?t=(n+1)%Q.length:"last"===e&&(t=Q.length-1),F(!0),R(Q[t])}},ee=function(e){var t=g&&($||[]).map(function(e){return e.value}).includes(e.value),n=xS($);t?n=n.filter(function(t){return t.value!==e.value}):g?n.push(e):n=[e],$=n,"function"==typeof p&&p(g?n:n[0]),!g&&P&&K(),te()},te=function(){var e;!k&&"function"==typeof v&&v(),document.activeElement.isSameNode(V.current)||null===(e=V.current)||void 0===e||e.focus(),!k&&D(!0)},ne=function(){var e;document.activeElement.isSameNode(V.current)&&(null===(e=V.current)||void 0===e||e.blur()),k&&D(!1),D(!1)};return Nb.createElement(hS,{className:"".concat(C?"zh-radiusbottom is-active zselectbox--bottom":""," ").concat(t||""),innerRef:E?Y:V,innerProps:{onKeyDown:function(e){if(!(w||"function"==typeof d&&(d(e),e.defaultPrevented))){switch(e.key){case"Tab":if(e.shiftKey||!C||!A)return;ee(A);break;case"Enter":if(229===e.keyCode)break;if(C){if(!A)return;ee(A);break}return;case"Escape":C&&K();break;case" ":if(M||E)return;if(!C){X();break}if(!A)return;ee(A);break;case"ArrowUp":C?J("up"):X("last");break;case"ArrowDown":C?J("down"):X("first");break;case"Home":if(!C)return;J("first");break;case"End":if(!C)return;J("last");break;default:return}e.preventDefault()}},onFocus:te,onBlur:ne,onClick:function(){return C?K():X()},style:s},isFocused:k,isDisabled:w},Nb.createElement(bS,null,Nb.createElement(RS,{selectedOption:$,placeholder:r})),Nb.createElement(_S,null,Nb.createElement(qS,null)),Nb.createElement(OS,{menuIsOpen:C,setMenuIsOpen:T,closeMenu:K,anchorEleRef:E?Y:V,options:Q,selectOption:ee,focusedOption:A,selectedOptions:$,maxMenuHeight:I,isLoading:b,isMulti:g,onOptionHover:function(e){null!=e&&e.value&&(Q||[]).map(function(e){return e.value}).includes(e.value)&&R(e)},menuListRef:W,focusedOptionRef:G,isSearchable:E,inputRef:V,inputValue:M,handleInputChange:function(e){var t=e.target.value;Z(t),C||T(!0),"function"==typeof loadOptions&&t&&(U[t]&&!U[t].isLoading||(H(function(e){return CS(CS({},e),{},TS({},t,{isLoading:!0,options:[]}))}),loadOptions(t,function(e){H(function(n){return CS(CS({},n),{},TS({},t,{isLoading:!1,options:e}))})})))},noOptionsMessage:o}))}var RS=function(e){var t=e.selectedOption,n=e.placeholder;if(0===(null==t?void 0:t.length))return Nb.createElement("span",{className:"zselectbox__text zselectbox__placeholder"},n);var r=(t||[]).map(function(e){return e.label}).join(", ");return Nb.createElement("span",{className:"zselectbox__text",title:r},r)},qS=function(e){var t=e.onMouseDown,n=e.onToughEnd;return Nb.createElement("i",{className:"zselectbox__icon zselectbox__arrowicon",onMouseDown:t,onTouchEnd:n},Nb.createElement("svg",{className:"zselectbox__arrow",focusable:"false"},Nb.createElement("use",{xlinkHref:"#zc__svg--downarrow"})))};AS.prototype={className:cE().string,placeholder:cE().string,value:cE().array||cE().object,options:cE().array,isLoading:cE().bool,isSearchable:cE().bool,isDisabled:cE().bool,onKeyDown:cE().func,onChange:cE().func,onMenuOpen:cE().func,onMenuClose:cE().func};var MS=AS,ZS=function(e){var t,n=e.metricId,r=e.updateMetric,a=e.isMandatory,o=e.error,i=(Mb(function(e){return e.surveyCommon})||{}).metrics,l=(void 0===i?{}:i).active,c=null==o?void 0:o.length,u=null==l?void 0:l.map(function(e){var r={value:e.metric_id,label:e.name};return n==e.metric_id&&(t=r),r});return Nb.createElement("div",{className:"zpl_secn",id:"survey-metrics"},Nb.createElement(pS,{name:ZPI18N.getString("zp.survey.employee.metrics"),isMandatory:a}),Nb.createElement("div",null,Nb.createElement(MS,{options:u,isSearchable:!0,value:t,onChange:r}),c?Nb.createElement("span",{className:"ztextbox--error__label"},o):null))};function LS(e){return function(e){if(Array.isArray(e))return FS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return FS(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FS(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var BS=function(e){var t=e.data,n=e.errorData,r=e.isMetricNeeded,o=void 0!==r&&r,i=e.isAddOther,l=void 0!==i&&i,c=e.isChoiceInfoNeeded,u=void 0===c||c,s=e.showImgUpload,d=e.viewType,p=void 0===d?"":d,f=e.qbankMode,m=e.showColPicker,v=void 0!==m&&m,y=mo(t.choices),g=Kb(),h=(0,Nb.useRef)(null);return(0,Nb.useEffect)(function(){O(h.current)},[]),Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_assQtype",id:"question"},o&&Nb.createElement(ZS,{metricId:t.metric_id,updateMetric:function(e){g(Mu({metric_id:e.value}))}}),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(pS,{name:ZPI18N.getString("zp.question"),isMandatory:!0}),Nb.createElement(yS,{question:(null==t?void 0:t.question)||"",fileInfo:null==t?void 0:t.fileInfo,error:null==n?void 0:n.question,showFileImage:s,questionRef:h})),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(pS,{name:ZPI18N.getString("zp.answer")}),Nb.createElement("div",{className:"zpl_Ans",fld:"choice-answer"},Nb.createElement("div",{className:"zpl_gbox wd100_per"},Nb.createElement(dS,{choices:null==t?void 0:t.choices,error:null==n?void 0:n.choices,addChoice:function(){y.push({choice:""}),g(Ou({choices:LS(y)}))},onTypeChoice:function(e,t){y[t].choice=e,g(Ou({choices:LS(y)}))},onClickChoice:function(e){y.forEach(function(t,n){t.score=e!==n?"0":"100.0",u||(t.score="0")}),g(Ou({choices:LS(y)}))},deleteChoice:function(e){var t=y[e],n=null==t?void 0:t.fileInfo;if(y.splice(e,1),g(Ou({choices:LS(y)})),t.hasOwnProperty("choice_id")){var r=t.choice_id;g(Au({deletedchoice_id:r}))}null!=n&&n.hasOwnProperty("isNew")||null==n||!n.contentId||g(ju({deletedContentId:n.contentId}))},maxChoiceCount:a.SINGLE_CHOICE.MAXIMUM_CHOICES_COUNT,choiceMaxLength:a.SINGLE_CHOICE.CHOICE_TEXT_MAXLENGTH,isChoiceInfoNeeded:u,isAddOther:l,addOther:null==t?void 0:t.addOther,showImgUpload:s,viewType:p,qbankMode:f,showColPicker:v})))))))},US=function(e){var t=e.data,n=e.errorData,r=e.isMetricNeeded,o=void 0!==r&&r,i=e.isAddOther,l=void 0!==i&&i,c=e.isChoiceInfoNeeded,u=void 0===c||c,s=e.showImgUpload,d=e.viewType,p=void 0===d?"":d,f=e.qbankMode,m=e.showColPicker,v=void 0!==m&&m,y=(0,Nb.useRef)(null),g=Kb();return(0,Nb.useEffect)(function(){O(y.current)},[]),Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_assQtype",id:"question"},o&&Nb.createElement(ZS,{metricId:t.metric_id,updateMetric:function(e){g(Mu({metric_id:e.value}))}}),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(pS,{name:ZPI18N.getString("zp.question"),isMandatory:!0}),Nb.createElement(yS,{question:(null==t?void 0:t.question)||"",fileInfo:null==t?void 0:t.fileInfo,error:null==n?void 0:n.question,showFileImage:s,questionRef:y})),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(pS,{name:ZPI18N.getString("zp.answer")}),Nb.createElement(rS,{choices:null==t?void 0:t.choices,error:null==n?void 0:n.choices,maxChoiceCount:a.SINGLE_CHOICE.MAXIMUM_CHOICES_COUNT,isChoiceInfoNeeded:u,showImgUpload:s,isAddOther:l,addOther:null==t?void 0:t.addOther,viewType:p,qbankMode:f,showColPicker:v})))))},HS={type:"1",question:"",choices:[{choice:""},{choice:""}],mark:"1.0",partial_mark:!1,difficulty_level:"1",metric_id:null,enable_comment:!1,ismandatory:!1,rating_config:{comment_mandatory:!1}},VS={type:"2",question:"",choices:[{choice:""},{choice:""}],mark:"1.0",difficulty_level:"1",partial_mark:!1,metric_id:null,enable_comment:!1,ismandatory:!1,rating_config:{comment_mandatory:!1}},YS={type:"13",question:"",metric_id:null,rating_config:{max_count:2,rating_type:"thumbsupdown_scale",layout:0,comment_mandatory:!1,comment_criteria:0,comment_score:1},scale_customtext:{},enable_comment:!1,ismandatory:!1},WS=function(e){return(e||[]).map(function(e,t){return{label:e,value:t}})},GS=function(e){var t,n=[];return t=e.rating_type,[ae,re,oe,ie,le].includes(t)?(e.scale_customtext&&Object.keys(e.scale_customtext||{}).forEach(function(t){var r;if((null===(r=Object.keys(e.scale_customtext[t]))||void 0===r?void 0:r.length)>0)n.push(e.scale_customtext[t].label);else{var a=$S(e.rating_type,e.max_count);n.push(a[t])}}),(n.length<=0||e.max_count!=n.length)&&(n=$S(e.rating_type,e.max_count)),n):$S(e.rating_type,e.max_count)},$S=function(e,t){return he[e][t]},QS=function(e){return null!=e&&e.startsWith("zp.")?ZPI18N.getString(e):e},XS=function(e,t){return e===te?se[t]:e===re?me[t]:e===oe?de[t]:e===ie?pe[t]:e===le?fe[t]:ce[t]};function KS(e){return KS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KS(e)}function JS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ew(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JS(Object(n),!0).forEach(function(t){tw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tw(e,t,n){return(t=function(e){var t=function(e){if("object"!=KS(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=KS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==KS(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nw=function(e){return{1:HS,2:VS,6:Pl,7:Il,9:zl,10:Ol,12:Cl,13:YS}[e]},rw=function(e){var t,n,r,a,o=nw(e.type),i=ew(ew({},e),{},{rating_config:{max_count:e.max_count||(null===(t=o.rating_config)||void 0===t?void 0:t.max_count),rating_type:e.rating_type,layout:e.layout,comment_mandatory:e.comment_mandatory,comment_criteria:e.comment_criteria||(null===(n=o.rating_config)||void 0===n?void 0:n.comment_criteria),comment_score:e.comment_score||(null===(r=o.rating_config)||void 0===r?void 0:r.comment_score),min_start:null===(a=o.rating_config)||void 0===a?void 0:a.min_start}});if(e.type==Jn.SINGLE_CHOICE.TYPE||e.type==Jn.MULTIPLE_CHOICE.TYPE){var l=e.choices;i.addOther=e.addOther?e.addOther:(l||[]).filter(function(e){return e.is_other}),i.choices=(l||[]).filter(function(e){return!e.is_other})}else if(e.type==Jn.DATE.TYPE){var c=e.date_format,u=e.start_range,s=e.end_range;i.date_settings={date_format:c},u&&(i.date_settings.start_range=Dm(u.toString()).getTime(),i.date_settings.isNeedSelectRange=!0),s&&(i.date_settings.end_range=Dm(s.toString()).getTime())}else if(e.type==Jn.RATING_SCALE.TYPE||e.type==Jn.TWO_POINT_SCALE.TYPE){e.custom_text;var d=e.scale_customtext,p=e.rating_type,f=e.max_count;i.scale_customtext=WS(GS({max_count:f,rating_type:p,scale_customtext:d})),i.rating_config=ew(ew({},i.rating_config),{},{comment_score:e.comment_score||f-2})}return i};function aw(e){return aw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aw(e)}function ow(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ow(Object(n),!0).forEach(function(t){lw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ow(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lw(e,t,n){return(t=function(e){var t=function(e){if("object"!=aw(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=aw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==aw(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cw=function(e){var t,n=e.surveyData,r=Mb(function(e){return e.questionCard}),a=r.isLoading,o=r.disableCardActions,i=r.mode,l=r.errorData,c=r.data,u=null==c?void 0:c.type,s=null===(t=c[u])||void 0===t?void 0:t.question_id,d=Kb(),p=[];return null!=n&&(p=n.type==Ne?[Jn.TWO_POINT_SCALE.TYPE]:n.type==Po.PULSE?[Jn.SINGLE_CHOICE.TYPE,Jn.MULTIPLE_CHOICE.TYPE,Jn.COMMENT.TYPE,Jn.DATE.TYPE]:[]),Nb.createElement("div",{className:"zpl_iwrprlft"},Nb.createElement("ul",null,Object.keys(Jn).map(function(e){var t=Jn[e];return p.includes(t.TYPE)?Nb.createElement(Nb.Fragment,null):Nb.createElement("li",{key:t.TYPE_STR+"_key",className:t.TYPE===u?"zpl_act":"",onClick:function(){!function(e){if(!a&&!o){var t=function(e,t,n){var r,a=n[e],o=ew({},null!==(r=n[t])&&void 0!==r?r:nw(t));if(function(e,t){var n=[Jn.SINGLE_CHOICE.TYPE,Jn.MULTIPLE_CHOICE.TYPE,Jn.COMMENT.TYPE,Jn.DATE.TYPE,Jn.TWO_POINT_SCALE.TYPE,Jn.NPS.TYPE,Jn.STAR.TYPE,Jn.RATING_SCALE.TYPE];return n.includes(e)&&n.includes(t)}(e,t)&&(o=ew(ew({},o),{},{question:a.question})),function(e,t){var n=[Jn.SINGLE_CHOICE.TYPE,Jn.MULTIPLE_CHOICE.TYPE];return n.includes(e)&&n.includes(t)}(e,t)){var i=mo(a.choices),l=mo(o.choices);o.choices=function(e,t){var n=!1,r=0;return t=t||[],(e=e||[]).forEach(function(e,a){var o=t[a];o?(e.score>0&&!n?(o.score="100.00",n=!0):o.score="0",o.choice=e.choice||o.choice):(e.score>0&&!n?(e.score="100.00",n=!0):e.score="0",delete e.choice_id,t.push(e)),r=a}),t.length>e.length&&t.slice(r+1).forEach(function(e){e.score>0&&!n?(e.score="100.00",n=!0):e.score="0"}),t}(i,l)}return a.questionbank_id&&(o.questionbank_id=a.questionbank_id),a.survey_id&&(o.survey_id=a.survey_id),a.metric_id&&(o.metric_id=a.metric_id),tw(tw({},t,o),"type",t)}(u,e,c);t[e]="edit"===i?iw(iw({},t[e]),{},{question_id:s}):t[e],d(Pu({data:t})),Object.keys(l).length>0&&d(ku())}}(t.TYPE)}},Nb.createElement("em",{className:t.ICON}),Nb.createElement("a",null,t.DISPLAY_NAME))})))},uw=function(e){var t=e.isActive,n=void 0!==t&&t,r=e.label,a=void 0===r?"":r,o=e.onChange,i=void 0===o?function(){return!1}:o,l=e.id,c=void 0===l?zE():l,u=e.disabled,s=void 0!==u&&u,d=e.parentClass,p=e.children;return Nb.createElement("div",{className:"zcheckbox ".concat(d||"")},Nb.createElement("input",{id:c,type:"checkbox",className:"zcheckbox__helper",checked:Boolean(n),onChange:i,disabled:s}),Nb.createElement("label",{htmlFor:c,className:"zcheckbox__label"},a),p)},sw=function(e){var t=e.title;return Nb.createElement("div",{className:"zpl_crdhdr"},Nb.createElement("div",null,Nb.createElement("h6",null,t)))},dw=function(e){var t=e.className,n=e.placeholder,r=e.value,a=e.maxLength,o=e.onChangeHandler,i=e.onBlurHandler;return Nb.createElement("input",{type:"text",className:"ztextbox".concat(t?" "+t:""),placeholder:n,value:r,maxLength:a,onChange:o,onBlur:i})},pw=function(e){var t=e.questionData,n=t.type,r=t.scale_customtext,a=t.rating_config,o=Kb(),i=[ZPI18N.getString("zp.survey.lessthan"),ZPI18N.getString("zp.greaterthan")],l=[],c={};n!==Jn.NPS.TYPE&&n!==Jn.STAR.TYPE&&n!==Jn.RATING_SCALE.TYPE&&n!==Jn.TWO_POINT_SCALE.TYPE||(l=i.map(function(e,t){var n={value:t,label:e};return a.comment_criteria==t&&(c=n),n}));var u=[],s={};if(n===Jn.RATING_SCALE.TYPE||n===Jn.TWO_POINT_SCALE.TYPE){var d=a.rating_type,p=a.max_count,f=r||function(e,t,n){var r=e;return(re!=t&&ae!=t||!e||Object.keys(e)<=0)&&(r=Om(t,n)),r}(r,d,p);u=Object.keys(f).map(function(e){var t,n={value:e,label:Nm(null===(t=f[e])||void 0===t?void 0:t.label)};return e==a.comment_score&&(s=n),n})}var m=function(e,t){o(Hu({comment_criteria:e,comment_score:t}))},v=function(e){o(Yu({comment_score:e}))},y=function(){t.enable_comment||t.rating_config.comment_mandatory||o(Zu({enable_comment:!0})),o(Fu({comment_mandatory:!t.rating_config.comment_mandatory}))};return Nb.createElement(Nb.Fragment,null,n===Jn.SINGLE_CHOICE.TYPE||n===Jn.MULTIPLE_CHOICE.TYPE||n===Jn.DATE.TYPE||n===Jn.TWO_POINT_SCALE.TYPE?Nb.createElement(uw,{label:ZPI18N.getString("zp.survey.makecomment.mandatory"),onChange:y,id:zE(),isActive:t.rating_config.comment_mandatory}):n===Jn.NPS.TYPE||n===Jn.STAR.TYPE||n===Jn.RATING_SCALE.TYPE?Nb.createElement("div",{className:"zpl_idiv a-itm-cntr"},Nb.createElement(uw,{label:n===Jn.STAR.TYPE||n===Jn.RATING_SCALE.TYPE?ZPI18N.getString("zp.survey.comment.mandatory.basedon.rating",[""]):ZPI18N.getString("zp.enps.makecommentmandatory",[""]),onChange:y,id:zE(),isActive:t.rating_config.comment_mandatory}),Nb.createElement(MS,{options:l,isSearchable:!0,className:"w200",value:c,onChange:function(e){return t=e.value,o(Vu({comment_criteria:t})),void m(t,a.comment_score);var t}}),ZPI18N.getString("zp.surey.or_equal_to"),n===Jn.NPS.TYPE||n===Jn.STAR.TYPE?Nb.createElement(dw,{className:"w150",value:a.comment_score,onChangeHandler:function(e){var t=e.target.value,n=a.min_start,r=a.max_count;if(""===t||(t=Number(t))>=1&&t<=r&&t>=n)v(t),m(a.comment_criteria,t);else if(isNaN(t))v(""),m(a.comment_criteria,"");else if(t>r||0==t){var o=t.toString(),i=o.length>1?Number(o.substr(0,o.length-1)):"";v(i),m(a.comment_criteria,i)}else t<n&&(v(n),m(a.comment_criteria,n))},onBlurHandler:function(e){var t,r=e.target.value.trim(),o=a.min_start,i=a.max_count;n===Jn.STAR.TYPE?t=a.max_count:n===Jn.NPS.TYPE&&(t=6),r=(r=Number(r))<o||r>i?t:r,v(r),m(a.comment_criteria,r)}}):n===Jn.RATING_SCALE.TYPE||n===Jn.TWO_POINT_SCALE.TYPE?Nb.createElement(MS,{options:u,isSearchable:!0,className:"w200",value:s,onChange:function(e){return t=e.value,o(Yu({comment_score:t})),void m(a.comment_criteria,t);var t}}):void 0):void 0)},fw={QUESTION_POOL:"question-pool",TEMPLATE:"template",MODULE:"module",OFFBOARDING_FEEDBACK:"exitfeedback",EXTEND_INTERVIEW_CREATION:"extend-interview-creation",CUSTOM_FEEDBACK:"custom-feedback"},mw=function(e){var t,n=e.questionData,r=e.viewType,a=e.mode,o=n.type,i=Kb(),l=(null==n||null===(t=n.rating_config)||void 0===t?void 0:t.max_count)||0;return Nb.createElement("div",{className:"zpl_crd"},Nb.createElement(sw,{title:ZPI18N.getString("zp.advancedoptions")}),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,o!=Jn.COMMENT.TYPE&&Nb.createElement(uw,{label:ZPI18N.getString("zp.survey.enablecmt"),onChange:function(){n.enable_comment&&n.rating_config.comment_mandatory&&i(Fu({comment_mandatory:!1})),i(Zu({enable_comment:!n.enable_comment}))},id:zE(),isActive:n.enable_comment}),n.enable_comment&&o!=Jn.COMMENT.TYPE&&Nb.createElement("div",{className:"zpl_idiv"},Nb.createElement("div",{className:"zpl_gbox"},Nb.createElement(pw,{questionData:n}))),[fw.TEMPLATE,fw.MODULE,fw.OFFBOARDING_FEEDBACK,fw.EXTEND_INTERVIEW_CREATION,fw.CUSTOM_FEEDBACK].includes(r)&&Nb.createElement(uw,{label:ZPI18N.getString("zp.lms.markasmand"),onChange:function(){i(Lu({ismandatory:!n.ismandatory}))},id:zE(),isActive:n.ismandatory}),[fw.CUSTOM_FEEDBACK].includes(r)&&o==Jn.STAR.TYPE&&a==fw.MODULE&&(5===l||"5"===l)&&Nb.createElement(uw,{label:ZPI18N.getString("zp.averagerating"),onChange:function(){i(es({is_avgrating:!n.is_avgrating}))},id:zE(),isActive:n.is_avgrating})))))},vw=function(e){var t=e.data,n=e.errorData,r=e.isMetricNeeded,a=Kb(),o=(0,Nb.useRef)(null);return(0,Nb.useEffect)(function(){o.current.focus()},[]),Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn zpl_assQtype",id:"question"},r&&Nb.createElement(ZS,{metricId:t.metric_id,updateMetric:function(e){a(Mu({metric_id:e.value}))}}),Nb.createElement(pS,{name:ZPI18N.getString("zp.question"),isMandatory:!0}),Nb.createElement(yS,{question:t.question,error:null==n?void 0:n.question,showFileImage:!1,questionRef:o}))))},yw={monthString:[ZPI18N.getString("zp.jan"),ZPI18N.getString("zp.feb"),ZPI18N.getString("zp.mar"),ZPI18N.getString("zp.apr"),ZPI18N.getString("zp.may"),ZPI18N.getString("zp.jun"),ZPI18N.getString("zp.jul"),ZPI18N.getString("zp.aug"),ZPI18N.getString("zp.sep"),ZPI18N.getString("zp.oct"),ZPI18N.getString("zp.nov"),ZPI18N.getString("zp.dec")],fullMonthString:[ZPI18N.getString("zp.january"),ZPI18N.getString("zp.february"),ZPI18N.getString("zp.march"),ZPI18N.getString("zp.april"),ZPI18N.getString("zp.may"),ZPI18N.getString("zp.june"),ZPI18N.getString("zp.july"),ZPI18N.getString("zp.august"),ZPI18N.getString("zp.september"),ZPI18N.getString("zp.october"),ZPI18N.getString("zp.november"),ZPI18N.getString("zp.december  ")],getFormattedDate:function(e){if(e){var t=yw.convertToUserTimeZone(e),n=new Date(t),r=n.getUTCDate(),a=yw.monthString[n.getUTCMonth()],o=n.getUTCFullYear();return yw.isToday(n)?" ".concat(ZPI18N.getString("zp.today"),"  ").concat(yw.getDisplayTime(e)):yw.isYesterday(n)?" ".concat(ZPI18N.getString("zp.yesterday"),"  ").concat(yw.getDisplayTime(e)):"".concat(r," ").concat(a," ").concat(o," ").concat(yw.getDisplayTime(e))}},getHHMMMYYYY:function(e){if(e){var t=yw.convertToUserTimeZone(e),n=new Date(t),r=n.getUTCDate(),a=yw.monthString[n.getUTCMonth()],o=n.getUTCFullYear();return"".concat(r," ").concat(a," ").concat(o)}},isToday:function(e){var t=yw.convertToUserTimeZone((new Date).getTime());return new Date(t).toDateString()===e.toDateString()},isYesterday:function(e){var t=yw.convertToUserTimeZone((new Date).getTime()),n=new Date(t),r=new Date;return r.setDate(n.getDate()-1),r.toDateString()===e.toDateString()},convertToUserTimeZone:function(e,t){var n=new Date(Number(e));return t=void 0!==t?t:ZPeople.TIME.userGMTString,e=n.getTime()+Number(t),!0!==ZPeople.TIME.useDaylightTime&&"true"!==ZPeople.TIME.useDaylightTime||!0!==ZPeople.TIME.inDaylightTime&&"true"!==ZPeople.TIME.inDaylightTime||(e+=Number(ZPeople.TIME.daylightTime)),e},getDisplayTime:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e){var n=yw.convertToUserTimeZone(e),r=new Date(n),a=r.getUTCHours(),o=r.getUTCMinutes();if(o=o<10?"0"+o:o,t){var i=a>=12?"PM":"AM";return"".concat(a=(a=(a%=12)||12)<10?"0"+a:a,":").concat(o," ").concat(i," ")}return"".concat(a=a<10?"0"+a:a,":").concat(o)}},formatTimeStamp:function(e,t){var n=new Date(e),r=function(e){return e<10?"0"+e:e},a=yw.monthString,o=yw.fullMonthString,i=n.getFullYear(),l=n.getMonth(),c=n.getDate();return n.getHours(),r(n.getMinutes()),r(n.getSeconds()),t.replace(/yyyy/g,i).replace(/yy/g,i.toString().substr(2,2)).replace(/MMMM/g,o[l]).replace(/MMM/g,a[l]).replace(/MM/g,r(l+1)).replace(/mm/g,r(l+1)).replace(/dd/g,r(c))}};function gw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var hw=function(e){var t=e.setShowDatePicker,n=e.timeStamp,r=e.inputRef,a=e.displayFormat,o=void 0===a?"dd-mm-yyyy":a,i=e.className,l=n&&yw.formatTimeStamp(n,o),c=Nb.useCallback(function(e){e.preventDefault()}),u=Nb.useRef(null);return Nb.createElement("div",{onClick:function(){return t(!0)},ref:r,className:"zinputfield--withcalendaricon zinputfield zdatetimefield zinputfield--spinbtnnone has-focus ".concat(i)},Nb.createElement("input",{autoComplete:"false",className:"zinputfield__textbox",placeholder:o,value:l,readOnly:!0,onMouseUp:function(e){var t=e.target,n=t.value,r=t.selectionStart,a=function(e){var t=new RegExp(["-","/","."].map(function(e){return"\\".concat(e)}).join("|"),"g");return e.split(t)}(n),o=function(e,t){var r,a=0,o=n.length,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return gw(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gw(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}(t);try{for(i.s();!(r=i.n()).done;){var l=r.value,c=n.indexOf(l,a),u=c+l.length;if(e>=c&&e<=u)return{start:c,end:u};Math.abs(e-c)<Math.abs(e-a)&&(a=c,o=u)}}catch(e){i.e(e)}finally{i.f()}return{start:a,end:o}}(r,a);0===t.selectionStart&&t.selectionEnd===n.length?u.current&&t.setSelectionRange(u.current.start,u.current.end):(t.setSelectionRange(o.start,o.end),u.current=o)},onClick:c,ref:r}),Nb.createElement("div",{className:"zdatetimefield__iconlabel"},Nb.createElement("i",{className:"zdatetimefield__icon"},Nb.createElement("svg",{className:"zbutton__svg",focusable:"false"},Nb.createElement("use",{xlinkHref:"#zc__svg--calendaricon"})))))},bw={LAYOUT_VIEW:{CALENDAR:"calendar",MONTH:"month",DECADE_YEAR:"decade-year"},MONTHS:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},_w=(0,Nb.forwardRef)(function(e,t){var n=e.displayMonth,r=e.setDisplayMonth,a=e.displayYear,o=e.setDisplayYear,i=e.setCurrentView,l=(e.minTimeStampRange,e.maxTimeStampRange,function(){n-1<0?(r(11),o(function(e){return e-1})):r(function(e){return e-1})}),c=function(){(n+1)%12==0?(r((n+1)%12),o(function(e){return e+1})):r(function(e){return e+1})},u=function(){o(function(e){return e-1})},s=function(){o(function(e){return e+1})};return(0,Nb.useImperativeHandle)(t,function(){return{backButton:l,forwardButton:c,advanceBackButton:u,advanceForwardButton:s}}),Nb.createElement(Nb.Fragment,null,Nb.createElement("span",{className:"zdatetimepicker__monthnav",onClick:function(e){e.stopPropagation(),i(bw.LAYOUT_VIEW.MONTH)}},bw.MONTHS[n]),Nb.createElement("span",{className:"zdatetimepicker__yearnav",onClick:function(){return i(bw.LAYOUT_VIEW.MONTH)}},a))}),Ew=(0,Nb.forwardRef)(function(e,t){var n=e.year,r=e.setCurrentYear,a=e.setCurrentView,o=function(){r(function(e){return e-1})},i=function(){r(function(e){return e+1})};return(0,Nb.useImperativeHandle)(t,function(){return{backButton:o,forwardButton:i}}),Nb.createElement("span",{className:"zdatetimepicker__yearnav",onClick:function(e){e.stopPropagation(),a(bw.LAYOUT_VIEW.DECADE_YEAR)}},n)}),Sw=(0,Nb.forwardRef)(function(e,t){var n=e.yearRange,r=e.setYearRange,a=(e.setDisplayYear,n.startYear),o=n.endYear,i=Nb.useCallback(function(){r(function(e){return{startYear:e.startYear+10,endYear:e.endYear+10}})},[n]),l=Nb.useCallback(function(){r(function(e){return{startYear:e.startYear-10,endYear:e.endYear-10}})},[n]);return(0,Nb.useImperativeHandle)(t,function(){return{backButton:l,forwardButton:i}}),Nb.createElement("span",{className:"zdatetimepicker__yearnav"},"".concat(a+1," - ").concat(o))});function ww(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nw(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Pw=function(e){var t=e.currentView,n=e.setCurrentView,r=e.displayMonth,a=e.setDisplayMonth,o=e.displayYear,i=e.setDisplayYear,l=e.yearRange,c=e.setYearRange,u=e.minTimeStampRange,s=e.maxTimeStampRange,d=(0,Nb.useRef)(),p=Nb.useMemo(function(){return new Date(u).getFullYear()},[u]),f=Nb.useMemo(function(){return new Date(s).getFullYear()},[s]),m=ww(Nb.useState(!1),2),v=m[0],y=m[1],g=ww(Nb.useState(!1),2),h=g[0],b=g[1],_=ww(Nb.useState(!1),2),E=_[0],S=_[1],w=ww(Nb.useState(!1),2),N=w[0],P=w[1];return Nb.useEffect(function(){if(t===bw.LAYOUT_VIEW.CALENDAR){var e=new Date(o-1,r,1).getTime(),n=new Date(u),a=new Date(n.getFullYear(),n.getMonth(),1).getTime();if(S(e<a),r-1<0){var i=new Date(o-1,11,0).getTime();y(i<u)}else{var l=new Date(o,r,0).getTime();y(l<u)}if((r+1)%12==0){var c=new Date(o+1,(r+1)%12,1).getTime();b(c>s)}else{var d=new Date(o,r+1,1).getTime();b(d>s)}var p=new Date(o+1,r,1).getTime(),f=new Date(s),m=new Date(f.getFullYear(),f.getMonth()+1,0).getTime();P(p>m)}},[t,r,o,u,s]),Nb.useEffect(function(){t===bw.LAYOUT_VIEW.MONTH&&(y(p>o-1),b(f<o+1))},[t,r,o,u,s]),Nb.useEffect(function(){t===bw.LAYOUT_VIEW.DECADE_YEAR&&(y(p>o-10),b(f<o+10))},[t,r,o,u,s]),Nb.createElement("div",{className:"zdatetimepicker__navbar "},Nb.createElement("div",{className:"zdatetimepicker__leftnav"},bw.LAYOUT_VIEW.CALENDAR===t&&Nb.createElement("button",{onClick:function(){return d.current.advanceBackButton()},type:"button",tabIndex:"0",className:" ".concat(E?"disabled":""," zbutton zbutton--medium zbutton--normal zdatetimepicker__navbutton zbutton--icononly"),title:ZPI18N.getString("zp.lms.previousyear")},Nb.createElement("i",{className:"zdatetimepicker__icon zbutton__icon"},Nb.createElement("svg",{className:"zh-arrowicon",focusable:"false"},Nb.createElement("use",{xlinkHref:"#zc__svg--fastbackward"})))),Nb.createElement("button",{onClick:function(){return d.current.backButton()},type:"button",tabIndex:"0",className:" ".concat(v?"disabled":""," zbutton zbutton--medium zbutton--normal zdatetimepicker__navbutton zbutton--icononly"),title:ZPI18N.getString("zp.prevmonth")},Nb.createElement("i",{className:"zdatetimepicker__icon zbutton__icon"},Nb.createElement("svg",{className:"zh-arrowicon",focusable:"false"},Nb.createElement("use",{xlinkHref:"#zc__svg--backward"}))))),Nb.createElement("div",{className:"zdatetimepicker__monthyearnav ".concat(bw.LAYOUT_VIEW.DECADE_YEAR!=t?"zh-cursorpointer":"")},bw.LAYOUT_VIEW.CALENDAR===t?Nb.createElement(_w,{ref:d,displayMonth:r,displayYear:o,setDisplayMonth:a,setDisplayYear:i,setCurrentView:n,minTimeStampRange:u,maxTimeStampRange:s}):null,bw.LAYOUT_VIEW.MONTH===t?Nb.createElement(Ew,{ref:d,year:o,setCurrentYear:i,setCurrentView:n}):null,bw.LAYOUT_VIEW.DECADE_YEAR===t?Nb.createElement(Sw,{yearRange:l,setYearRange:c,ref:d}):null),Nb.createElement("div",{className:"zdatetimepicker__rightnav"},Nb.createElement("button",{onClick:function(){var e;return null===(e=d.current)||void 0===e?void 0:e.forwardButton()},type:"button",tabIndex:"0",className:"".concat(h?"disabled":""," zbutton zbutton--medium zbutton--normal zdatetimepicker__navbutton zbutton--icononly"),title:ZPI18N.getString("zp.nextmonth")},Nb.createElement("i",{className:"zdatetimepicker__icon zbutton__icon"},Nb.createElement("svg",{className:"zh-arrowicon",focusable:"false"},Nb.createElement("use",{xlinkHref:"#zc__svg--forward"})))),bw.LAYOUT_VIEW.CALENDAR===t&&Nb.createElement("button",{onClick:function(){return d.current.advanceForwardButton()},tabIndex:"0",className:" ".concat(N?"disabled":""," zbutton zbutton--medium zbutton--normal zdatetimepicker__navbutton zbutton--icononly"),title:ZPI18N.getString("zp.nextyear")},Nb.createElement("i",{className:"zdatetimepicker__icon zbutton__icon"},Nb.createElement("svg",{className:"zh-arrowicon",focusable:"false"},Nb.createElement("use",{xlinkHref:"#zc__svg--fastforward"}))))))};function Ow(e,t,n){var r=new Date(e),a=new Date(t);a=new Date(a.getFullYear(),a.getMonth(),a.getDate());var o=new Date(n);return a<=r&&r<=o}var Iw=function(e){for(var t=e.month,n=e.year,r=e.setTimeStamp,a=e.setShowDatePicker,o=e.publishToClient,i=e.inputFieldTimeStamp,l=e.highlightCurrentDate,c=e.minTimeStampRange,u=e.maxTimeStampRange,s=Nb.useMemo(function(){return function(e,t){for(var n=function(e,t){return new Date(t,e+1,0).getDate()}(e,t),r=function(e,t){return new Date(t,e,1).getDay()}(e,t),a=[],o=0;o<r;o++)a.push(null);for(var i=1;i<=n;i++)a.push(i);return{calendar:a,firstDay:r}}(t,n)},[t,n]),d=s.calendar,p=s.firstDay,f=[],m=0;m<d.length;m+=7)f.push(d.slice(m,m+7));return Nb.createElement(Nb.Fragment,null,f.map(function(e,s){return Nb.createElement("tr",{key:s},e.map(function(e,s){var d=new Date(n,t,e),f="zdatetimepicker__date ".concat(function(e){var t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}(d)?"zdatetimepicker--today":""," ").concat(function(e,t){var n=(e+t-1)%7;return 0===n||6===n}(e,p)?"zdatetimepicker--weekend":""," ").concat(l&&function(e,t){var n=new Date(e);return n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()&&n.getDate()===t.getDate()}(i,d)?"is-selected":""),m=new Date(n,t,e);return c&&u&&!Ow(m.getTime(),c,u)&&(f+=" disabled"),Nb.createElement("td",{role:"gridcell",key:s,className:e?"".concat(f):"",onClick:function(){e&&(r(m.getTime()),o(m.getTime()),a(!1))}},e&&Nb.createElement("span",{className:"zdatetimepicker__text"},e))}))}))},zw=function(e){return Nb.createElement("div",{className:"zdatetimepicker__calendar"},Nb.createElement("table",{className:"zdatetimepicker__month "},Nb.createElement("thead",null,Nb.createElement("tr",{role:"row",className:"zdatetimepicker__week"},Nb.createElement("th",{className:" zdatetimepicker__day  zdatetimepicker--weekend"},"Sun"),Nb.createElement("th",{className:" zdatetimepicker__day "},"Mon"),Nb.createElement("th",{className:" zdatetimepicker__day "},"Tue"),Nb.createElement("th",{className:" zdatetimepicker__day "},"Wed"),Nb.createElement("th",{className:" zdatetimepicker__day "},"Thu"),Nb.createElement("th",{className:" zdatetimepicker__day "},"Fri"),Nb.createElement("th",{className:" zdatetimepicker__day  zdatetimepicker--weekend"},"Sat"))),Nb.createElement("tbody",null,Nb.createElement(Iw,e))))},Cw=function(e){var t=e.displayMonth,n=e.setDisplayMonth,r=e.setCurrentView,a=e.displayYear,o=e.minTimeStampRange,i=e.maxTimeStampRange;return Nb.createElement("div",{className:"zdatetimepicker__drilldownview"},Nb.createElement("table",{role:"grid",className:"zdatetimepicker__drilldowncell zeffects--zoomin"},Nb.createElement("tbody",null,[0,1,2].map(function(e){return Nb.createElement("tr",{role:"row",key:e},bw.MONTHS.slice(4*e,4*(e+1)).map(function(l,c){var u=4*e+c,s=function(){if(!o||!i)return!1;var e=new Date(a,u,1),t=new Date(a,new Date(o).getMonth(),1),n=new Date(a,new Date(i).getMonth(),1);return!Ow(e.getTime(),t.getTime(),n.getTime())}();return Nb.createElement("td",{key:u,className:"zdatetimepicker__monthview zdatetimepicker__monthyeargrid ".concat(t===u?"zdatetimepicker--currentcell":""," ").concat(s?"disabled":""),"data-value":u,onClick:function(){n(u),r(bw.LAYOUT_VIEW.CALENDAR)}},l)}))}))))},Tw=function(e){var t=e.yearRange,n=e.setCurrentView,r=e.setDisplayYear,a=e.minTimeStampRange,o=e.maxTimeStampRange,i=t.startYear,l=t.endYear,c=Array.from({length:l-i+1},function(e,t){return i+t});return Nb.createElement("div",{className:"zdatetimepicker__drilldownview"},Nb.createElement("table",{role:"grid",className:"zdatetimepicker__drilldowncell zeffects--zoomin"},Nb.createElement("tbody",null,c.map(function(e,t){var i=function(){if(!a||!o)return!1;var t=new Date(e,0,1),n=new Date(new Date(a).getFullYear(),0,1),r=new Date(new Date(o).getFullYear(),0,1);return!Ow(t.getTime(),n.getTime(),r.getTime())}();return Nb.createElement(Nb.Fragment,{key:e},t%4==0&&Nb.createElement("tr",{role:"row"}),Nb.createElement("td",{role:"gridcell",className:"zdatetimepicker__year zdatetimepicker__monthyeargrid ".concat(i?"disabled":""),"data-value":e,onClick:function(){r(e),n(bw.LAYOUT_VIEW.MONTH)}},e))}))))};function xw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kw(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Dw=function(e){var t=e.timeStamp,n=e.setTimeStamp,r=e.setShowDatePicker,a=e.publishToClient,o=e.highlightCurrentDate,i=e.minTimeStampRange,l=e.maxTimeStampRange,c=function(e){var t=new Date(e);return{month:t.getMonth(),year:t.getFullYear()}}(t),u=c.month,s=c.year,d=xw((0,Nb.useState)(u),2),p=d[0],f=d[1],m=xw((0,Nb.useState)(s),2),v=m[0],y=m[1],g=xw((0,Nb.useState)(bw.LAYOUT_VIEW.CALENDAR),2),h=g[0],b=g[1],_=xw((0,Nb.useState)({startYear:s-1-s%10,endYear:s-s%10+10}),2),E=_[0],S=_[1];return Nb.createElement("div",{className:"zdatetimepicker__monthcontainer zdatetimepicker__days"},Nb.createElement(Pw,{displayMonth:p,setDisplayMonth:f,displayYear:v,setDisplayYear:y,currentView:h,setCurrentView:b,yearRange:E,setYearRange:S,minTimeStampRange:i,maxTimeStampRange:l}),bw.LAYOUT_VIEW.CALENDAR===h?Nb.createElement(zw,{publishToClient:a,month:p,year:v,setTimeStamp:n,setShowDatePicker:r,inputFieldTimeStamp:t,highlightCurrentDate:o,minTimeStampRange:i,maxTimeStampRange:l}):null,bw.LAYOUT_VIEW.MONTH===h?Nb.createElement(Cw,{displayMonth:p,displayYear:v,setDisplayMonth:f,setCurrentView:b,minTimeStampRange:i,maxTimeStampRange:l}):null,bw.LAYOUT_VIEW.DECADE_YEAR===h?Nb.createElement(Tw,{yearRange:E,setCurrentView:b,setDisplayYear:y,minTimeStampRange:i,maxTimeStampRange:l}):null)};function jw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Aw(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Aw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Aw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Rw=function(e){var t=e.timestamp,n=e.displayFormat,r=e.highlightCurrentDate,a=void 0===r||r,o=e.minTimeStampRange,i=void 0===o?-30607653208e3:o,l=e.maxTimeStampRange,c=void 0===l?956201562e5:l,u=e.onChange,s=e.className,d=void 0===s?"":s,p=jw((0,Nb.useState)(!1),2),f=p[0],m=p[1],v=jw((0,Nb.useState)(t),2),y=v[0],g=v[1];Nb.useEffect(function(){g(t)},[t]);var h=(0,Nb.useRef)();return Nb.createElement(Nb.Fragment,null,Nb.createElement(hw,{setShowDatePicker:m,timeStamp:y,inputRef:h,displayFormat:n,onChange:u,className:d}),f?Nb.createElement(FE,{anchorEleRef:h,className:"zdatetimepicker zdatetimepicker",open:f,setIsOpen:m,style:{position:"absolute"},clickAwayHandler:function(e){h.current&&!h.current.contains(e.target)&&m(!1)},id:"assessment-datepicker-popper"},Nb.createElement(Dw,{timeStamp:y||Date.now(),setTimeStamp:g,setShowDatePicker:m,highlightCurrentDate:a,minTimeStampRange:i,maxTimeStampRange:c,publishToClient:u})):null)},qw=function(e){var t=e.startDate,n=e.endDate,r=e.dateFormat,a=e.startDateHandler,o=e.endDateHandler,i=e.error,l=e.startDateMinStamp,c=e.enddateminTimeStampRange,u=e.enddateMaxTimeStampRange,s=(null==i?void 0:i.length)>0;return Nb.createElement("div",{className:"zpl_gbox"},Nb.createElement("div",{className:"zpl_idiv"},Nb.createElement(Rw,{timestamp:t,displayFormat:r,onChange:a,minTimeStampRange:l}),Nb.createElement("span",null,"-"),Nb.createElement(Rw,{timestamp:n,displayFormat:r,onChange:o,minTimeStampRange:c,maxTimeStampRange:u})),s?Nb.createElement("span",{className:"ztextbox--error__label"}," ",i):null)};function Mw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Zw=function(e){var t,n=e.data,r=e.errorData,a=n.date_settings,o=a.date_format,i=a.start_range,l=a.end_range,c=Kb(),u=(0,Nb.useRef)(null),s=null!=i&&null!=l,d=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mw(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(s),2),p=d[0],f=d[1],m=Object.keys(Ae).map(function(e){var n=Ae[e],r={value:n,label:e};return n==o&&(t=r),r});return(0,Nb.useEffect)(function(){u.current.focus()},[]),Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn zpl_assQtype",id:"question"},Nb.createElement(pS,{name:ZPI18N.getString("zp.question"),isMandatory:!0}),Nb.createElement(yS,{question:n.question,error:null==r?void 0:r.question,showFileImage:!1,questionRef:u}),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(pS,{name:ZPI18N.getString("zp.dateformatsmall")}),Nb.createElement(MS,{options:m,isSearchable:!0,value:t,onChange:function(e){return t=e.value,void c(Ku({date_settings:{date_format:t}}));var t}}),Nb.createElement("div",null,Nb.createElement(uw,{id:zE(),label:ZPI18N.getString("zp.survey.selectrange"),onChange:function(){return f(!(e=p)),c(Ku(e?{date_settings:{isNeedSelectRange:!1}}:{date_settings:{isNeedSelectRange:!0}})),void(e||null!=i||null!=l||c(Ku({date_settings:{start_range:Date.now(),end_range:Lm(Date.now(),30)}})));var e},isActive:p})),p&&Nb.createElement(qw,{startDate:i,endDate:l,dateFormat:dateFmt||je[o],startDateHandler:function(e){c(Ku({date_settings:{start_range:e,end_range:Lm(e,30)}}))},endDateHandler:function(e){c(Ku({date_settings:{end_range:e}}))}})))))};function Lw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fw(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Bw=function(e){var t=e.isView,n=void 0===t||t,r=e.onClickHandler,a=e.onHoverHandler,o=e.onHoverLeave,i=e.selectBtn,l=void 0===i?null:i,c=e.showArrow,u=Lw((0,Nb.useState)(null),2),s=u[0],d=u[1],p=Nb.useRef(null),f=Lw(Nb.useState(0),2),m=f[0],v=f[1],y=function(){return null!==s?s:null!=l?l:null};(0,Nb.useEffect)(function(){d(null)},[l]),(0,Nb.useEffect)(function(){var e=p.current;if(e){var t=window.getComputedStyle(e),n=e.offsetWidth-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth);v(Math.ceil(n/11))}},[]);var g,h=function(){d(null),"function"==typeof o&&o()},b=function(e){return e<=6?"redbdrbglit1 red":7===e||8===e?"ylwbdrbglit1 ylw":9===e||10===e?"grnbdrbglit1 grn":""};return Nb.createElement(Nb.Fragment,null,c&&null!==y()&&Nb.createElement("div",{className:"arrw",style:{insetInlineStart:"".concat((g=y(),null!==g&&m*g),"px")}},Nb.createElement("span",{className:"arrw-reversed ".concat(function(e){return e<=6?"red":7===e||8===e?"ylw":9===e||10===e?"grn":""}(y()))})),Nb.createElement("div",{className:"d-inle-flex",ref:p},Array.from({length:11},function(e,t){return o=n||!n&&null!==y()&&t<=y(),Nb.createElement(J_,{key:"nps-dom-key-"+t,index:t,className:"".concat(n?"CPD":""," zlabel--outline ").concat(o?b(t):""),onClickHandler:function(){return function(e){"function"==typeof r&&r(e)}(t)},onHoverHandler:function(){return function(e){d(e),"function"==typeof a&&a(e)}(t)},onLeaveHandler:h,ariaLabel:t+" "+ZPI18N.getString("zp.rating")},t);var o})))},Uw=function(e){var t=e.minScoreText,n=e.maxScoreText,r=e.updateMinScoreText,a=e.updateMaxScoreText,o=e.readonly,i=void 0===o||o,l=e.error,c=e.viewType,u=void 0===c?"":c,s=e.onClickHandler,d=e.onHoverHandler,p=e.onHoverLeave,f=e.selectedBtn,m=void 0===f?null:f,v=e.showArrow,y=void 0!==v&&v,g=e.isOnlyView||!i,h=null==l?void 0:l.length;return Nb.createElement("div",{className:"".concat("userInter"==u?"zpl_numbrScal M0I":"zpl_numbrScal"),tabIndex:"0","aria-label":ZPI18N.getString("zp.survey.nps.response.desc",[t,n])},Nb.createElement(Bw,{isView:g,onClickHandler:s,onHoverHandler:d,onHoverLeave:p,selectBtn:m,showArrow:y}),Nb.createElement("div",{className:"d-flex j-cnt-btwen ".concat(i?"numbrScal_btm":"")},i?Nb.createElement(Nb.Fragment,null,Nb.createElement("em",null,t),Nb.createElement("em",null,n)):Nb.createElement(Nb.Fragment,null,Nb.createElement(dw,{className:"w150",maxLength:50,value:t,onChangeHandler:r}),Nb.createElement(dw,{className:"w150",maxLength:50,value:n,onChangeHandler:a}))),h?Nb.createElement("span",{className:"ztextbox--error__label"},l):null)};function Hw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Vw=function(e){var t=e.data,n=e.errorData,r=e.isMetricNeeded,a=(0,Nb.useRef)(null),o=Kb(),i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Hw(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(null),2),l=i[0],c=i[1];return(0,Nb.useEffect)(function(){a.current.focus()},[]),Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn zpl_assQtype",id:"question"},r&&Nb.createElement(ZS,{metricId:t.metric_id,updateMetric:function(e){o(Mu({metric_id:e.value}))}}),Nb.createElement(pS,{name:ZPI18N.getString("zp.question"),isMandatory:!0}),Nb.createElement(yS,{question:t.question,error:null==n?void 0:n.question,showFileImage:!1,questionRef:a}),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(pS,{name:ZPI18N.getString("zp.survey.answer.score")}),Nb.createElement("div",null,Nb.createElement(Uw,{minScoreText:t.minscore_text,maxScoreText:t.maxscore_text,updateMinScoreText:function(e){var t=e.target.value;o(Qu({minscore_text:t}))},updateMaxScoreText:function(e){var t=e.target.value;o(Xu({maxscore_text:t}))},readonly:!1,onClickHandler:function(e){c(e)},selectedBtn:l}))))))},Yw=function(e){var t=e.className,n=e.label,r=e.id,a=e.isActive,o=void 0!==a&&a,i=e.callback,l=void 0===i?function(){return!1}:i,c=e.onClickHandler,u=e.disabled,s=e.ariaLabel,d=e.name;return Nb.createElement("div",{className:t},Nb.createElement("input",{type:"radio",id:r,className:"zradiobutton__helper",onChange:l,checked:o,disabled:u,onClick:c,"aria-label":s,name:d}),Nb.createElement("label",{className:"zradiobutton__label",htmlFor:r},Nb.createElement("span",{className:"zradiobutton__text"},n)))},Ww=function(e){var t=e.ratingConfig,n=Kb(),r=t.rating_type,a=t.max_count,o=function(e){var a=e-2;n(Bu({max_count:e})),n(Gu({scale_customtext:WS($S(r,e))})),n(Yu({comment_score:a})),n(Hu({comment_criteria:t.comment_criteria,comment_score:a}))};return Nb.createElement("div",null,Nb.createElement(Yw,{label:3,id:zE(),callback:function(){return o(3)},isActive:3===a,className:"zradiobutton zradiobutton--horizontal"}),Nb.createElement(Yw,{label:5,id:zE(),callback:function(){return o(5)},isActive:5===a,className:"zradiobutton zradiobutton--horizontal"}),Nb.createElement(Yw,{label:7,id:zE(),callback:function(){return o(7)},isActive:7===a,className:"zradiobutton zradiobutton--horizontal"}))},Gw=function(e){var t=e.layout,n=Kb(),r=function(e){n(Wu({layout:e}))};return Nb.createElement("div",null,Nb.createElement(Yw,{label:ZPI18N.getString("zp.Card"),id:zE(),callback:function(){return r(0)},isActive:0===t,className:"zradiobutton zradiobutton--horizontal"}),Nb.createElement(Yw,{label:ZPI18N.getString("zp.widgetypeButton"),id:zE(),callback:function(){return r(1)},isActive:1===t,className:"zradiobutton zradiobutton--horizontal"}))},$w=function(e){var t=e.ratingType,n=Kb(),r="custom_number",a="custom_smiley",o=function(e){n(Uu({rating_type:e}))};return Nb.createElement("div",null,Nb.createElement(Yw,{label:ZPI18N.getString("zp.number"),id:zE(),callback:function(){return o(r)},isActive:t===r,className:"zradiobutton zradiobutton--horizontal"}),Nb.createElement(Yw,{label:ZPI18N.getString("zp.feedback.rating_scale.custom.emoji"),id:zE(),callback:function(){return o(a)},isActive:t===a,className:"zradiobutton zradiobutton--horizontal"}))},Qw=function(e){var t=e.label;return Nb.createElement("div",{className:"zpl_crdScaltxt",title:t},Nb.createElement("em",null,t))},Xw=function(e){var t=e.className,n=e.layout,r=e.isCustomRepr;return Nb.createElement("div",{className:"".concat(1==n?"zpl_btnScalimg":"zpl_crdScalimg"," ").concat(r?"zpl_crdScalCstm":"")},Nb.createElement("div",{className:t}))},Kw=function(e){var t=e.ratingConfig,n=e.customText,r=e.isView,a=void 0===r||r,o=e.selectBtn,i=e.handleBoxToggle,l=e.bgColor,c=e.hoverBtn,u=e.onBoxHover,s=e.onBoxLeave,d=t.max_count,p=Im(d,0,l);return Nb.createElement("div",{className:"zpl_crdScal"},ce[d].map(function(e,t){return l=a||!a&&(null!=c?t==c:null!=o&&t==o),d=Nm(null===(r=n[t])||void 0===r?void 0:r.label),Nb.createElement("div",{index:t,key:"emoji-card-key-"+t,className:"".concat(a?"CPD":""," ").concat(l?p[t]:""),onClick:function(){return i(t)},onMouseOver:function(){return u(t)},onMouseLeave:s,tabIndex:"0","aria-label":ZPI18N.getString("zp.rating")+"".concat(t+1," - ").concat(d)},Nb.createElement(Xw,{className:e}),Nb.createElement(Qw,{label:d}));var r,l,d}))},Jw=function(e){var t=e.className;return Nb.createElement("div",{className:"zpl_crdScalbdr"},Nb.createElement("div",{className:t}))},eN=function(e){var t=e.ratingConfig,n=e.customText,r=e.isView,a=void 0===r||r,o=e.selectBtn,i=e.handleBoxToggle,l=e.bgColor,c=e.hoverBtn,u=e.onBoxHover,s=e.onBoxLeave,d=t.max_count,p=Im(d,0,l);return Nb.createElement("div",{className:"zpl_crdScal"},se[d].map(function(e,t){return l=a||!a&&(null!=c?t==c:null!=o&&t==o),d=Nm(null===(r=n[t])||void 0===r?void 0:r.label),Nb.createElement("div",{index:t,key:"freq-card-key-"+t,className:"".concat(a?"CPD":""," ").concat(l?p[t]:""),onClick:function(){return i(t)},onMouseOver:function(){return u(t)},onMouseLeave:s,tabIndex:"0","aria-label":ZPI18N.getString("zp.rating")+"".concat(t+1," - ").concat(d)},Nb.createElement(Jw,{className:e}),Nb.createElement(Qw,{label:d}));var r,l,d}))},tN=function(e){var t=e.className,n=e.label,r=e.tagName||"div";return Nb.createElement(r,{className:"zpl_crdScalCstm"},Nb.createElement("div",{className:t},n))},nN=function(e){var t=e.ratingConfig,n=e.customText,r=e.isView,a=void 0===r||r,o=e.selectBtn,i=e.handleBoxToggle,l=e.bgColor,c=e.hoverBtn,u=e.onBoxHover,s=e.onBoxLeave,d=t.max_count,p=Im(d,0,l);return Nb.createElement("div",{className:"zpl_crdScal"},me[d].map(function(e,t){return l=a||!a&&(null!=c?t==c:null!=o&&t==o),d=Nm(null===(r=n[t])||void 0===r?void 0:r.label),Nb.createElement("div",{rel:"BUTTON",index:t,key:"number-card-key-"+t,className:"".concat(a?"CPD":""," ").concat(l?p[t]:""),onClick:function(){return i(t)},onMouseOver:function(){return u(t)},onMouseLeave:s,tabIndex:"0","aria-label":ZPI18N.getString("zp.rating")+"".concat(t+1," - ").concat(d)},Nb.createElement(tN,{className:e,label:t+1}),Nb.createElement(Qw,{label:d}));var r,l,d}))},rN=function(e){var t=e.ratingConfig,n=e.customText,r=e.isView,a=void 0===r||r,o=e.selectBtn,i=e.handleBoxToggle,l=e.bgColor,c=e.hoverBtn,u=e.onBoxHover,s=e.onBoxLeave,d=t.max_count,p=Im(d,0,l);return Nb.createElement("div",{className:"zpl_crdScal"},de[d].map(function(e,t){return l=a||!a&&(null!=c?t==c:null!=o&&t==o),d=Nm(null===(r=n[t])||void 0===r?void 0:r.label),Nb.createElement("div",{rel:"BUTTON",index:t,key:"thumbsupanddown-card-key-"+t,className:"".concat(a?"CPD":""," ").concat(l?p[t]:""),onClick:function(){return i(t)},onMouseOver:function(){return u(t)},onMouseLeave:s,tabIndex:"0","aria-label":ZPI18N.getString("zp.rating")+"".concat(t+1," - ").concat(d)},Nb.createElement(Xw,{className:e}),Nb.createElement(Qw,{label:d}));var r,l,d}))},aN=function(e){var t=e.ratingConfig,n=e.customText,r=e.isView,a=void 0===r||r,o=e.selectBtn,i=e.handleBoxToggle,l=e.bgColor,c=e.hoverBtn,u=e.onBoxHover,s=e.onBoxLeave,d=t.max_count,p=Im(d,0,l);return Nb.createElement("div",{className:"zpl_crdScal"},pe[d].map(function(e,t){return l=a||!a&&(null!=c?t==c:null!=o&&t==o),d=Nm(null===(r=n[t])||void 0===r?void 0:r.label),Nb.createElement("div",{rel:"BUTTON",index:t,key:"yesno-card-key-"+t,className:"".concat(a?"CPD":""," ").concat(l?p[t]:""),onClick:function(){return i(t)},onMouseOver:function(){return u(t)},onMouseLeave:s,tabIndex:"0","aria-label":ZPI18N.getString("zp.rating")+"".concat(t+1," - ").concat(d)},Nb.createElement(Xw,{className:e}),Nb.createElement(Qw,{label:d}));var r,l,d}))},oN=function(e){var t=e.ratingConfig,n=e.customText,r=e.isView,a=void 0===r||r,o=e.selectBtn,i=e.handleBoxToggle,l=e.bgColor,c=e.hoverBtn,u=e.onBoxHover,s=e.onBoxLeave,d=t.max_count,p=Im(d,0,l);return Nb.createElement("div",{className:"zpl_crdScal"},fe[d].map(function(e,t){return l=a||!a&&(null!=c?t==c:null!=o&&t==o),d=Nm(null===(r=n[t])||void 0===r?void 0:r.label),Nb.createElement("div",{rel:"BUTTON",index:t,key:"happyunhappy-card-key-"+t,className:"".concat(a?"CPD":""," ").concat(l?p[t]:""),onClick:function(){return i(t)},onMouseOver:function(){return u(t)},onMouseLeave:s,tabIndex:"0","aria-label":ZPI18N.getString("zp.rating")+"".concat(t+1," - ").concat(d)},Nb.createElement(Xw,{className:e}),Nb.createElement(Qw,{label:d}));var r,l,d}))},iN=function(e){var t=e.ratingConfig,n=e.customText,r=e.isView,a=e.selectBtn,o=e.handleBoxToggle,i=e.bgColor,l=e.hoverBtn,c=e.onBoxHover,u=e.onBoxLeave,s=t.rating_type;return Nb.createElement("div",null,s==ee||s==ne||s==ae?Nb.createElement(Kw,{ratingConfig:t,customText:n,isView:r,selectBtn:a,handleBoxToggle:o,bgColor:i,hoverBtn:l,onBoxHover:c,onBoxLeave:u}):s==te?Nb.createElement(eN,{ratingConfig:t,customText:n,isView:r,selectBtn:a,handleBoxToggle:o,bgColor:i,hoverBtn:l,onBoxHover:c,onBoxLeave:u}):s==re?Nb.createElement(nN,{ratingConfig:t,customText:n,isView:r,selectBtn:a,handleBoxToggle:o,bgColor:i,hoverBtn:l,onBoxHover:c,onBoxLeave:u}):s==oe?Nb.createElement(rN,{ratingConfig:t,customText:n,isView:r,selectBtn:a,handleBoxToggle:o,bgColor:i,hoverBtn:l,onBoxHover:c,onBoxLeave:u}):s==ie?Nb.createElement(aN,{ratingConfig:t,customText:n,isView:r,selectBtn:a,handleBoxToggle:o,bgColor:i,hoverBtn:l,onBoxHover:c,onBoxLeave:u}):s==le?Nb.createElement(oN,{ratingConfig:t,customText:n,isView:r,selectBtn:a,handleBoxToggle:o,bgColor:i,hoverBtn:l,onBoxHover:c,onBoxLeave:u}):void 0)},lN=function(e){var t=e.ratingConfig,n=e.customText,r=e.isView,a=void 0===r||r,o=e.selectBtn,i=e.handleBoxToggle,l=e.bgColor,c=e.hoverBtn,u=e.onBoxHover,s=e.onBoxLeave,d=t.max_count,p=t.layout,f=Im(d,1,l);return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zpl_btnScal"},Nb.createElement("div",null,ce[d].map(function(e,t){return l=a||!a&&(null!=c?t==c:null!=o&&t==o),d=Nm(null===(r=n[t])||void 0===r?void 0:r.label),Nb.createElement(J_,{index:t,key:"emoji-button-key-"+t,className:"".concat(a?"CPD":""," zlabel--outline zpl_ws-nor zpl_tl ").concat(l?f[t]:""),onClickHandler:function(){return i(t)},onHoverHandler:function(){return u(t)},onLeaveHandler:s,ariaLabel:ZPI18N.getString("zp.rating")+"".concat(t+1," - ").concat(d)},Nb.createElement(Xw,{className:e,layout:p}),d);var r,l,d}))))},cN=function(e){var t=e.ratingConfig,n=e.customText,r=e.isView,a=void 0===r||r,o=e.selectBtn,i=e.handleBoxToggle,l=e.bgColor,c=e.hoverBtn,u=e.onBoxHover,s=e.onBoxLeave,d=t.max_count,p=t.layout,f=Im(d,1,l);return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zpl_btnScal"},Nb.createElement("div",null,se[d].map(function(e,t){return l=a||!a&&(null!=c?t==c:null!=o&&t==o),d=Nm(null===(r=n[t])||void 0===r?void 0:r.label),Nb.createElement(J_,{index:t,key:"freq-button-key-"+t,className:"".concat(a?"CPD":""," zlabel--outline zpl_ws-nor zpl_tl ").concat(l?f[t]:""),onClickHandler:function(){return i(t)},onHoverHandler:function(){return u(t)},onLeaveHandler:s,ariaLabel:ZPI18N.getString("zp.rating")+"".concat(t+1," - ").concat(d)},Nb.createElement(Jw,{className:e,layout:p}),d);var r,l,d}))))},uN=function(e){var t=e.ratingConfig,n=e.customText,r=e.isView,a=void 0===r||r,o=e.selectBtn,i=e.handleBoxToggle,l=e.bgColor,c=e.hoverBtn,u=e.onBoxHover,s=e.onBoxLeave,d=t.max_count,p=Im(d,1,l);return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zpl_btnScal"},Nb.createElement("div",null,me[d].map(function(e,t){return l=a||!a&&(null!=c?t==c:null!=o&&t==o),d=Nm(null===(r=n[t])||void 0===r?void 0:r.label),Nb.createElement(J_,{index:t,key:"number-button-key-"+t,className:"".concat(a?"CPD":""," zlabel--outline zpl_ws-nor zpl_tl ").concat(l?p[t]:""),onClickHandler:function(){return i(t)},onHoverHandler:function(){return u(t)},onLeaveHandler:s,ariaLabel:ZPI18N.getString("zp.rating")+"".concat(t+1," - ").concat(d)},Nb.createElement(tN,{className:e,label:t+1}),d);var r,l,d}))))},sN=function(e){var t=e.ratingConfig,n=e.customText,r=e.isView,a=void 0===r||r,o=e.selectBtn,i=e.handleBoxToggle,l=e.bgColor,c=e.hoverBtn,u=e.onBoxHover,s=e.onBoxLeave,d=t.max_count,p=t.layout,f=Im(d,1,l);return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zpl_btnScal"},Nb.createElement("div",null,de[d].map(function(e,t){return l=a||!a&&(null!=c?t==c:null!=o&&t==o),d=Nm(null===(r=n[t])||void 0===r?void 0:r.label),Nb.createElement(J_,{index:t,key:"thumbsupanddown-button-key-"+t,className:"".concat(a?"CPD":""," zlabel--outline zpl_ws-nor zpl_tl ").concat(l?f[t]:""),onClickHandler:function(){return i(t)},onHoverHandler:function(){return u(t)},onLeaveHandler:s,ariaLabel:ZPI18N.getString("zp.rating")+"".concat(t+1," - ").concat(d)},Nb.createElement(Xw,{className:e,layout:p}),d);var r,l,d}))))},dN=function(e){var t=e.ratingConfig,n=e.customText,r=e.isView,a=void 0===r||r,o=e.selectBtn,i=e.handleBoxToggle,l=e.bgColor,c=e.hoverBtn,u=e.onBoxHover,s=e.onBoxLeave,d=t.max_count,p=t.layout,f=Im(d,1,l);return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zpl_btnScal"},Nb.createElement("div",null,pe[d].map(function(e,t){return l=a||!a&&(null!=c?t==c:null!=o&&t==o),d=Nm(null===(r=n[t])||void 0===r?void 0:r.label),Nb.createElement(J_,{index:t,key:"yesno-button-key-"+t,className:"".concat(a?"CPD":""," zlabel--outline zpl_ws-nor zpl_tl ").concat(l?f[t]:""),onClickHandler:function(){return i(t)},onHoverHandler:function(){return u(t)},onLeaveHandler:s,ariaLabel:ZPI18N.getString("zp.rating")+"".concat(t+1," - ").concat(d)},Nb.createElement(Xw,{className:e,layout:p}),d);var r,l,d}))))},pN=function(e){var t=e.ratingConfig,n=e.customText,r=e.isView,a=void 0===r||r,o=e.selectBtn,i=e.handleBoxToggle,l=e.bgColor,c=e.hoverBtn,u=e.onBoxHover,s=e.onBoxLeave,d=t.max_count,p=t.layout,f=Im(d,1,l);return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zpl_btnScal"},Nb.createElement("div",null,fe[d].map(function(e,t){return l=a||!a&&(null!=c?t==c:null!=o&&t==o),d=Nm(null===(r=n[t])||void 0===r?void 0:r.label),Nb.createElement(J_,{index:t,key:"happyunhappy-button-key-"+t,className:"".concat(a?"CPD":""," zlabel--outline zpl_ws-nor zpl_tl ").concat(l?f[t]:""),onClickHandler:function(){return i(t)},onHoverHandler:function(){return u(t)},onLeaveHandler:s,ariaLabel:ZPI18N.getString("zp.rating")+"".concat(t+1," - ").concat(d)},Nb.createElement(Xw,{className:e,layout:p}),d);var r,l,d}))))},fN=function(e){var t=e.ratingConfig,n=e.customText,r=e.isView,a=e.selectBtn,o=e.handleBoxToggle,i=e.bgColor,l=e.hoverBtn,c=e.onBoxHover,u=e.onBoxLeave,s=t.rating_type;return Nb.createElement("div",null,s==ee||s==ne||s==ae?Nb.createElement(lN,{ratingConfig:t,customText:n,isView:r,selectBtn:a,handleBoxToggle:o,bgColor:i,hoverBtn:l,onBoxHover:c,onBoxLeave:u}):s==te?Nb.createElement(cN,{ratingConfig:t,customText:n,isView:r,selectBtn:a,handleBoxToggle:o,bgColor:i,hoverBtn:l,onBoxHover:c,onBoxLeave:u}):s==re?Nb.createElement(uN,{ratingConfig:t,customText:n,isView:r,selectBtn:a,handleBoxToggle:o,bgColor:i,hoverBtn:l,onBoxHover:c,onBoxLeave:u}):s==oe?Nb.createElement(sN,{ratingConfig:t,customText:n,isView:r,selectBtn:a,handleBoxToggle:o,bgColor:i,hoverBtn:l,onBoxHover:c,onBoxLeave:u}):s==ie?Nb.createElement(dN,{ratingConfig:t,customText:n,isView:r,selectBtn:a,handleBoxToggle:o,bgColor:i,hoverBtn:l,onBoxHover:c,onBoxLeave:u}):s==le?Nb.createElement(pN,{ratingConfig:t,customText:n,isView:r,selectBtn:a,handleBoxToggle:o,bgColor:i,hoverBtn:l,onBoxHover:c,onBoxLeave:u}):void 0)};function mN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vN(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vN(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var yN=function(e){var t=e.ratingConfig,n=e.customText,r=e.isView,a=e.color,o=e.onClickHandler,i=e.selectedbtn,l=void 0===i?null:i,c=(null==a?void 0:a.background)||"",u=t.layout||0,s=mN((0,Nb.useState)(l),2),d=s[0],p=s[1],f=mN((0,Nb.useState)(null),2),m=f[0],v=f[1];(0,Nb.useEffect)(function(){p(l)},[l]);var y=function(e){p(e),"function"==typeof o&&o(e)},g=function(e){v(e)},h=function(){v(null)};return Nb.createElement("div",null,0==u?Nb.createElement(iN,{ratingConfig:t,customText:n,isView:r,selectBtn:d,handleBoxToggle:y,bgColor:c,hoverBtn:m,onBoxHover:g,onBoxLeave:h}):1==u?Nb.createElement(fN,{ratingConfig:t,customText:n,isView:r,selectBtn:d,handleBoxToggle:y,bgColor:c,hoverBtn:m,onBoxHover:g,onBoxLeave:h}):void 0)},gN=function(e){var t,n=e.customText,r=e.ratingConfig,a=Kb(),o=r.max_count,i=r.rating_type;return Nb.createElement("div",null,Nb.createElement("div",{className:"d-flexclmcap"},Nb.createElement("ul",{className:"zpl_qaSort zpl_drgHvr"},(t=[],i==ae?t=ce[o]:i===re?t=me[o]:i===oe?t=de[o]:i===ie?t=pe[o]:i===le&&(t=fe[o]),t).map(function(e,t){var r,o=P(Nm(null===(r=n[t])||void 0===r?void 0:r.label));return Nb.createElement("li",{key:t},Nb.createElement("div",null,Nb.createElement("div",null,Nb.createElement("div",{className:"d-flexC wd100_per zpl_crdScal"},i===ae||i===oe||i===ie||i===le?Nb.createElement(Xw,{className:e,isCustomRepr:!0}):i===re?Nb.createElement(tN,{className:e,label:t+1,tagName:"span"}):void 0,Nb.createElement(EE,{tagName:"span",className:"wd100_per",onChange:function(e){I(e.currentTarget,255),function(e,t){a($u({key:t,scale_customtext:e.currentTarget.innerText}))}(e,t)},html:o,onPaste:x})))))}))))},hN=function(e){var t=e.title,n=e.message;return Nb.createElement("div",null,Nb.createElement("h5",null,t),n?Nb.createElement("p",{dangerouslySetInnerHTML:{__html:n}}):null)},bN=function(e){var t,n=e.data,r=e.errorData,a=e.isMetricNeeded,o=Kb(),i=(0,Nb.useRef)(null),l=n.scale_customtext,c=n.rating_config,u=c.rating_type,s=c.max_count,d={agreement_scale:"zp.feedback.rating_scale.agreement",frequency_scale:"zp.frequency",satisfaction_scale:"zp.satisfaction",custom_number:"zp.custom",custom_smiley:"zp.custom"},p=Object.keys(d).map(function(e){var n={value:e,label:ZPI18N.getString(d[e])};if(e==u&&(t=n),"custom_smiley"!=e)return n});return p=p.filter(function(e){return null!=e}),(0,Nb.useEffect)(function(){i.current.focus()},[]),(0,Nb.useEffect)(function(){o(Gu({scale_customtext:WS(GS({max_count:s,rating_type:u,scale_customtext:l}))}))},[]),Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn zpl_assQtype",id:"question"},a&&Nb.createElement(ZS,{metricId:n.metric_id,updateMetric:function(e){o(Mu({metric_id:e.value}))}}),Nb.createElement(pS,{name:ZPI18N.getString("zp.question"),isMandatory:!0}),Nb.createElement(yS,{question:n.question,error:null==r?void 0:r.question,showFileImage:!1,questionRef:i}),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(pS,{name:ZPI18N.getString("zp.survey.scale.level")}),Nb.createElement(Ww,{ratingConfig:c})),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(pS,{name:ZPI18N.getString("zp.survey.scale.type")}),Nb.createElement(MS,{options:p,isSearchable:!0,value:t,onChange:function(e){return t=e.value,o(Uu({rating_type:t})),void o(Gu({scale_customtext:WS($S(t,s))}));var t}})),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(pS,{name:ZPI18N.getString("zp.scaleview")}),Nb.createElement(Gw,{layout:c.layout})),(re===u||ae===u)&&Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(pS,{name:ZPI18N.getString("zp.survey.scale.representation.type")}),Nb.createElement($w,{ratingType:u})),(re===u||ae===u)&&Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(hN,{title:ZPI18N.getString("zp.survey.scale.modify")}),Nb.createElement(gN,{ratingConfig:c,customText:l})),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(hN,{title:ZPI18N.getString("zp.feedback.rating_scale.representation")}),Nb.createElement(yN,{ratingConfig:c,customText:l})))))};function _N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return EN(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EN(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var SN,wN=function(e){var t=e.maxCount,n=e.isView,r=void 0===n||n,a=e.onClickHandler,o=e.selectedStar,i=void 0===o?null:o,l=_N((0,Nb.useState)(i),2),c=l[0],u=l[1],s=_N((0,Nb.useState)(null),2),d=s[0],p=s[1];(0,Nb.useEffect)(function(){u(i)},[i]);var f=function(e){u(e),"function"==typeof a&&a(e+1)},m=function(){p(null)};return Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_strRatn"},Nb.createElement("div",{className:"zpl_str",tabIndex:"0","aria-label":ZPI18N.getString("zp.survey.star.response.desc",[1,t,1,t])},Array.from({length:t||5},function(e,t){return n=r||!r&&(null!=d?t<=d:null!=c&&t<=c),Nb.createElement("i",{key:"star-dom-key-"+t,index:t,className:"".concat(r?"CPD":""," PI_star ").concat(n?"ylw":"gry"),onClick:function(){return f(t)},onMouseOver:function(){p(t)},onMouseLeave:m,onKeyDown:function(e){return function(e,t){"Enter"===e.key&&f(t)}(e,t)},tabIndex:"0","aria-label":"".concat(t+1," ")+ZPI18N.getString("zp.lms.feedback.star")});var n}))))},NN=function(e){var t,n=e.data,r=e.errorData,a=e.isMetricNeeded,o=Kb(),i=(0,Nb.useRef)(null),l=n.rating_config,c=l.max_count,u=([{3:"3 "+ZPI18N.getString("zp.lms.feedback.star")},{4:"4 "+ZPI18N.getString("zp.lms.feedback.star")},{5:"5 "+ZPI18N.getString("zp.lms.feedback.star")},{6:"6 "+ZPI18N.getString("zp.lms.feedback.star")},{7:"7 "+ZPI18N.getString("zp.lms.feedback.star")},{8:"8 "+ZPI18N.getString("zp.lms.feedback.star")},{9:"9 "+ZPI18N.getString("zp.lms.feedback.star")},{10:"10 "+ZPI18N.getString("zp.lms.feedback.star")}]||[]).map(function(e){var n=Object.keys(e)[0],r={value:n,label:e[n]};return c==n&&(t=r),r});return Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn zpl_assQtype",id:"question"},a&&Nb.createElement(ZS,{metricId:n.metric_id,updateMetric:function(e){o(Mu({metric_id:e.value}))}}),Nb.createElement(pS,{name:ZPI18N.getString("zp.question"),isMandatory:!0}),Nb.createElement(yS,{question:n.question,error:null==r?void 0:r.question,showFileImage:!1,questionRef:i}),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(pS,{name:ZPI18N.getString("zp.survey.star.levels")}),Nb.createElement(MS,{options:u,isSearchable:!0,value:t,onChange:function(e){return n=(t=e.value)-1,o(Bu({max_count:t})),o(Yu({comment_score:n})),void o(Hu({comment_criteria:l.comment_criteria,comment_score:n}));var t,n}})),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(hN,{title:ZPI18N.getString("zp.feedback.rating_scale.representation")}),Nb.createElement(wN,{maxCount:c})))))},PN=function(e){var t=e.maxcount,n=e.clickHandler,r=e.iconVal;return Nb.createElement("div",{className:"zpl_flex-a-c zpl_gap-5"},ye[t].map(function(e,t){var a=t==r?e+" zpl_act":e;return Nb.createElement("i",{type:"button","data-menu-id":"serviceIcon",key:t,id:t,className:a,onClick:n})}))},ON=function(e){var t=e.data,n=e.errorData,r=e.isMetricNeeded,a=Kb(),o=(0,Nb.useRef)(null),i=t.scale_customtext,l=t.rating_config,c=l.rating_type,u=l.max_count,s={thumbsupdown_scale:0,yesno_scale:1,happyunhappy_scale:2},d={};return Object.keys(s).map(function(e){d[s[e]]=e}),(0,Nb.useEffect)(function(){o.current.focus()},[]),(0,Nb.useEffect)(function(){a(Gu({scale_customtext:WS(GS({max_count:u,rating_type:c,scale_customtext:i}))}))},[]),Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn zpl_assQtype",id:"question"},r&&Nb.createElement(ZS,{metricId:t.metric_id,updateMetric:function(e){a(Mu({metric_id:e.value}))}}),Nb.createElement(pS,{name:ZPI18N.getString("zp.question"),isMandatory:!0}),Nb.createElement(yS,{question:t.question,error:null==n?void 0:n.question,showFileImage:!1,questionRef:o}),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(pS,{name:ZPI18N.getString("zp.survey.scale.type")}),Nb.createElement(PN,{maxcount:l.max_count,iconVal:s[c],clickHandler:function(e){var t=e.target.getAttribute("id");a(Uu({rating_type:d[t]})),a(Gu({scale_customtext:WS($S(d[t],u))}))}})),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(pS,{name:ZPI18N.getString("zp.scaleview")}),Nb.createElement(Gw,{layout:l.layout})),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(hN,{title:"Modify Labels"}),Nb.createElement(gN,{ratingConfig:l,customText:i})),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(hN,{title:ZPI18N.getString("zp.feedback.rating_scale.representation")}),Nb.createElement(yN,{ratingConfig:l,customText:i})))))},IN=["type"];function zN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var CN=Object.fromEntries(null===(SN=Object.entries(En))||void 0===SN?void 0:SN.map(function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zN(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zN(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),n=t[0];return[t[1],n]})),TN=function(e){var t=e.isLoading,n=e.viewType,r=e.mode,a=e.surveyData,o=Mb(function(e){return e.questionCard}),i=o.errorData,l=o.data,c=l.type,u=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(l,IN),s=u[c],d=a.metric_type===yn&&(n==fw.TEMPLATE||n==fw.MODULE),p=n==fw.MODULE||n==fw.TEMPLATE||fw.QUESTION_POOL;return Nb.createElement("div",{className:"zpl_mcnt zpl_fm ovh"},Nb.createElement("div",{className:"zpl_iwrpr"},Nb.createElement(cw,{surveyData:a}),Nb.createElement("div",{className:"zpl_iwrprrgt"},Nb.createElement("div",{className:"zpl_act"},t?Nb.createElement(aE,null):Nb.createElement(Nb.Fragment,null,c===Jn.SINGLE_CHOICE.TYPE?Nb.createElement(BS,{data:s,isMetricNeeded:d,isAddOther:!0,isChoiceInfoNeeded:!1,showImgUpload:!1,errorData:i,viewType:_e,qbankMode:n,showColPicker:p}):c===Jn.MULTIPLE_CHOICE.TYPE?Nb.createElement(US,{data:s,isMetricNeeded:d,isAddOther:!0,isChoiceInfoNeeded:!1,showImgUpload:!1,errorData:i,viewType:_e,qbankMode:n,showColPicker:p}):c===Jn.COMMENT.TYPE?Nb.createElement(vw,{data:s,isMetricNeeded:d,errorData:i}):c===Jn.DATE.TYPE?Nb.createElement(Zw,{data:s,errorData:i}):c===Jn.NPS.TYPE?Nb.createElement(Vw,{data:s,isMetricNeeded:d,errorData:i}):c===Jn.STAR.TYPE?Nb.createElement(NN,{data:s,isMetricNeeded:d,errorData:i}):c===Jn.RATING_SCALE.TYPE?Nb.createElement(bN,{data:s,isMetricNeeded:d,errorData:i}):c===Jn.TWO_POINT_SCALE.TYPE?Nb.createElement(ON,{data:s,isMetricNeeded:d,errorData:i}):void 0,(c!=Jn.COMMENT.TYPE||[fw.TEMPLATE,fw.MODULE,fw.OFFBOARDING_FEEDBACK,fw.EXTEND_INTERVIEW_CREATION,fw.CUSTOM_FEEDBACK].includes(n))&&Nb.createElement(mw,{questionData:s,viewType:n,mode:r}))))))},xN={templateId:"",surveyId:"",questionId:"",template_add:function(){return"zpsurvey/surveys/templates/add"},template_edit:function(){return"zpsurvey/surveys/templates/".concat(this.templateId,"/edit")},template_view:function(){return"zpsurvey/surveys/templates/".concat(this.templateId)},template_view_v2:function(){var e=lh.getState().createSurvey.surveyData.survey_id;return"zpsurvey/surveys/templates/".concat(e)},template_question_view:function(){return"zpsurvey/templates/questions/".concat(this.questionId)},template_question_reorder:function(){return"zpsurvey/templates/".concat(this.templateId,"/questions/reorder")},survey_view_v2:function(){return"zpsurvey/surveys/".concat(this.surveyId)},question:function(){return"zpsurvey/questions"},question_read:function(){return"zpsurvey/questions/".concat(this.questionId)}};const kN=e=>{const{questionPool:t}=lh.getState(),n=t.filterJSON,{question_text:r,question_type:a}=n;let o=e;AN(e),e.querySelector("div[rel=FILTER_HEADER]")?.remove(),o.querySelector("[rel=FILTER_POPUP]")?.remove(),o.appendChild(ZPCreateDOM("div",{className:"zpl_fltr",rel:"FILTER_POPUP"},ZPCreateDOM(ab,{clsCallback:()=>jN(o)}),ZPCreateDOM("div",{className:"zpl_fltrcnt",rel:"QPOOL_FILTER_CONTENT"}),ZPCreateDOM(ob,{saveCallback:()=>RN(o),clsCallback:()=>{DN(o),YP(!0)}}))),o.querySelector("div[rel=QPOOL_FILTER_CONTENT]").appendChild(ZPCreateDOM(qN,{question:r}));let i=Object.keys(Jn),l=[],c=[];i.forEach(e=>{let t={value:Jn[e].DISPLAY_NAME,id:Jn[e].TYPE};l.push(t),a?.includes(Jn[e].TYPE)&&c.push(t)}),ZPeopleComponents.tokenfield($(o).find("#qtypeFilter"),Wm(l,c)),MN(e,!1);const u=o.querySelector("#questionNameFilter");u?.focus(),u.selectionStart=u.selectionEnd=u.value.length},DN=e=>{lh.dispatch(Td({filterJSON:{}})),jN(e)},jN=e=>{AN(e),e.querySelector("div[rel=FILTER_POPUP]")?.remove(),MN(e)},AN=e=>{let t=e.querySelector("#qtypeFilter");t&&ZPeopleComponents.tokenfield($(t)).destroy()},RN=e=>{let t=e.querySelector("div[rel=FILTER_POPUP]"),n=t.querySelector("#questionNameFilter"),r=t.querySelector("#qtypeFilter"),a={};const o=(ZPeopleComponents.tokenfield($(r)).getAllValues()||[]).map(e=>e.id);n.value.trim().length>0&&(a.question_text=n.value.trim()),o.length>0&&(a.question_type=o),lh.dispatch(xd()),lh.dispatch(Td({filterJSON:a})),jN(e),YP(!0)},qN=e=>{const{question:t=""}=e;return ZPCreateDOM("div",{className:"zpl_fltrcnt"},ZPCreateDOM("div",{className:"zpl_secn"},ZPCreateDOM("div",null,ZPCreateDOM("label",null,ZPI18N.getString("zp.survey.question.contains"))),ZPCreateDOM("div",null,ZPCreateDOM("input",{placeholder:ZPI18N.getString("zp.survey.question.name"),type:"text",className:"ztextbox",id:"questionNameFilter",value:t,autoFocus:!0}))),ZPCreateDOM("div",{className:"zpl_secn"},ZPCreateDOM("div",null,ZPCreateDOM("label",null,ZPI18N.getString("zp.assessment.questiontype"))),ZPCreateDOM("div",null,ZPCreateDOM("textarea",{id:"qtypeFilter",rows:"60",style:"display: none;","data-zbp-bound":"true"}))))},MN=(e,t=!0)=>{const{questionPool:n}=lh.getState(),r=n.filterJSON;if(e.querySelector("div[rel=FILTER_HEADER]")?.remove(),!e.querySelector("div[rel=FILTER_HEADER]")&&Object.keys(r).length>0){let e=Sm().querySelector("[rel=EE_QPOOL_LIST]");Sm().insertBefore(ZPCreateDOM("div",{className:"zpl_fltrvw",REL:"FILTER_HEADER"}),e)}if(Object.keys(r).length>0){let n=e.querySelector("div[rel=FILTER_HEADER]");t&&km(e,"zpl_fltr_flt")&&xm(e,"zpl_fltr_flt"),n.innerHTML="",n.appendChild(ZPCreateDOM(ZN,{container:e,filter:r}))}},ZN=e=>{const{container:t,filter:n}=e,{question_text:r,question_type:a}=n,o=r?.length>0,i=a?.length>0,l=i?Object.keys(Jn).filter(e=>a?.includes(Jn[e].TYPE)):[],c=l.map(e=>Jn[e].DISPLAY_NAME),u=e=>{let t=mo(n);"question_text"==e?t.question_text=void 0:"question_type"==e&&(t.question_type=void 0),lh.dispatch(xd()),lh.dispatch(Td({filterJSON:t})),YP(!0)};function s(e){let t=Sm();qm(e),jN(t),!km(t,"zpl_fltr_flt")&&Tm(t,"zpl_fltr_flt"),kN(t)}return ZPCreateDOM("fragment",null,(o||i)&&ZPCreateDOM("fragment",null,ZPCreateDOM("div",null,ZPCreateDOM("ul",{className:"zpl_fltrvwlst"},o&&ZPCreateDOM(lb,{filterLabel:ZPI18N.getString("zp.question"),filter:r,onClickContainer:s,closeHandler:e=>{qm(e),u("question_text")}}),i&&ZPCreateDOM(lb,{filterLabel:ZPI18N.getString("zp.local.questiontype"),filter:c,onClickContainer:s,moreOptionHandler:e=>((e,t)=>{e.stopPropagation(),function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=[],i=[];if(!((null==t?void 0:t.length)<=0)){e.stopPropagation();var l={className:"zpl_drpdwn zpl_fltrvwlst zmenu zmenu--iconwithtext zposition--bottomleft zh-radiustopleft",type:"list",displayType:"box",contentType:"text",direction:"bottom",positionAlterable:!0,forElement:e.target,hide:void 0};$.each(t,function(e,t){o.push("<span id=".concat(t.value,">").concat(t.label,'</span><a class="PI_cls" onclick=\'').concat(r,'(this,"').concat(n,'",').concat(JSON.stringify(a),")'></a>"))}),$.each(o,function(e,t){i.push({itemType:"custom",innerHTML:t})}),rr(l,i)}}(e,(e=>{if("question_type"==e)return l.map(e=>({label:Jn[e].DISPLAY_NAME,value:Jn[e].TYPE}))})(t),t,"ZDOMEEAPI.operations.exposeToWindowMethods.removeQuestionFilter",{})})(e,"question_type"),closeHandler:e=>{qm(e),u("question_type")}}))),ZPCreateDOM("div",{className:"d-flexcap MLauto",onClick:()=>(e=>{e.querySelector("div[rel=FILTER_HEADER]")?.remove(),DN(e),YP(!0)})(t)},ZPCreateDOM("a",{className:"zpl_link"},ZPI18N.getString("zp.reset")))))};function LN(e){return LN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LN(e)}function FN(e){return function(e){if(Array.isArray(e))return BN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return BN(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?BN(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function UN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HN(r.key),r)}}function HN(e){var t=function(e){if("object"!=LN(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=LN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==LN(t)?t:t+""}var VN=function(){return function(e,t){return t&&UN(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.exportTypes=t||[],this.modal=document.createElement("div"),this.modal.className="zpl_mdl zpl_mcenter zpl_mopen",this.modal.setAttribute("data-modal-box","exportpop"),this.promiseResolve=null,this.promiseReject=null,this.options=n,this.createInnerContent()},[{key:"showModal",value:function(){var e=this;return this.appendTo(document.body),new Promise(function(t,n){e.promiseResolve=t,e.promiseReject=n})}},{key:"handleExport",value:function(){var e,t,n,r,a=null===(e=FN(this.modal.querySelectorAll('input[type="radio"]')).filter(function(e){return"export-type"===e.name}).find(function(e){return e.checked}))||void 0===e||null===(e=e.nextSibling)||void 0===e?void 0:e.getAttribute("export-type"),o=null===(t=FN(this.modal.querySelectorAll('input[type="radio"]')).filter(function(e){return"report-type"===e.name}).find(function(e){return e.checked}))||void 0===t||null===(t=t.nextSibling)||void 0===t?void 0:t.getAttribute("report-type"),i=this.modal.querySelector("#exportAdditionalFields"),l=i?(null===(n=ZPeopleComponents.tokenfield(i))||void 0===n?void 0:n.getAllValues())||[]:void 0;this.promiseResolve({type:a,passwordDetails:null===(r=this.options)||void 0===r?void 0:r.passwordDetails,dataToExport:o,additionalFields:l}),this.handlePopupClose()}},{key:"handleCancel",value:function(){this.promiseReject(new Error("Export was cancelled")),this.handlePopupClose()}},{key:"handlePopupClose",value:function(){var e=this.modal.querySelector("#exportAdditionalFields");e&&ZPeopleComponents.tokenfield(e).destroy(),this.modal.remove()}},{key:"handleDescription",value:function(e,t){var n=this,r=this.modal.querySelector(".zpl_Emptydata"),a=this.modal.querySelector(".zpl_info");t.forEach(function(o){o.id===e?(o.isChecked=!0,o.description&&(a?a.firstChild.textContent=o.description:n.createInfoSection(r,t))):o.isChecked=!1})}},{key:"handleAdditionalFields",value:function(e){var t,n=e.target,r=this.modal.querySelector("#exportAdditionalFieldsDiv"),a=this.modal.querySelector("#exportAdditionalFields"),o=null===(t=n.nextSibling)||void 0===t?void 0:t.getAttribute("report-type");n.checked&&o&&("default"===o?this.createAdditionalFields():(ZPeopleComponents.tokenfield(a).destroy(),r.remove()))}},{key:"handleExportType",value:function(e){var t,n,r=null===(t=e.target.nextSibling)||void 0===t?void 0:t.getAttribute("export-type"),a=this.modal.querySelector("#exportReportTypeDiv");if(r)if("pdf"===r){var o,i=this.modal.querySelector("#exportAdditionalFields"),l=this.modal.querySelector("#exportAdditionalFieldsDiv");i&&(null===(o=ZPeopleComponents.tokenfield(i))||void 0===o||o.destroy()),l&&l.remove(),a.remove()}else!a&&(null===(n=this.options.reportTypes)||void 0===n?void 0:n.length)>0&&this.createReportTypes()}},{key:"createElement",value:function(e,t,n,r,a){var o=document.createElement(e);return t&&(o.className=t),r&&(o.textContent=r),a&&(o.type=a),n.appendChild(o),o}},{key:"createRadioSection",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"export-type",a=this.createElement("div","zpl_secn",e);return t.forEach(function(e){var o=n.createElement("div","zradiobutton zradiobutton--horizontal",a),i=n.createElement("input","zradiobutton__helper",o);i.type="radio",i.name=r,i.id=e.id,i.addEventListener("change",function(r){n.handleDescription(e.id,t),n.handleAdditionalFields(r),n.handleExportType(r)}),e.isChecked&&(i.checked=!0);var l=n.createElement("label","zradiobutton__label",o);l.htmlFor=e.id,l.setAttribute(r,e.value),n.createElement("span","zradiobutton__text",l,e.label)}),a}},{key:"createInfoDOM",value:function(e,t){var n=this.createElement("div","zpl_secn",e),r=this.createElement("div","zpl_info",n);return this.createElement("em",null,r,t),n}},{key:"createInfoSection",value:function(e,t){var n=this;t.forEach(function(t){if(t.isChecked&&t.description)return n.createInfoDOM(e,t.description)})}},{key:"createMessageSection",value:function(e,t){var n=this.createElement("div","text-left",e);return this.createElement("em",null,n,t),n}},{key:"createCheckbox",value:function(e,t,n,r,a){var o=this.createElement("div","zcheckbox",e),i=this.createElement("input","zcheckbox__helper",o);i.type="checkbox",i.name=t,i.id="passwordProductionCheckbox",i.addEventListener("change",function(){return a()}),r&&(i.checked=!0);var l=this.createElement("label","zcheckbox__label",o);return l.htmlFor="passwordProductionCheckbox",l.setAttribute("export-type",t),this.createElement("span","zradiobutton__text",l,n),o}},{key:"createInputBox",value:function(e,t,n,r){var a=this.createElement("div","zpl_secn",e);a.setAttribute("rel",t);var o=this.createElement("div","text-left",a);this.createElement("h6",void 0,o,n);var i=this.createElement("div",void 0,a),l=this.createElement("input","ztextbox",i);l.type="password",l.name=t,l.placeHolder=n,l.addEventListener("input",r),this.createElement("span","text-left ztextbox--error__label",a)}},{key:"validatePassword",value:function(e,t){var n=t.password||"",r=t.repassword||"",a=!0,o="",i=e.querySelector("[rel=repassword]"),l=e.querySelector("[name=repassword]"),c=i.querySelector("span.ztextbox--error__label"),u=e.querySelector("[rel=export_save]");return n===r&&tn.IS_EXPORT_VAILD_PASSWORD.test(n)?(l.classList.remove("ztextbox__error"),c.innerHTML=""):""===n||""===r?(l.classList.remove("ztextbox__error"),a=!1):n!==r||tn.IS_EXPORT_VAILD_PASSWORD.test(n)?(l.classList.remove("ztextbox__error"),l.classList.add("ztextbox__error"),o=ZPI18N.getString("zp.survey.export.pdf.pwd.error.missmatched"),a=!1):(l.classList.remove("ztextbox__error"),l.classList.add("ztextbox__error"),o=ZPI18N.getString("zp.survey.export.pdf.pwd.error.requirements"),a=!1),c.innerText=o,a?N(u,"disabled")&&w(u,"disabled"):!N(u,"disabled")&&S(u,"disabled"),t.isValidPassword=a,a}},{key:"createPasswordInput",value:function(e,t){var n=this.modal,r=this.validatePassword;function a(e,a){t[a]=e.target.value,r(n,t)}this.createInputBox(e,"password",ZPI18N.getString("zp.survey.export.pdf.pwd"),function(e){return a(e,"password")}),this.createInputBox(e,"repassword",ZPI18N.getString("zp.survey.export.pdf.retype.pwd"),function(e){return a(e,"repassword")}),this.createMessageSection(e,ZPI18N.getString("zp.survey.export.pdf.pwd.condition")),this.createInfoDOM(e,ZPI18N.getString("zp.survey.export.pdf.pwd.note"))}},{key:"removePasswordInput",value:function(){this.modal.querySelector("#password_wrapper")&&(this.modal.querySelector("#password_wrapper").innerHTML="")}},{key:"onChangePasswordProductionCheckbox",value:function(e,t){var n=this.modal.querySelector("[rel=export_save]");e.passwordEnabled?(n&&!N(n,"disabled")&&S(n,"disabled"),this.createPasswordInput(t,e)):(n&&N(n,"disabled")&&w(n,"disabled"),this.removePasswordInput())}},{key:"tooglePasswordProductionCheckbox",value:function(e,t){e.passwordEnabled=!e.passwordEnabled,this.onChangePasswordProductionCheckbox(e,t)}},{key:"createPasswordProductionCheckbox",value:function(e,t){var n=this,r=this.createElement("div","zpl_secn",e),a=this.createElement("div","zpl_secn",e);a.id="password_wrapper",this.createCheckbox(r,"passwordProduction",ZPI18N.getString("zp.survey.export.pdf.enable_pwd.chkbox"),t.passwordEnabled,function(){return n.tooglePasswordProductionCheckbox(t,a)}),this.onChangePasswordProductionCheckbox(t,a)}},{key:"appendTo",value:function(e){e&&e.appendChild&&e.appendChild(this.modal)}},{key:"createInnerContent",value:function(){var e,t,n,r,a=this.createElement("div","zpl_minr",this.modal),o=this.createElement("div","zpl_mhder",a);this.createElement("h4",null,o,null!==(e=null===(t=this.options)||void 0===t?void 0:t.name)&&void 0!==e?e:ZPI18N.getString("zp.export")),this.createElement("a","_cls PI_cls",o).addEventListener("click",this.handleCancel.bind(this));var i=this.createElement("div","zpl_mcnt zpl_fm",a),l=this.createElement("div","zpl_crd",i),c=this.createElement("div","zpl_crdcnt",l),u=this.createElement("div","zpl_Emptydata",c);c.setAttribute("id","exportPopupCardContent"),this.createElement("div","zpl_mdexprtimg smll",u),this.exportTypes.length>0&&this.createElement("h4",null,u,ZPI18N.getString("zp.choosefileformat")),this.createRadioSection(u,this.exportTypes),(null===(n=this.options)||void 0===n?void 0:n.passwordDetails)&&this.createPasswordProductionCheckbox(u,this.options.passwordDetails),this.createInfoSection(u,this.exportTypes),(null===(r=this.options.reportTypes)||void 0===r?void 0:r.length)>0&&this.createReportTypes();var s=this.createElement("div","zpl_mfoter",a),d=this.createElement("button","zlabel zlabel--blue zlabel--medium",s,ZPI18N.getString("zp.export"));d.setAttribute("rel","export_save"),d.addEventListener("click",this.handleExport.bind(this)),this.createElement("button","zlabel zlabel--outline zlabel--medium",s,ZPI18N.getString("zp.cancel"),"button").addEventListener("click",this.handleCancel.bind(this))}},{key:"createReportTypes",value:function(){var e,t=this.modal.querySelector("#exportPopupCardContent"),n=this.modal.querySelector("#exportAdditionalFields"),r=this.modal.querySelector("#exportAdditionalFieldsDiv");n&&(null===(e=ZPeopleComponents.tokenfield(n))||void 0===e||e.destroy()),r&&r.remove();var a=this.createElement("div","zpl_secn",t),o=this.createElement("div",null,a);this.createElement("h5",null,o,ZPI18N.getString("zp.survey.export.preferences")+":"),this.createRadioSection(a,this.options.reportTypes,"report-type"),a.setAttribute("id","exportReportTypeDiv"),this.options.additionalFields&&this.createAdditionalFields()}},{key:"createAdditionalFields",value:function(){var e=this.modal.querySelector("#exportPopupCardContent"),t=this.createElement("div","zpl_gbox zpl_w-100 zpl_mt3",e),n=this.createElement("div",null,t),r=this.createElement("div","zpl_tarea",t);r.setAttribute("style","display: none;"),r.setAttribute("id","exportAdditionalFields"),this.createElement("h6",null,n,this.options.additionalFields.label),this.createElement("textarea",null,r),t.setAttribute("id","exportAdditionalFieldsDiv");var a={data:this.options.additionalFields.options||[],sort:!1,dataMapping:{value:"value",id:"value",text:"label",informativeText:"label",titleText:"label"},placeholder:ZPI18N.getString("zp.select"),lazyLoading:!1,dropdownList:{itemType:"checkbox",virtualization:!0},search:{by:"name",retainKeyword:!1}};ZPeopleComponents.tokenfield(r,a)}}])}();function YN(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return WN(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(WN(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,WN(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,WN(d,"constructor",u),WN(u,"constructor",c),c.displayName="GeneratorFunction",WN(u,a,"GeneratorFunction"),WN(d),WN(d,a,"Generator"),WN(d,r,function(){return this}),WN(d,"toString",function(){return"[object Generator]"}),(YN=function(){return{w:o,m:p}})()}function WN(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}WN=function(e,t,n,r){function o(t,n){WN(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},WN(e,t,n,r)}function GN(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function $N(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){GN(o,r,a,i,l,"next",e)}function l(e){GN(o,r,a,i,l,"throw",e)}i(void 0)})}}var QN=function(){var e=$N(YN().m(function e(t,n){var r,a,o,i,l;return YN().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=new URLSearchParams({mode:n}),a=xN.template_question_view.bind({questionId:t})(),e.n=1,y.get(a+"?"+r);case 1:return o=e.v,e.a(2,o.data.is_mapped);case 2:e.p=2,l=e.v,B({text:null!==(i=l.response)&&void 0!==i&&null!==(i=i.data)&&void 0!==i&&i.message?l.response.data.message:ZPI18N.getString("zp.unabletoprocess"),duration:3e3}).showError();case 3:return e.a(2)}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}(),XN=function(){var e=$N(YN().m(function e(t,n){var r,a,o,i,l;return YN().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=new URLSearchParams({mode:n}),a="zpsurvey/questions/".concat(t),e.n=1,y.get(a+"?"+r);case 1:return o=e.v,e.a(2,o.data.is_mapped);case 2:e.p=2,l=e.v,B({text:null!==(i=l.response)&&void 0!==i&&null!==(i=i.data)&&void 0!==i&&i.message?l.response.data.message:ZPI18N.getString("zp.unabletoprocess"),duration:3e3}).showError();case 3:return e.a(2)}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}(),KN=function(e){var t=e.url,n=e.method,r=void 0===n?"POST":n,a=e.data,o=void 0===a?null:a,i=e.fileName,l=void 0===i?"report-export":i,c=e.headers,u={url:t,method:r,responseType:"blob",headers:void 0===c?{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken),"Content-Type":"multipart/form-data"}:c};return o&&(u.data=o),y(u).then(function(e){var t=e.headers["content-type"];if(t&&!t.includes("application/json")){var n=new Blob([e.data]),r=window.URL.createObjectURL(n),a=document.createElement("a");a.href=r;var o=e.headers["content-disposition"];if(o&&o.includes("filename=")){var i=o.match(/filename="?([^"]+)"?/);null!=i&&i[1]&&(l=i[1])}a.setAttribute("download",l),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r)}return e}).catch(function(e){console.error("Download failed:",e)})},JN=function(e,t){var n={},r=void 0;return t===Po.CREATE_TEMPLATE&&(n=lh.getState().createSurvey.surveyData,r=function(e){return lh.dispatch(e)}),"/configuration"!==e||function(e,t){var n,r,a,o=e.survey_name,i=!0,l={};return yo(e)&&(o&&0!==o.trim().length||(l.survey_name=ZPI18N.getString("zp.survey.template.name.empty"),null===(n=document.getElementById("basic-requirement"))||void 0===n||n.scrollIntoView({behavior:"smooth"}),i=!1),o&&(o.includes("<")||o.includes(">"))&&(l.survey_name=ZPI18N.getString("zp.charactorremove",["<, >"]),null===(r=document.getElementById("basic-requirement"))||void 0===r||r.scrollIntoView({behavior:"smooth"}),i=!1),e.metric_type!==vn||e.metric_id||(l.metric_id=ZPI18N.getString("zp.survey.metrics.error.empty"),null===(a=document.getElementById("survey-question-flow"))||void 0===a||a.scrollIntoView({behavior:"smooth"}),i=!1),t(Vi({errorData:l}))),i}(n,r)};function eP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tP=function(e){var t={survey_name:e.survey_name,description:e.description,instruction:e.instruction,thankyou_message:e.thankyou_message,type:e.type,questions_per_page:e.questions_per_page,cover_image_id:e.cover_image.id};if(e.theme_id>-1&&(t.theme_id=null==e?void 0:e.theme_id),void 0!==e.metric_type&&(t.metric_type=e.metric_type,e.metric_type===vn&&(t.metric_id=e.metric_id)),e.metric_type===gn&&e.metric_groups){var n=[],r=[];(e.metric_groups||[]).forEach(function(e){var t;n.push(e.metric_id),r.push.apply(r,function(e){if(Array.isArray(e))return eP(e)}(t=(e.questions||[]).map(function(t){return{question_id:t.question_id,metric_id:e.metric_id,ismandatory:t.ismandatory}}))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return eP(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eP(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}),t.metric_groups=n,t.questions=r}else e.questions&&(t.questions=e.questions.map(function(e){return{question_id:e.question_id,metric_id:e.metric_id,ismandatory:e.ismandatory}}));return t},nP=function(e){if(e.type!==Se){var t,n="";if(e.metric_type===gn){var r,a=0==(null===(r=e.metric_groups)||void 0===r?void 0:r.length),o=(e.metric_groups||[]).some(function(e){var t;return 0==(null===(t=e.questions)||void 0===t?void 0:t.length)});a?n=ZPI18N.getString("zp.engagement.metricgroup.empty"):o&&(n=ZPI18N.getString("zp.engagement.metricgroup.error.questions.insufficient"))}else(!e.questions||(null===(t=e.questions)||void 0===t?void 0:t.length)<=0)&&(n=ZPI18N.getString("zp.engagement.error.questions.insufficient"));if(n)return B({text:n,duration:3e3}).showError(),!1}return!0};function rP(e){return rP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rP(e)}function aP(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return oP(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(oP(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,oP(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,oP(d,"constructor",u),oP(u,"constructor",c),c.displayName="GeneratorFunction",oP(u,a,"GeneratorFunction"),oP(d),oP(d,a,"Generator"),oP(d,r,function(){return this}),oP(d,"toString",function(){return"[object Generator]"}),(aP=function(){return{w:o,m:p}})()}function oP(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}oP=function(e,t,n,r){function o(t,n){oP(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},oP(e,t,n,r)}function iP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iP(Object(n),!0).forEach(function(t){cP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cP(e,t,n){return(t=function(e){var t=function(e){if("object"!=rP(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=rP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==rP(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uP(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function sP(){var e;return e=aP().m(function e(t,n,r){var a;return aP().w(function(e){for(;;)switch(e.n){case 0:if((a=t.pathname)!==r){e.n=1;break}return e.a(2);case 1:JN(a,Po.CREATE_TEMPLATE)&&dP(r,n);case 2:return e.a(2)}},e)}),sP=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){uP(o,r,a,i,l,"next",e)}function l(e){uP(o,r,a,i,l,"throw",e)}i(void 0)})},sP.apply(this,arguments)}var dP=function(e,t){t("".concat(e),{replace:!0})},pP=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=e.survey_id,i={templateData:JSON.stringify(tP(e))};if(!e.is_ready||nP(e))return lh.dispatch(o?$o({payload:i,templateId:o}):Go({payload:i})).then(function(i){if("fulfilled"===i.meta.requestStatus){var l=i.payload;o?(lh.dispatch(Df(lP(lP({},l),{},{templateId:o}))),FP(l)):(lh.dispatch(kf([l])),LP(l)),"function"==typeof n&&n(lP(lP({},e),l),r),t&&B({text:a||ZPI18N.getString("zp.local.savedasdraft"),duration:3e3}).showSuccess()}else if("rejected"===i.meta.requestStatus){var c,u,s=null!==(c=null==i||null===(u=i.payload)||void 0===u||null===(u=u.response)||void 0===u||null===(u=u.data)||void 0===u?void 0:u.message)&&void 0!==c?c:ZPI18N.getString("zp.unabletoprocess");B({text:s,duration:3e3}).showError()}})},fP=function(e,t,n){return sP.apply(this,arguments)};function mP(e){return mP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mP(e)}function vP(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return yP(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(yP(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,yP(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,yP(d,"constructor",u),yP(u,"constructor",c),c.displayName="GeneratorFunction",yP(u,a,"GeneratorFunction"),yP(d),yP(d,a,"Generator"),yP(d,r,function(){return this}),yP(d,"toString",function(){return"[object Generator]"}),(vP=function(){return{w:o,m:p}})()}function yP(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}yP=function(e,t,n,r){function o(t,n){yP(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},yP(e,t,n,r)}function gP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gP(Object(n),!0).forEach(function(t){bP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bP(e,t,n){return(t=function(e){var t=function(e){if("object"!=mP(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=mP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==mP(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _P(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function EP(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){_P(o,r,a,i,l,"next",e)}function l(e){_P(o,r,a,i,l,"throw",e)}i(void 0)})}}var SP=function(){var e=EP(vP().m(function e(t,n){var r,a,o=arguments;return vP().w(function(e){for(;;)switch(e.n){case 0:if(r=!(o.length>2&&void 0!==o[2])||o[2],a=t.survey_id,nP(t)){e.n=1;break}return e.a(2);case 1:lh.dispatch(zf({templateId:a})).then(function(e){if("fulfilled"===e.meta.requestStatus)lh.dispatch(Fi({is_ready:!0})),n&&wP(n,!0),r||FP(hP(hP({},t),{},{is_ready:!0})),B({text:ZPI18N.getString("zp.survey.template.publish.successmsg"),duration:3e3}).showSuccess();else{var a,o=null!==(a=e.payload)&&void 0!==a&&null!==(a=a.response)&&void 0!==a&&null!==(a=a.data)&&void 0!==a&&a.message?e.payload.response.data.message:ZPI18N.getString("zp.unabletoprocess");B({text:o,duration:3e3}).showError()}});case 2:return e.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}(),wP=function(){var e=EP(vP().m(function e(t,n){var r,a,o,i,l,c,u,s;return vP().w(function(e){for(;;)switch(e.n){case 0:if(r=lh.getState().createSurvey,a=r.surveyData,o=r.dbHash,r.isDataChanged,i=bo(a),l=function(){lh.dispatch(Qa({render:!1})),lh.dispatch(Bg()),t("/"),lh.getState().createSurvey.prevHash,window.location.hash="operations/employeeengagement/templates",lh.dispatch(Hi())},n||""==o||o==i){e.n=2;break}return c=function(){pP(a,!0),l()},u=function(){l()},s=new Ry(ZPI18N.getString("zp.popup.unchange.name"),ZPI18N.getString("zp.popup.unchange.desc"),ZPI18N.getString("zp.popup.unchange.save"),ZPI18N.getString("zp.popup.unchange.cancel"),void 0,void 0,c,u),e.n=1,s.confirmation();case 1:e.n=3;break;case 2:l();case 3:return e.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}();function NP(e){return NP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NP(e)}function PP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function OP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PP(Object(n),!0).forEach(function(t){IP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function IP(e,t,n){return(t=function(e){var t=function(e){if("object"!=NP(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=NP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==NP(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zP(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return CP(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(CP(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,CP(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,CP(d,"constructor",u),CP(u,"constructor",c),c.displayName="GeneratorFunction",CP(u,a,"GeneratorFunction"),CP(d),CP(d,a,"Generator"),CP(d,r,function(){return this}),CP(d,"toString",function(){return"[object Generator]"}),(zP=function(){return{w:o,m:p}})()}function CP(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}CP=function(e,t,n,r){function o(t,n){CP(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},CP(e,t,n,r)}function TP(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}var xP=function(){var e,t=(e=zP().m(function e(t){var n;return zP().w(function(e){for(;;)switch(e.n){case 0:return n=new Ry(ZPI18N.getString("​zp.local.deletetemplate"),ZPI18N.getString("zp.survey.template.delete.message"),ZPI18N.getString("zp.confirm"),ZPI18N.getString("zp.cancel"),"red"),e.n=1,n.confirmation();case 1:if(e.v){e.n=2;break}return e.a(2);case 2:lh.dispatch(Hf()),lh.dispatch(If({templateId:t})).then(function(e){if("fulfilled"===e.meta.requestStatus)BP(t),B({text:ZPI18N.getString("zp.templatedeletedsuccessfully"),duration:3e3}).showSuccess();else if("rejected"===e.meta.requestStatus){var n,r=null!==(n=e.payload)&&void 0!==n&&null!==(n=n.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.message?e.payload.response.data.message:ZPI18N.getString("zp.unabletoprocess");B({text:r,duration:3e3}).showError()}});case 3:return e.a(2)}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){TP(o,r,a,i,l,"next",e)}function l(e){TP(o,r,a,i,l,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}(),kP=function(e,t){var n=[OP(OP({},Ht.edit),{},{callback:function(){return Jy(e.survey_id)}})];return e.is_ready||n.push(OP(OP({},Ht.markasready),{},{callback:function(){return SP(e,void 0,!1)}})),n.push(t?{separtor:!0}:Ht.seperator),n.push(OP(OP({},Ht.delete),{},{callback:function(){xP(e.survey_id)}})),n};const DP=(e=!1)=>{const{filterJSON:t}=lh.getState().templateList;ar("assess-survey-zpmenu");let n=Sm();n.innerHTML="",n.appendChild(Am());const{fetchInitialData:r}=lh.getState().templateList;!e&&!r&&Object.keys(t)<=0?jP():lh.dispatch(Pf({mode:bt,payload:t})).then(e=>{"fulfilled"===e.meta.requestStatus&&jP()})},jP=()=>{const{data:e,filterJSON:t}=lh.getState().templateList;AP(e,t)},AP=(e,t)=>{let n=Sm();Rm(),n.innerHTML="",n.appendChild(Kn("fragment",null,Kn(cb,{info:ZPI18N.getString("zp.survey.operation.templates.info"),className:"P0I"}),Kn(RP,{templateCount:e.length,addTemplateHandler:Ky}),Kn(qP,{templateList:e,filterJSON:t,addTemplateHandler:Ky})))},RP=e=>{const{templateCount:t,addTemplateHandler:n}=e;return Kn("div",{className:"zpl_btnmnu"},Kn("div",{className:"zpl_rgt"},Kn("div",{className:"zbutton--split zbutton--splitprimary "+(t<50?"":"hide"),rel:"TEMP_HEADER"},Kn("button",{rel:"TEMP_HEADER_ADD_TEMPLATE",className:"zbutton zbutton--medium zbutton--primary zbutton--action",onClick:n},Kn("span",{className:"zbutton__text"},ZPI18N.getString("zp.survey.engagement.template.add"))),Kn("button",{className:"zbutton zbutton--menu zbutton--medium zbutton--primary",type:"button",onClick:e=>(e=>{e.stopPropagation();const t={className:"zpl_drpdwn",forElement:Sm()?.querySelector("div[rel=TEMP_HEADER]"),direction:"bottom-left",width:225,itemclick:(e,t)=>{window.location.hash="operations/employeeengagement/templates/addpulse"}};rr(t,[{label:ZPI18N.getString("zp.survey.pulse.template.add"),value:"pulsetemp"}])})(e)},Kn("i",{className:"PI_abtm"})))))},qP=e=>{const{templateList:t=[],filterJSON:n={},addTemplateHandler:r}=e;return Kn("div",{className:"zpl_rgtcnt"},t.length>0?Kn("fragment",null,Kn(MP,{label:ZPI18N.getString("zp.deftmpl"),templateList:HP(t)}),Kn(MP,{label:ZPI18N.getString("zp.survey.custom_tmpl"),templateList:VP(t),rel:"EE_CUSTOM_TEMPLATE",id:"operation_ee_custom_template_list"})):Object.keys(n).length>0?Kn(rb,{message:ZPI18N.getString("zp.searchnodata",[ZPI18N.getString("zp.templatessamll")])}):Kn(rb,{message:ZPI18N.getString("zp.survey.template.not_found.name"),description:ZPI18N.getString("zp.survey.template.not_found.desc"),isButtonNeeded:!0,btnMsg:ZPI18N.getString("zp.template.add"),btnHandler:r}))},MP=({label:e,templateList:t,rel:n,id:r})=>Kn("fragment",null,t.length>0&&Kn("div",{className:"zpl_secn",rel:n},Kn("div",{className:"zpl_flexaligngap2 zpl_flex-a-c"},Kn("h5",{className:"M0I"},e),Kn("em",null,`(${t.length})`)),Kn("div",null,Kn("ul",{className:"zpl_enpsCrd enpsCrd_New",id:r||""},t.map(e=>Kn(ZP,{surveyData:e})))))),ZP=e=>{const{surveyData:t}=e,{survey_id:n,survey_name:r,questions:a,cover_image:o,is_default:i,is_ready:l,type:c}=t,u=t.question_count||a?.length||0,{id:s}=o,d=tt[s].className;let p=i||l;return Kn("li",{className:"zpl_enpsLst",tid:n,onClick:e=>{e.stopPropagation(),l||i?lh.dispatch(Uf({render:!0,viewType:Pe,templateId:n,isLoading:!0})):Jy(n)}},Kn("div",{className:`zpl_enpsImg ${d}`}),Kn("i",{className:pv(c),title:dv(c)}),Kn("div",null,Kn("label",{title:r},r),Kn("ul",{className:"zpl_lstbdrlne"},Kn("li",null,Kn("em",null,`${u} ${u<=1?ZPI18N.getString("zp.question"):ZPI18N.getString("zp.questions")}`)))),Kn("div",{className:"zpl_lstFtr"},Kn("ul",{className:"lFtr_dtls"},!p&&Kn("li",null,Kn("i",{className:"PI_draft_record"}),Kn("em",null,ZPI18N.getString("zp.draft"))),p&&Kn("li",null,Kn("i",{className:"PI_descrip","data-popup-open":"enpsTemplateCntr1"}))),Kn("span",{className:"zpl_hvr zpl_hvrsw"},Kn("i",{type:"button",className:"zpl_drpdwn-js PI_more",onClick:e=>{e.stopPropagation();const n={className:"zpl_drpdwn",forElement:e.target,itemclick:(e,n)=>{return r=t,a=n.value,void((o={edit:function(){return Jy(r.survey_id)},markasready:function(){return SP(r,void 0,!1)},delete:function(){return xP(r.survey_id)}}).hasOwnProperty(a)&&o[a]());var r,a,o},contentType:"icon-text"};rr(n,kP(t))}}))))},LP=e=>{let t=Sm(),n=t?.querySelector("#operation_ee_custom_template_list");if(n){let t=n.firstChild;t?n.insertBefore(Kn(ZP,{surveyData:e}),t):n.appendChild(Kn(ZP,{surveyData:e})),UP()}},FP=e=>{const{survey_id:t}=e;let n=Sm(),r=n?.querySelector("#operation_ee_custom_template_list");r?.querySelector("[tid='"+t+"']")?.replaceWith(Kn(ZP,{surveyData:e}))},BP=e=>{let t=Sm(),n=t?.querySelector("#operation_ee_custom_template_list");const{data:r}=lh.getState().templateList;let a=VP(r);n?.querySelector("[tid='"+e+"']")?.remove(),a.length<=0&&(t.querySelector("[rel=EE_CUSTOM_TEMPLATE]")?.remove(),n?.remove()),UP()},UP=()=>{let e=Sm()?.querySelector("[rel=TEMP_HEADER_ADD_TEMPLATE]");const{data:t,filterJSON:n}=lh.getState().templateList;Object.keys(n).length<=0&&(t.length>=50?!km(e,"hide")&&Tm(e,"hide"):km(e,"hide")&&xm(e,"hide"))},HP=e=>(e||[]).filter(e=>1==e.is_default),VP=e=>(e||[]).filter(e=>1!=e.is_default),YP=(e=!1)=>{const{questionPool:t}=lh.getState(),{fetchInitialData:n}=t;let r=Sm();if(!km(r,"zpl_tblfxd")&&Tm(r,"zpl_tblfxd"),AN(r),r.innerHTML="",r.appendChild(Am()),!e&&!n&&Object.keys(t.filterJSON)<=0){let{questionData:e}=lh.getState().questionPool;KP(e,t.filterJSON),$(r).scroll(function(){WP(this)})}else lh.dispatch(xd()),lh.dispatch(Pd({pno:0,mode:V,filter:t.filterJSON})).then(e=>{if("fulfilled"===e.meta.requestStatus){let{questionData:e}=lh.getState().questionPool;KP(e,t.filterJSON),$(r).scroll(function(){WP(this)})}})},WP=e=>{let t=$(e);Math.round(100*(e.scrollTop+t.height())/e.scrollHeight)>=98&&GP(e)},GP=e=>{const{questionPool:t}=lh.getState(),{hasMore:n,isLoading:r,nextPageId:a}=t;!r&&n&&(Sm().appendChild(Am(64)),lh.dispatch(Td({isLoading:!0,nextPageId:a+1})),$P(e))},$P=e=>{let t=e.querySelector("#ee_qpool_list");const{questionPool:n}=lh.getState(),{nextPageId:r,filterJSON:a}=n;lh.dispatch(Pd({pno:r,mode:V,filter:a})).then(e=>{if(lh.dispatch(Td({isLoading:!1})),Rm(),"fulfilled"===e.meta.requestStatus){const{questions:n}=e.payload;t.appendChild(Kn(rO,{questionData:n}))}})},QP=e=>{const{questionLength:t,addQuestionHandler:n}=e;return Kn("div",{className:"zpl_btnmnu",rel:"QPOOL_HEADER"},Kn("div",{className:"zpl_rgt"},t&&Kn(nb,{addQuestionHandler:n}),Kn("i",{className:"zpl_ibg PI_fltr",onClick:dO})))},XP=()=>{lh.dispatch(Ru({render:!0,viewType:fw.QUESTION_POOL,mode:"add",header:ZPI18N.getString("zp.assessment.addquestions"),actions:{submitButton:ZPI18N.getString("zp.save"),cancelButton:ZPI18N.getString("zp.cancel")},data:{[Jn.TWO_POINT_SCALE.TYPE]:YS,type:Jn.TWO_POINT_SCALE.TYPE},disableCardActions:!1,dbHash:""}))},KP=(e,t)=>{let n=Sm();Rm(),n.appendChild(Kn("fragment",null,Kn(cb,{info:ZPI18N.getString("zp.survey.operation.questionpool.info"),infoClassName:"zpl_ml5"}),Kn(QP,{questionLength:e.length,addQuestionHandler:XP}),Kn(nO,{questionData:e,filterJSON:t,addQuestionHandler:XP}))),MN(n)};let JP;const eO=e=>{const{questionData:t}=lh.getState().questionPool,{data:n}=lh.getState().templateList;let r=Sm();return Kn("div",{className:"actn_ovrly opn",rel:"QPOOL_ACTION_HEADER"},Kn("div",null,Kn("button",{className:"zlabel zlabel--red zlabel--medium",onClick:async()=>{let{selectedQids:e}=lh.getState().questionPool;const t=new Ry(ZPI18N.getString("zp.assessment.question.delete.confirm"),ZPI18N.getString("zp.assessment.question.delete.message"),ZPI18N.getString("zp.confirm"),ZPI18N.getString("zp.cancel"),"red");if(!await t.confirmation())return;const n={mode:"delete",questionIds:JSON.stringify(e)};y.postForm("zpsurvey/questions/bulk",n,{headers:{"X-ZCSRF-TOKEN":`conreqcsr=${csrfToken}`}}).then(t=>{const n=t.data.deleted_question_ids;B({text:ZPI18N.getString("zp.survey.bulk.delete.question.bank.questions.successful.message",[n.length,[...e].length]),duration:3e3}).showSuccess(),lh.dispatch(Dd([])),lh.dispatch(Ad({question_ids:n})),YP()}).catch(e=>{B({text:e.response?.data?.message?e.response.data.message:ZPI18N.getString("zp.unabletoprocess"),duration:3e3}).showError()})}},ZPI18N.getString("zp.delete")),Kn("button",{rel:"addToTemplate",className:"zlabel zlabel--blue zlabel--medium"+(e>G?" disabled":""),onClick:()=>{let e={title:ZPI18N.getString("zp.survey.addtemplate"),modalId:"AddToTemplate",buttons:[{name:"save",txt:ZPI18N.getString("zp.save"),callback:e=>{qm(e),(e=>{const{taggingTemplateId:r,selectedQids:a}=lh.getState().questionPool;let o={question_ids:a};const i=xN.template_view.bind({templateId:r})(),l=new URLSearchParams;l.append("mode","surveyquestion_update"),l.append("questionData",JSON.stringify(o)),y.patch(i,l,{headers:{"X-ZCSRF-TOKEN":`conreqcsr=${csrfToken}`}}).then(a=>{((e,r)=>{const a=(n||[]).filter(e=>e.survey_id==r),{questions:o=[]}=a,i=o.reduce((e,t)=>(t.hasOwnProperty("question_id")&&(e[t.question_id]=t),e),{}),l=t.reduce((e,t)=>(e[t.question_id]=t,e),{});let c=[];(e||[]).map(e=>{let t,n=e.question_id;i.hasOwnProperty(n)?t=mo(i[n]):l.hasOwnProperty(n)&&(t=mo(l[n])),t&&(t.sequence_recordid=e.sequence_recordid,c.push(t))}),lh.dispatch(Df({templateId:r,questions:c,question_count:c.length}))})(a.data.question_sequencedata,r),"function"==typeof e&&e(),B({text:ZPI18N.getString("zp.assessment.selected.questions.add.success"),duration:3e3}).showSuccess()}).catch(t=>{B({text:t.response?.data?.message?t.response.data.message:ZPI18N.getString("zp.unabletoprocess"),duration:3e3}).showError(),"function"==typeof e&&e()})})(()=>tO(JP))}},{name:"close",txt:ZPI18N.getString("zp.cancel"),callback:e=>{qm(e),tO(JP)}}],content:uO(),closeaction:()=>{tO()}};JP=new ky(e),JP.appendTo(Em().querySelector(".main-wrp")),sO()}},ZPI18N.getString("zp.survey.addtemplate")),Kn("div",{className:"zlabel zlabel--blue zlabel--outline zlabel--medium",onClick:()=>{let{selectedQids:e}=lh.getState().questionPool;var t;(t=[{id:zE(),label:ZPI18N.getString("zp.assessment.export.moodlexml"),description:ZPI18N.getString("zp.assessment.moodle.description"),value:"xml",isChecked:!0},{id:zE(),label:ZPI18N.getString("zp.assessment.export.gift"),description:ZPI18N.getString("zp.assessment.gift.description"),value:"gift"},{id:zE(),label:ZPI18N.getString("zp.assessment.export.aiken"),description:ZPI18N.getString("zp.assessment.aiken.description"),value:"aiken"}],new VN(t,{passwordDetails:{passwordEnabled:!1}})).showModal().then(t=>{let n=t.passwordDetails;if(n.passwordEnabled&&!n.isValidPassword)return;const r={url:"/zpsurvey/questions/export".addPortalName(),method:"POST",csrfToken:csrfToken},a={question_ids:[...e],type:t.type};n.passwordEnabled&&(a.password=n.password),function(e,t){if(!document.getElementById("zp_tarFrame")){var n=document.createElement("iframe");n.name="zp_tarFrame",n.id="zp_tarFrame",n.style.display="none",n.width=0,n.height=0,n.frameborder=0,document.body.appendChild(n)}var r=document.createElement("form");for(var a in r.id="zp_downloadForm",r.name="zp_downloadForm",r.style.display="none",r.target="zp_tarFrame",r.method=e.method?e.method:"POST",r.action=e.url,t)if(null!=t[a]){var o=document.createElement("input");o.type="hidden",o.name=a,o.value=t[a],r.appendChild(o)}if(e.method&&"GET"!==e.method||!e.method){var i=document.createElement("input");i.type="hidden",i.name="conreqcsr",i.value=e.csrfToken,r.appendChild(i)}document.body.appendChild(r),r.submit(),r.parentNode.removeChild(r)}(r,{exportData:JSON.stringify(a)})})}},ZPI18N.getString("zp.export"))),Kn("i",{className:"PI_cls",onClick:()=>{r.querySelector("[rel=EE_QPOOL_HEADER] input:checked")&&(r.querySelector("[rel=EE_QPOOL_HEADER] input:checked").checked=!1),r.querySelectorAll("#ee_qpool_list input:checked").forEach(e=>{e.checked=!e.checked}),lh.dispatch(Dd([])),cO()}}))},tO=e=>{let t=Em().querySelector(".main-wrp"),n=t.querySelector("div[rel=QPOOL_ACTION_HEADER]");lh.dispatch(kd(null)),t&&$(t).find("#qpool_addtemplates").length>0&&ZPeopleComponents.select($(t).find("#qpool_addtemplates")).destroy(),e?.removeElement(),km(n,"zpl_DNI")&&Tm(n,"zpl_DNI")},nO=e=>{const{questionData:t,filterJSON:n={},addQuestionHandler:r}=e;return Kn("div",{className:"zpl_rgtcnt",rel:"EE_QPOOL_LIST"},()=>t?.length>0?Kn("div",{className:"zpl_tblres"},Kn("table",{className:"zpl_tbl"},Kn(oO,{value:"eeQpoolAllCheckbox"}),Kn("tbody",{id:"ee_qpool_list"},Kn(rO,{questionData:t})))):Object.keys(n).length>0?Kn(rb,{message:ZPI18N.getString("zp.searchnodata",[ZPI18N.getString("zp.assessment.questions")])}):Kn(rb,{message:ZPI18N.getString("zp.survey.question.empty"),description:ZPI18N.getString("zp.engagement.newsurvey.desc"),isButtonNeeded:!0,btnMsg:ZPI18N.getString("zp.survey.createquestion"),btnHandler:r}))},rO=({questionData:e})=>Kn("fragment",null,e.map(e=>Kn(iO,{qData:e}))),aO=()=>{let e=Sm(),t=e.querySelector("tr[rel=EE_QPOOL_HEADER]"),n=t.getAttribute("qid"),r=t.querySelector(`[id="${n}"]`),a=e.querySelectorAll("#ee_qpool_list input").length,o=e.querySelectorAll("#ee_qpool_list input:checked").length;r.checked=a==o},oO=e=>{const{value:t}=e;return Kn("thead",null,Kn("tr",{rel:"EE_QPOOL_HEADER",qid:t},Kn("th",{width:"40"},Kn("div",{className:"zcheckbox",onClick:e=>{let t=Sm().querySelector("#ee_qpool_list"),n=(e.target||e.srcElement).closest("tr"),r=n.getAttribute("qid"),a=n.querySelector(`[id="${r}"]`),{selectedQids:o}=lh.getState().questionPool,i=new Set([...o||[]]);Vm(a),[...t.children||[]].forEach(e=>{let t=e.getAttribute("qid"),n=e.querySelector(`[id="${t}"]`);a.checked?(n.checked=!0,i.add(t)):(n.checked=!1,i.delete(t))}),aO(),lh.dispatch(Dd([...i])),cO()}},Kn("input",{id:t,type:"checkbox",rel:t,className:"zcheckbox__helper"}),Kn("label",{htmlFor:t,className:"zcheckbox__label"}))),Kn("th",null,ZPI18N.getString("zp.questions")),Kn("th",null,ZPI18N.getString("zp.local.questiontype")),Kn("th",{className:"w100"},ZPI18N.getString("zp.actions"))))},iO=e=>{const{qData:t,tagName:n}=e,r=t.is_default;return Kn(n||"tr",{qid:t.question_id},Kn("td",null,Kn("div",{className:"zcheckbox",onClick:e=>{let t=(e.target||e.srcElement).closest("tr"),n=t.getAttribute("qid"),r=t.querySelector(`[id="${n}"]`),{selectedQids:a}=lh.getState().questionPool,o=mo(a);Vm(r),r.checked?o.push(n):o=o.filter(e=>e!=n),aO(),lh.dispatch(Dd(o)),cO()}},Kn("input",{id:t.question_id,type:"checkbox",className:"zcheckbox__helper"}),Kn("label",{htmlFor:t.question_id,className:"zcheckbox__label"}))),Kn("td",null,Kn("span",null,t.question)),Kn("td",null,Kn("span",null,ZPI18N.getString(W[t.type]))),Kn(tb,{editQuestionHandler:r?null:()=>{QN(t.question_id,"question_response").then(e=>{e?B({text:ZPI18N.getString("zp.engagement.question.edit.mapped"),duration:3e3}).showError():lh.dispatch(Ru({render:!0,viewType:fw.QUESTION_POOL,mode:"edit",header:ZPI18N.getString("zp.assessment.common.editquestion"),actions:{submitButton:ZPI18N.getString("zp.save"),cancelButton:ZPI18N.getString("zp.cancel")},data:{[t.type]:rw(t),type:t.type},disableCardActions:!1,dbHash:""}))})},deleteQuestionHandler:r?null:()=>{const e=t.question_id;QN(e,"question_relation").then(t=>{t?B({text:ZPI18N.getString("zp.engagement.question.delete.mapped"),duration:3e3}).showError():(async e=>{const t={questionId:e},n=new Ry(ZPI18N.getString("zp.assessment.question.delete.confirm"),ZPI18N.getString("zp.assessment.question.delete.message"),ZPI18N.getString("zp.confirm"),ZPI18N.getString("zp.cancel"),"red");await n.confirmation()&&lh.dispatch(zd(t)).then(t=>{if("fulfilled"===t.meta.requestStatus)lh.dispatch(_s({question_id:e})),lO(t.payload),B({text:ZPI18N.getString("zp.questiondeletedsucc"),duration:3e3}).showSuccess();else if("rejected"===t.meta.requestStatus){let e=t?.payload?.response?.data?.message??ZPI18N.getString("zp.unabletoprocess");B({text:e,duration:3e3}).showError()}})})(e)})}}))},lO=e=>{let t=Sm(),n=t.querySelector("#ee_qpool_list");if(1==n.children.length){let{questionData:e,filterJSON:n}=lh.getState().questionPool;t.innerHTML="",KP(e,n)}else n.querySelector("[qid='"+e.question_id+"']")?.remove()},cO=()=>{let e=Sm(),t=e.querySelector("div[rel=QPOOL_ACTION_HEADER]"),n=e.querySelectorAll("#ee_qpool_list input:checked").length;if(n>0){let r=e.querySelector("[rel=QPOOL_HEADER]");!t&&r.appendChild(eO(n));let a=r.querySelector("[rel=addToTemplate]");a&&(n>G?!km(a,"disabled")&&Tm(a,"disabled"):km(a,"disabled")&&xm(a,"disabled"))}else e.querySelector("div[rel=QPOOL_ACTION_HEADER]").remove()},uO=()=>Kn("form",null,Kn("div",{className:"zpl_crd"},Kn("div",{className:"zpl_crdcnt"},Kn("div",{className:"zpl_secn"},Kn("div",null,Kn("label",{className:"zpl_mtry"},ZPI18N.getString("zp.survey.choosetemp"))),Kn("div",{rel:"QPOOL_ADD_TEMPLATES"}))))),sO=()=>{let e=Em().querySelector(".main-wrp"),t=e.querySelector("div[rel=QPOOL_ADD_TEMPLATES]");t.appendChild(Am()),lh.dispatch(Pf({mode:bt,startIndex:0})).then(n=>{if("fulfilled"===n.meta.requestStatus){let{data:n}=lh.getState().templateList;Rm(),(n=>{let r=[],a={height:"335px"};t.appendChild(Kn("select",{id:"qpool_addtemplates"},Kn("option",{"data-is-footer":"true","data-inner-html":`<button class="zlabel zlabel--blue zlabel--outline zlabel--medium zpl_btncnt" onclick="ZDOMEEAPI.operations.exposeToWindowMethods.addTemplateHandler()">${ZPI18N.getString("zp.survey.addtemplate")}</button>`}))),(n||[]).forEach(e=>{r.push({label:e.survey_name,value:e.survey_id})}),a.options=r,a.selectedValue=r[0],a.change=e=>{lh.dispatch(kd(e.detail.selectedValue))},ZPeopleComponents.select($(e).find("#qpool_addtemplates"),a)})(VP(n))}})},dO=()=>{let e=Sm();!km(e,"zpl_fltr_flt")&&Tm(e,"zpl_fltr_flt"),kN(e)};function pO(e,t){var n="",r=!0;return 0===(null==e?void 0:e.trim().length)?(r=!1,n=ZPI18N.getString("zp.assessment.warning.question.empty")):(null==e?void 0:e.trim().length)>c&&(r=!1,n=ZPI18N.getString("zp.maxFieldLength",[ZPI18N.getString("zp.question"),c])),t(xu({question:n})),!r&&document.getElementById("question").scrollIntoView({behavior:"smooth"}),r}var fO=function(e,t){var n=e.type,r=!0;return E(n)?(r=pO(null==e?void 0:e.question,t),r=function(e,t,n){var r={},a=function(e,t,n){var r=new Set,a=!0,o="",i=[];return e.forEach(function(e,t){var o=!0,l=e.choice;r.has(null==l?void 0:l.trim())&&(o=!1,i[t]=ZPI18N.getString("zp.assessment.warning.duplicatechoice")),0===(null==l?void 0:l.trim().length)&&(o=!1,i[t]=ZPI18N.getString("zp.assessment.warning.choices.empty")),o&&(i[t]=""),r.add(null==l?void 0:l.trim()),n&&a&&!o&&document.getElementById("choice-".concat(t)).scrollIntoView({behavior:"smooth"}),a=o&&a}),e.length<2&&(o=ZPI18N.getString("zp.assessment.warning.required.minimum2choice"),a=!1),t.overallError=o,t.choicesError=i,a}(e,r,n);return!a&&t(Tu({choices:r})),a}(null==e?void 0:e.choices,t,r)&&r):(Jn.COMMENT.TYPE===n||Jn.DATE.TYPE===n||Jn.NPS.TYPE===n||Jn.STAR.TYPE===n||Jn.RATING_SCALE.TYPE===n||Jn.TWO_POINT_SCALE.TYPE===n)&&(r=pO(null==e?void 0:e.question,t)),r&&t(ku()),r};function mO(e){return function(e){if(Array.isArray(e))return vO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return vO(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vO(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var yO=function(e,t){var n,r=mo(e);switch(r.type){case Jn.SINGLE_CHOICE.TYPE:case Jn.MULTIPLE_CHOICE.TYPE:n=function(e,t){var n=e.rating_config,r={question:e.question,type:e.type,questionbank_id:e.questionbank_id,enable_comment:e.enable_comment,ismandatory:e.ismandatory};(e.choices||[]).forEach(function(e){var n;if(e.choice=null==e||null===(n=e.choice)||void 0===n?void 0:n.trim(),e.fileInfo){var r=e.fileInfo;r.isNew&&(e.choice_attachmentid=r.contentId),delete e.fileInfo}t&&(delete e.choice_id,delete e.score)}),(e.addOther||[]).forEach(function(e){var n;if(e.choice=null==e||null===(n=e.choice)||void 0===n?void 0:n.trim(),e.fileInfo){var r=e.fileInfo;r.isNew&&(e.choice_attachmentid=r.contentId),delete e.fileInfo}t&&(delete e.choice_id,delete e.score)}),r.choices=[].concat(mO(e.choices||[]),mO(e.addOther||[])),null!=(null==e?void 0:e.survey_id)&&(r.survey_id=e.survey_id),null!=(null==e?void 0:e.question_id)&&(r.question_id=e.question_id),null!=(null==e?void 0:e.metric_id)&&(r.metric_id=e.metric_id),null!=(null==e?void 0:e.deletedchoice_id)&&(r.deletedchoice_id=e.deletedchoice_id);var a={comment_mandatory:n.comment_mandatory};return null!=a&&(r.rating_config=a),r}(r,t);break;case Jn.COMMENT.TYPE:n=function(e){var t={question:e.question,type:e.type,questionbank_id:e.questionbank_id,enable_comment:e.enable_comment,ismandatory:e.ismandatory};return null!=(null==e?void 0:e.survey_id)&&(t.survey_id=e.survey_id),null!=(null==e?void 0:e.question_id)&&(t.question_id=e.question_id),null!=(null==e?void 0:e.metric_id)&&(t.metric_id=e.metric_id),t}(r);break;case Jn.DATE.TYPE:n=function(e){var t=e.date_settings,n=e.rating_config,r={question:e.question,type:e.type,questionbank_id:e.questionbank_id,enable_comment:e.enable_comment,ismandatory:e.ismandatory};null!=(null==e?void 0:e.survey_id)&&(r.survey_id=e.survey_id),null!=(null==e?void 0:e.question_id)&&(r.question_id=e.question_id),null!=(null==e?void 0:e.metric_id)&&(r.metric_id=e.metric_id);var a={comment_mandatory:n.comment_mandatory};null!=a&&(r.rating_config=a);var o={date_format:t.date_format};return t.isNeedSelectRange&&(o.start_range=jm(new Date(t.start_range)),o.end_range=jm(new Date(t.end_range))),r.date_settings=o,r}(r);break;case Jn.NPS.TYPE:n=function(e){var t=e.rating_config,n={question:e.question,type:e.type,questionbank_id:e.questionbank_id,enable_comment:e.enable_comment,ismandatory:e.ismandatory,minscore_text:e.minscore_text,maxscore_text:e.maxscore_text};null!=(null==e?void 0:e.survey_id)&&(n.survey_id=e.survey_id),null!=(null==e?void 0:e.question_id)&&(n.question_id=e.question_id),null!=(null==e?void 0:e.metric_id)&&(n.metric_id=e.metric_id);var r={comment_mandatory:t.comment_mandatory,max_count:t.max_count};return t.comment_mandatory&&t.comment_mandatory&&(r.comment_rule="R".concat("0"==t.comment_criteria?"<=":">=").concat(t.comment_score||0)),n.rating_config=r,n}(r);break;case Jn.STAR.TYPE:n=function(e){var t=e.rating_config,n={question:e.question,type:e.type,questionbank_id:e.questionbank_id,enable_comment:e.enable_comment,ismandatory:e.ismandatory};null!=(null==e?void 0:e.survey_id)&&(n.survey_id=e.survey_id),null!=(null==e?void 0:e.question_id)&&(n.question_id=e.question_id),null!=(null==e?void 0:e.metric_id)&&(n.metric_id=e.metric_id);var r={comment_mandatory:t.comment_mandatory,max_count:t.max_count};return t.comment_mandatory&&t.comment_mandatory&&(r.comment_rule="R".concat("0"==t.comment_criteria?"<=":">=").concat(t.comment_score||0)),null!=(null==e?void 0:e.is_avgrating)&&(r.is_avgrating=e.is_avgrating),n.rating_config=r,n}(r);break;case Jn.RATING_SCALE.TYPE:n=function(e){var t=e.rating_config,n=t.rating_type,r={question:e.question,type:e.type,questionbank_id:e.questionbank_id,enable_comment:e.enable_comment,ismandatory:e.ismandatory};null!=(null==e?void 0:e.survey_id)&&(r.survey_id=e.survey_id),null!=(null==e?void 0:e.question_id)&&(r.question_id=e.question_id),null!=(null==e?void 0:e.metric_id)&&(r.metric_id=e.metric_id);var a={comment_mandatory:t.comment_mandatory,max_count:t.max_count,rating_type:t.rating_type,layout:t.layout};return t.comment_mandatory&&t.comment_mandatory&&(a.comment_rule="R".concat("0"==t.comment_criteria?"<=":">=").concat(t.comment_score||0)),r.rating_config=a,n!=re&&n!=ae||(r.scale_customtext=null==e?void 0:e.scale_customtext),r}(r);break;case Jn.TWO_POINT_SCALE.TYPE:n=function(e){var t=e.rating_config,n=t.rating_type,r={question:e.question,type:e.type,questionbank_id:e.questionbank_id,enable_comment:e.enable_comment,ismandatory:e.ismandatory};null!=(null==e?void 0:e.survey_id)&&(r.survey_id=e.survey_id),null!=(null==e?void 0:e.question_id)&&(r.question_id=e.question_id),null!=(null==e?void 0:e.metric_id)&&(r.metric_id=e.metric_id);var a={comment_mandatory:t.comment_mandatory,max_count:t.max_count,rating_type:t.rating_type,layout:t.layout};return r.rating_config=a,n!=oe&&n!=ie&&n!=le||(r.scale_customtext=null==e?void 0:e.scale_customtext),r}(r);break;default:n=r}return n.question=n.question.trim(),n},gO=function(e){var t=Ih.getState().modalBox.viewType,n={survey_name:e.survey_name,instruction:e.instruction,thankyou_message:e.thankyou_message,type:e.type};if(e.questions&&(n.questions=(e.questions||[]).map(function(e){return{question_id:e.question_id,ismandatory:e.ismandatory}})),e.related_to){var r=e.related_to;n.related_to=[{related_recordid:r.related_recordid,related_type:r.related_type}]}return t==Po.OFFBOARDING_FEEDBACK?n.is_ready=!0:t==Po.EXTEND_INTERVIEW_CREATION?n.is_ready=e.is_ready:n.is_ready=!1,e.type===we&&(n.interview_trigger_on=e.interview_trigger_on),n};function hO(e){return hO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hO(e)}function bO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bO(Object(n),!0).forEach(function(t){EO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function EO(e,t,n){return(t=function(e){var t=function(e){if("object"!=hO(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=hO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==hO(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var SO,wO=(SO=null,{setExitFeedbackData:function(e){SO=e},getExitFeedbackData:function(){return SO}}),NO=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=_O(_O({},e),{},{type:we}),o={surveyData:JSON.stringify(gO(a))};return Ih.dispatch(n?Jo({payload:o,surveyId:n}):Ko({payload:o})).then(function(e){if("fulfilled"===e.meta.requestStatus){var o=e.payload,i=o.survey_id,l=o.question_count;a=_O(_O({},a),{},{survey_id:i,question_count:l}),n?Ih.dispatch(Oh(a)):Ih.dispatch(Ph(a)),n&&a.is_ready&&Ih.dispatch(Df(_O(_O({},a),{},{templateId:n}))),OO(!1),"function"==typeof t&&t(),r&&B({text:ZPI18N.getString("zp.comp.rlt.savesuc"),duration:3e3}).showSuccess()}else if("rejected"===e.meta.requestStatus){var c=e.payload.response.data,u=null!=c&&c.message?c.message:ZPI18N.getString("zp.unabletoprocess");return B({text:u,duration:3e3}).showError(),Promise.reject(u)}})},PO=function(e,t,n){var r,a,o=null===(r=Ih.getState().createSurvey.surveyData.related_to)||void 0===r?void 0:r.related_recordid,i=new URLSearchParams;i.append("mode","tag_assesssurveyrelatedto"),a=xN.survey_view_v2.bind({surveyId:e})();var l;l=t?{record_id:t}:{flow_id:o},(o||t)&&(i.append("surveyData",JSON.stringify(l)),y.patch(a,i,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}}).then(function(e){"function"==typeof n&&n(),B({text:ZPI18N.getString("zp.templateconfigsuccessmsg"),duration:3e3}).showSuccess()}).catch(function(e){var t;B({text:null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.message?e.response.data.message:ZPI18N.getString("zp.unabletoprocess"),duration:3e3}).showError()}))},OO=function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];"undefined"!=typeof OffboardingSettings&&null!==(e=OffboardingSettings)&&void 0!==e&&null!==(e=e.FlowPage)&&void 0!==e&&e.MODAL_PAGE&&(OffboardingSettings.FlowPage.MODAL_PAGE.madeChanges=t)};function IO(e){return IO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IO(e)}var zO=["question_id"];function CO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CO(Object(n),!0).forEach(function(t){xO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xO(e,t,n){return(t=function(e){var t=function(e){if("object"!=IO(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=IO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==IO(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kO(e,t){if(e){if("string"==typeof e)return DO(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DO(e,t):void 0}}function DO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var jO=function(){var e=Mb(function(e){return e.questionCard}),t=e.disableCardActions,n=e.mode,r=e.isLoading,a=e.data,o=null==a?void 0:a.type,i=a[o].is_default,l=Mb(function(e){return e.createSurvey}).surveyData,c=(Mb(function(e){return e.questionPool})||{}).QBankId,u=(Mb(function(e){return e.surveyCommon})||{}).metrics,s=i&&[fw.TEMPLATE,fw.MODULE,fw.OFFBOARDING_FEEDBACK,fw.EXTEND_INTERVIEW_CREATION].includes(e.viewType),d=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||kO(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(!1),2),p=d[0],f=d[1],m=Kb(),v=function(e){return m(e)};(0,Nb.useEffect)(function(){e.viewType!=fw.TEMPLATE&&e.viewType!=fw.MODULE||0===(u.active||[]).length&&m(op())},[]),(0,Nb.useEffect)(function(){e.viewType==fw.TEMPLATE||e.viewType==fw.MODULE?(l.questionbank_id?m(Cu({questionbank_id:l.questionbank_id})):m(ii()).then(function(e){m(Cu({questionbank_id:e.payload.questionbank_id}))}),m(Ju({survey_id:l.survey_id}))):e.viewType==fw.QUESTION_POOL?m(Cu({questionbank_id:c})):[fw.OFFBOARDING_FEEDBACK,fw.EXTEND_INTERVIEW_CREATION].includes(e.viewType)&&(m(li()).then(function(e){m(Cu({questionbank_id:e.payload.questionbank_id}))}),m(Ju({survey_id:l.survey_id})))},[]);var y=function(){m(qu())},g=function(){var t=yO(a[o]),n=t.question_id,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,zO);if(fO(r,v)){[fw.TEMPLATE,fw.EXTEND_INTERVIEW_CREATION,fw.OFFBOARDING_FEEDBACK].includes(e.viewType)&&null!=r&&r.survey_id&&delete r.survey_id;var i={payload:{questionData:JSON.stringify(r)},questionId:n};f(!0),m(function(t){return[fw.TEMPLATE,fw.EXTEND_INTERVIEW_CREATION,fw.OFFBOARDING_FEEDBACK].includes(e.viewType)?ni(t):[fw.MODULE].includes(e.viewType)?ni(TO(TO({},t),{},{surveyId:l.survey_id,isSync:!!l.survey_id})):e.viewType===fw.QUESTION_POOL?Id(t):void 0}(i)).then(function(t){if("fulfilled"===t.meta.requestStatus){y();var n=[].concat(function(e){if(Array.isArray(e))return DO(e)}(i=l.questions||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||kO(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[r]);e.viewType===fw.QUESTION_POOL?(c=t.payload,Sm().querySelector("#ee_qpool_list").querySelector("[qid='"+c.question_id+"']").replaceWith(Kn(iO,{qData:c,tagName:""}))):e.viewType===fw.MODULE?l.type===Ee&&m(dd(TO(TO({},l),{},{questions:n}))):e.viewType===fw.EXTEND_INTERVIEW_CREATION&&m(Oh(TO(TO({},l),{},{questions:n}))),B({text:ZPI18N.getString("zp.assessment.question.update.successmsg"),duration:3e3}).showSuccess()}else if("rejected"===t.meta.requestStatus){var a,o=null===(a=t.payload)||void 0===a||null===(a=a.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message;B({text:o||ZPI18N.getString("zp.unabletoprocess"),duration:3e3}).showError()}var i,c;f(!1)})}},h=t||r||p;return Nb.createElement("div",{className:"zpl_mdl zpl_mlg zpl_mopen"},Nb.createElement("div",{className:"zpl_minr"},Nb.createElement(eE,{name:null==e?void 0:e.header,cancelAction:y,disableCancel:p}),Nb.createElement(TN,{isLoading:!1,viewType:e.viewType,surveyData:l}),Nb.createElement(rE,{submitName:s?ZPI18N.getString("zp.assessment.question.version.saveasnewquestion"):null==e?void 0:e.actions.submitButton,cancelName:null==e?void 0:e.actions.cancelButton,submitAction:function(){return"add"===n&&function(){var t=yO(a[o]);if(void 0!==a.insert_at&&(t.insert_at=a.insert_at),fO(t,v)){[fw.TEMPLATE,fw.EXTEND_INTERVIEW_CREATION,fw.OFFBOARDING_FEEDBACK].includes(e.viewType)&&null!=t&&t.survey_id&&delete t.survey_id;var n={payload:{questionData:JSON.stringify(t)},insertAt:t.insert_at};f(!0),m(function(t){return[fw.TEMPLATE,fw.EXTEND_INTERVIEW_CREATION,fw.OFFBOARDING_FEEDBACK].includes(e.viewType)?ti(t):[fw.MODULE].includes(e.viewType)?ti(TO(TO({},t),{},{surveyId:l.survey_id,isSync:!!l.survey_id})):e.viewType==fw.QUESTION_POOL?Od(t):void 0}(n)).then(function(t){if("fulfilled"===t.meta.requestStatus){var n=t.payload.questionData;y();var r=(l.question_count||0)+1;e.viewType===fw.QUESTION_POOL?((e=>{let t=Sm(),n=t.querySelector("#ee_qpool_list"),r=n?.firstChild;if(r)n.insertBefore(Kn(iO,{qData:e}),r);else{let{questionData:e,filterJSON:n}=lh.getState().questionPool;t.innerHTML="",KP(e,n)}})(n),m(gs(n))):e.viewType===fw.TEMPLATE?(m(gs(n)),m(jd(n))):e.viewType===fw.MODULE?[Ee,Ie].includes(l.type)&&m(dd(TO(TO({},l),{},{question_count:r}))):e.viewType==fw.OFFBOARDING_FEEDBACK&&m(Oh(TO(TO({},l),{},{question_count:r}))),[fw.EXTEND_INTERVIEW_CREATION,fw.OFFBOARDING_FEEDBACK].includes(e.viewType)&&OO(),B({text:ZPI18N.getString("zp.assessment.question.add.successmsg"),duration:3e3}).showSuccess()}else if("rejected"===t.meta.requestStatus){var a,o=null===(a=t.payload)||void 0===a||null===(a=a.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message;B({text:o||ZPI18N.getString("zp.unabletoprocess"),duration:3e3}).showError()}f(!1)})}}(),void("edit"===n&&g())},cancelAction:y,isSaving:p,disableSubmit:h,info:s?ZPI18N.getString("zp.survey.edit.default.question.info"):null})))};function AO(e){return AO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AO(e)}function RO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RO(Object(n),!0).forEach(function(t){MO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function MO(e,t,n){return(t=function(e){var t=function(e){if("object"!=AO(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=AO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==AO(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return LO(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?LO(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function FO(e){var t=e.action,n=e.anchorEleRef,r=e.setIsOpen,a=e.options,o=e.isMultiSelect,i=void 0!==o&&o,l=e.anchorPosition,c=e.anchorOrigin,u=void 0===c?{vertical:"bottom",horizontal:"left"}:c,s=e.transformOrigin,d=void 0===s?{vertical:"top",horizontal:"left"}:s,p=e.container,f=e.marginThreshold,m=void 0===f?16:f,v=e.anchorReference,y=void 0===v?"anchorEl":v,g=e.open,h=void 0!==g&&g,b=e.removeOnScroll,_=void 0===b||b,E=e.disableScrollLock,S=void 0!==E&&E,w=e.showFullHeight,N=void 0!==w&&w,P=e.hasMore,O=void 0!==P&&P,I=e.loadOptions,z=e.onSearch,C=void 0===z?null:z,T=e.searchPlaceholder,x=void 0===T?"Search...":T,k=e.enableSearch,D=void 0!==k&&k,j=ZO((0,Nb.useState)(a),2),A=j[0],q=j[1],M=ZO((0,Nb.useState)(a),2),Z=M[0],L=M[1],F=ZO((0,Nb.useState)(""),2),B=F[0],U=F[1],H=(0,Nb.useRef)(),V=(0,Nb.useRef)(),Y=ZO((0,Nb.useState)(1),2),W=(Y[0],Y[1]);function G(e,t){var n=0;return"number"==typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function $(e,t){var n=0;return"number"==typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Q(e){return[e.horizontal,e.vertical].map(function(e){return"number"==typeof e?"".concat(e,"px"):e}).join(" ")}function X(e){return"function"==typeof e?e():e}LE(H,function(e){e.target!==n&&r(!1)}),_&&S&&(r(!1),console.error("removeOnScroll and disableScrollLock Contradict with each Other"));var K=(0,Nb.useCallback)(function(){var e=X(n),t=(e&&1===e.nodeType?e:ME(H.current).body).getBoundingClientRect();return{top:t.top+G(t,u.vertical),left:t.left+$(t,u.horizontal)}},[n,u.horizontal,u.vertical,l,y]),J=(0,Nb.useCallback)(function(e){var t={width:e.offsetWidth,height:e.offsetHeight},r=ee(t),a=K(),o=a.top-r.vertical,i=a.left-r.horizontal,l=o+t.height,c=i+t.width,u=ZE(n),s=u.innerHeight-m,d=u.innerWidth-m;if(null!==m&&o<m){var p=o-m;o-=p,r.vertical+=p}else if(null!==m&&l>s){var f=l-s;o-=f,r.vertical+=f}if(null!==m&&i<m){var v=i-m;i-=v,r.horizontal+=v}else if(c>d){var y=c-d;i-=y,r.horizontal+=y}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(i),"px"),transformOrigin:Q(r)}},[n,y,K,ee,m]),ee=(0,Nb.useCallback)(function(e){return{vertical:G(e,d.vertical),horizontal:$(e,d.horizontal)}},[d.horizontal,d.vertical]),te=(0,Nb.useCallback)(function(){var e=H.current;if(e){N&&(e.style.maxBlockSize="initial"),e.style.display="block";var t=J(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}},[J]),ne=function(e){var t=e.target;98===Math.round(100*(t.scrollTop+t.offsetHeight)/t.scrollHeight)&&W(function(e){return I(e,V.current.value),e+1})},re=(0,Nb.useCallback)(R(function(e){C&&"function"==typeof C?C(0,e):ae(e)},300),[A,C]),ae=(0,Nb.useCallback)(function(e){if(e.trim()){var t=A.filter(function(t){return t.label&&t.label.toLowerCase().includes(e.toLowerCase())});L(t)}else L(A)},[A]);(0,Nb.useEffect)(function(){a&&(q(a),B?ae(B):L(a))},[a,B,ae]),(0,Nb.useEffect)(function(){h&&D&&V.current&&setTimeout(function(){V.current.focus()},100)},[h,D]),(0,Nb.useEffect)(function(){h||(U(""),L(A))},[h,A]),(0,Nb.useEffect)(function(){if(O){var e=H.current;return e.addEventListener("scroll",ne),function(){return e.removeEventListener("scroll",ne)}}},[O]),(0,Nb.useEffect)(function(){var e=function(e){var t=e.target,n=H.current;n&&n.contains(t)||(_?r(!1):S&&te())};return document.addEventListener("scroll",e,{passive:!0}),document.addEventListener("wheel",e,{passive:!0}),function(){document.removeEventListener("scroll",e),document.removeEventListener("wheel",e)}},[n,S,_,te]),(0,Nb.useEffect)(function(){h&&te()}),(0,Nb.useEffect)(function(){if(h){var e=R(function(){te()}),t=ZE(n);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}},[n,h,te]),(0,Nb.useImperativeHandle)(t,function(){return h?{updatePosition:function(){te()}}:null},[h,te]);var oe=function(e){return function(t){if(t.stopPropagation(),i){var n=A.map(function(t){if(e.value===t.value){var n=t.isSelected;return qO(qO({},t),{},{isSelected:!n})}return(null==e?void 0:e.groupBy)===(null==t?void 0:t.groupBy)?qO(qO({},t),{},{isSelected:!1}):t}),a=Z.map(function(t){if(e.value===t.value){var n=t.isSelected;return qO(qO({},t),{},{isSelected:!n})}return(null==e?void 0:e.groupBy)===(null==t?void 0:t.groupBy)?qO(qO({},t),{},{isSelected:!1}):t});q(n),L(a),"function"==typeof(null==e?void 0:e.callback)&&(null==e||e.callback(e,n))}else"function"==typeof(null==e?void 0:e.callback)&&(null==e||e.callback()),r(!1)}},ie=p||(n?ME(X(n)).body:void 0);return qE.createPortal(Nb.createElement("div",{className:"zpl_drpdwn zmenu--iconwithtext zposition--bottomleft",style:{position:"absolute"},ref:H},D&&Nb.createElement("div",{className:"zdropdownlist__search ",style:{backgroundColor:"white"}},Nb.createElement("div",{className:"zdropdownlist__searchiconcontainer"},Nb.createElement("i",{"aria-hidden":"true",className:"zdropdownlist__searchicon"},Nb.createElement("svg",{focusable:"false"}," ",Nb.createElement("use",{xlinkHref:"#zc__svg--search"})))),Nb.createElement("input",{ref:V,autoComplete:"off","aria-autocomplete":"list",type:"text",id:"zselectDemo-listbox-searchbox",role:"searchbox","aria-label":"search",className:"zdropdownlist__searchfield has-focus",placeholder:x,value:B,onChange:function(e){var t=e.target.value;U(t),re(t)}}),B&&Nb.createElement("div",{className:"zdropdownlist__clearicon",onClick:function(){U(""),re(""),L(A),V.current&&V.current.focus()},style:{cursor:"pointer",padding:"14px 5px 0px 11px"}},Nb.createElement("i",{"aria-hidden":"true",className:"zdropdownlist__closeicon"},Nb.createElement("svg",{focusable:"false"}," ",Nb.createElement("use",{xlinkHref:"#zc__svg--close"}))))),Nb.createElement("ul",{className:"zmenu__body",style:{height:"auto",maxHeight:"150px"}},0===Z.length&&B?Nb.createElement("li",{className:"zmenu__item zmenu__item--disabled"},Nb.createElement("span",{className:"zmenu__text"},ZPI18N.getString("zp.noresults"))):Z.map(function(e,t){var n=(null==e?void 0:e.id)||"separator-".concat(t);return null!=e&&e.separtor?Nb.createElement("li",{key:n,className:"zmenu__separator"}):Nb.createElement("li",{key:n,className:"".concat((null==e?void 0:e.className)||""," zmenu__item"),onClick:oe(e)},null!=e&&e.iconClass?Nb.createElement("div",{className:"zmenu__iconcontainer"},Nb.createElement("i",{className:"zmenu__icon ".concat(e.iconClass)})):null,Nb.createElement("span",{className:"zmenu__text",style:{width:"auto"}},null==e?void 0:e.label),i&&(null==e?void 0:e.isSelected)&&Nb.createElement("div",{className:"zmenu__iconcontainer"},Nb.createElement("i",{className:"zmenu__icon "},Nb.createElement("svg",{className:"zmenu__tick ",focusable:"false"},Nb.createElement("use",{xlinkHref:"#zc__svg--tick"})))))}))),ie)}function BO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return UO(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?UO(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var HO=function(e){var t=e.name,n=void 0===t?"":t,r=e.cancelAction,a=(e.disableCancel,e.templateData),o=e.viewType,i=BO((0,Nb.useState)(!1),2),l=i[0],c=i[1],u=BO((0,Nb.useState)(null),2),s=u[0],d=u[1],p=Kb();return Nb.createElement("div",{className:"zpl_mhder"},Nb.createElement("div",{className:"d-flexclmcap12"},Nb.createElement("h4",null,n)),o==Pe&&!a.is_default&&Nb.createElement("span",{className:"zpl_mhderrgt"},Nb.createElement("a",{className:"PI_more zpl_btnic",onClick:function(e){d(e.currentTarget),c(!l)}}),l&&Nb.createElement(FO,{anchorEleRef:s,options:kP(a,!0),open:l,setIsOpen:c})),[Ee,we].includes(o)&&Nb.createElement("span",{className:"zpl_mhderrgt"},Nb.createElement(J_,{className:"zlabel--blue",onClickHandler:function(){if(o==Ee)return p(Li({surveyData:a,dbHash:bo(a),viewType:o,fetchInitialData:!1})),a.type==Ie&&p(Fi({type:Ie})),p(Xa()),p(Hf()),void(a.type==Ie?fg():og())}},ZPI18N.getString("zp.survey.template.use"))),Nb.createElement("a",{className:"_cls PI_cls",onClick:r}))},VO=function(e){var t=e.questionDetails;return Nb.createElement("div",{className:"zpl_btnmnu"},Nb.createElement("ul",{className:"zpl_grpmnulnelst"},t.map(function(e){return Nb.createElement("li",{key:zE()},e.name,Nb.createElement("b",{className:"ylw"},e.count))})))},YO=function(e){var t=e.metricList;return Nb.createElement("div",{className:"zpl_tglist"},t.map(function(e){return Nb.createElement("div",{className:"zpl_tg"},Nb.createElement("span",null,e.metric_name))}))},WO=function(e){var t=e.description,n=e.metricList;return Nb.createElement("div",{className:"zpl_crd"},((t||"").length>0||n.length>0)&&Nb.createElement("div",{className:"zpl_crdcnt"},t&&Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,Nb.createElement("h5",null,ZPI18N.getString("zp.description")),Nb.createElement("p",null,t))),n.length>0&&Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,Nb.createElement("h5",null,ZPI18N.getString("zp.survey.metrics.used"))),Nb.createElement(YO,{metricList:n}))))};function GO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $O(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$O(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var QO=function(e){var t=e.midListOptions,n=e.dropdownOpencallback,r=GO((0,Nb.useState)(!1),2),a=r[0],o=r[1],i=GO((0,Nb.useState)(!1),2),l=i[0],c=i[1],u=(0,Nb.useRef)(null);Nb.useEffect(function(){l||o(!1)},[l]);var s=Nb.useCallback(function(e){e.preventDefault(),e.stopPropagation(),o(function(e){return c(function(){return e||n(),!e}),!e})},[n]);return null!=t&&t.length?Nb.createElement(Nb.Fragment,null,Nb.createElement("div",{className:"zpl_qalst-brdrline ".concat(a?"zpl_actbrdrline":"")},Nb.createElement("div",{className:"zpl_plushldr"},Nb.createElement("i",{className:"PI_plus zpl_drpdwn-js",role:"button",tabIndex:"0",onClick:s,ref:u}))),l&&Nb.createElement(FO,{anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"center",horizontal:"left"},showFullHeight:!0,options:t,anchorEleRef:u.current,setIsOpen:c,open:l})):null};function XO(){return XO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XO.apply(null,arguments)}var KO=function(e){return Nb.createElement("i",XO({className:"PI_edt"},e))},JO=function(e){var t=e.onClickHandler,n=e.surveyQuestion.is_avgrating;return Nb.createElement("i",{className:n?"PI_anchor grnbglit1 grn":"PI_anchor",onClick:t})};function eI(){return eI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eI.apply(null,arguments)}var tI=function(e){return Nb.createElement("i",eI({className:"PI_delete"},e))},nI=function(e){var t=e.choices,n=void 0===t?[]:t,r=e.addOther,a=void 0===r?[]:r;return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,n.map(function(e,t){var n=zE();return Nb.createElement("div",{key:n,className:"zradiobutton ".concat(0===t?"M0I":"")},Nb.createElement("input",{type:"radio",id:n,className:"zradiobutton__helper CPD",checked:e.score>0}),Nb.createElement("label",{htmlFor:n,className:"zradiobutton__label CPD"},Nb.createElement("span",{className:"zradiobutton__text"},e.choice)))}),a.map(function(e){var t=zE();return Nb.createElement("div",{key:t,className:"zradiobutton"},Nb.createElement("input",{type:"radio",id:t,className:"zradiobutton__helper CPD",checked:e.score>0}),Nb.createElement("label",{htmlFor:t,className:"zradiobutton__label CPD"},Nb.createElement("span",{className:"zradiobutton__text"},e.choice)))})))},rI=function(e){var t=e.choices,n=void 0===t?[]:t,r=e.addOther,a=void 0===r?[]:r;return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,n.map(function(e,t){return Nb.createElement("div",{key:zE(),className:"zcheckbox"},Nb.createElement("input",{type:"checkbox",name:"check",value:"",className:"zcheckbox__helper CPD",checked:e.score>0}),Nb.createElement("label",{className:"zcheckbox__label CPD"},e.choice))}),a.map(function(e){return Nb.createElement("div",{key:zE(),className:"zcheckbox"},Nb.createElement("input",{type:"checkbox",name:"check",value:"",className:"zcheckbox__helper CPD",checked:e.score>0}),Nb.createElement("label",{className:"zcheckbox__label CPD"},e.choice))})))},aI=function(e){var t=e.questionData;return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(Uw,{minScoreText:t.minscore_text,maxScoreText:t.maxscore_text,isOnlyView:!0}))},oI=function(e){var t=e.maxCount;return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(wN,{maxCount:t}))},iI=function(e){var t=e.questionData,n=t.rating_config,r=t.scale_customtext;return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(yN,{ratingConfig:n,customText:r}))},lI=function(){return Nb.createElement("div",{className:"zpl_secn"})},cI=function(e){var t=e.question,n=rw(t),r=n.type;return r===Jn.SINGLE_CHOICE.TYPE?Nb.createElement(nI,{choices:null==n?void 0:n.choices,addOther:null==n?void 0:n.addOther}):r===Jn.MULTIPLE_CHOICE.TYPE?Nb.createElement(rI,{choices:null==n?void 0:n.choices,addOther:null==n?void 0:n.addOther}):r===Jn.DATE.TYPE?Nb.createElement(lI,null):r===Jn.NPS.TYPE?Nb.createElement(aI,{questionData:n}):r===Jn.STAR.TYPE?Nb.createElement(oI,{maxCount:n.max_count}):r===Jn.RATING_SCALE.TYPE||r===Jn.TWO_POINT_SCALE.TYPE?Nb.createElement(iI,{questionData:n}):null};function uI(e){return uI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uI(e)}function sI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dI(r.key),r)}}function dI(e){var t=function(e){if("object"!=uI(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=uI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==uI(t)?t:t+""}var pI=function(){return function(e,t){return t&&sI(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){(t=dI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"keydownHandler",function(e){"Escape"===e.key&&n.removeModal()}),this.title=t.title,this.message=t.message,this.confirmText=t.confirmText||"Yes",this.cancelText=t.cancelText||"Cancel",this.style=t.style,this.doubleConfirm=t.doubleConfirm,this.theme=t.theme||"yellow",this.icon=t.icon,this.confirmCallback=t.confirmCallback,this.cancelCallback=t.cancelCallback,this.closeCallback=t.closeCallback,this.popupTabIndex=t.popupTabIndex||"0",this.popupAriaLabel=t.popupAriaLabel,this.headingTabIndex=t.headingTabIndex||"0",this.msgTabIndex=t.msgTabIndex||"0",this.modal=this.createModalElement()},[{key:"getTheme",value:function(){return this.theme}},{key:"getIcon",value:function(){switch(this.theme){case"yellow":return"info";case"red":return"delete";case"green":return"success";default:return this.icon||"info"}}},{key:"createModalElement",value:function(){var e=document.createElement("div");e.setAttribute("tabindex","-1"),e.style.display="none";var t=document.createElement("div");for(var n in t.className="zpl_mdl zpl_malrtmsg zpl_mopen",this.style)if(this.style.hasOwnProperty(n)){var r=this.style[n],a=this.style[n].lastIndexOf("!important"),o=-1!=a?r.substring(0,a).trim():r,i=-1!=a?"important":"";t.style.setProperty(n,o,i)}e.appendChild(t);var l=document.createElement("div");l.className="zpl_minr",t.appendChild(l),this.closeIcon=document.createElement("a"),this.closeIcon.className="_cls PI_cls",l.appendChild(this.closeIcon),this.closeIcon.onclick=this.removeModal;var c=document.createElement("div");c.className="zpl_mcnt",l.appendChild(c);var u=document.createElement("div");u.className="alert_contain",u.setAttribute("tabindex",this.popupTabIndex),this.popupAriaLabel&&u.setAttribute("aria-label",this.popupAriaLabel),c.appendChild(u);var s=document.createElement("i");s.className="ico ".concat(this.getIcon()),u.appendChild(s);var d=document.createElement("div");d.className="cont",u.appendChild(d);var p=document.createElement("h3");p.textContent=this.title,p.setAttribute("tabindex",this.headingTabIndex),d.appendChild(p);var f=document.createElement("p");if(f.textContent=this.message,f.setAttribute("tabindex",this.msgTabIndex),d.appendChild(f),this.doubleConfirm){var m=document.createElement("div");m.className="zcheckbox",d.appendChild(m);var v=document.createElement("input");v.className="zcheckbox__helper",v.setAttribute("type","checkbox"),v.setAttribute("id","CHECK-BOX"),m.appendChild(v),this.checkBoxInputElement=v;var y=document.createElement("label");y.className="zcheckbox__label",y.setAttribute("for","CHECK-BOX"),y.textContent=this.doubleConfirm.doubleConfirmText,m.appendChild(y)}var g=document.createElement("div");return g.className="zpl_mfoter",l.appendChild(g),this.confirmButton=document.createElement("button"),this.confirmButton.type="button",this.confirmButton.className="zlabel zlabel--".concat(this.getTheme()," zlabel--medium MR10"),this.confirmButton.textContent=this.confirmText,g.appendChild(this.confirmButton),this.cancelButton=document.createElement("button"),this.cancelButton.type="button",this.cancelButton.className="zlabel zlabel--outline zlabel--medium",this.cancelButton.textContent=this.cancelText,g.appendChild(this.cancelButton),e}},{key:"addModalToBody",value:function(){document.body.appendChild(this.modal)}},{key:"showModal",value:function(){this.modal.style.display="block",this.modal.focus(),document.addEventListener("keydown",this.keydownHandler)}},{key:"hideModal",value:function(){document.removeEventListener("keydown",this.keydownHandler),this.modal.style.display="none"}},{key:"removeModal",value:function(){document.removeEventListener("keydown",this.keydownHandler),document.body.removeChild(this.modal)}},{key:"confirmation",value:function(){var e=this,t=this.doubleConfirm;return this.addModalToBody(),this.showModal(),this.promise=new Promise(function(n,r){e.confirmButton.onclick=function(){"function"==typeof e.confirmCallback&&e.confirmCallback(t?{isChecked:e.checkBoxInputElement.checked}:{}),n(!0),e.removeModal()},e.cancelButton.onclick=function(){"function"==typeof e.cancelCallback&&e.cancelCallback(),n(!1),e.removeModal()},e.closeIcon.onclick=function(){"function"==typeof e.closeCallback&&e.closeCallback(),n(!1),e.removeModal()}}),this.promise}}])}();function fI(e){return fI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fI(e)}function mI(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return vI(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(vI(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,vI(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,vI(d,"constructor",u),vI(u,"constructor",c),c.displayName="GeneratorFunction",vI(u,a,"GeneratorFunction"),vI(d),vI(d,a,"Generator"),vI(d,r,function(){return this}),vI(d,"toString",function(){return"[object Generator]"}),(mI=function(){return{w:o,m:p}})()}function vI(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}vI=function(e,t,n,r){function o(t,n){vI(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},vI(e,t,n,r)}function yI(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function gI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gI(Object(n),!0).forEach(function(t){bI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bI(e,t,n){return(t=function(e){var t=function(e){if("object"!=fI(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=fI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fI(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||EI(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EI(e,t){if(e){if("string"==typeof e)return SI(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SI(e,t):void 0}}function SI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function wI(e){var t=e.index,n=e.surveyData,r=e.questionCount,a=e.editCallback,o=e.deleteCallback,i=e.moreOption,l=e.checkBoxCallback,c=e.checkBoxChecked,u=e.surveyQuestion,s=e.showDrag,d=e.setShowDrag,p=e.isSurveyDashboard,f=e.isRenderBasedOnSearch,m=e.isQbankDashboard,v=e.viewType,y=e.readOnly,g=e.avgRatingCallback,h=e.midListOptions,b=e.setInsertionData,_=u.ismandatory,E=u.type,S=_I((0,Nb.useState)(!1),2),w=S[0],N=S[1],P=_I((0,Nb.useState)(null),2),O=P[0],I=P[1],z=_I((0,Nb.useState)(!1),2),C=z[0],T=z[1],x=[Jn.COMMENT.TYPE,Jn.DATE.TYPE].includes(E),k={maxHeight:"0px",opacity:0,overflow:"hidden",display:"none",transition:"opacity 1s ease, maxHeight 1s ease"},D=_I((0,Nb.useState)(k),2),j=D[0],A=D[1],R=Nb.useMemo(function(){var e=[];return(null==n?void 0:n.metric_type)===gn?(n.metric_groups||[]).forEach(function(t){(t.questions||[]).forEach(function(t){t.question_id&&e.push(t.question_id)})}):((null==n?void 0:n.questions)||[]).forEach(function(t){t.question_id&&e.push(t.question_id)}),e},[n]),q=c||m&&R.includes(u.question_id);return Nb.createElement(Nb.Fragment,null,Nb.createElement("div",{className:"zpl_qalsthdr ".concat(m&&R.includes(u.question_id)?"disabled":"")},Nb.createElement("div",{className:"zpl_qalsthd".concat(x?" CPD":""),onClick:function(e){e.preventDefault(),"function"==typeof l&&l(),C?(A(hI(hI({},k),{},{maxHeight:"0px",opacity:0})),setTimeout(function(){C||A(k)},1e3)):(A(hI(hI({},k),{},{display:"block"})),setTimeout(function(){A(hI(hI({},k),{},{display:"block",maxHeight:"1000px",opacity:1}))},10)),T(function(e){return!e})}},Nb.createElement("div",null,s&&Nb.createElement("i",{className:"PI_drag",style:f?{cursor:"not-allowed"}:{}}),p&&Nb.createElement(PI,{surveyData:n,surveyQues:u,order:u.question_order||t+1,questionCount:r,setShowDrag:d,viewType:v}),m&&Nb.createElement(uw,{onChange:l,isActive:q}),Nb.createElement("span",null,Po.CUSTOM_FEEDBACK===v&&u.type===Jn.STAR.TYPE&&u.is_avgrating?Nb.createElement("i",{className:zm(u)+" grnbglit1 grn"}):Nb.createElement("i",{className:zm(u)}))),Nb.createElement(NI,{question:u.question,ismandatory:_,showAnswer:C})),Nb.createElement("div",{className:"zpl_qalsthdrrgt"},u.metric_name&&!m&&(null==n?void 0:n.metric_type)===yn&&Nb.createElement("div",{className:"zpl_qalsthdrtg"},Nb.createElement("div",{className:"zpl_tg"},Nb.createElement("span",null,u.metric_name))),Nb.createElement("div",{className:"zpl_hvr ".concat(w?"zpl_hvract":"zpl_qalstactn")},Po.CUSTOM_FEEDBACK===v&&u.type===Jn.STAR.TYPE&&5===u.max_count&&Nb.createElement(JO,{onClickHandler:function(){return g(u)},surveyQuestion:u}),!y&&a&&(!m||m&&!u.is_default)&&((null==n?void 0:n.type)!=Ie||(null==n?void 0:n.type)==Ie&&!u.is_default)&&Nb.createElement(KO,{onClick:function(){return a(u)}}),!y&&o&&(!m||m&&!u.is_default)&&Nb.createElement(tI,{onClick:function(){return o(u)}}),!y&&p&&Nb.createElement("i",{className:"PI_more zpl_drpdwn-js ".concat(w?"zpl_act":""),onClick:function(e){I(e.currentTarget),N(!w)}}),p&&w&&Nb.createElement(FO,{anchorEleRef:O,options:i(u),open:w,setIsOpen:N})))),!x&&Nb.createElement("div",{className:"zpl_qalstshw",style:j},C&&Nb.createElement(cI,{question:u})),Nb.createElement(QO,{midListOptions:h,dropdownOpencallback:function(){b({insert_at:t+1})}}))}var NI=function(e){var t=e.question,n=e.ismandatory?"zpl_mtry":"";return e.showAnswer&&(n+=(n?" ":"")+"zpl_clamp-0"),Nb.createElement("div",null,Nb.createElement("p",{className:n},t))},PI=function(e){var t=e.order,n=e.questionCount,r=e.surveyQues,a=e.setShowDrag,o=e.viewType,i=e.surveyData,l=Kb(),c=_I((0,Nb.useState)(t),2),u=c[0],s=c[1],d=(0,Nb.useRef)(null);(0,Nb.useEffect)(function(){s(t),d.current.blur()},[t]);var p=Nb.useCallback(function(e){var t,n=0,r=0,a=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=EI(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(i)throw a}}}}(i.metric_groups||[]);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(r=(n=r+1)+(o.questions||[]).length-1,o.metric_id===e)break}}catch(e){a.e(e)}finally{a.f()}return[n,r]},[i.metric_groups]),f=Nb.useCallback(function(e,t){var n=1,a=function(a){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[],l=!1;return a.forEach(function(a){n===e&&(i.push(hI(hI({},r),{},{question_order:n++},o)),l=!0),a.question_id!==t&&i.push(hI(hI({},a),{},{question_order:n++}))}),l||n!==e||i.push(hI(hI({},r),{},{question_order:n++},o)),i};if(i.metric_type===gn){var o=(i.metric_groups||[]).map(function(e){return hI(hI({},e),{},{questions:a(e.questions||[],{metric_id:e.metric_id,metric_name:e.metric_name})})});l(Fi({metric_groups:o}))}else{var c=a(i.questions||[]);l(Fi({questions:c}))}},[i]),m=function(){var e,n=(e=mI().m(function e(n){var c,s,d,m,v,y;return mI().w(function(e){for(;;)switch(e.n){case 0:if("Enter"===n.key){e.n=1;break}return e.a(2);case 1:if(!u||parseInt(u)==t){e.n=4;break}if(i.metric_type!==gn){e.n=3;break}if(c=r.metric_id,s=p(c),d=_I(s,2),m=d[0],v=d[1],!(u<m||u>v)){e.n=3;break}return y=new pI({title:ZPI18N.getString("zp.survey.question.reorder.confirm"),message:ZPI18N.getString("zp.survey.metricquestion.reorder.confirm"),confirmText:ZPI18N.getString("zp.confirm"),cancelText:ZPI18N.getString("zp.cancel"),style:{"block-size":"100% !important"},popupAriaLabel:ZPI18N.getString("zp.confirmation.popup.alert")}),e.n=2,y.confirmation();case 2:if(e.v){e.n=3;break}return e.a(2);case 3:o===Po.CREATE_TEMPLATE?f(u,r.question_id):[Po.ENGAGEMENT,Po.PULSE,Po.OFFBOARDING_FEEDBACK,Po.EXTEND_INTERVIEW_CREATION].includes(o)&&(a(!1),l(oi({surveyId:i.survey_id,questionId:r.question_id,pos:u-1})).then(function(e){"fulfilled"===e.meta.requestStatus?B({text:ZPI18N.getString("zp.assessment.questions.order.update.success"),duration:3e3}).showSuccess():"rejected"===e.meta.requestStatus&&(B({text:ZPI18N.getString("zp.assessment.questions.order.update.failure"),duration:3e3}).showError(),n.target.blur()),a(!0)})),e.n=5;break;case 4:n.target.blur();case 5:return e.a(2)}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){yI(o,r,a,i,l,"next",e)}function l(e){yI(o,r,a,i,l,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}();return Nb.createElement("span",{className:"zpl_qaordr",onClick:function(e){e.preventDefault(),e.stopPropagation()}},Nb.createElement("input",{type:"text",className:"ztextbox",value:u,onChange:function(e){var t=e.target.value;""===t?s(t):!isNaN(t)&&t>0&&t<=n&&s(parseInt(t))},onKeyDown:m,onBlur:function(){s(t)},ref:d}))},OI=function(e){var t=e.message,n=e.description,r=e.isButtonNeeded,a=void 0!==r&&r,o=e.btnMsg,i=e.btnHandler,l=ZPeople.getResourceURL("".concat(newUIImageUrl,"nodata/no_files_found.svg"));return Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_Emptydata"},Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_emptimg zp_nd_file",style:{backgroundImage:"url(".concat(l,")")}}),Nb.createElement("h4",null,t),n&&Nb.createElement("p",null,n),a&&Nb.createElement("font",null,Nb.createElement("button",{className:"zlabel zlabel--blue zlabel--medium",onClick:i},o))))))},II=function(e){var t=e.questions;return Nb.createElement(Nb.Fragment,null,t.length>0?Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"secViewAsmnt"},Nb.createElement("div",{className:"zpl_qacrd zpl_qalst-js"},Nb.createElement("div",null,(t||[]).map(function(e,t){return Nb.createElement("div",{className:"zpl_qalst",key:e.question_id},Nb.createElement(wI,{index:t,key:e.question_id,isPreviewDashboard:!0,surveyQuestion:e}))}))))))):Nb.createElement(OI,{message:ZPI18N.getString("zp.survey.question.empty"),description:ZPI18N.getString("zp.engagement.newsurvey.desc"),isButtonNeeded:!1}))},zI=function(e){var t=e.metricGroups;return Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"secViewAsmnt zpl_secn"},Nb.createElement("div",{className:"zpl_qacrd zpl_qalst-js M0I"},Nb.createElement("div",null,(t||[]).map(function(e){return[Nb.createElement("div",{className:"zpl_mt3 zpl_mb1",key:e.metric_id},Nb.createElement("h6",null,e.metric_name)),(e.questions||[]).map(function(e,t){return Nb.createElement("div",{className:"zpl_qalst",key:e.question_id},Nb.createElement(wI,{index:t,key:e.question_id,isPreviewDashboard:!0,surveyQuestion:e}))})]}))))))},CI=function(e){var t=e.templateData,n=t.questions,r=void 0===n?[]:n,a=t.metric_groups,o=t.metric_type,i=t.question_count,l=[{name:ZPI18N.getString("zp.assessment.totalquestions"),count:i||r.length||0}];return Nb.createElement("div",{className:"zpl_mcnt"},Nb.createElement(VO,{questionDetails:l}),Nb.createElement(WO,{description:t.description,metricList:function(e){var t=[],n=[];return(e||[]).forEach(function(e){var r=e.metric_id;r>0&&!t.includes(r)&&(n.push({metric_id:r,metric_name:e.metric_name}),t.push(r))}),n}(r)}),o===gn?Nb.createElement(zI,{metricGroups:a}):Nb.createElement(II,{questions:r}))},TI=function(){var e=Kb(),t=Mb(function(e){return e.viewTemplate}),n=Mb(function(e){return e.templateList}).data,r=t.isLoading,a=t.viewType,o=(n||[]).find(function(e){return e.survey_id==t.templateId||e.uniquename==t.templateId});return(0,Nb.useEffect)(function(){o.survey_id&&(o.fetchInitialData?e(Cf({templateId:t.templateId})).then(function(t){"fulfilled"===t.meta.requestStatus&&e(Uf({isLoading:!1}))}):e(Uf({isLoading:!1})))},[o.survey_id]),Nb.createElement("div",{className:"zpl_mdl zpl_mlg zpl_mcenter zpl_mopen"},Nb.createElement("div",{className:"zpl_minr h100_per"},r?Nb.createElement(aE,{height:500}):Nb.createElement(Nb.Fragment,null,Nb.createElement(HO,{name:o.survey_name,cancelAction:function(){e(Hf())},templateData:o,viewType:a}),Nb.createElement(CI,{templateData:o}))))},xI=function(e){var t=e.index,n=e.questionData,r=e.checkBoxCallback,a=e.checkBoxChecked,o=e.surveyData;return Nb.createElement("div",{className:"zpl_qalst",key:n.question_id},Nb.createElement(wI,{index:t,key:n.question_id,isQbankDashboard:!0,surveyQuestion:n,checkBoxCallback:r,checkBoxChecked:a,surveyData:o}))},kI=function(e){var t=e.questions,n=e.tagPayload,r=e.isNextPageLoading,a=e.checkBoxCallback,o=e.surveyData,i=n.question_ids||[];return Nb.createElement("div",{className:"secViewAsmnt"},Nb.createElement("div",{className:"zpl_qacrd zpl_qalst-js"},Nb.createElement("div",null,t.map(function(e,t){return Nb.createElement(xI,{key:e.question_id,index:t,questionData:e,checkBoxCallback:function(){return a(e)},checkBoxChecked:(null==i?void 0:i.indexOf(e.question_id))>-1,surveyData:o})}),r&&Nb.createElement(aE,{height:80}))))};function DI(e){return DI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DI(e)}function jI(e){return function(e){if(Array.isArray(e))return ZI(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||MI(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function RI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AI(Object(n),!0).forEach(function(t){qI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qI(e,t,n){return(t=function(e){var t=function(e){if("object"!=DI(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=DI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==DI(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MI(e,t){if(e){if("string"==typeof e)return ZI(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZI(e,t):void 0}}function ZI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var LI=function(e){var t=e.count,n=void 0===t?0:t,r=e.taggedIds,a=e.qBankQuestions,o=void 0===a?[]:a,i=e.surveyQuestions,l=void 0===i?[]:i,c=e.surveyId,u=e.metricId,s=e.viewType,d=e.surveyData,p=e.insertAt,f=n<10?"0".concat(n):n,m=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||MI(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(!1),2),v=m[0],y=m[1],g=Kb(),h=Mb(Mi),b=(r||[]).length>0,_=function(e,t){var n=o.reduce(function(t,n){return e.includes(n.question_id)&&(t[n.question_id]=n),t},{}),r=e.map(function(e){return RI({},n[e])}),a=0;if(d.metric_type===gn)g(Fi({metric_groups:(d.metric_groups||[]).map(function(e){if(e.metric_id==u){var t=[].concat(jI(e.questions||[]),jI(r)).map(function(t){return RI(RI({},t),{},{metric_id:e.metric_id,metric_name:e.metric_name})});return a+=t.length,RI(RI({},e),{},{questions:t})}return a+=(e.questions||[]).length,e})}));else{d.metric_type===vn&&(r||[]).forEach(function(e){return RI(RI({},e),{},{metric_id:d.metric_id,metric_name:d.metric_name})});var i=[].concat(jI(d.questions||[]),jI(r));a=i.length,g(Fi({questions:i}))}"function"==typeof t&&t(RI(RI({},d),{},{question_count:a}))};return Nb.createElement("div",{className:"actn_ovrly ".concat(b?"opn":"")},Nb.createElement("div",{className:"wd100_per d-flexC j-cnt-btwen "},Nb.createElement(nE,{name:ZPI18N.getString("zp.assessment.addquestions"),submitAction:function(){if([Po.ENGAGEMENT,Po.PULSE,Po.CUSTOM_FEEDBACK].includes(s)){if(!c)return _(r||[],null),void g(ys());!function(){var e={question_ids:r||[]};if(Po.CUSTOM_FEEDBACK===s){var t=d.related_to[0];e.course_id=null==t?void 0:t.related_recordid}void 0!==p&&(e.insert_at=p),u&&(e.metric_id=u),y(!0),g(wi({surveyId:c,payload:{questionData:JSON.stringify(e)}})).then(function(e){var t=e.payload.added_question_count;s===Po.ENGAGEMENT?g(dd(RI(RI({},d),{},{question_count:h+(t||0)}))):s===Po.PULSE&&g(pm(RI(RI({},d),{},{question_count:h+(t||0)}))),g(ys())}).catch(function(e){var t;B({text:null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.message?e.response.data.message:ZPI18N.getString("zp.unabletoprocess"),duration:3e3}).showError(),y(!1)})}()}else s===Po.CREATE_TEMPLATE?(_(r||[],FP),g(ys())):[Po.OFFBOARDING_FEEDBACK,Po.EXTEND_INTERVIEW_CREATION].includes(s)&&(_(r||[]),g(ys()),OO())},isSaving:v}),Nb.createElement("em",{className:"d-flexclmcap5"},Nb.createElement("b",null,f),ZPI18N.getString("zp.assessment.questionbank.questions_selected"))),!v&&Nb.createElement("i",{className:"PI_cls",onClick:function(){g(bs({surveyQuestions:l}))}}))},FI=function(e){var t=e.showTagQuestion,n=e.taggedIds,r=e.qBankQuestions,a=e.surveyQuestions,o=e.surveyData,i=e.viewType,l=e.metricId,c=e.insertAt,u=(a||[]).length+(n||[]).length;return Nb.createElement("div",{className:"zpl_btnmnu"},t&&Nb.createElement(LI,{count:u,taggedIds:n,surveyData:o,surveyId:o.survey_id,metricId:l,surveyQuestions:a,qBankQuestions:r,viewType:i,insertAt:c}))},BI=function(e){var t=e.title,n=e.description,r=void 0===n?null:n,a=e.children;return Nb.createElement("div",{className:"zpl_crdhdr"},Nb.createElement("div",null,Nb.createElement("h4",null,t),r?Nb.createElement("p",null,r):null),a)},UI=function(e){var t=e.type;return Nb.createElement("div",null,Nb.createElement("span",null,Nb.createElement("i",{className:zm({type:t})})))},HI=function(e){var t=e.label;return Nb.createElement("span",{className:"zpl_tg zpl_ml1"},Nb.createElement("span",null,t))},VI=function(e){var t=e.questionData,n=e.qno,r=e.metric;return Nb.createElement("div",{className:"zpl_crdhdr"},Nb.createElement("div",{className:"zpl_qalsthd"},Nb.createElement(UI,{type:t.type}),Nb.createElement("div",{className:"d-flexclmcap8 a-itm-cntr",tabIndex:"0","aria-label":ZPI18N.getString("zp.question")+"".concat(n," : ").concat(t.question)},Nb.createElement("p",null,t.question),r&&Nb.createElement(HI,{label:r}))))},YI=function(e){var t=e.question,n=e.type,r=e.metric;return Nb.createElement("div",{className:"zpl_qalsthd"},Nb.createElement(UI,{type:n}),Nb.createElement("div",{className:"d-flexclmcap8 a-itm-cntr"},Nb.createElement("p",null,t),r&&Nb.createElement(HI,{label:r})))};function WI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var GI=function(e){var t=e.score,n=Nb.useRef(null),r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return WI(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WI(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Nb.useState(0),2),a=r[0],o=r[1];return(0,Nb.useEffect)(function(){var e=n.current;if(e){var t=window.getComputedStyle(e),r=e.offsetWidth-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth);o(Math.ceil(r/11))}},[]),Nb.createElement(Nb.Fragment,null,t>=0&&Nb.createElement("div",{className:"arrw",style:{insetInlineStart:"".concat(t*a,"px")}},Nb.createElement("span",{className:"arrw-reversed ".concat(function(e){return e<=6?"red":7===e||8===e?"ylw":9===e||10===e?"grn":""}(t))})),Nb.createElement("div",{className:"d-inle-flex",ref:n,tabIndex:"0","aria-label":ZPI18N.getString("zp.rating")+ZPI18N.getString("zp.feedbackreceived",[""])+": ".concat(t)},([{color:"red",css:"redbdrbglit1"},{color:"red",css:"redbdrbglit1"},{color:"red",css:"redbdrbglit1"},{color:"red",css:"redbdrbglit1"},{color:"red",css:"redbdrbglit1"},{color:"red",css:"redbdrbglit1"},{color:"red",css:"redbdrbglit1"},{color:"ylw",css:"ylwbdrbglit1"},{color:"ylw",css:"ylwbdrbglit1"},{color:"grn",css:"grnbdrbglit1"},{color:"grn",css:"grnbdrbglit1"}]||[]).map(function(e,n){return Nb.createElement(QI,{score:n,scoreStyle:n<=t?e:{color:"",css:""},tabIndex:"-1"})})))},$I=function(e){var t=e.minScoreText,n=e.maxScoreText;return Nb.createElement("div",{className:"d-flex j-cnt-btwen numbrScal_btm"},Nb.createElement("em",null,t),Nb.createElement("em",null,n))},QI=Nb.forwardRef(function(e,t){var n=e.scoreStyle,r=e.score,a=e.tabIndex;return Nb.createElement("button",{ref:t,key:r+"nps score",className:"zlabel zlabel--outline zlabel--medium ".concat(n.css," ").concat(n.color," zpl_cpd"),tabIndex:a},r)}),XI=function(e){var t=e.questionData,n=e.isNewLayout,r=e.qno,a=t.question_id,o=t.question,i=t.type,l=t.metric;return Nb.createElement(Nb.Fragment,null,n?Nb.createElement("li",{rel:"respondent-info-".concat(a)},Nb.createElement(YI,{question:o,type:i,metric:l}),Nb.createElement("div",{className:"zpl_annE_secn"},Nb.createElement("div",{className:"zpl_numbrScal"},Nb.createElement(GI,{score:t.score}),Nb.createElement($I,{minScoreText:t.minscore_text,maxScoreText:t.maxscore_text})),t.comment?Nb.createElement(Sz,{comment:t.comment}):null)):Nb.createElement("div",{className:"zpl_crd wd100_per"},Nb.createElement(VI,{questionData:t,qno:r,metric:l}),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_annE_secn"},Nb.createElement("div",{className:"zpl_numbrScal "},Nb.createElement(GI,{score:t.score}),Nb.createElement($I,{minScoreText:t.minscore_text,maxScoreText:t.maxscore_text})),t.comment?Nb.createElement(Sz,{comment:t.comment}):null))))},KI=function(e){var t=e.questionData;return Nb.createElement(Nb.Fragment,null,"button"===t.scale_layout?Nb.createElement(tz,{questionData:t}):Nb.createElement(JI,{questionData:t}))},JI=function(e){var t=e.questionData,n=t.max_count,r=t.score,a=(t.minscore_text,t.maxscore_text,GS(t).map(function(e){return QS(e)})),o=XS(t.rating_type,n),i=ue[n];return Nb.createElement("div",{className:"zpl_crdScal zpl_cpd",tabIndex:"0","aria-label":ZPI18N.getString("zp.rating")+ZPI18N.getString("zp.feedbackreceived",[""])+": ".concat(a[r])},(a||[]).map(function(e,t){return Nb.createElement(ez,{key:t,scaleData:{label:e,iconClass:o[t],selClass:i[t]},isSelected:t===Number(r)})}))},ez=function(e){var t=e.scaleData,n=e.isSelected;return Nb.createElement("div",{className:"CPD ".concat(n?"".concat(t.selClass," zpl_act"):"disabled")},Nb.createElement("div",{className:"zpl_crdScalimg"},Nb.createElement("div",{className:"".concat(t.iconClass)})),Nb.createElement("div",{className:"zpl_crdScaltxt",title:t.label},Nb.createElement("em",null,t.label)))},tz=function(e){var t=e.questionData,n=t.max_count,r=t.score,a=a=GS(t).map(function(e){return QS(e)}),o=XS(t.rating_type,n),i=ue[n];return Nb.createElement("div",{className:"zpl_btnScal zpl_cpd",tabIndex:"0","aria-label":ZPI18N.getString("zp.rating")+ZPI18N.getString("zp.feedbackreceived",[""])+": ".concat(a[r])},Nb.createElement("div",null,(a||[]).map(function(e,t){return Nb.createElement(nz,{key:t,scaleData:{label:e,iconClass:o[t],selClass:i[t]},isSelected:t===Number(r)})})))},nz=function(e){var t=e.scaleData,n=e.isSelected;return Nb.createElement("div",{className:"zlabel zlabel--outline zlabel--medium zpl_ws-nor zpl_tl ".concat(n?t.selClass:"disabled")},Nb.createElement("div",{className:"zpl_btnScalimg"},Nb.createElement("div",{className:"".concat(t.iconClass)})),t.label)},rz=function(e){var t=e.questionData;return Nb.createElement(Nb.Fragment,null,"button"===t.scale_layout?Nb.createElement(iz,{questionData:t}):Nb.createElement(az,{questionData:t}))},az=function(e){var t=e.questionData,n=t.max_count,r=t.score,a=GS(t).map(function(e){return QS(e)}),o=XS(t.rating_type,n),i=ue[n];return Nb.createElement("div",{className:"zpl_crdScal zpl_cpd",tabIndex:"0","aria-label":ZPI18N.getString("zp.rating")+ZPI18N.getString("zp.feedbackreceived",[""])+": ".concat(a[r])},(a||[]).map(function(e,t){return Nb.createElement(oz,{key:t,scaleData:{label:e,iconClass:o[t],selClass:i[t]},isSelected:t===Number(r)})}))},oz=function(e){var t=e.scaleData,n=e.isSelected;return Nb.createElement("div",{className:"".concat(n?"".concat(t.selClass," zpl_act"):"disabled")},Nb.createElement("div",{className:"zpl_crdScalbdr"},Nb.createElement("div",{className:"".concat(t.iconClass)})),Nb.createElement("div",{className:"zpl_crdScaltxt",title:t.label},Nb.createElement("em",null,t.label)))},iz=function(e){var t=e.questionData,n=t.max_count,r=t.score,a=GS(t).map(function(e){return QS(e)}),o=XS(t.rating_type,n),i=ue[n];return Nb.createElement("div",{className:"zpl_btnScal zpl_cpd",tabIndex:"0","aria-label":ZPI18N.getString("zp.rating")+ZPI18N.getString("zp.feedbackreceived",[""])+": ".concat(a[r])},Nb.createElement("div",null,(a||[]).map(function(e,t){return Nb.createElement(lz,{key:t,scaleData:{label:e,iconClass:o[t],selClass:i[t]},isSelected:t===Number(r)})})))},lz=function(e){var t=e.scaleData,n=e.isSelected;return Nb.createElement("div",{className:"zlabel zlabel--outline zlabel--medium zpl_ws-nor zpl_tl ".concat(n?t.selClass:"disabled")},Nb.createElement("div",{className:"zpl_crdScalbdr"},Nb.createElement("div",{className:"".concat(t.iconClass)})),t.label)},cz=function(e){var t=e.questionData;return Nb.createElement(Nb.Fragment,null,"button"===t.scale_layout?Nb.createElement(dz,{questionData:t}):Nb.createElement(uz,{questionData:t}))},uz=function(e){var t=e.questionData,n=t.max_count,r=t.score,a=GS(t).map(function(e){return QS(e)}),o=XS(t.rating_type,n),i=ue[n];return Nb.createElement("div",{className:"zpl_crdScal zpl_cpd",tabIndex:"0","aria-label":ZPI18N.getString("zp.rating")+ZPI18N.getString("zp.feedbackreceived",[""])+": ".concat(a[r])},(a||[]).map(function(e,t){return Nb.createElement(sz,{key:t,scaleData:{label:e,iconClass:o[t],selClass:i[t],number:t+1},isSelected:t===Number(r)})}))},sz=function(e){var t=e.scaleData,n=e.isSelected;return Nb.createElement("div",{className:"".concat(n?"".concat(t.selClass," zpl_act"):"disabled")},Nb.createElement("div",{className:"zpl_crdScalCstm"},Nb.createElement("div",{className:"".concat(t.iconClass)},t.number)),Nb.createElement("div",{className:"zpl_crdScaltxt",title:t.label},Nb.createElement("em",null,t.label)))},dz=function(e){var t=e.questionData,n=t.max_count,r=t.score,a=GS(t).map(function(e){return QS(e)}),o=XS(t.rating_type,n),i=ue[n];return Nb.createElement("div",{className:"zpl_btnScal zpl_cpd",tabIndex:"0","aria-label":ZPI18N.getString("zp.rating")+ZPI18N.getString("zp.feedbackreceived",[""])+": ".concat(a[r])},Nb.createElement("div",null,(a||[]).map(function(e,t){return Nb.createElement(pz,{key:t,scaleData:{label:e,iconClass:o[t],selClass:i[t],number:t+1},isSelected:t===Number(r)})})))},pz=function(e){var t=e.scaleData,n=e.isSelected;return Nb.createElement("div",{className:"zlabel zlabel--outline zlabel--medium zpl_ws-nor zpl_tl ".concat(n?t.selClass:"disabled")},Nb.createElement("div",{className:"zpl_crdScalCstm"},Nb.createElement("div",{className:"".concat(t.iconClass)},t.number)),t.label)},fz=function(e){var t=e.questionData,n=e.isNewLayout,r=e.qno,a=t.question_id,o=t.question,i=t.type,l=t.metric,c=function(){return t.rating_type===te?Nb.createElement(rz,{questionData:t}):t.rating_type===re?Nb.createElement(cz,{questionData:t}):Nb.createElement(KI,{questionData:t})};return Nb.createElement(Nb.Fragment,null,n?Nb.createElement("li",{rel:"respondent-info-".concat(a)},Nb.createElement(YI,{question:o,type:i,metric:l}),Nb.createElement("div",{className:"zpl_annE_secn"},c(),t.comment?Nb.createElement(Sz,{comment:t.comment}):null)):Nb.createElement("div",{className:"zpl_crd wd100_per"},Nb.createElement(VI,{questionData:t,qno:r,metric:l}),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_annE_secn"},c(),t.comment?Nb.createElement(Sz,{comment:t.comment}):null))))},mz=function(e){var t=e.questionData,n=je[t.date_format];return Nb.createElement("div",{className:"zpl_idiv"},Nb.createElement("div",{className:"zinputfield--withcalendaricon zinputfield zdatetimefield zinputfield--spinbtnnone"},Nb.createElement("input",{autoComplete:"false",className:"zinputfield__textbox",readOnly:!0,value:null!=t.datetime?Dm(t.datetime).getDateBy(n):""}),Nb.createElement("div",{className:"zdatetimefield__iconlabel"},Nb.createElement("i",{className:"zdatetimefield__icon"},Nb.createElement("svg",{className:"zbutton__svg",focusable:"false"},Nb.createElement("use",{xlinkHref:"#zc__svg--calendaricon"}))))))},vz=function(e){var t=e.questionData,n=e.isNewLayout,r=e.qno,a=t.question_id,o=t.question,i=t.type,l=t.metric;return Nb.createElement(Nb.Fragment,null,n?Nb.createElement("li",{rel:"respondent-info-".concat(a)},Nb.createElement(YI,{question:o,type:i,metric:l}),Nb.createElement("div",{className:"zpl_annE_secn"},Nb.createElement(mz,{questionData:t}),t.comment?Nb.createElement(Sz,{comment:t.comment}):null)):Nb.createElement("div",{className:"zpl_crd wd100_per"},Nb.createElement(VI,{questionData:t,qno:r,metric:l}),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_annE_secn"},Nb.createElement(mz,{questionData:t}),t.comment?Nb.createElement(Sz,{comment:t.comment}):null))))},yz=function(e){var t=e.choiceData,n=e.type,r=t.choice;return Nb.createElement(Nb.Fragment,null,"multiple_choice"===n?Nb.createElement(uw,{isActive:!0,label:r}):Nb.createElement(Yw,{isActive:!0,label:r,className:"zradiobutton",tabIndex:"0",ariaLabel:ZPI18N.getString("zp.answer")+ZPI18N.getString("zp.feedbackreceived",[""])+": ".concat(r)}))},gz=function(e){var t=e.questionData,n=e.qno,r=e.isNewLayout,a=t.question_id,o=t.question,i=t.type,l=t.metric;return Nb.createElement(Nb.Fragment,null,r?Nb.createElement("li",{rel:"respondent-info-".concat(a)},Nb.createElement(YI,{question:o,type:i,metric:l}),Nb.createElement("div",{className:"zpl_annE_secn"},(t.choices||[]).map(function(e){return Nb.createElement(yz,{choiceData:e,type:t.type,key:e.choice_id})}),t.comment?Nb.createElement(Sz,{comment:t.comment}):null)):Nb.createElement("div",{className:"zpl_crd wd100_per"},Nb.createElement(VI,{questionData:t,qno:n,metric:l}),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_annE_secn"},(t.choices||[]).map(function(e){return Nb.createElement(yz,{choiceData:e,type:t.type,key:e.choice_id})}),t.comment?Nb.createElement(Sz,{comment:t.comment}):null))))},hz=function(e){var t=e.respondent;return Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_annE_lr"},Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_secn zpl_mailtmp"},Nb.createElement("div",null,Nb.createElement("label",null,ZPI18N.getString("zp.employeename"))),Nb.createElement("div",null,Nb.createElement("p",null,t.name||"".concat(t.empId," - ").concat(t.empFName," ").concat(t.empLName)))),Nb.createElement("div",{className:"zpl_secn zpl_mailtmp"},Nb.createElement("div",null,Nb.createElement("label",null,ZPI18N.getString("zp.engagement.report.time.spent"))),Nb.createElement("div",null,Nb.createElement("p",null,t.time_taken)))),Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_secn zpl_mailtmp"},Nb.createElement("div",null,Nb.createElement("label",null,ZPI18N.getString("zp.status"))),Nb.createElement("div",null,Nb.createElement("p",null,t.status))),Nb.createElement("div",{className:"zpl_secn zpl_mailtmp"},Nb.createElement("div",null,Nb.createElement("label",null,ZPI18N.getString("zp.device"))),Nb.createElement("div",null,Nb.createElement("p",null,t.device_name))))))},bz=function(e){var t=e.respondentUsers,n=e.activeRepondent,r=t[n],a=Kb(),o=(t||[]).map(function(e,t){return{label:"".concat(ZPI18N.getString("zp.engagement.report.respondent")," ").concat(t+1),value:t}}),i=function(e){e>=0&&e<(t||[]).length&&a(Yi({activeRepondent:e}))};return Nb.createElement("div",{className:"zpl_crd wd100_per"},Nb.createElement("div",{className:"zpl_crdhdr"},Nb.createElement("div",{className:"d-flexclmcap20 j-cnt-btwen"},Nb.createElement(MS,{options:o,value:o.filter(function(e){return e.value===n}),onChange:function(e){return i(e.value)},style:{width:"300px"}}),Nb.createElement("div",{className:"zpl_annE_arw zpl_pr2"},Nb.createElement("i",{className:"zpl_ibg PI_alft BOXN",title:"left",onClick:function(){return i(n-1)}}),Nb.createElement("i",{className:"zpl_ibg PI_argt BOXN",title:"right",onClick:function(){return i(n+1)}})))),Nb.createElement(hz,{respondent:r}))},_z=function(e){var t=e.questionData,n=e.qno,r=e.isNewLayout,a=t.question_id,o=t.question,i=t.type,l=t.metric;return Nb.createElement(Nb.Fragment,null,r?Nb.createElement("li",{rel:"respondent-info-".concat(a)},Nb.createElement(YI,{question:o,type:i,metric:l}),Nb.createElement("div",{className:"zpl_annE_secn"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,Nb.createElement("p",{dangerouslySetInnerHTML:{__html:P(t.comment)}}))))):Nb.createElement("div",{className:"zpl_crd wd100_per"},Nb.createElement(VI,{questionData:t,qno:n,metric:l}),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_annE_secn"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{tabIndex:"0","aria-label":ZPI18N.getString("zp.survey.response.comments")+": ".concat(t.comment)},Nb.createElement("p",{dangerouslySetInnerHTML:{__html:P(t.comment)}})))))))},Ez=function(e){var t=e.userData;return Nb.createElement(Nb.Fragment,null,(t||[]).map(function(e,t){var n=e.type;return n===Jn.NPS.TYPE_STR?Nb.createElement(XI,{questionData:e,key:"".concat(n).concat(t),qno:t+1}):n===Jn.STAR.TYPE_STR?Nb.createElement(Pz,{questionData:e,key:"".concat(n).concat(t),qno:t+1}):n===Jn.COMMENT.TYPE_STR?Nb.createElement(_z,{questionData:e,key:"".concat(n).concat(t),qno:t+1}):n===Jn.SINGLE_CHOICE.TYPE_STR||n===Jn.MULTIPLE_CHOICE.TYPE_STR?Nb.createElement(gz,{questionData:e,key:"".concat(n).concat(t),qno:t+1}):n===Jn.DATE.TYPE_STR?Nb.createElement(vz,{questionData:e,key:"".concat(n).concat(t),qno:t+1}):n===Jn.RATING_SCALE.TYPE_STR||n===Jn.TWO_POINT_SCALE.TYPE_STR?Nb.createElement(fz,{questionData:e,key:"".concat(n).concat(t),qno:t+1}):void 0}))},Sz=function(e){var t=e.comment;return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,Nb.createElement("h6",null,ZPI18N.getString("zp.local.Comments"))),Nb.createElement("div",{tabIndex:"0","aria-label":ZPI18N.getString("zp.comment")+": ".concat(t)},Nb.createElement("p",{dangerouslySetInnerHTML:{__html:P(t)}})))},wz=function(e){var t,n=e.surveyReport,r=n.responded_users,a=n.reports,o=n.activeRepondent,i=n.user_report,l=n.currentRecurrence,c=a.metric_type,u=a.metric_name,s=Kb(),d=r?null===(t=r[o])||void 0===t?void 0:t.response_id:-1;return(0,Nb.useEffect)(function(){if(null==r){var e={reportFilter:JSON.stringify({status:"completed"})};l&&(e.recurrenceId=l),s(mi({payload:e,surveyId:a.survey_id}))}},[l]),(0,Nb.useEffect)(function(){if((r||[]).length){var e=r[o],t=null==e?void 0:e.response_id;if(t&&!i[t]){var n={};l&&(n.recurrenceId=l),s(ui({surveyId:a.survey_id,responseId:t,payload:n}))}}},[o,r,l]),null!==r&&i[d]?Nb.createElement("div",null,Nb.createElement(bz,{respondentUsers:r,activeRepondent:o}),c===vn?Nb.createElement(Nb.Fragment,null,Nb.createElement("div",{className:"zpl_mt4 zpl_mb4"},Nb.createElement("h5",null,u)),Nb.createElement(Ez,{userData:i[d].userResponses,isNewLayout:!1})):c===gn?Nb.createElement(Nb.Fragment,null,(i[d].userResponses||[]).map(function(e,t){var n=e.metric_name,r=e.question_responses;return Nb.createElement(Nb.Fragment,null,Nb.createElement("div",{className:"zpl_mt4 zpl_mb4"},Nb.createElement("h5",null,n)),Nb.createElement(Ez,{userData:r,isNewLayout:!1}))})):Nb.createElement(Ez,{userData:i[d].userResponses,isNewLayout:!1})):Nb.createElement(aE,null)},Nz=function(e){for(var t=e.maxCount,n=e.score,r=[],a=0;a<t;a++)n>=a+1?r.push(Nb.createElement("i",{key:a,className:"PI_star ylw"})):n>a?r.push(Nb.createElement("i",{key:a,className:"PI_halfstar ylw"})):r.push(Nb.createElement("i",{key:a,className:"PI_star gry"}));return Nb.createElement("div",{className:"zpl_strRatn zpl_flex-a-c zpl_flex-auto"},Nb.createElement("div",{className:"zpl_str",tabIndex:"0","aria-label":ZPI18N.getString("zp.rating")+ZPI18N.getString("zp.feedbackreceived",[""])+": ".concat(n)+" "+ZPI18N.getString("zp.local.Stars")},r))},Pz=function(e){var t=e.questionData,n=e.isNewLayout,r=e.qno,a=t.question_id,o=t.question,i=t.type,l=t.metric;return Nb.createElement(Nb.Fragment,null,n?Nb.createElement("li",{rel:"respondent-info-".concat(a)},Nb.createElement(YI,{question:o,type:i,metric:l}),Nb.createElement("div",{className:"zpl_annE_secn"},Nb.createElement("div",null,Nb.createElement(Nz,{maxCount:t.max_count,score:t.score})),t.comment?Nb.createElement(Sz,{comment:t.comment}):null)):Nb.createElement("div",{className:"zpl_crd wd100_per"},Nb.createElement(VI,{questionData:t,qno:r,metric:l}),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_annE_secn"},Nb.createElement("div",null,Nb.createElement(Nz,{maxCount:t.max_count,score:t.score})),t.comment?Nb.createElement(Sz,{comment:t.comment}):null))))};function Oz(e){return Oz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oz(e)}function Iz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iz(Object(n),!0).forEach(function(t){Cz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cz(e,t,n){return(t=function(e){var t=function(e){if("object"!=Oz(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Oz(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Oz(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tz=function(e){var t=e.reportData,n=parseInt(t.employee_count)||"0",r=t.completed_response/n*360||0,a=r+t.partical_response/n*360||0,o=(0,Nb.useRef)(null);return(0,Nb.useEffect)(function(){o.current.setAttribute("style","background: conic-gradient(var(--grn2) 0deg, var(--grn2) ".concat(r,"deg, var(--primaryylwclr) ").concat(r,"deg, var(--primaryylwclr) ").concat(a,"deg, var(--red2) ").concat(a,"deg) !important"))},[]),Nb.createElement("div",{className:"d-flexM zpl_mw220"},Nb.createElement("div",{className:"min-width: 120px; min-height: 120px;"},Nb.createElement("div",{className:"chart-container"},Nb.createElement("div",{className:"chart","data-chart":"5"},Nb.createElement("div",{className:"pie-chart pie-chart--donut",ref:o}),Nb.createElement("font",{className:"pie-chart__value"},Nb.createElement("em",null,n),ZPI18N.getString("zp.engagement.report.respondent.overall"))))))},xz=function(e){var t=e.reportData,n=e.isShowData,r=e.questionReport,a=function(){var e=0,t=0,n=0,a=0,o=0,i=0,l=!1,c=!1,u=!1;return(r||[]).forEach(function(r,s){switch(r.type){case Jn.NPS.TYPE_STR:r.answer.score&&(n+=parseInt(r.answer.score)),a++,l=!0;break;case Jn.STAR.TYPE_STR:var d=r.answer.average_score*(5/r.max_count);e+=d,t++,c=!0;break;case Jn.RATING_SCALE.TYPE_STR:var p=r.answer.average_score*(5/r.max_count);o+=p,i++,u=!0}}),{avgStarRating:e,starQuesCount:t,avgNPSScore:n,npsQuesCount:a,avgScaleRating:o,scaleQuesCount:i,isNpsQuestion:l,isStarQuestion:c,isScaleQuestion:u}}(),o=a.avgStarRating,i=a.starQuesCount,l=a.avgNPSScore,c=a.npsQuesCount,u=a.avgScaleRating,s=a.scaleQuesCount,d=a.isNpsQuestion,p=a.isStarQuestion,f=a.isScaleQuestion,m=d||p||f,v=d&&p&&f;return Nb.createElement("div",{className:"d-flexclmcap flex-grow "},Nb.createElement("div",{className:"zpl_aCrd"},Nb.createElement(kz,{responseInfo:{title:ZPI18N.getString("zp.completed"),css:"zpl_lbdr _bx grnbg1",response_count:t.completed_response||"0",isShowData:n}}),Nb.createElement(kz,{responseInfo:{title:t.status===Vt?ZPI18N.getString("zp.extension.incomplete"):ZPI18N.getString("zp.inprogress"),css:"zpl_lbdr _bx ylwbg",response_count:t.partical_response||"0",isShowData:n}}),Nb.createElement(kz,{responseInfo:{title:ZPI18N.getString("zp.covidtestnottaken"),css:"zpl_lbdr _bx redbg1",response_count:parseInt(t.employee_count)-(parseInt(t.completed_response)+parseInt(t.partical_response))||"0",isShowData:n}})),Nb.createElement("div",{className:"zpl_aCrd"},Nb.createElement("div",null,Nb.createElement("div",{className:"d-flexC d-flexclmcap8"},Nb.createElement("h3",null,n?(t.response_percentage||0)+"%":"-")),Nb.createElement("label",null,ZPI18N.getString("zp.survey.report.response_rate"))),(!m||v||!f||f&&p&&!d||f&&!p&&!d)&&Nb.createElement("div",{className:p?"":"disabled"},Nb.createElement("div",{className:"d-flexC d-flexclmcap8"},Nb.createElement(Nz,{maxCount:5,score:n&&i>0?o/i:0})),Nb.createElement("label",null,ZPI18N.getString("zp.engagement.report.star.avgrating"))),(!m||v||!f||f&&d&&!p)&&Nb.createElement("div",{className:d?"":"disabled"},Nb.createElement("div",{className:"d-flexC d-flexclmcap8"},Nb.createElement("h3",null,n&&c>0?Ym(l/c,1):"--")),Nb.createElement("label",null,ZPI18N.getString("zp.engagement.report.enps.avgrating"))),f&&Nb.createElement("div",null,Nb.createElement("div",{className:"d-flexC d-flexclmcap8"},n&&s>0?Nb.createElement(Nb.Fragment,null,Nb.createElement("h3",null,n&&s>0?"".concat(Ym(u/s,1)):"--"),Nb.createElement("em",{className:"zpl_fh4"},"/5 ( ".concat(Ym(u/s/5*100,1),"% )"))):Nb.createElement("h3",null,"--")),Nb.createElement("label",null,ZPI18N.getString("zp.engagement.report.scale.avgrating")))))},kz=function(e){var t=e.responseInfo;return Nb.createElement("div",null,Nb.createElement("div",{className:"d-flexclmcap8 a-itm-cntr"},Nb.createElement("span",{className:"".concat(t.css)}),Nb.createElement("h3",null,t.response_count)),Nb.createElement("label",null,t.title))},Dz=function(e){var t=e.isShowData,n=e.surveyReport,r=n.reports,a=n.currentRecurrence,o=n.question_report,i=Kb(),l=(r.completed_schedules||[]).map(function(e){return{value:e.recurrence_id,label:"".concat(Dm(e.opening_time).getDateBy(dateFmt)," - ").concat(Dm(e.closing_time).getDateBy(dateFmt))}});return Nb.createElement("div",{className:"zpl_crd wd100_per"},Nb.createElement(BI,{title:ZPI18N.getString("zp.engagement.report.stats.overall")},a?Nb.createElement("div",null,Nb.createElement(MS,{value:l.filter(function(e){return e.value===a}),options:l,onChange:function(e){return function(e){e.value!==a&&i(Yi(zz(zz({},Uo),{},{currentRecurrence:e.value})))}(e)},style:{width:"280px"}})):null),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"rprt_hroCon"},Nb.createElement(Tz,{reportData:r,isShowData:t}),Nb.createElement(xz,{reportData:r,isShowData:t,questionReport:o}))))},jz=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:It)===Ot&&e>0||e>=1},Az=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:It)===Ot&&e>0||e>=1},Rz=function(e){var t=e.question,n=e.reportData,r=e.activeGraph,a=e.graphs,o=Kb();return Nb.createElement("div",{className:"zpl_annE_actn mw220"},Nb.createElement("a",{className:"zpl_lnkbg",onClick:function(){o(io({render:!0,viewType:Po.DETAILED_REPORT,headerName:n.survey_name,data:{question:t,reportData:n}}))}},ZPI18N.getString("zp.survey.report.detailsreport.view")),a?Nb.createElement("div",{className:"grpbtn"},a.map(function(e,t){return Nb.createElement("i",{className:"".concat(e.class," ").concat(r===e.mode?"zpl_act":""),onClick:e.callback,key:t})})):null)},qz=function(e){var t,n,r=e.question,a=e.reportData,o=e.activeGraph,i=e.graphs,l=e.completedResponse,c=r.response_count||0,u=(l>=0?l:a.completed_response)-r.response_count;return Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_catlst"},Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_annE_que"},Nb.createElement("span",null,r.qno,"."),Nb.createElement("div",null,Nb.createElement("h5",null,r.question),Nb.createElement("ul",{className:"zpl_lstbdrlne"},Nb.createElement("li",null,Nb.createElement("span",{className:"zpl_lstbdrlneview"},Nb.createElement("span",null,ZPI18N.getString("zp.survey.total.response.received")+": "),Nb.createElement("span",null,c))),Nb.createElement("li",null,Nb.createElement("span",{className:"zpl_lstbdrlneview"},Nb.createElement("span",null,ZPI18N.getString("zp.skiped")+": "),Nb.createElement("span",null,u))),"nps"===r.type&&void 0!==(null===(t=r.answer)||void 0===t?void 0:t.average_score)?Nb.createElement("li",null,Nb.createElement("span",{className:"zpl_lstbdrlneview"},Nb.createElement("b",null,Nb.createElement("span",null,ZPI18N.getString("zp.engagement.report.rating.overall")+": "),Nb.createElement("span",null," ",(null===(n=r.answer)||void 0===n?void 0:n.average_score)+""||"0"," ")))):null)))),Nb.createElement(Rz,{question:r,reportData:a,activeGraph:o,graphs:i})))};function Mz(e){return Mz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mz(e)}var Zz=function(e,t){var n,r=function(e){return ev(go(e),"frequency").slice(0,100)}(t),a=function(e){return function(e){var t,n,r=Object.keys(e),a=Math.floor(r.length/2),o=a;if(r.length%2==0){for(var i=0;i<a;i++){var l=a-1-i,c=a+i,u=r[l]-r[l+1],s=r[c-1]-r[c];if(0!=u!=s){if(u>s){o=l+1;break}o=c;break}}t=r.slice(0,o),n=r.slice(o)}else{for(var d=0;d<a;d++){var p=a-d,f=a+d,m=r[p-1]-r[p],v=r[f]-r[f+1];if(0!=m!=v){if(m>v){o=p;break}o=f+1;break}}t=r.slice(0,o),n=r.slice(o)}var y=[],g=[];return t.forEach(function(t){y=y.concat(e[t])}),n.forEach(function(t){g=g.concat(e[t])}),{dataA:y.map(function(e){return[e.keyword,e.frequency]}),dataB:g.map(function(e){return[e.keyword,e.frequency]})}}(e.reduce(function(e,t){var n,r=t.frequency;return e[r]=null!==(n=e[r])&&void 0!==n?n:[],e[r].push(t),e},{}))}(r);25<=r.length&&r.length<=100&&(e.style="height: 400px; width: 1000px; margin: 0 auto;","object"==("undefined"==typeof $ZC?"undefined":Mz($ZC))&&(null===(n=$ZC)||void 0===n?void 0:n.charts)&&$ZC.charts(e,Kz(a.dataB,a.dataA)))};function Lz(e){return Lz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lz(e)}function Fz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fz(Object(n),!0).forEach(function(t){Uz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Uz(e,t,n){return(t=function(e){var t=function(e){if("object"!=Lz(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Lz(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Lz(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Vz=function(e,t){return(n=e.scale_score||[],function(e){if(Array.isArray(e))return Hz(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return Hz(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hz(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach(function(e,n){n<=6?t.push({y:e,color:"#ff4c54"}):8==n||7==n?t.push({y:e,color:"#ffa600"}):t.push({y:e,color:"#00a763"})}),t;var n},Yz=function(e,t,n,r){for(var a=0;a<e.max_count;a++)n.push({y:t[a],color:r[a]})},Wz=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,i=arguments.length>6&&void 0!==arguments[6]&&arguments[6];Highcharts.chart(e,{title:{text:""},xAxis:{categories:t,title:{text:r?ZPI18N.getString("zp.score"):""},min:0,max:t.length>25?24:t.length-1,scrollbar:{enabled:t.length>25},tickLength:0,labels:{style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}}},yAxis:{title:{text:i?ZPI18N.getString("zp.survey.report.response_rate"):ZPI18N.getString("zp.response")+" "+ZPI18N.getString("zp.count")},allowDecimals:!1},credits:{enabled:!1},exporting:{enabled:!1},tooltip:{enabled:o,formatter:function(){var e=this.point;if(o)return"<b>"+lv(e.category)+"</b> <br/>"+e.y+(a&&" ("+Ym(e.y/a*100)+"%)")}},plotOptions:{series:{borderWidth:0,dataLabels:{style:{width:"100px",textOverflow:"ellipsis"},enabled:!0,distance:10,formatter:function(){var e=this.point;return!o&&a?e.y+" ("+Ym(e.y/a*100)+"%)":e.y+(i?"%":"")}}}},series:[{name:ZPI18N.getString("zp.response"),type:"column",data:n,showInLegend:!1}]})},Gz=function(e,t,n,r,a){e.style.height="320px",Highcharts.chart(e,{title:{text:""},chart:{type:"bar"},xAxis:{categories:t,labels:{style:{width:"100px",textOverflow:"ellipsis"},formatter:function(){return lv(this.value)}}},yAxis:{title:{text:ZPI18N.getString("zp.response")+" "+ZPI18N.getString("zp.count")},allowDecimals:!1},credits:{enabled:!1},exporting:{enabled:!1},tooltip:{enabled:a,formatter:function(){var e=this.point;return"<b>"+lv(e.category)+"</b> "+e.y+(r&&" ("+Ym(e.y/r*100)+"%)")}},plotOptions:{series:{colors:Dt,borderWidth:0,dataLabels:{style:{width:"100px",textOverflow:"ellipsis"},enabled:!0,distance:10,formatter:function(){var e=this.point;return a?e.y:e.y+(r&&" ("+Ym(e.y/r*100)+"%)")}}}},series:[{name:ZPI18N.getString("zp.response"),type:"column",data:n,showInLegend:!1}]})},$z=function(e,t,n,r,a,o,i,l){Highcharts.chart(e,{chart:{type:"pie",custom:{},events:{render:function(){var e=this,t=e.series[0],n=e.options.chart.custom.label;n||(n=e.options.chart.custom.label=e.renderer.label(l).css({color:"#000",textAnchor:"middle"}).add());var r=t.center[0]+e.plotLeft,a=t.center[1]+e.plotTop-n.attr("height")/2;n.attr({x:r,y:a}),n.css({fontSize:"".concat(t.center[2]/12,"px")})}}},title:{text:""},credits:{enabled:!1},exporting:{enabled:!1},tooltip:{enabled:!0,formatter:function(){var e=this.point;return a||!r?"<b>"+lv(e.name)+"</b> <br/>"+e.y+"%":"<b>"+lv(e.name)+"</b> <br/>"+e.y+(r&&" ("+Ym(e.y/r*100)+"%)")}},plotOptions:{pie:{colors:o||Dt,dataLabels:{style:{width:"100px",textOverflow:"ellipsis"},enabled:n,distance:20,formatter:function(){var e=this.point;return a||!r?"<b>"+lv(e.name)+"</b> <br/>"+e.y+"%":"<b>"+lv(e.name)+"</b> <br/>"+e.y+(r&&" ("+Ym(e.y/r*100)+"%)")}}}},series:[{name:ZPI18N.getString("zp.response"),colorByPoint:!0,innerSize:i?i+"%":"0%",data:t}]})},Qz=function(e,t,n,r){Highcharts.chart(e,{chart:{type:"pie"},title:{text:""},credits:{enabled:!1},exporting:{enabled:!1},tooltip:{enabled:!0,useHTML:!1,formatter:function(){var e=this.point;return"<b>"+lv(e.name)+"</b> <br/>"+e.y}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",colors:n||Dt,borderRadius:5,dataLabels:{enabled:!0,format:"<br>{point.y} ({point.percentage:.1f} %)",distance:-50,filter:{property:"percentage",operator:">",value:4}},showInLegend:!0,events:{click:function(e){r(e)}}}},legend:{layout:"vertical",align:"right",verticalAlign:"middle",itemMarginTop:5,itemMarginBottom:5,symbolRadius:0,symbolPadding:15,width:200,useHTML:!1,labelFormatter:function(){var e=this.name,t=e.length>20?e.substring(0,20)+"...":e;return lv(t)+" - "+this.y+" ("+Ym(this.percentage)+"%)"}},series:[{name:ZPI18N.getString("zp.response"),colorByPoint:!0,data:t}]})},Xz=function(e,t,n,r,a){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];Highcharts.chart(e,{chart:{zoomType:"xy"},title:{text:""},credits:{enabled:!1},exporting:{enabled:!1},xAxis:[{categories:t,crosshair:!0,min:0,max:t.length>25?24:t.length-1,scrollbar:{enabled:t.length>25},tickLength:0}],yAxis:[{title:{text:ZPI18N.getString("zp.response")+" "+ZPI18N.getString("zp.count")},allowDecimals:!1,min:0},{title:{text:o&&Qm(ZPI18N.getString("zp.survey.report.response_rate"))},labels:{format:"{value} %"},allowDecimals:!1,opposite:!0,min:0}],tooltip:{headerFormat:"<b>{point.x}</b><br/>",formatter:function(){var e=this.point;return"<b>".concat(lv(e.category))+":"+e.y+(a?" ("+Ym(e.y/a*100)+"%)":"")+"</b>"}},plotOptions:{column:{stacking:"normal"},series:{cursor:"pointer",point:{events:{click:function(){"function"==typeof r&&r(this)}}}}},legend:{symbolRadius:0,reversed:!0,itemStyle:{width:"100px",textOverflow:"ellipsis"},labelFormatter:function(){var e=this.name,t=e.length>20?e.substring(0,20)+"...":e;return"<div>".concat(lv(t),"</div>")}},series:n})},Kz=function(e,t){return{metadata:{axes:{x:[0],y:[[1]],clr:[2],tooltip:[0,1]},columns:[{dataindex:0,datatype:"ordinal",columnname:"name"},{dataindex:1,datatype:"numeric",columnname:"frequncy"}]},seriesdata:{type:"wordcloud",chartdata:[{seriesname:"freqHigh",data:[e]},{seriesname:"freqLow",data:[t]}]},chart:{plot:{plotoptions:{wordcloud:{datalabels:{fontWeight:"bold"},events:{click:function(e,t){!function(e,t){t.data[0].value}(0,t)}}}}}},legend:{enabled:!1,colors:["#060011","#dbdfe5"]},tooltip:{opacity:1,backgroundColor:"black",borderColor:"transparent",fontColor:"white",borderRadius:0,hookHeight:0,lineHeight:0},canvas:{subtitle:{show:!1},title:{show:!1,text:""},border:{show:!1},shadow:{show:!1}}}},Jz=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bar";e.style.height=r+"px",Highcharts.chart(e,{chart:{type:a},title:{text:""},credits:{enabled:!1},exporting:{enabled:!1},xAxis:{categories:t.values,labels:{style:{width:"100px",textOverflow:"ellipsis"}}},yAxis:{min:0,title:{text:n.label}},plotOptions:{series:{stacking:"normal",dataLabels:{style:{width:"100px",textOverflow:"ellipsis"}}}},series:n.values})};function eC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tC=function(e){var t=e.question,n=t.answer;return Nb.createElement("div",{className:"zpl_tblres"},Nb.createElement("table",{className:"zpl_tbl wd100_per"},Nb.createElement("thead",null,Nb.createElement("tr",null,Nb.createElement("th",null,ZPI18N.getString("zp.responses")),Nb.createElement("th",{width:"250"},ZPI18N.getString("zp.count")),Nb.createElement("th",{width:"250"},ZPI18N.getString("zp.percentage")))),Nb.createElement("tbody",null,Nb.createElement("tr",null,Nb.createElement("td",{className:"d-flexC"},Nb.createElement("span",{className:"zpl_lbdr _bx redbg1"}),Nb.createElement("span",null,ZPI18N.getString("zp.survey.report.detractors")+" (0 - 6)")),Nb.createElement("td",null,Nb.createElement("span",null,n.detractors?n.detractors:"0")),Nb.createElement("td",null,Nb.createElement("span",null,n.detractors?Ym(n.detractors/t.response_count*100)+"%":"0%"))),Nb.createElement("tr",null,Nb.createElement("td",{className:"d-flexC"},Nb.createElement("span",{className:"zpl_lbdr _bx ylwbg1"}),Nb.createElement("span",null," ",ZPI18N.getString("zp.survey.report.passive")+" (7 - 8)")),Nb.createElement("td",null,Nb.createElement("span",null,n.passives?n.passives:"0")),Nb.createElement("td",null,Nb.createElement("span",null,n.passives?Ym(n.passives/t.response_count*100)+"%":"0%"))),Nb.createElement("tr",null,Nb.createElement("td",{className:"d-flexC"},Nb.createElement("span",{className:"zpl_lbdr _bx grnbg1"}),Nb.createElement("span",null,ZPI18N.getString("zp.survey.report.promoters")+" (9 - 10)")),Nb.createElement("td",null,Nb.createElement("span",null,n.promoters?n.promoters:"0")),Nb.createElement("td",null,Nb.createElement("span",null,n.promoters?Ym(n.promoters/t.response_count*100)+"%":"0%"))))))},nC=function(e){var t=e.question,n=e.reportData,r=e.children,a=e.participantStats,o=(0,Nb.useRef)(null),i=[{class:"PI_vert_chart",mode:"v-chart",callback:function(){return u("v-chart")}},{class:"PI_hor_chart",mode:"h-chart",callback:function(){return u("h-chart")}}],l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eC(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eC(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(i[0].mode),2),c=l[0],u=l[1];return(0,Nb.useEffect)(function(){c===i[1].mode?Gz(o.current,Pt,Vz(t.answer,[]),t.response_count,!0):Wz(o.current,Pt,Vz(t.answer,[]),!1,t.response_count,!0)},[c,a]),Nb.createElement(Nb.Fragment,null,r,Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement(qz,{completedResponse:null==a?void 0:a.completed_response,question:t,reportData:n,activeGraph:c,graphs:i}),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zpl_annE_brdrCnt",ref:o})),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(tC,{question:t}))))},rC=function(e){var t,n=e.question,r=n.max_count,a=n.answer,o=[a.onestar,a.twostar,a.threestar,a.fourstar,a.fivestar,a.sixstar,a.sevenstar,a.eightstar,a.ninestar,a.tenstar],i=Ym(null===(t=n.answer)||void 0===t?void 0:t.average_score);return Nb.createElement("div",{className:"zpl_annE_star"},Nb.createElement("div",{className:"d-flexclm8 a-itm-cntr"},Nb.createElement("div",{className:"d-flexclmcap5 a-itm-cntr"},Nb.createElement("h1",null,i)," ",Nb.createElement("span",null," / ",r)),Nb.createElement("div",{className:"d-flexC d-flexclmcap8"},Nb.createElement(Nz,{maxCount:r,score:i}))),Nb.createElement("div",{className:"d-flexclmcap"},(o||[]).map(function(e,t){e=o[r-t-1];var a=(null==n?void 0:n.response_count)>0?e/n.response_count*100:0;if(!(r<=t))return Nb.createElement("div",{className:"zpl_str-grph",key:t},Nb.createElement("span",null,r-t),Nb.createElement("i",{className:"PI_star"}),Nb.createElement("div",{className:"d-flexC d-flexclmcap8"},Nb.createElement("div",{className:"zprogress",style:{background:"#DBDBDB",minWidth:"200px"}},Nb.createElement("div",{className:"zprogress__bar",style:{background:"var(--ylw2)",width:"".concat(Ym(a),"%")}})),Nb.createElement("span",{className:"zpl_progtitle"},e||"0",Nb.createElement("em",null,"(",Ym(a),"%)"))))})))},aC=function(e){var t=e.question,n=e.reportData,r=e.children,a=e.participantStats;return Nb.createElement(Nb.Fragment,null,r,Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement(qz,{completedResponse:null==a?void 0:a.completed_response,question:t,reportData:n}),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zpl_annE_brdrCnt"},Nb.createElement(rC,{question:t})))))},oC=function(e){var t=e.onCloseHandler;return Nb.createElement("div",{className:"zpl_mhder scrlshdw"},Nb.createElement("div",{className:"d-flexcap a-itm-cntr"},Nb.createElement("i",{className:"_cls PI_back",onClick:t}),Nb.createElement("h4",null,ZPI18N.getString("zp.engagement.report.respondentinfo"))),Nb.createElement("a",{className:"_cls PI_cls",onClick:t}))},iC=function(e){var t=e.userData,n=e.isNewLayout;return Nb.createElement(Nb.Fragment,null,(t||[]).map(function(e,t){var r=e.type;return r===Jn.NPS.TYPE_STR?Nb.createElement(XI,{questionData:e,key:"".concat(r).concat(t),isNewLayout:n}):r===Jn.STAR.TYPE_STR?Nb.createElement(Pz,{questionData:e,key:"".concat(r).concat(t),isNewLayout:n}):r===Jn.COMMENT.TYPE_STR?Nb.createElement(_z,{questionData:e,key:"".concat(r).concat(t),isNewLayout:n}):r===Jn.SINGLE_CHOICE.TYPE_STR||r===Jn.MULTIPLE_CHOICE.TYPE_STR?Nb.createElement(gz,{questionData:e,key:"".concat(r).concat(t),isNewLayout:n}):r===Jn.DATE.TYPE_STR?Nb.createElement(vz,{questionData:e,key:"".concat(r).concat(t),isNewLayout:n}):r===Jn.RATING_SCALE.TYPE_STR||r===Jn.TWO_POINT_SCALE.TYPE_STR?Nb.createElement(fz,{questionData:e,key:"".concat(r).concat(t),isNewLayout:n}):void 0}))},lC=function(e){var t=e.metricName;return Nb.createElement("div",{className:"zpl_pl4 zpl_pt6"},Nb.createElement("div",{className:"zpl_crd zpl_hdrLine"},Nb.createElement("div",{className:"zpl_crdhdr zpl_ctrbrd"},Nb.createElement("div",null,Nb.createElement("h4",null,Nb.createElement("span",null,t))))))},cC=function(e){var t=e.metricType,n=e.metricName,r=e.userData,a=e.isNewLayout;return Nb.createElement(Nb.Fragment,null,t===vn?Nb.createElement(Nb.Fragment,null,Nb.createElement(lC,{metricName:n}),Nb.createElement("div",{className:"zpl_pa4 zpl_pt0"},Nb.createElement("ul",{className:"zpl_plseQaLst"},Nb.createElement(iC,{userData:r,isNewLayout:a})))):t===gn?Nb.createElement(Nb.Fragment,null,(r||[]).map(function(e,t){var n=e.metric_name,r=e.question_responses;return Nb.createElement(Nb.Fragment,null,Nb.createElement(lC,{metricName:n}),Nb.createElement("div",{className:"zpl_pa4 zpl_pt0"},Nb.createElement("ul",{className:"zpl_plseQaLst"},Nb.createElement(iC,{userData:r,isNewLayout:a}))))})):Nb.createElement("div",{className:"zpl_pa4 zpl_pt0"},Nb.createElement("ul",{className:"zpl_plseQaLst"},Nb.createElement(iC,{userData:r,isNewLayout:a}))))},uC=function(e){var t=e.respondentName,n=e.score,r=e.responseTime,a=e.timeTaken,o=e.children,i=e.surveyType;return Nb.createElement("div",{className:"zpl_pa4 zpl_flexcolumngap3"},Nb.createElement("div",null,Nb.createElement("h1",{className:"zpl_ff-b"},t),Nb.createElement("span",{className:"zpl_flex-a-c zpl_gap-1 zpl_pt1"},i!=Ee&&n>=0&&Nb.createElement(Nb.Fragment,null,Nb.createElement("em",{className:"zpl_flex-a-c zpl_gap-1"},Nb.createElement("i",{className:"PI_rpt_chart"})," ",Nb.createElement("span",null,"".concat(n,"%"))),Nb.createElement("em",{className:"zpl_dots"})),Nb.createElement("em",{className:"zpl_flex-a-c zpl_gap-1"}," ",Nb.createElement("span",null,r)),Nb.createElement("em",{className:"zpl_dots"}),Nb.createElement("em",{className:"zpl_flex-a-c zpl_gap-1"}," ",Nb.createElement("span",null,a)))),o)},sC=function(e){var t=e.commentData,n=e.closeCallBack,r=Mb(function(e){return e.createSurvey}),a=r.surveyData,o=r.surveyReport,i=o.reports,l=o.user_report,c=o.currentRecurrence,u=o.responded_users,s=t.response_id,d=t.user_name,p=a.metric_type,f=a.metric_name,m=l[s]||{},v=(m.name,m.last_responsetime),y=m.time_taken,g=m.score,h=m.userResponses,b=Kb();return(0,Nb.useEffect)(function(){if((u||[]).length&&s&&!l[s]){var e={};c&&(e.recurrenceId=c),b(ui({surveyId:i.survey_id,responseId:s,payload:e}))}},[]),Nb.createElement("div",{className:"zpl_mdl zpl_mmd zpl_mcenter zpl_pulseCont zpl_mopen"},Nb.createElement("div",{className:"zpl_minr h100_per"},Nb.createElement(oC,{onCloseHandler:n}),m&&0===Object.keys(m).length?Nb.createElement(aE,null):Nb.createElement("div",{className:"zpl_mcnt"},Nb.createElement("div",{className:"zpl_crd zpl_w-100"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"secViewAsmnt DBI"},Nb.createElement(uC,{respondentName:d,score:g||0,responseTime:v||"",timeTaken:y||""}),Nb.createElement(cC,{metricType:p,metricName:f,userData:h,isNewLayout:!0})))))))};function dC(e){return dC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dC(e)}function pC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pC(Object(n),!0).forEach(function(t){mC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mC(e,t,n){return(t=function(e){var t=function(e){if("object"!=dC(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=dC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==dC(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yC(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yC(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var gC=function(e){var t=e.comments,n=e.className,r=void 0===n?"":n,a=vC((0,Nb.useState)((t||[]).length<=5),2),o=a[0],i=a[1],l=o?t:t.slice(0,5);return(0,Nb.useEffect)(function(){i((t||[]).length<=5)},[t]),Nb.createElement("div",{className:"zpl_secn ".concat(r||"")},Nb.createElement("div",{className:"zpl_tblres"},Nb.createElement("table",{className:"zpl_tbl wd100_per"},Nb.createElement("thead",null,Nb.createElement("tr",null,Nb.createElement("th",{width:"250"},ZPI18N.getString("zp.Who")),Nb.createElement("th",{width:"150"},ZPI18N.getString("zp.survey.emotion")),Nb.createElement("th",null,ZPI18N.getString("zp.comment")))),Nb.createElement("tbody",null,(l||[]).map(function(e,t){if(null!=e&&e.comment&&""!=e.comment)return Nb.createElement(hC,{key:e.comment+e.user_id+t,commentData:e,userName:e.user_name,emotionType:e.emotion_type})})))),o?null:Nb.createElement("div",null,Nb.createElement("p",null,Nb.createElement("a",{onClick:function(){return i(!0)}},ZPI18N.getString("zp.viewall")))))},hC=function(e){var t,n=e.commentData,r=e.userName,a=e.emotionType,o=Mb(function(e){return e.createSurvey}).surveyReport.reports.type,i=(null===(t=Em())||void 0===t?void 0:t.querySelector("#ee-module-react-root"))||document.body,l=vC((0,Nb.useState)(!1),2),c=l[0],u=l[1];return Nb.createElement(Nb.Fragment,null,Nb.createElement("tr",{onClick:function(){u(o==Ie&&!c)}},Nb.createElement("td",null,Nb.createElement("span",null,r)),Nb.createElement("td",null,Nb.createElement("span",{className:nv(a)},function(e){switch(e){case $t:return ZPI18N.getString("zp.positive");case Qt:return ZPI18N.getString("zp.neutral");case Xt:return ZPI18N.getString("zp.negative");default:return"-"}}(a))),Nb.createElement("td",null,Nb.createElement("span",{dangerouslySetInnerHTML:{__html:P(n.comment)}}))),c&&qE.createPortal(Nb.createElement(sC,{commentData:fC(fC({},n),{},{user_name:r}),closeCallBack:function(){u(!1)}}),i))},bC=function(e){var t=e.question,n=e.reportData,r=e.children,a=e.participantStats,o=(t.comments||[]).filter(function(e){return e.comment&&e});return Nb.createElement(Nb.Fragment,null,r,Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement(qz,{completedResponse:null==a?void 0:a.completed_response,question:t,reportData:n}),Nb.createElement(gC,{comments:o})))},_C=function(e){var t=e.index,n=e.question,r=e.children;return Nb.createElement("div",{className:"zpl_crdhdr"},Nb.createElement("div",null,Nb.createElement("h4",null,Nb.createElement("span",null,t,". "),n)),r)},EC=function(e){var t=e.message;return Nb.createElement("div",null,Nb.createElement("p",{className:"zpl_info"},Nb.createElement("em",null,t)))},SC=Nb.forwardRef(function(e,t){var n=e.rel,r=e.headerName,a=void 0===r?"":r,o=e.style,i=e.className,l=e.widthPer,c=void 0===l?50:l,u=e.showNoData,s=void 0!==u&&u,d=e.info;return Nb.createElement("div",{className:"zpl_dashcol".concat(c," ").concat(100==c?"flex-basis100 wd100_per":"")},Nb.createElement("div",{className:"zpl_dashcard"},Nb.createElement("div",{className:"zpl_dashhead"},Nb.createElement("div",null,Nb.createElement("h5",null,a))),Nb.createElement("div",{className:"zpl_dashbody ".concat(i||"")},s?Nb.createElement(hx,{message:ZPI18N.getString("zp.survey.no.applicable.report.stat")}):Nb.createElement("div",{className:"zpl_rprtCrdCnt P20",style:o,ref:t,rel:n},e.children),d&&Nb.createElement(EC,{message:d}))))}),wC=SC;function NC(e){return function(e){if(Array.isArray(e))return OC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||PC(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PC(e,t){if(e){if("string"==typeof e)return OC(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OC(e,t):void 0}}function OC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var IC=function(e){var t=e.sQuestionResponse,n=(e.reportData,t.question_report),r=t.applicable_report,a=n.response_count,o=n.max_count,i=void 0===o?5:o,l=n.type,c=(n.max_emotion,r.gender);if(vv())return Nb.createElement(Nb.Fragment,null);var u=(0,Nb.useRef)(null),s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||PC(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(!1),2),d=s[0],p=s[1];(0,Nb.useEffect)(function(){t&&f(u.current)},[d,t]);var f=function(e){var t;p(!c),c&&c.length>0?(p(!1),[Jn.COMMENT.TYPE_STR,Jn.RATING_SCALE.TYPE_STR,Jn.NPS.TYPE_STR,Jn.STAR.TYPE_STR,Jn.TWO_POINT_SCALE.TYPE_STR].includes(l)&&(c[0].positive||c[0].neutral||c[0].negative)?v(e,c,l,a,i):null!==(t=c[0])&&void 0!==t&&t.answer?y(e,c,a):m(e,c,a)):p(!0)},m=function(e,t,n){var r=[],a=[];NC(t||[]).forEach(function(e,t){var o=e.name==qt?Xm(Bt):e.name;a.push(jt[e.name]||Dt[t]),r.push([o,Ym(e.response_count/n*100)])}),e&&$z(e,r,!0,n,!0,a)},v=function(e,t,n,r,a){var o=Km(n,a),i=[],l=[],c=[],u=[],s=[];NC(t||[]).forEach(function(e,t){var n=e.name==qt?Xm(Bt):e.name;i.push(n),c.push(e.positive),u.push(e.neutral),s.push(e.negative)}),l.push({name:o.negative,color:"#ff4c54",type:"column",maxPointWidth:100,data:s}),[Jn.COMMENT.TYPE_STR,Jn.RATING_SCALE.TYPE_STR,Jn.NPS.TYPE_STR,Jn.STAR.TYPE_STR].includes(n)&&l.push({name:o.neutral,color:"#ffa600",type:"column",maxPointWidth:100,data:u}),l.push({name:o.positive,color:"#00a763",type:"column",maxPointWidth:100,data:c}),e&&Xz(e,i,l,void 0,r,!1)},y=function(e,t,n){var r=[],a=[],o={};NC(t||[]).forEach(function(e,t){var n=e.name==qt?Xm(Bt):e.name;r.push(n),e.answer.forEach(function(e){o[e.choice]=o[e.choice]?o[e.choice]:[],o[e.choice][t]=e.response_count})}),Object.keys(o).length>0&&(Object.keys(o)||[]).forEach(function(e,t){a.push({name:e,type:"column",color:rv(t),data:o[e],maxPointWidth:100})}),e&&Xz(e,r,a,void 0,n,!1)};return Nb.createElement(wC,{rel:"GENDER_CHARTS",style:{height:"280px"},ref:u,headerName:ZPI18N.getString("zp.distributionby",[ZPI18N.getString("zp.gender")]),showNoData:d,info:null!=c&&c.length>0?c[0].info:void 0})};function zC(e,t){if(e){if("string"==typeof e)return CC(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?CC(e,t):void 0}}function CC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var TC=function(e){var t=e.yearOfJoiningReport,n=void 0===t?{}:t,r=e.reportData.completed_response,a=(0,Nb.useRef)(null),o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||zC(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(!1),2),i=o[0],l=o[1];(0,Nb.useEffect)(function(){n&&c(a.current,r,n)},[i,n]);var c=function(e,t,n){var r,a=[];l(!n),n&&n.length>0?(l(!1),(r=n||[],function(e){if(Array.isArray(e))return CC(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||zC(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach(function(e){var t=e.name==qt?Xm(Ut):e.name;a.push([t,e.response_count])}),e&&$z(e,a,!0,t,!1,Rt)):l(!0)};return Nb.createElement(Nb.Fragment,null,n&&Nb.createElement(wC,{rel:"DOJ_CHARTS",ref:a,style:{height:"280px"},headerName:ZPI18N.getString("zp.distributionby",[ZPI18N.getString("zp.survey.report.year_of_joining")]),showNoData:i,info:n>0?n[0].info:void 0}))},xC=function(e){var t=e.categoryInfo,n=e.isTitleInBottom,r=void 0===n||n,a=t.percentage,o=t.label,i=t.tooltip,l=void 0===i?"":i,c=t.widthClassName,u=t.isShowData,s=t.title;return Nb.createElement("div",{className:c},!r&&Nb.createElement("label",null,s),Nb.createElement("div",{className:"d-flexC d-flexclmcap8 tooltip-js",title:l},u?Nb.createElement(Nb.Fragment,null,Nb.createElement("h3",{className:"zpl_ellipsis ".concat(t.color)},a?"".concat(t.percentage,"%"):o),Nb.createElement("i",{className:"".concat(t.emoji_css)})):Nb.createElement("h3",{className:"".concat(t.color)},"-")),r&&Nb.createElement("label",null,s))};function kC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var DC=Nb.forwardRef(function(e,t){var n=e.keywords,r=e.positiveKeywords,a=e.neutralKeywords,o=e.negativeKeywords,i=e.keywordList,l=e.setKeywordList,c=e.activeGraph,u=e.graphs,s=e.chartRef,d=e.emotionClickCallback,p=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kC(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kC(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(bt),2),f=p[0],m=p[1];(0,Nb.useEffect)(function(){u&&c===u[0].mode&&25<=i.length&&Zz(s.current,i)},[c]);var v,y=function(e,t){d(e),m(e),l(t)};return Nb.createElement("div",{className:"zpl_crdhdr"},Nb.createElement("div",{className:"zpl_catlst"},Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_annE_que"},Nb.createElement("div",null,Nb.createElement("h5",null,ZPI18N.getString("zp.engagement.keywords"))))),Nb.createElement("div",{className:"zpl_annE_actn"},Nb.createElement("div",{className:"d-flexclmcap20"},Nb.createElement("div",{className:"d-flexC flexclmcap8 CP",onClick:function(){return y($t,r)}},Nb.createElement("span",{className:"zpl_lbdr _bx grnbg1"}),(v=ZPI18N.getString("zp.positive")+": "+(r||[]).length,f===$t?Nb.createElement("b",null,Nb.createElement("em",null,v)):Nb.createElement("em",null,v))),Nb.createElement("div",{className:"d-flexC flexclmcap8 CP",onClick:function(){return y(Qt,a)}},Nb.createElement("span",{className:"zpl_lbdr _bx ylwbg1"}),function(){var e=ZPI18N.getString("zp.neutral")+": "+(a||[]).length;return f===Qt?Nb.createElement("b",null,Nb.createElement("em",null,e)):Nb.createElement("em",null,e)}()),Nb.createElement("div",{className:"d-flexC flexclmcap8 CP",onClick:function(){return y(Xt,o)}},Nb.createElement("span",{className:"zpl_lbdr _bx redbg1"}),function(){var e=ZPI18N.getString("zp.negative")+": "+(o||[]).length;return f===Xt?Nb.createElement("b",null,Nb.createElement("em",null,e)):Nb.createElement("em",null,e)}()),Nb.createElement("div",{className:"d-flexC flexclmcap8 CP",onClick:function(){return y(bt,n)}},Nb.createElement("span",{className:"zpl_lbdr _bx prplbg"}),function(){var e=ZPI18N.getString("zp.all")+": "+(n||[]).length;return f===bt?Nb.createElement("b",null,Nb.createElement("em",null,e)):Nb.createElement("em",null,e)}())),u&&Nb.createElement("div",{className:"grpbtn"},u.map(function(e,t){return Nb.createElement("i",{className:"".concat(e.class," ").concat(c===e.mode?"zpl_act":""),onClick:e.callback,key:t})})))))});function jC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return AC(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?AC(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var RC=function(e){var t=e.keywords;return Nb.createElement(Nb.Fragment,null,t.length>0?Nb.createElement("div",{className:"zpl_tglist"},t.map(function(e){return Nb.createElement(qC,{keyword:e.keyword,frequency:e.frequency,isSelected:e.isSelected})})):Nb.createElement(hx,{message:ZPI18N.getString("zp.survey.no.applicable.report.stat")}))},qC=function(e){var t=e.keyword,n=e.frequency,r=jC((0,Nb.useState)(!1),2),a=r[0],o=r[1],i=Kb();return Nb.createElement(Nb.Fragment,null,a?Nb.createElement("div",{className:"zpl_tg blubg"},a&&Nb.createElement("i",{className:"PI_cls",onClick:function(){i(Xi(t)),o(!1)}}),Nb.createElement("span",null,t," ",Nb.createElement("b",null,"(".concat(n,")")))):Nb.createElement("div",{className:"zpl_tg",onClick:function(){i(Qi([t])),o(!0)}},Nb.createElement("span",null,t," ",Nb.createElement("b",null,"(".concat(n,")")))))},MC=function(e){var t=e.className,n=e.keywords,r=e.positive_keywords,a=e.neutral_keywords,o=e.negative_keywords,i=e.comments,l=void 0===i?[]:i,c=e.isWordCloudNeeded,u=void 0!==c&&c,s=e.metricFilter,d=void 0===s?[]:s,p=(l||[]).filter(function(e){return e.comment&&e}),f=jC((0,Nb.useState)(n),2),m=f[0],v=f[1],y=jC((0,Nb.useState)(p),2),g=y[0],h=y[1],b=(0,Nb.useRef)(null),_=[{class:"PI_WordCloud-02",mode:"wordCloud",callback:function(){return w("wordCloud")}},{class:"PI_WordCloud-01",mode:"metric",callback:function(){return w("metric")}}],E=jC((0,Nb.useState)(_[1].mode),2),S=E[0],w=E[1];return(0,Nb.useEffect)(function(){var e=go(d).filter(function(e){return null!=e});if(e.length>0){var t=go(p).filter(function(t,n){var r=t.comment,a=RegExp(e.join("|"),"ig");if(null!=r&&r.match(a))return t});h(t)}else h(p)},[d,l]),Nb.createElement(Nb.Fragment,null,(n.length>0||(null==g?void 0:g.length)>0)&&Nb.createElement("div",{className:"zpl_crd ".concat(t||"")},n.length>0&&Nb.createElement(DC,{keywords:n,positiveKeywords:r,neutralKeywords:a,negativeKeywords:o,keywordList:m,setKeywordList:v,activeGraph:S,graphs:u?_:null,chartRef:b,emotionClickCallback:function(e){var t=[];e==bt?t=go(p||[]):p.forEach(function(n){(e==$t&&n.emotion_type==$t||e==Qt&&n.emotion_type==Qt||e==Xt&&n.emotion_type==Xt)&&t.push(n)}),h(t)}}),Nb.createElement("div",{className:"zpl_crdcnt"},function(){if(n.length>0){if(S===_[0].mode){var e=25<=m.length;return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"".concat(e?"":"zpl_annE_brdrCnt"),style:e?{}:{height:"350px"},ref:b},!e&&Nb.createElement(hx,{message:ZPI18N.getString("zp.survey.no.applicable.report.stat")})))}return Nb.createElement("div",{className:"zpl_secn",ref:b},Nb.createElement(RC,{keywords:m}))}}(),(null==g?void 0:g.length)>0&&Nb.createElement(gC,{comments:g}))))};function ZC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||LC(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LC(e,t){if(e){if("string"==typeof e)return FC(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FC(e,t):void 0}}function FC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var BC=function(e){var t=e.reportData,n=e.dataFigures,r=e.isMarginNeeded,a=void 0===r||r,o=t.type,i=t.max_count,l=void 0===i?5:i,c=[{label:ZPI18N.getString("zp.employees"),data:n.totalEmpCount},{label:ZPI18N.getString("zp.response")+"  "+ZPI18N.getString("zp.count"),data:n.responseCount},{label:Qm(ZPI18N.getString("zp.survey.report.response_rate")),data:n.responseRate+" %"}],u=[{label:ZPI18N.getString("zp.employees"),data:n.contribute_totalEmpCount+" %"},{label:Qm(ZPI18N.getString("zp.survey.report.response_rate")),data:n.overAllresponse+" %"}];return[Jn.COMMENT.TYPE_STR,Jn.NPS.TYPE_STR,Jn.STAR.TYPE_STR,Jn.RATING_SCALE.TYPE_STR].includes(n.type)&&(c.push({label:Km(o,l).positive,data:n.responseRate+" %"},{label:Km(o,l).neutral,data:n.neutral+" %"},{label:Km(o,l).negative,data:n.negative+" %"}),u.push({label:Km(o,l).positive,data:n.contribute_prom+" %"},{label:Km(o,l).neutral,data:n.contribute_pass+" %"},{label:Km(o,l).negative,data:n.contribute_detract+" %"})),[Jn.SINGLE_CHOICE.TYPE_STR,Jn.MULTIPLE_CHOICE.TYPE_STR].includes(n.type)&&c.push({label:ZPI18N.getString("zp.survey.report.topselected"),data:n.most_selected_value||"-"}),Nb.createElement("div",{className:"".concat(a?"zpl_secn":"")},Nb.createElement("div",{className:"zpl_info"},Nb.createElement("div",{className:"d-flexclmcap20"},Nb.createElement("div",null,Nb.createElement("div",null,Nb.createElement("h6",{className:"org"},ZPI18N.getString("zp.survey.entity.stats",[n.category]))),Nb.createElement("table",{className:"zpl_itbl"},Nb.createElement("tbody",null,c.map(function(e,t){return Nb.createElement("tr",{key:t},Nb.createElement("td",null,e.label,Nb.createElement("em",null," : ")),Nb.createElement("td",null,Nb.createElement("em",null,e.data)))})))),Nb.createElement("div",{className:"M0I"},Nb.createElement("div",null,Nb.createElement("h6",{className:"org"},ZPI18N.getString("zp.survey.report.contribution.header",[n.category]))),Nb.createElement("table",{className:"zpl_itbl"},Nb.createElement("tbody",null,u.map(function(e,t){return Nb.createElement("tr",{key:t},Nb.createElement("td",null,e.label,Nb.createElement("em",null," : ")),Nb.createElement("td",null,Nb.createElement("em",null,e.data)))})))))))},UC=function(e){var t,n=e.reportData,r=n.question_report,a=r.type,o=r.max_count,i=void 0===o?5:o,l=mo(n.applicable_report);l.gender&&delete l.gender;var c=[Zt,Mt,Lt,Ft].map(function(e){if(l[e])return{label:Qm(e),value:e}}).filter(Boolean),u=(0,Nb.useRef)(null),s=ZC((0,Nb.useState)({}),2),d=s[0],p=s[1],f=ZC((0,Nb.useState)(null===(t=c[0])||void 0===t?void 0:t.value),2),m=f[0],v=f[1],y=ZC((0,Nb.useState)(!1),2),g=y[0],h=y[1],b=l[m]||{},_=ZC((0,Nb.useState)(null!=b&&b.length>0?{info:b[0].info}:{}),2),E=_[0],S=_[1];(0,Nb.useEffect)(function(){p({});var e=l[m]||{},t={},n=0,r=0;t={categories:[],unanswered:[],positive:[],negative:[],neutral:[],response_percentage:[],response_count:[]};for(var o=0;o<Object.keys(e).length;o++){t.categories[o]=e[o].name===qt?Xm(m):e[o].name;var c=e[o].employee_count-e[o].response_count;t.unanswered[o]=c<0?0:c,t.positive[o]=e[o].positive,t.negative[o]=e[o].negative,t.neutral[o]=e[o].neutral,t.response_percentage[o]=Math.round(e[o].response_count/e[o].employee_count*100)||0,t.response_count[o]=e[o].response_count,e[o].response_count,r+=e[o].employee_count,n+=e[o].positive+e[o].negative+(e[o].neutral?e[o].neutral:0),0==o&&S({info:e[o].info})}var s=[{name:Qm(ZPI18N.getString("zp.survey.report.response_rate")),type:"line",data:t.response_percentage,yAxis:1,zIndex:100,tooltip:{valueSuffix:" %"}},{name:ZPI18N.getString("zp.no")+" "+ZPI18N.getString("zp.response"),type:"column",color:"#e3e3e3",data:t.unanswered,maxPointWidth:100}];n>0?(s.push({name:Km(a,i).negative,type:"column",color:"#ff4c54",data:t.negative,maxPointWidth:100}),a!==Jn.COMMENT.TYPE_STR&&a!==Jn.NPS.TYPE_STR&&a!==Jn.STAR.TYPE_STR&&a!==Jn.RATING_SCALE.TYPE_STR||s.push({name:Km(a,i).neutral,type:"column",color:"#ffa600",data:t.neutral,maxPointWidth:100}),s.push({name:Km(a,i).positive,type:"column",color:"#00a763",data:t.positive,maxPointWidth:100})):s.push({name:ZPI18N.getString("zp.response")+" "+ZPI18N.getString("zp.count"),type:"column",color:"#3DB2FF",data:t.response_count,maxPointWidth:100}),h(r<1),g||null==u.current||Xz(u.current,t.categories,s,w)},[m,g,n]);var w=function(e){var t,r,a=0,o=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=LC(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(i)throw a}}}}(l[m.toLowerCase()]);try{for(o.s();!(r=o.n()).done;){var i=r.value;(i.name===qt?Xm(m):i.name)==e.category&&e.index==a&&(t=i),a++}}catch(e){o.e(e)}finally{o.f()}var c=t.employee_count>0?t.employee_count:0,u=t.response_count>0?t.response_count:0,s=t.response_count>0?Ym(t.response_count/t.employee_count*100):0,d=t.response_count>0?Ym(t.positive/t.response_count*100):0,f=t.response_count>0?Ym(t.neutral/t.response_count*100):0,v=t.response_count>0?Ym(t.negative/t.response_count*100):0,y=n.employee_count>0?Ym(t.employee_count/n.employee_count*100):0,g=n.response_count>0?Ym(t.response_count/n.response_count*100):0,h=n.positive>0?Ym(t.positive/n.positive*100):0,b=n.neutral>0?Ym(t.neutral/n.neutral*100):0,_=n.negative>0?Ym(t.negative/n.negative*100):0,E=d+f+v,S={category:e.category,type:n.type,totalEmpCount:c,responseCount:u,responseRate:s,positive:d,neutral:f,negative:v,contribute_totalEmpCount:y,overAllresponse:g,contribute_prom:h,contribute_pass:b,contribute_detract:_,emotionSum:E};p(S)};return 0===c.length?null:Nb.createElement("div",{className:"zpl_crd wd100_per"},Nb.createElement(BI,{title:ZPI18N.getString("zp.lite.distributionReport")+" "+ZPI18N.getString("zp.by")+" "+m},Nb.createElement("div",null,Nb.createElement(MS,{value:c.filter(function(e){return e.value===m}),options:c,onChange:function(e){return t=e.value,void v(t);var t},style:{width:"280px"}}))),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_rprtCrdCnt"},g?Nb.createElement(hx,{message:ZPI18N.getString("zp.survey.no.applicable.report.stat")}):Nb.createElement("div",{ref:u}),E.info&&Nb.createElement(EC,{message:E.info}),Object.keys(d).length>0?Nb.createElement(BC,{reportData:n,dataFigures:d}):null)))};function HC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||VC(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VC(e,t){if(e){if("string"==typeof e)return YC(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YC(e,t):void 0}}function YC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var WC=function(e){var t=e.reportData,n=e.dataFigures,r=(0,Nb.useRef)(null);return(0,Nb.useEffect)(function(){var e,t=[],a=[],o=n.answer;null!=r.current&&(e=o||[],function(e){if(Array.isArray(e))return YC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||VC(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach(function(e,n){t.push(e.choice),a.push({y:e.response_count,color:rv(n,e.color_code)})})},[n]),Nb.createElement(BC,{reportData:t,dataFigures:n,isMarginNeeded:!1})},GC=function(e){var t,n=e.reportData,r=e.filter,a=e.question,o=(e.reports,mo(n.applicable_report));o.gender&&delete o.gender;var i=o[f]||{},l=[Zt,Mt,Lt,Ft].map(function(e){if(o[e])return{label:Qm(e),value:e}}).filter(Boolean),c=(0,Nb.useRef)(null),u=HC((0,Nb.useState)({}),2),s=u[0],d=u[1],p=HC((0,Nb.useState)(null===(t=l[0])||void 0===t?void 0:t.value),2),f=p[0],m=p[1],v=HC((0,Nb.useState)(!1),2),y=v[0],g=v[1],h=HC((0,Nb.useState)(null!=i&&i.length>0?{info:i[0].info}:{}),2),b=h[0],_=h[1],E="";(0,Nb.useEffect)(function(){d({});var e=o[f]||{},t={},n=0;t={categories:[],unanswered:[],response_percentage:[],answer:{},maxSelected:[]};for(var a=function(r){t.categories[r]=e[r].name===qt?Xm(f):e[r].name;var a=e[r].employee_count-e[r].response_count;t.unanswered[r]=a<0?0:a,t.response_percentage[r]=Math.round(e[r].response_count/e[r].employee_count*100)||0,n+=e[r].employee_count,e[r].answer.forEach(function(e){var n;t.answer[e.choice]=t.answer[e.choice]?t.answer[e.choice]:{},t.answer[e.choice].responseCountList=null!==(n=t.answer[e.choice])&&void 0!==n&&n.responseCountList?t.answer[e.choice].responseCountList:[],t.answer[e.choice].colorCode=e.color_code,t.answer[e.choice].responseCountList[r]=e.response_count}),0==r&&_({info:e[r].info})},i=0;i<Object.keys(e).length;i++)a(i);var l=[{name:Qm(ZPI18N.getString("zp.survey.report.response_rate")),type:"line",data:t.response_percentage,yAxis:1,zIndex:100,tooltip:{valueSuffix:" %"}},{name:ZPI18N.getString("zp.no")+" "+ZPI18N.getString("zp.response"),type:"column",color:"#e3e3e3",data:t.unanswered,maxPointWidth:100}];Object.keys(t.answer).length>0&&(Object.keys(t.answer)||[]).forEach(function(e,n){if(null==(null==r?void 0:r.name)||r.name==e){var a=t.answer[e];l.push({name:e,type:"column",color:rv(n,a.colorCode),data:a.responseCountList,maxPointWidth:100})}}),g(n<1),y||null==c.current||Xz(c.current,t.categories,l,S)},[f,y,r,n,a]);var S=function(e){if(E==e.category)return E="",void d({});var t;E=e.category;var r,a=0,i=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=VC(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(i)throw a}}}}(o[f.toLowerCase()]);try{for(i.s();!(r=i.n()).done;){var l=r.value;(l.name===qt?Xm(f):l.name)==e.category&&e.index==a&&(t=l),a++}}catch(e){i.e(e)}finally{i.f()}var c=t.employee_count>0?t.employee_count:0,u=t.response_count>0?t.response_count:0,s=t.response_count>0?Ym(t.response_count/t.employee_count*100):0,p=n.employee_count>0?Ym(t.employee_count/n.employee_count*100):0,m=n.response_count>0?Ym(t.response_count/n.response_count*100):0,v={category:e.category,type:n.type,totalEmpCount:c,responseCount:u,responseRate:s,contribute_totalEmpCount:p,overAllresponse:m,answer:t.answer,most_selected_value:t.most_selected_value};d(v)};return 0===l.length?null:Nb.createElement(Nb.Fragment,null,Nb.createElement("div",{className:"zpl_crd wd100_per"},Nb.createElement(BI,{title:ZPI18N.getString("zp.lite.distributionReport")+" "+ZPI18N.getString("zp.by")+" "+f},Nb.createElement("div",null,Nb.createElement(MS,{value:l.filter(function(e){return e.value===f}),options:l,onChange:function(e){return t=e.value,void m(t);var t},style:{width:"280px"}}))),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_rprtCrdCnt"},y?Nb.createElement(hx,{message:ZPI18N.getString("zp.survey.no.applicable.report.stat")}):Nb.createElement("div",{ref:c}),b.info&&Nb.createElement(EC,{message:b.info}),Object.keys(s).length>0&&Nb.createElement(WC,{reportData:n,dataFigures:s})))))};function $C(e){return $C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$C(e)}function QC(e){return function(e){if(Array.isArray(e))return tT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||eT(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XC(Object(n),!0).forEach(function(t){JC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function JC(e,t,n){return(t=function(e){var t=function(e){if("object"!=$C(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=$C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$C(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eT(e,t){if(e){if("string"==typeof e)return tT(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tT(e,t):void 0}}function tT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nT=function(e){var t=e.mostSelectedValue,n=e.reportData,r=e.sQuestionResponse,a=void 0===r?{}:r,o=e.question,i=e.isNeedDetailedReport,l=void 0!==i&&i,c=e.activeGraph,u=e.graphs,s=e.choiceFilter,d=e.setChoiceFilter,p=e.prevBtnHandler,f=e.nextBtnHandler,m=e.participantStats,v=void 0===m?{}:m,y=a.question_report,g=void 0===y?{}:y,h=g.employee_count,b=g.response_count,_=v.completed_response,E=v.employee_count,S=E>="0"?parseInt(E):0,w=0;h>=0?w=h:S>=0?w=S:(null==n?void 0:n.employee_count)>=0&&(w=null==n?void 0:n.employee_count);var N=b||(null==o?void 0:o.response_count),P=(0,Nb.useRef)(null);(0,Nb.useEffect)(function(){var e=g.answer||o.answer,t=[],n=[],r=[],a=0,i=[];u&&c===u[1].mode?(QC(e||[]).forEach(function(e,t){a+=e.response_count,n.push(e.choice),r.push({y:e.response_count,color:rv(t,e.color_code)})}),Gz(P.current,n,r,a)):(P.current.style.height="300px",QC(e||[]).forEach(function(e,n){a+=e.response_count,t.push({name:e.choice,y:e.response_count}),i.push(rv(n,e.color_code))}),Qz(P.current,t,i,function(e){return O(e,s)}))},[c,s,a]);var O=function(e){"function"==typeof d&&d({name:(null==s?void 0:s.name)==e.point.name?void 0:e.point.name})};return Nb.createElement(Nb.Fragment,null,l?Nb.createElement("div",{className:"zpl_crdhdr"},Nb.createElement("div",{className:"zpl_catlst"},Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_annE_que"},Nb.createElement("span",null,o.qno,"."),Nb.createElement("div",null,Nb.createElement("h5",null,o.question)))),Nb.createElement(Rz,{completedResponse:_,question:o,reportData:n,activeGraph:c,graphs:u}))):Nb.createElement(_C,{index:o.qno,question:o.question},Nb.createElement("div",{className:"zpl_annE_arw zpl_pr2"},"function"==typeof p&&Nb.createElement("i",{className:"zpl_ibg PI_alft BOXN",title:"left",onClick:function(){return p(o.qno)}}),"function"==typeof f&&Nb.createElement("i",{className:"zpl_ibg PI_argt BOXN",title:"right",onClick:function(){return f(o.qno)}}))),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"d-flex j-cnt-cntr"},Nb.createElement("div",{className:"zpl_annE_secn"},Nb.createElement("div",{className:"w600",ref:P}))),Nb.createElement("div",{className:"rprt_hroCon"},Nb.createElement("div",{className:"d-flexclmcap flex-grow "},Nb.createElement("div",{className:"zpl_aCrd"},Nb.createElement(xC,{categoryInfo:{title:ZPI18N.getString("zp.counttotal"),label:w||"-",isShowData:!0}}),Nb.createElement(xC,{categoryInfo:{title:ZPI18N.getString("zp.survey.total.response.received"),label:N,isShowData:!0}}),Nb.createElement(xC,{categoryInfo:{title:ZPI18N.getString("zp.survey.report.topselected"),label:t||"-",tooltip:t||"",isShowData:!0,widthClassName:"w400"}}))))))},rT=function(e){var t=e.surveyData,n=e.reportData,r=e.question,a=e.sQuestionResponse,o=e.yearOfJoining,i=e.metricFilter,l=e.prevBtnHandler,c=e.nextBtnHandler,u=a.question_report,s=a.comment_report,d=(a.gender_report,u.most_selected_value),p=s.comments,f=s.keywords,m=s.positive_keywords,v=s.neutral_keywords,y=s.negative_keywords,g=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||eT(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)({name:void 0}),2),h=g[0],b=g[1];return Nb.createElement(Nb.Fragment,null,Nb.createElement("div",{className:"zpl_crd"},Nb.createElement(nT,{reportData:n,sQuestionResponse:a,mostSelectedValue:d,question:r,choiceFilter:h,setChoiceFilter:b,prevBtnHandler:l,nextBtnHandler:c})),Nb.createElement(GC,{reportData:KC(KC({},a),{},{employee_count:n.employee_count,response_count:r.response_count}),question:r,reports:t.reports,filter:h}),Nb.createElement("div",{className:"zpl_dashrow"},Nb.createElement(IC,{sQuestionResponse:a,reportData:n}),Nb.createElement(TC,{reportData:n,yearOfJoiningReport:o})),Nb.createElement(MC,{keywords:f,positive_keywords:m,neutral_keywords:v,negative_keywords:y,comments:p,metricFilter:i}))};function aT(e){return function(e){if(Array.isArray(e))return iT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||oT(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oT(e,t){if(e){if("string"==typeof e)return iT(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iT(e,t):void 0}}function iT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var lT=function(e){var t=e.question,n=e.reportData,r=e.children,a=e.isOnlyChart,o=void 0!==a&&a,i=e.isNeedLegend,l=void 0!==i&&i,c=e.participantStats,u=void 0===c?{}:c,s=(0,Nb.useRef)(null),d=[{class:"PI_rpt_chart",mode:"pie-chart",callback:function(){return m("pie-chart")}},{class:"PI_hor_chart",mode:"h-chart",callback:function(){return m("h-chart")}}],p=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||oT(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(d[0].mode),2),f=p[0],m=p[1];return(0,Nb.useEffect)(function(){if(o){var e=t.answer,n=[],r=[],a=[],i=0,c=[];f===d[1].mode?(aT(e||[]).forEach(function(e,t){i+=e.response_count,r.push(e.choice),a.push({y:e.response_count,color:rv(t,e.color_code)})}),Gz(s.current,r,a,i)):(s.current.style.height=o?"300px":"280px",aT(e||[]).forEach(function(e,t){i+=e.response_count,n.push({name:e.choice,y:e.response_count}),c.push(rv(t,e.color_code))}),l?Qz(s.current,n,c):$z(s.current,n,!0,i,void 0,c))}},[f,u]),Nb.createElement(Nb.Fragment,null,o?Nb.createElement("div",{className:"w600",ref:s}):Nb.createElement(Nb.Fragment,null,r,Nb.createElement(nT,{reportData:n,mostSelectedValue:t.most_selected_value,question:t,isNeedDetailedReport:!0,activeGraph:f,graphs:d,participantStats:u})))};function cT(e){return function(e){if(Array.isArray(e))return sT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||uT(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uT(e,t){if(e){if("string"==typeof e)return sT(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sT(e,t):void 0}}function sT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var dT=function(e){var t=e.question,n=e.reportData,r=e.children,a=e.isOnlyChart,o=void 0!==a&&a,i=e.participantStats,l=(0,Nb.useRef)(null),c=[{class:"PI_rpt_chart",mode:"pie-chart",callback:function(){return d("pie-chart")}},{class:"PI_hor_chart",mode:"h-chart",callback:function(){return d("h-chart")}}],u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||uT(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(c[0].mode),2),s=u[0],d=u[1];return(0,Nb.useEffect)(function(){var e=t.answer,n=[],r=[],a=[],i=je[t.date_format];if(s===c[1].mode){var u=Dt;cT(e||[]).forEach(function(e,t){r.push(Dm(e.datetime).getDateBy(i)),a.push({y:e.response_count,color:u[t]})}),Gz(l.current,r,a,t.response_count)}else l.current.style.height=o?"300px":"280px",cT(e||[]).forEach(function(e){n.push({name:Dm(e.datetime).getDateBy(i),y:e.response_count})}),$z(l.current,n,!0,t.response_count)},[s,i]),Nb.createElement(Nb.Fragment,null,o?Nb.createElement("div",{className:"w600",ref:l}):Nb.createElement(Nb.Fragment,null,r,Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement(qz,{completedResponse:null==i?void 0:i.completed_response,question:t,reportData:n}),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zpl_annE_brdrCnt",ref:l})))))};function pT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var fT=function(e){for(var t=e.question,n=e.customTxt,r=XS(t.rating_type,t.max_count),a=[],o=0;o<n.length;o++)"frequency_scale"===t.rating_type?a.push(Nb.createElement("li",{key:o},Nb.createElement("div",{className:"zpl_crdScalbdr"},Nb.createElement("div",{className:r[o]})),n[o])):"custom_number"===t.rating_type?a.push(Nb.createElement("li",{key:o},Nb.createElement("div",{className:"zpl_crdScalCstm"},Nb.createElement("div",{className:r[o]},o+1)),n[o])):a.push(Nb.createElement("li",{key:o},Nb.createElement("i",{className:"".concat(r[o])}),n[o]));return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("ul",{className:"zpl_grpmnulnelst"},a))},mT=function(e){var t=e.question,n=e.reportData,r=e.children,a=e.participantStats,o=(0,Nb.useRef)(null),i=[{class:"PI_vert_chart",mode:"v-chart",callback:function(){return u("v-chart")}},{class:"PI_hor_chart",mode:"h-chart",callback:function(){return u("h-chart")}}],l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pT(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pT(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(i[0].mode),2),c=l[0],u=l[1],s=GS(t).map(function(e){return QS(e)});return(0,Nb.useEffect)(function(){var e=[],n=ve[t.max_count],r=t.answer,a=(t.max_count,[r.score_zero||0,r.score_one||0,r.score_two||0,r.score_three||0,r.score_four||0,r.score_five||0,r.score_six||0]);Yz(t,a,e,n),c===i[1].mode?Gz(o.current,s,e,t.response_count):Wz(o.current,s,e,!1,t.response_count,!1,t)},[c,a]),Nb.createElement(Nb.Fragment,null,r,Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement(qz,{completedResponse:null==a?void 0:a.completed_response,question:t,reportData:n,activeGraph:c,graphs:i}),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zpl_annE_brdrCnt",ref:o})),Nb.createElement(fT,{question:t,customTxt:s})))};function vT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var yT=function(e){var t=e.questionReport,n=e.activeQuestionNumber,r=Kb();if((t||[]).length<=1)return null;var a,o=[{label:ZPI18N.getString("zp.all"),value:-1}].concat((a=(t||[]).map(function(e){return{label:e.question,value:e.qno,report:e}}),function(e){if(Array.isArray(e))return vT(e)}(a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return vT(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vT(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()));return Nb.createElement("div",{className:"zpl_crdhdr"},Nb.createElement("div",null,Nb.createElement(MS,{options:o,isSearchable:!0,value:o.filter(function(e){return e.value===n}),onChange:function(e){return t=e.value,void r(Yi({activeQuestionNumber:t}));var t},style:{width:"450px"}})))},gT=function(e){var t=e.surveyReport,n=t.question_report,r=t.activeQuestionNumber,a=t.reports,o=t.currentRecurrence,i=Kb(),l=-1===r?n:[n[r-1]];return(0,Nb.useEffect)(function(){if(!n){var e={};o&&(e.recurrenceId=o),i(ci({surveyId:a.survey_id,payload:e}))}},[o]),Nb.createElement("div",{className:"zpl_tabcnt"},Nb.createElement("div",null,n?Nb.createElement(Nb.Fragment,null,l.map(function(e,t){var o=e.type;return o===Jn.NPS.TYPE_STR?Nb.createElement(nC,{key:e.question_id,question:e,reportData:a},0===t&&Nb.createElement(yT,{questionReport:n,activeQuestionNumber:r})):o===Jn.STAR.TYPE_STR?Nb.createElement(aC,{key:e.question_id,question:e,reportData:a},0===t&&Nb.createElement(yT,{questionReport:n,activeQuestionNumber:r})):o===Jn.COMMENT.TYPE_STR?Nb.createElement(bC,{key:e.question_id,question:e,reportData:a},0===t&&Nb.createElement(yT,{questionReport:n,activeQuestionNumber:r})):o===Jn.SINGLE_CHOICE.TYPE_STR||o===Jn.MULTIPLE_CHOICE.TYPE_STR?Nb.createElement(lT,{key:e.question_id,question:e,reportData:a},0===t&&Nb.createElement(yT,{questionReport:n,activeQuestionNumber:r})):o===Jn.DATE.TYPE_STR?Nb.createElement(dT,{key:e.question_id,question:e,reportData:a},0===t&&Nb.createElement(yT,{questionReport:n,activeQuestionNumber:r})):o===Jn.RATING_SCALE.TYPE_STR||o===Jn.TWO_POINT_SCALE.TYPE_STR?Nb.createElement(mT,{key:e.question_id,question:e,reportData:a},0===t&&Nb.createElement(yT,{questionReport:n,activeQuestionNumber:r})):void 0})):Nb.createElement(aE,null)))};function hT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||bT(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bT(e,t){if(e){if("string"==typeof e)return _T(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_T(e,t):void 0}}function _T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ET=function(e){var t=e.metricAnalysis,n=e.metrics,r=e.activeMetric,a=e.reportData,o=null==n?void 0:n.reduce(function(e,t){return e[t.metric_id]=t.name,e},{}),i=(0,Nb.useRef)(null),l=[{class:"PI_hor_chart",mode:"h-chart",callback:function(){return s("h-chart")}},{class:"PI_vert_chart",mode:"v-chart",callback:function(){return s("v-chart")}}],c=hT((0,Nb.useState)(l[0].mode),2),u=c[0],s=c[1],d=hT((0,Nb.useState)(!1),2),p=d[0],f=d[1];(0,Nb.useEffect)(function(){var e=g();e.isNoData?f(!0):(f(!1),u===l[0].mode?i.current&&Jz(i.current,{values:e.yAxis},{values:e.xAxis,label:ZPI18N.getString("zp.survey.report.response_count")},e.height,"bar"):i.current&&Jz(i.current,{values:e.yAxis},{values:e.xAxis,label:ZPI18N.getString("zp.survey.report.response_count")},e.height,"column"))},[t,u,p]);var m,v=Kb(),y=[{value:-1,label:ZPI18N.getString("zp.all")}].concat(function(e){if(Array.isArray(e))return _T(e)}(m=n.map(function(e){return{value:e.metric_id,label:e.name}}))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(m)||bT(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=function(){var e=t.keywords||[],n=t.comments||[],i={positive_keywords:t.positive_keywords||[],neutral_keywords:t.neutral_keywords||[],negative_keywords:t.negative_keywords||[]},l=[],c=[],u=300,s=!1;if(a.is_repeat)if(-1===r){var d=t.response;u=500,Object.keys(d).forEach(function(t,r){var u=d[t];e=e.concat(u.keywords),n=n.concat(u.comments),i.positive_keywords=i.positive_keywords.concat(u.positive_keywords),i.neutral_keywords=i.neutral_keywords.concat(u.neutral_keywords),i.negative_keywords=i.negative_keywords.concat(u.negative_keywords);var p=u.opening_time,f=Dm(p),m={name:/^(annually)$/.test(a.repeat.frequency)?f.getDateBy("YYYY"):f.getDateBy("MMM YYYY"),data:[],stack:t+""},v=u.response;Object.keys(v).forEach(function(e,t){var n=v[e];m.data[t]=(n.positive||0)+(n.neutral||0)+(n.negative||0),c.push(o[e])}),m.data.length?l.push(m):s=!0})}else{var p=t.response;Object.keys(p).forEach(function(t,r){var o=p[t];e=e.concat(o.keywords),n=n.concat(o.comments),i.positive_keywords=i.positive_keywords.concat(o.positive_keywords),i.neutral_keywords=i.neutral_keywords.concat(o.neutral_keywords),i.negative_keywords=i.negative_keywords.concat(o.negative_keywords);var u=o.opening_time,s=Dm(u),d=/^(annually)$/.test(a.repeat.frequency)?s.getDateBy("YYYY"):s.getDateBy("MMM YYYY");c.push(d);var f=0,m=o.response;Object.keys(m).forEach(function(e,t){var n=m[e].response;f+=(n.positive||0)+(n.neutral||0)+(n.negative||0)}),f>0&&l.push(f)}),l.length>0?l=[{data:l}]:s=!0}else{var f=t.response,m=Object.keys(f),v={name:ZPI18N.getString("zp.positive"),color:"#00a763",data:[]},y={name:ZPI18N.getString("zp.neutral"),color:"#ffa600",data:[]},g={name:ZPI18N.getString("zp.negative"),color:"#ff4c54",data:[]};if(-1===r)u=450,m.forEach(function(e,t){var n=f[e];v.data[t]=n.positive||0,y.data[t]=n.neutral||0,g.data[t]=n.negative||0,c.push(o[e])}),v.data.length||y.data.length||g.data.length?l=[v,y,g]:s=!0;else{var h=[];if(1==m.length){var b=f[m[0]],_=b.response;h.push({name:b.question,response_count:b.response_count,employee_count:parseInt(a.employee_count)}),_.positive||_.neutral||_.negative?l=[{data:[{y:_.positive||0,color:"#00a763"},{y:_.neutral||0,color:"#ffa600"},{y:_.negative||0,color:"#ff4c54"}]}]:s=!0,c=[ZPI18N.getString("zp.positive"),ZPI18N.getString("zp.neutral"),ZPI18N.getString("zp.negative")]}else m.forEach(function(e,t){var n=f[e],r=n.response;v.data[t]=r.positive||0,y.data[t]=r.neutral||0,g.data[t]=r.negative||0,c.push("Q"+(t+1)),h.push({name:"Q"+(t+1)+": "+n.question,response_count:n.response_count,employee_count:parseInt(a.employee_count)})}),v.data.length||y.data.length||g.data.length?l=[v,y,g]:s=!0}}return{xAxis:l,yAxis:c,height:u,isNoData:s}};return Nb.createElement("div",{className:"zpl_crd wd100_per"},Nb.createElement("div",{className:"zpl_crdhdr"},Nb.createElement("div",{className:"zpl_catlst"},Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_annE_que"},Nb.createElement("div",null,Nb.createElement("h5",null,ZPI18N.getString("zp.survey.employee.metrics"))))),Nb.createElement("div",{className:"zpl_annE_actn"},Nb.createElement(MS,{isSearchable:!0,options:y,value:y.filter(function(e){return e.value===r}),onChange:function(e){return t=e.value,void v(Yi({activeMetric:t}));var t},style:{width:"200px"}}),!p&&l?Nb.createElement("div",{className:"grpbtn"},l.map(function(e,t){return Nb.createElement("i",{className:"".concat(e.class," ").concat(u===e.mode?"zpl_act":""),onClick:e.callback,key:t})})):null))),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn"},p?Nb.createElement(hx,{message:ZPI18N.getString("zp.survey.no.applicable.report.stat")}):Nb.createElement("div",{className:"zpl_annE_brdrCnt",ref:i}))))},ST=function(e){var t=e.departmentReport,n=(0,Nb.useRef)(null);return(0,Nb.useEffect)(function(){var e=[],r=[],a=[],o=[];(t||[]).forEach(function(t){var n=Ym(t.response_count/t.employee_count*100);e.push(t.name+" ("+t.response_count+"/"+t.employee_count+")"),a.push(n),o.push(Ym(100-n))}),r.push({name:"",data:o,color:"#e3e3e3"}),r.push({name:"responseRate",data:a}),Wz(n.current,e,a,null,null,null,!0)},[]),Nb.createElement("div",{className:"zpl_crd wd100_per"},Nb.createElement("div",{className:"zpl_crdhdr"},Nb.createElement("div",{className:"zpl_catlst"},Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_annE_que"},Nb.createElement("div",null,Nb.createElement("h5",null,ZPI18N.getString("zp.survey.insights.responserate.department"))))))),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zpl_annE_brdrCnt",ref:n}))))},wT=function(e){var t=e.metric,n=e.score,r=e.questionCount,a=e.participantCount,o=e.color,i=e.onClickHandler;return Nb.createElement("div",{className:"zpl_dfcrd CP",onClick:i},Nb.createElement("div",{className:"zpl_emcrdcnt"},Nb.createElement("div",{className:"zpl_em"},Nb.createElement("div",{className:"zpl_emimg"},Nb.createElement("span",{className:"zpl_tg ".concat(o)},Nb.createElement("span",null,Nb.createElement("b",null,n)))),Nb.createElement("div",{className:"zpl_emdts zpl_ellipsis"},Nb.createElement("div",null,t),Nb.createElement("div",null,Nb.createElement("em",null,"".concat(r," ").concat(ZPI18N.getString("zp.question"),", ").concat(a," participants")))))))},NT=function(e){var t=e.title;return Nb.createElement("div",{className:"zpl_dashhead"},Nb.createElement("div",null,Nb.createElement("h5",null,t)))},PT=function(e){var t=e.reportData,n=e.label,r=e.metricList,a=void 0===r?[]:r,o=e.color,i=e.className,l=void 0===i?"zpl_dashcol50":i,c=Kb();return Nb.createElement("div",{className:l},Nb.createElement("div",{className:"zpl_dashcard"},Nb.createElement(NT,{title:n}),Nb.createElement("div",{className:"zpl_dashbody pulshgt160"},0===a.length?Nb.createElement("div",{className:"zpl_rprtCrdCnt"},Nb.createElement("div",{className:"zpl_Emptydata zpl_minhgt100 zpl_mt5"},Nb.createElement("div",null,Nb.createElement("em",null,ZPI18N.getString("zp.survey.no.applicable.report.stat"))))):Nb.createElement("div",{className:"zpl_pa4"},Nb.createElement("div",{className:"zpl_emcrdlst"},a.map(function(e){var n=e.metric_id,r=e.name,a=e.average_score,i=e.question_count,l=void 0===i?0:i,u=e.response_count;return Nb.createElement(wT,{key:n,metric:r,score:a,questionCount:l,participantCount:u,color:o,onClickHandler:function(){return function(e){c(io({render:!0,viewType:Po.EMOTION_DETAILED_REPORT,headerName:t.survey_name,data:{reportData:t,filter:{metric_id:e}}}))}(n)}})}))))))},OT=function(e){var t=e.reportData,n=e.metrics,r=n.filter(function(e){return e.response_sentiment===$t}),a=n.filter(function(e){return e.response_sentiment===Xt});return Nb.createElement("div",{className:"zpl_dashwrpr"},Nb.createElement("div",{className:"zpl_dashrow"},Nb.createElement(PT,{reportData:t,label:ZPI18N.getString("zp.survey.report.metric.perform.well"),metricList:r,color:"grnbglit2"}),Nb.createElement(PT,{reportData:t,label:ZPI18N.getString("zp.survey.report.metric.perform.low"),metricList:a,color:"redbglit2"})))};function IT(e){return IT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IT(e)}function zT(e,t,n){return(t=function(e){var t=function(e){if("object"!=IT(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=IT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==IT(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var CT=function(e){switch(e){case Zt:return"department_id";case Mt:return"location_id";case Lt:return"designation_id";case at:return"manager_id";default:return""}},TT=function(e){switch(e){case"department_id":return"department_ids";case"location_id":return"location_ids";case"designation_id":return"designation_ids";case"manager_id":return"manager_ids";default:return""}},xT=function(e){switch(e){case Zt:return"department_name";case Mt:return"location_name";case Lt:return"designation_name";case at:return"manager_name";default:return""}},kT=function(e,t){switch(t){case"score":return e;case"percentage":return Ym(10*e)+"%";default:return"-"}},DT=function(e,t){return t>0?"PI_fil_atop":t<0?"PI_fil_abtm":void 0},jT=function(e){switch(e){case"positive":return"green";case"neutral":return"yellow";case"negative":return"red";default:return"grey"}},AT=function(e,t){var n={};return Object.keys(e||{}).forEach(function(t){if(["department","location","designation","reporting_manager"].includes(t)){var r=function(e){switch(e){case Zt:return"department_ids";case Mt:return"location_ids";case Lt:return"designation_ids";case at:case"reporting_manager":return"manager_ids";default:return""}}(t),a=e[t].filter(function(e){return e.isSelected}).map(function(e){return e.key});a&&0!==a.length&&(n[r]=a)}if(["response_view"].includes(t)){var o=e[t].filter(function(e){return e.isSelected&&"reportees_responses"===e.key}).map(function(e){return e.erecno});o&&0!==o.length&&(n.manager_ids=o)}}),n};function RT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var qT=(0,Nb.memo)(function(e){var t=e.metricAnalysis,n=e.metrics,r=e.reports,a=e.activeMetric,o=e.currentRecurrence,i=e.metricFilter,l=e.pulseReport,c=void 0===l?{}:l,u=e.surveyHasMetrics,s=e.appliedFilterData,d=e.className,p=r.department_report,f=c.metrics,m=Kb(),v=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return RT(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?RT(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(!n||!t),2),y=v[0],g=v[1];(0,Nb.useEffect)(function(){!n&&m(fi({surveyId:r.survey_id,mode:"active"})),t||(g(!0),m(pi({surveyId:r.survey_id,recurrenceId:o,reportFilter:AT(s),metricId:-1!==a?a:null}))),g(!1)},[t]),(0,Nb.useEffect)(function(){null!==t&&(null==t?void 0:t.metricId)!==a&&(g(!0),m(pi({surveyId:r.survey_id,recurrenceId:o,reportFilter:AT(s),metricId:-1!==a?a:null})).then(function(e){"fulfilled"===e.meta.requestStatus&&g(!1)}))},[a,o]);var h=function(){var e={};if(t&&(e={keywords:t.keywords||[],comments:t.comments||[],positive_keywords:t.positive_keywords||[],neutral_keywords:t.neutral_keywords||[],negative_keywords:t.negative_keywords||[]},r.is_repeat)){var n=t.response;Object.keys(n||[]).forEach(function(t){var r=n[t];e.keywords=e.keywords.concat(r.keywords),e.comments=e.comments.concat(r.comments),e.positive_keywords=e.positive_keywords.concat(r.positive_keywords),e.neutral_keywords=e.neutral_keywords.concat(r.neutral_keywords),e.negative_keywords=e.negative_keywords.concat(r.negative_keywords)})}return e}();return t?Nb.createElement("div",{className:d},y&&!n?Nb.createElement(aE,null):Nb.createElement(Nb.Fragment,null,(null==p?void 0:p.length)>0&&Nb.createElement(ST,{departmentReport:p}),u&&Nb.createElement(Nb.Fragment,null,Nb.createElement(ET,{metricAnalysis:t,metrics:n,activeMetric:a,reportData:r}),r.type===Ie&&f&&Nb.createElement(OT,{reportData:r,metrics:f}),Nb.createElement(MC,{className:"wd100_per",keywords:h.keywords,positive_keywords:h.positive_keywords,neutral_keywords:h.neutral_keywords,negative_keywords:h.negative_keywords,comments:null==h?void 0:h.comments,metricFilter:i})))):Nb.createElement(aE,{height:350})}),MT=qT,ZT=function(e){var t=e.activeTab,n=e.setActiveTab,r=e.reportTabs;return Nb.createElement("div",{className:"tab_strctr"},Nb.createElement("div",{className:"zpl_hdcnt",style:{margin:0}},Nb.createElement("ul",{className:"zpl_tabpane"},(r||[]).map(function(e,r){return Nb.createElement("li",{key:r,className:t===e.value?"zpl_act":"",onClick:function(){return n(e.value)}},Nb.createElement("a",null,e.label,e.count>0&&Nb.createElement("span",{className:"zpl_tg blubg whttxt"},Nb.createElement("span",null,Nb.createElement("b",null,"+".concat(e.count))))))}))))};function LT(e,t){if(e){if("string"==typeof e)return FT(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FT(e,t):void 0}}function FT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var BT=function(e){var t,n=e.surveyData,r=e.surveyReport;return Nb.createElement(Nb.Fragment,null,Nb.createElement(Dz,{surveyData:n,surveyReport:r,isShowData:Az((null===(t=r.reports)||void 0===t?void 0:t.response_count)||0,n.respondent_identity)}),Nb.createElement("div",{className:"zpl_crd wd100_per"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement(hx,{message:ZPI18N.getString("zp.survey.no.applicable.report.stat")}))))},UT=function(e){var t,n=e.surveyData,r=e.surveyReport,a=r.metricanalysis,o=r.metrics,i=r.reports,l=r.activeMetric,c=r.currentRecurrence,u=r.metricFilter,s=r.pulseReport,d=void 0===s?{}:s,p=i.completed_response,f=!1;if(n.metric_type===gn)f=n.metric_groups.length>0;else{var m,v=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=LT(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(i)throw a}}}}(n.questions||[]);try{for(v.s();!(m=v.n()).done;)if(m.value.metric_id){f=!0;break}}catch(e){v.e(e)}finally{v.f()}}var y,g,h=(g=[],p>1&&(g.push({label:ZPI18N.getString("zp.engagement.report.qsummary"),value:"question-reports"}),(f||(null===(y=i.department_report)||void 0===y?void 0:y.length)>0)&&g.push({label:ZPI18N.getString("zp.engagement.report.analysis.trend"),value:"insights"})),g.push({label:ZPI18N.getString("zp.engagement.report.respondentinfo"),value:"user-reports"}),g),b=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||LT(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(h[0].value),2),_=b[0],E=b[1];return Nb.createElement(Nb.Fragment,null,Nb.createElement(Dz,{surveyData:n,isShowData:Az((null===(t=r.reports)||void 0===t?void 0:t.response_count)||0,n.respondent_identity),surveyReport:r}),Nb.createElement("div",{className:"zpl_annE_cnt"},Nb.createElement(ZT,{activeTab:_,setActiveTab:E,reportTabs:h}),"question-reports"===_?Nb.createElement(gT,{surveyReport:r}):"insights"===_?Nb.createElement(MT,{metricAnalysis:a,metrics:o,reports:i,activeMetric:l,currentRecurrence:c,metricFilter:u,pulseReport:d,surveyHasMetrics:f,className:"annE_Insights"}):Nb.createElement(wz,{surveyReport:r})))},HT=function(e){var t=e.surveyData,n=e.surveyReport,r=n.reports;return jz(r.completed_response,t.respondent_identity)?Nb.createElement(UT,{surveyData:t,surveyReport:n}):Nb.createElement(BT,{surveyData:t,surveyReport:n})},VT=function(e){var t=e.reportData,n=e.isShowData;return Nb.createElement("div",{className:"d-flexclmcap flex-grow "},Nb.createElement("div",{className:"zpl_aCrd"},Nb.createElement("div",null,Nb.createElement("h3",null,n&&t.score||"-"),Nb.createElement("label",null,ZPI18N.getString("zp.survey.report.enps_score"))),Nb.createElement("div",null,Nb.createElement("h3",null,n&&t.average_score||"-"),Nb.createElement("label",null,ZPI18N.getString("zp.average_score"))),Nb.createElement("div",null,Nb.createElement("div",{className:"d-flexC d-flexclmcap5"},Nb.createElement("h3",null,t.employee_count>0?"".concat(t.response_count,"/").concat(t.employee_count):"-"),Nb.createElement("em",null,t.employee_count>0?"(".concat(Math.round(t.response_count/t.employee_count*100),"%)"):"(0%)")),Nb.createElement("label",null,ZPI18N.getString("zp.response")))),Nb.createElement("div",{className:"zpl_aCrd"},Nb.createElement(xC,{categoryInfo:{title:"".concat(ZPI18N.getString("zp.survey.report.promoters")," (9 - 10)"),color:"grn",percentage:t.response_count>0?Ym(t.promoters/t.response_count*100):0,emoji_css:"zp_em_sagree",isShowData:n}}),Nb.createElement(xC,{categoryInfo:{title:"".concat(ZPI18N.getString("zp.survey.report.passive")," (7 - 8)"),color:"ylw",percentage:t.response_count>0?Ym(t.passives/t.response_count*100):0,emoji_css:"zp_em_nadagree",isShowData:n}}),Nb.createElement(xC,{categoryInfo:{title:"".concat(ZPI18N.getString("zp.survey.report.detractors")," (0 - 6)"),color:"red",percentage:t.response_count>0?Ym(t.detractors/t.response_count*100):0,emoji_css:"zp_em_dagree",isShowData:n}})))};function YT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var WT=function(e){var t=e.scoreLabel,n=e.score,r=e.isShowData,a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return YT(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YT(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(-125),2),o=a[0],i=a[1];return(0,Nb.useEffect)(function(){if(r){var e,t=n/100*125,a=-125;e=setInterval(function(){i(a=a===t?a:a+1),a>=t&&clearInterval(e)},1)}},[]),Nb.createElement("div",{className:"spd_mtr spd_mtrNw"},Nb.createElement("div",{style:{position:"absolute",top:"29px",width:"100%",fontSize:"var(--fontSz12)",color:"var(--txt6clr)"}},Nb.createElement("span",{style:{position:"absolute",top:"190px",left:"13px",zIndex:2}},"-100"),Nb.createElement("span",{style:{position:"absolute",top:"190px",right:"15px",zIndex:2}},"100")),Nb.createElement("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 226 172"},Nb.createElement("defs",null,Nb.createElement("style",null,".clss-1 {\n                                fill: #ff832b;\n                                }\n                                .cls-1, .cls-2, .cls-3, .cls-4, .cls-5 {\n                                stroke-width: 0px;\n                                }\n                                .cls-2 {\n                                fill: #f1a82f;\n                                }\n                                .cls-3 {\n                                fill: #ec5158;\n                                }\n                                .cls-4 {\n                                fill: #0ebc6b;\n                                }\n                                .cls-5 {\n                                fill: #298f5f;\n                                }")),Nb.createElement("path",{className:"cls-5",d:"M208.2773438,172c-.5097656,0-1.0263672-.1308594-1.4990234-.4042969-1.4345703-.8291016-1.9248047-2.6650391-1.0947266-4.0986328,9.3662109-16.1914062,14.3164062-34.6904297,14.3164062-53.4980469,0-8.0234375-.8964844-16.0390625-2.6660156-23.8251953-.3671875-1.6162109.6455078-3.2236328,2.2607422-3.5908203,1.6181641-.3632812,3.2236328.6455078,3.5908203,2.2607422,1.8671875,8.2226562,2.8144531,16.6855469,2.8144531,25.1552734,0,19.8613281-5.2294922,39.3994141-15.1230469,56.5019531-.5556641.9609375-1.5634766,1.4990234-2.5996094,1.4990234Z"}),Nb.createElement("path",{className:"cls-4",d:"M215.0917066,75.4599838c-1.1884766,0-2.3134766-.7109375-2.7841797-1.8818359-4.4794922-11.1376953-10.7890625-21.4042969-18.7548828-30.5146484-1.0898438-1.2470703-.9628906-3.1425781.2841797-4.2333984,1.2460938-1.0908203,3.140625-.9658203,4.2333984.2841797,8.4091797,9.6191406,15.0722656,20.4609375,19.8037109,32.2255859.6181641,1.5371094-.1269531,3.2841797-1.6640625,3.9023438-.3662109.1474609-.7451172.2177734-1.1181641.2177734Z"}),Nb.createElement("path",{className:"cls-2",d:"M184.0272535,32.5107651c-.6845703,0-1.3730469-.2333984-1.9365234-.7109375-10.0683594-8.5263672-21.4667969-15.0419922-33.8789062-19.3662109-1.5644531-.5449219-2.390625-2.2558594-1.8457031-3.8203125.5458984-1.5634766,2.2490234-2.3955078,3.8203125-1.8457031,13.109375,4.5673828,25.1484375,11.4492188,35.78125,20.4541016,1.2646484,1.0703125,1.421875,2.9638672.3505859,4.2275391-.5927734.7011719-1.4394531,1.0615234-2.2910156,1.0615234Z"}),Nb.createElement("path",{className:"clss-1",d:"M92.3465894,7.9316412c-1.4130859,0-2.6708984-1.0029297-2.9443359-2.4414062-.3095703-1.6279297.7597656-3.1982422,2.3876953-3.5068359,13.9443359-2.6474609,28.5283203-2.6416016,42.4589844,0,1.6279297.3085938,2.6972656,1.8779297,2.3886719,3.5058594s-1.8730469,2.7021484-3.5058594,2.3886719c-13.1972656-2.5039062-27.0136719-2.5097656-40.2226562,0-.1884766.0361328-.3769531.0537109-.5625.0537109Z"}),Nb.createElement("path",{className:"cls-3",d:"M17.7226562,172c-1.0361328,0-2.0439453-.5371094-2.5996094-1.4990234C5.2294922,153.3984375,0,133.8603516,0,113.9990234,0,65.9345703,30.4833984,23.0341797,75.8535156,7.2460938c1.5644531-.5478516,3.2744141.28125,3.8193359,1.8466797s-.2822266,3.2753906-1.8466797,3.8193359C34.8642578,27.8623047,6,68.4863281,6,113.9990234c0,18.8076172,4.9501953,37.3066406,14.3164062,53.4980469.8300781,1.4335938.3398438,3.2695312-1.0947266,4.0986328-.4726562.2734375-.9892578.4042969-1.4990234.4042969Z"})),Nb.createElement("div",{className:"mtr_Wbg"},Nb.createElement("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",viewBox:"0 0 210 184"},Nb.createElement("defs",null,Nb.createElement("filter",{id:"drop-shadow-1",filterUnits:"userSpaceOnUse"},Nb.createElement("feOffset",{dx:"0",dy:"-2"}),Nb.createElement("feGaussianBlur",{result:"blur",stdDeviation:"8"}),Nb.createElement("feFlood",{floodColor:"#000",floodOpacity:".08"}),Nb.createElement("feComposite",{in2:"blur",operator:"in"}),Nb.createElement("feComposite",{in:"SourceGraphic"}))),Nb.createElement("path",{className:"cls-1",style:{fill:"#fff",fillRule:"evenodd",filter:"url(#drop-shadow-1)",strokeWidth:"0px"},d:"M164.026001,159c13.026001-14.2310028,20.973999-33.1869965,20.973999-54,0-44.1828003-35.8170013-80-80-80-44.1828003,0-80,35.8171997-80,80,0,20.8130035,7.9477997,39.7689972,20.9738998,54h118.0521011Z"}))),r&&Nb.createElement("img",{className:"metre_ndl",src:ZPeople.getResourceURL("".concat(newUIImageUrl,"enps/triangle_meterS.svg")),style:{transform:"rotate(".concat(o,"deg)")}}),Nb.createElement("div",{className:"spdRdn_con"},Nb.createElement("span",null,n||"-"),Nb.createElement("font",null,t)))},GT=function(e){var t=e.surveyData,n=e.isShowData,r=e.reportData,a=(0,Nb.useRef)(null);return Nb.createElement("div",{className:"zpl_crd wd100_per"},Nb.createElement(BI,{title:ZPI18N.getString("zp.question"),description:t.question}),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"rprt_hroCon"},Nb.createElement("div",{className:"zpl_mmax280 zpl_ml9 zpl_mr6 zpl_pt5",ref:a},Nb.createElement(WT,{scoreLabel:ZPI18N.getString("zp.survey.report.enps_score"),score:r.score,isShowData:n})),Nb.createElement(VT,{reportData:r,isShowData:n}))))},$T=function(e){var t=e.categoryInfo;return Nb.createElement("div",{className:"d-flexcap"},Nb.createElement("div",{className:"flex-grow"},Nb.createElement("div",null,Nb.createElement("h6",null,t.title," ",Nb.createElement("em",null,t.score)),Nb.createElement("div",{className:"d-flexC d-flexcap"},Nb.createElement("div",{className:"d-flexC d-flexclmcap8"},Nb.createElement("div",{className:"zprogress",style:{background:"#DBDBDB",minWidth:"320px"}},Nb.createElement("div",{className:"zprogress__bar",style:{background:"var(--".concat(t.color,")"),width:"".concat(t.percentage,"%")}})),Nb.createElement("span",{className:"zpl_progtitle"},Nb.createElement("b",null,"".concat(t.percentage,"%"))))))),Nb.createElement("div",{className:"flex-grow0 d-flexM w80"},Nb.createElement("h6",null,t.response_count)))},QT=function(e){var t=e.promoters,n=e.passives,r=e.detractors,a=e.response_count;return Nb.createElement("div",{className:"zpl_dashcol50"},Nb.createElement("div",{className:"zpl_dashcard"},Nb.createElement("div",{className:"zpl_dashhead"},Nb.createElement(hN,{title:ZPI18N.getString("zp.survey.enps.distribution.percentage")})),Nb.createElement("div",{className:"zpl_dashbody"},Nb.createElement("div",{className:"zpl_rprtCrdCnt P20"},Nb.createElement("div",{className:"rprt_progBr"},Nb.createElement("div",{className:"d-flexcap"},Nb.createElement("div",{className:"flex-grow"},Nb.createElement("em",null,ZPI18N.getString("zp.breakdown"))),Nb.createElement("div",{className:"flex-grow0 d-flexM w80"},Nb.createElement("em",null,ZPI18N.getString("zp.counttotalsamll")))),Nb.createElement($T,{categoryInfo:{title:ZPI18N.getString("zp.survey.report.promoters"),score:"(9 - 10)",color:"grn2",percentage:Ym(t/a*100)||0,response_count:t}}),Nb.createElement($T,{categoryInfo:{title:ZPI18N.getString("zp.survey.report.passive"),score:"(7 - 8)",color:"ylw2",percentage:Ym(n/a*100)||0,response_count:n}}),Nb.createElement($T,{categoryInfo:{title:ZPI18N.getString("zp.survey.report.detractors"),score:"(0 - 6)",color:"red2",percentage:Ym(r/a*100)||0,response_count:r}}))))))},XT=function(e){var t=e.title,n=e.isMandatory;return Nb.createElement("div",null,Nb.createElement("h6",{className:n?"zpl_mtry":""},t))},KT=function(e){var t=e.surveyReport.reports,n=(0,Nb.useRef)(null);return(0,Nb.useEffect)(function(){n.current&&Wz(n.current,Pt,Vz(t,[]))},[t]),Nb.createElement("div",{className:"zpl_dashcol50"},Nb.createElement("div",{className:"zpl_dashcard"},Nb.createElement("div",{className:"zpl_dashhead"},Nb.createElement(XT,{title:ZPI18N.getString("zp.rating_distribution")})),Nb.createElement("div",{className:"zpl_dashbody"},Nb.createElement("div",{className:"zpl_rprtCrdCnt",ref:n,style:{height:"260px"}}))))},JT=function(e){var t=e.reports,n=e.highlights,r=e.isDetailedReport,a=void 0!==r&&r,o=e.isEmotion,i=void 0!==o&&o,l=a?n:t.highlights||{},c=Object.keys(l);return Nb.createElement("div",{className:"zpl_crd wd100_per"},Nb.createElement(BI,{title:ZPI18N.getString("zp.highlights")}),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zpl_tblres"},Nb.createElement("table",{className:"zpl_tbl wd100_per"},Nb.createElement("thead",null,Nb.createElement("tr",null,Nb.createElement("th",{width:"250"},ZPI18N.getString("zp.highest")),c.map(function(e,t){return Nb.createElement("th",{key:t},ZPI18N.getString("zp.".concat(e)))}))),Nb.createElement("tbody",null,Nb.createElement("tr",null,Nb.createElement("td",null,Nb.createElement("span",{className:"grn"},t.type==Se||t.type===Jn.NPS.TYPE_STR?ZPI18N.getString("zp.survey.report.promoters"):ZPI18N.getString("zp.positive"))),c.map(function(e,t){var n,r=(n=l[e],a?i?[n.positive_name,n.positive_percentage]:[n.highlight_name,n.highlight_percentage]:[n.promoters_name,n.promoters_percentage]);return r[1]&&Nb.createElement("td",{key:t},"".concat(r[0]," (").concat(r[1],")%"))})),Nb.createElement("tr",null,Nb.createElement("td",null,Nb.createElement("span",{className:"red"},t.type==Se||t.type===Jn.NPS.TYPE_STR?ZPI18N.getString("zp.survey.report.detractors"):ZPI18N.getString("zp.negative"))),c.map(function(e,t){var n,r=(n=l[e],a?i?[n.negative_name,n.negative_percentage]:[n.lowest_name,n.lowest_percentage]:[n.detractors_name,n.detractors_percentage]);return r[1]&&Nb.createElement("td",{key:t},"".concat(r[0]," (").concat(r[1],")%"))}))))))))};function ex(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||tx(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tx(e,t){if(e){if("string"==typeof e)return nx(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nx(e,t):void 0}}function nx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rx=function(e){var t=e.dataFigures,n=[{label:ZPI18N.getString("zp.employees"),data:t.totalEmpCount},{label:ZPI18N.getString("zp.response")+"  "+ZPI18N.getString("zp.count"),data:t.responseCount},{label:Qm(ZPI18N.getString("zp.survey.report.response_rate")),data:t.responseRate+" %"},{label:ZPI18N.getString("zp.survey.report.promoters"),data:t.positive+" %"},{label:ZPI18N.getString("zp.survey.report.passive"),data:t.neutral+" %"},{label:ZPI18N.getString("zp.survey.report.detractors"),data:t.negative+" %"}],r=[{label:ZPI18N.getString("zp.employees"),data:t.contribute_totalEmpCount+" %"},{label:Qm(ZPI18N.getString("zp.survey.report.response_rate")),data:t.overAllresponse+" %"},{label:ZPI18N.getString("zp.survey.report.promoters"),data:t.contribute_prom+" %"},{label:ZPI18N.getString("zp.survey.report.passive"),data:t.contribute_pass+" %"},{label:ZPI18N.getString("zp.survey.report.detractors"),data:t.contribute_detract+" %"}];return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zpl_info"},Nb.createElement("div",{className:"d-flexclmcap20"},Nb.createElement("div",null,Nb.createElement("div",null,Nb.createElement("h6",{className:"org"},ZPI18N.getString("zp.survey.entity.stats",[t.category]))),Nb.createElement("table",{className:"zpl_itbl"},Nb.createElement("tbody",null,n.map(function(e,t){return Nb.createElement("tr",{key:t},Nb.createElement("td",null,e.label,Nb.createElement("em",null," : ")),Nb.createElement("td",null,Nb.createElement("em",null,e.data)))})))),Nb.createElement("div",{className:"M0I"},Nb.createElement("div",null,Nb.createElement("h6",{className:"org"},ZPI18N.getString("zp.survey.report.contribution.header",[t.category]))),Nb.createElement("table",{className:"zpl_itbl"},Nb.createElement("tbody",null,r.map(function(e,t){return Nb.createElement("tr",{key:t},Nb.createElement("td",null,e.label,Nb.createElement("em",null," : ")),Nb.createElement("td",null,Nb.createElement("em",null,e.data)))})))))))},ax=function(e){var t,n=e.reportData,r=[Zt,Mt,Lt,Ft,Bt].map(function(e){if(n.applicable_report[e])return{label:Qm(e),value:e}}).filter(Boolean),a=(0,Nb.useRef)(null),o=ex((0,Nb.useState)({}),2),i=o[0],l=o[1],c=ex((0,Nb.useState)(null===(t=r[0])||void 0===t?void 0:t.value),2),u=c[0],s=c[1],d=ex((0,Nb.useState)(!1),2),p=d[0],f=d[1],m=n.applicable_report[u],v=ex((0,Nb.useState)(null!=m&&m.length>0?{info:m[0].info}:{}),2),y=v[0],g=v[1];(0,Nb.useEffect)(function(){if(l({}),0!==r.length){var e=n.applicable_report[u],t={},o=0;t={categories:[],unanswered:[],positive:[],negative:[],neutral:[],response_count:[]};for(var i=0;i<Object.keys(e||{}).length;i++){t.categories[i]=e[i].name===qt?Xm(u):e[i].name;var c=e[i].employee_count-e[i].response_count;t.unanswered[i]=c<0?0:c,t.positive[i]=e[i].positive,t.negative[i]=e[i].negative,t.neutral[i]=e[i].neutral,t.response_count[i]=Math.round(e[i].response_count/e[i].employee_count*100)||0,e[i].positive,e[i].negative,e[i].neutral,o+=e[i].employee_count,0==i&&g({info:e[i].info})}var s=[{name:Qm(ZPI18N.getString("zp.survey.report.response_rate")),type:"line",data:t.response_count,yAxis:1,zIndex:100,tooltip:{valueSuffix:" %"}},{name:ZPI18N.getString("zp.no")+" "+ZPI18N.getString("zp.response"),type:"column",color:"#e3e3e3",data:t.unanswered,maxPointWidth:100},{name:ZPI18N.getString("zp.survey.report.detractors"),type:"column",color:"#ff4c54",data:t.negative,maxPointWidth:100},{name:ZPI18N.getString("zp.survey.report.passive"),type:"column",color:"#ffa600",data:t.neutral,maxPointWidth:100},{name:ZPI18N.getString("zp.survey.report.promoters"),type:"column",color:"#00a763",data:t.positive,maxPointWidth:100}];f(o<1),p||null==a.current||Xz(a.current,t.categories,s,h)}},[u,p,n]);var h=function(e){var t,r,a=0,o=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=tx(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(i)throw a}}}}(n.applicable_report[u.toLowerCase()]);try{for(o.s();!(r=o.n()).done;){var i=r.value;(i.name===qt?Xm(u):i.name)==e.category&&e.index==a&&(t=i),a++}}catch(e){o.e(e)}finally{o.f()}var c=t.employee_count>0?t.employee_count:0,s=t.response_count>0?t.response_count:0,d=t.response_count>0?Ym(t.response_count/t.employee_count*100):0,p=t.response_count>0?Ym(t.positive/t.response_count*100):0,f=t.response_count>0?Ym(t.neutral/t.response_count*100):0,m=t.response_count>0?Ym(t.negative/t.response_count*100):0,v=n.employee_count>0?Ym(t.employee_count/n.employee_count*100):0,y=n.response_count>0?Ym(t.response_count/n.response_count*100):0,g=n.positive>0?Ym(t.positive/n.positive*100):0,h=n.neutral>0?Ym(t.neutral/n.neutral*100):0,b=n.negative>0?Ym(t.negative/n.negative*100):0,_={category:e.category,totalEmpCount:c,responseCount:s,responseRate:d,positive:p,neutral:f,negative:m,contribute_totalEmpCount:v,overAllresponse:y,contribute_prom:g,contribute_pass:h,contribute_detract:b};l(_)};return 0===r.length?null:Nb.createElement("div",{className:"zpl_crd wd100_per"},Nb.createElement(BI,{title:ZPI18N.getString("zp.lite.distributionReport")+" "+ZPI18N.getString("zp.by")+" "+u},Nb.createElement("div",null,Nb.createElement(MS,{value:r.filter(function(e){return e.value===u}),options:r,onChange:function(e){return s(e.value)},style:{width:"280px"}}))),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_rprtCrdCnt"},p?Nb.createElement(hx,{message:ZPI18N.getString("zp.survey.no.applicable.report.stat")}):Nb.createElement("div",{ref:a}),y.info&&Nb.createElement(EC,{message:y.info}),Object.keys(i).length>0?Nb.createElement(rx,{dataFigures:i}):null)))},ox=function(e){var t=e.commentData;return Nb.createElement("li",null,Nb.createElement("div",null,Nb.createElement("p",null,t.comment),Nb.createElement("em",null,t.userName)),Nb.createElement("em",null,"".concat(ZPI18N.getString("zp.score")," ").concat(t.score)))},ix=function(e){var t=e.commentList;return Nb.createElement("div",{className:"zpl_crd wd100_per"},Nb.createElement(BI,{title:ZPI18N.getString("zp.local.Comments")}),Nb.createElement("div",{className:"zpl_crdcnt"},t.length>0?Nb.createElement("ul",{className:"zpl_enpsCmnts"},t.map(function(e,t){return Nb.createElement(ox,{commentData:{userName:e.user_name,comment:e.comment,score:e.score},key:t})})):Nb.createElement(hx,{message:ZPI18N.getString("zp.survey.no.comments.shared")})))};function lx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var cx=function(e){var t=e.surveyData,n=e.reportData,r=t.is_repeat,a=t.response_count;if(!(r&&a>0))return Nb.createElement(Nb.Fragment,null);var o,i=n.completed_schedules,l=n.repeat,c=n.employee_count,u=/^(monthly|quarterly|halfly|annually)$/.test(l.frequency)?(o=l.frequency,ZPI18N.getString(mt[o])):"",s=(0,Nb.useRef)(),d=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lx(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lx(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)({}),2),p=d[0],f=d[1];return(0,Nb.useEffect)(function(){var e=[],t=[],n=[];(i||[]).slice().reverse().forEach(function(r,a){var o=r.opening_time,i=Dm(o);e[a]=/^(annually)$/.test(l.frequency)?i.getDateBy("YYYY"):i.getDateBy("MMM YYYY"),t[a]=Math.round(r.response_count/c*100),n[a]=r.response_count>0?Math.round((r.promoters-r.detractors)/r.response_count*100):0}),f({comparisonXAxis:e,responseRateYAxis:t,scoreYaxis:n})},[n]),(0,Nb.useEffect)(function(){var e=p.comparisonXAxis,t=p.responseRateYAxis,n=p.scoreYaxis;Object.keys(p).length>0&&function(e,t,n,r,a){Highcharts.chart(e,{title:{text:""},chart:{type:"spline"},credits:{enabled:!1},exporting:{enabled:!1},yAxis:[{title:{text:a.xAxis},labels:{format:"{value} %"},allowDecimals:!1,min:0},{title:{text:a.yAxis},allowDecimals:!1,opposite:!0,min:-100}],xAxis:[{categories:t,crosshair:!0}],tooltip:{headerFormat:"<b>{point.x}</b><br/>",pointFormat:"{series.name}: {point.y}"},series:[{name:a.xAxis,data:n,tooltip:{valueSuffix:" %"}},{name:a.yAxis,data:r,yAxis:1}]})}(s.current,e,t,n,{xAxis:Qm(ZPI18N.getString("zp.survey.report.response_rate")),yAxis:ZPI18N.getString("zp.survey.report.enps_score")})},[p]),Nb.createElement("div",{className:"zpl_crd wd100_per"},Nb.createElement(BI,{title:ZPI18N.getString("zp.survey.report.enps.score_trend",[u])}),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_rprtCrdCnt"},Nb.createElement("div",{ref:s}))))};function ux(e){return ux="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ux(e)}function sx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sx(Object(n),!0).forEach(function(t){px(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function px(e,t,n){return(t=function(e){var t=function(e){if("object"!=ux(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ux(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ux(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var mx=function(e){var t,n=e.surveyData,r=e.surveyReport,a=r.reports,o=r.single_question_response,i=r.currentRecurrence,l=a.employee_count,c=a.response_count,u=a.completed_schedules,s=(o||{}).question_report.answer,d=n.respondent_identity,p={employee_count:l,response_count:c,score:s.score,average_score:s.average_score,promoters:s.promoters,passives:s.passives,detractors:s.detractors,scale_score:s.scale_score,respondent_identity:d,completed_schedules:u};return Nb.createElement(Nb.Fragment,null,Nb.createElement(GT,{surveyData:n,reportData:p,currentRecurrence:i,isShowData:Az((null==r||null===(t=r.reports)||void 0===t?void 0:t.response_count)||0,n.respondent_identity)}),Nb.createElement("div",{className:"zpl_crd wd100_per"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement(hx,{message:ZPI18N.getString("zp.survey.no.applicable.report.stat")}))))},vx=function(e){var t,n=e.surveyData,r=e.surveyReport,a=r.reports,o=r.single_question_response,i=r.currentRecurrence,l=a.employee_count,c=a.response_count,u=a.type,s=a.completed_schedules,d=o||{},p=d.comment_report,f=d.question_report,m=d.highlights,v=f.answer,y=p.comments,g=n.respondent_identity,h={employee_count:l,response_count:c,score:v.score,average_score:v.average_score,promoters:v.promoters,passives:v.passives,detractors:v.detractors,scale_score:v.scale_score,respondent_identity:g,completed_schedules:s};return Nb.createElement(Nb.Fragment,null,Nb.createElement(GT,{surveyData:n,reportData:h,currentRecurrence:i,isShowData:Az((null===(t=r.reports)||void 0===t?void 0:t.response_count)||0,n.respondent_identity)}),Nb.createElement("div",{className:"zpl_dashrow"},Nb.createElement(QT,{promoters:h.promoters,passives:h.passives,detractors:h.detractors,response_count:h.response_count}),Nb.createElement(KT,{surveyReport:{reports:h}})),m&&Object.keys(m).length>0&&Nb.createElement(JT,{reports:{type:u},highlights:m,isDetailedReport:!0,isEmotion:!0}),Nb.createElement(ax,{reportData:dx(dx({},o),{},{employee_count:l,response_count:c})}),Nb.createElement(cx,{surveyData:n,reportData:a}),Nb.createElement(ix,{commentList:y||[]}))},yx=function(e){var t,n=e.surveyData,r=e.surveyReport,a=r.single_question_response,o=r.currentRecurrence,i=Kb(),l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fx(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fx(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(!1),2),c=l[0],u=l[1],s=jz((null==r||null===(t=r.reports)||void 0===t?void 0:t.response_count)||0,n.respondent_identity);return(0,Nb.useEffect)(function(){var e={};o&&(e.recurrenceId=o),u(!0),i(si({surveyId:n.survey_id,questionId:n.question_id,payload:e})).then(function(e){u(!1)})},[o]),null==a||0===Object.keys(a).length||c?Nb.createElement(aE,null):s?Nb.createElement(vx,{surveyData:n,surveyReport:r}):Nb.createElement(mx,{surveyData:n,surveyReport:r})},gx=function(e){var t,n=e.surveyData;return t=n.current_state===Et?ZPI18N.getString("zp.survey.reports.nodata.disabled"):n.status===Wt&&(!n.is_repeat||n.is_repeat&&n.opening_time===n.first_instance_enddate)?ZPI18N.getString("zp.survey.reports.nodata.upcoming"):ZPI18N.getString("zp.survey.reports.nodata.message"),Nb.createElement("div",{className:"zpl_crd wd100_per"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement(hx,{message:t,header:ZPI18N.getString("zp.survey.reports.nodata.header")})))},hx=function(e){var t=e.message,n=e.header,r=e.imgClass,a=void 0===r?"zp_nd_template":r,o=e.headerTIndex,i=void 0===o?0:o;return Nb.createElement("div",{className:"zpl_Emptydata"},Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_emptimg ".concat(a)}),n?Nb.createElement("h4",{tabIndex:i},n):null,Nb.createElement("p",null,t)))},bx=function(e){var t=e.surveyData,n=e.surveyReport,r=t.type;return 0===t.response_count?Nb.createElement(gx,{surveyData:t}):r===Ee||r===Ie?Nb.createElement(HT,{surveyData:t,surveyReport:n}):r===Se?Nb.createElement(yx,{surveyData:t,surveyReport:n}):void 0};function _x(e){return _x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_x(e)}function Ex(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ex(Object(n),!0).forEach(function(t){wx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ex(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wx(e,t,n){return(t=function(e){var t=function(e){if("object"!=_x(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=_x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_x(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Px(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Px(e,t){if(e){if("string"==typeof e)return Ox(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ox(e,t):void 0}}function Ox(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ix=function(e){var t=e.surveyData,n=e.surveyQuestions,r=void 0===n?[]:n,a=e.questionBank,o=e.viewType,i=a.taggedIds,l=a.tagPayload,c=a.questions,u=a.fetchInitialData,s=a.isLoading,d=a.hasMoreQuestions,p=a.metricId,f=a.insertAt,m=(null!=l?l:{question_ids:[]}).question_ids,v=Nx((0,Nb.useState)({isRequestProcessing:!1,pageNumber:1}),2),y=v[0],g=v[1],h=Nx((0,Nb.useState)(!1),2),b=h[0],_=h[1],E=Kb(),S=u||s,w=!c||0===c.length;return Nb.createElement("div",{className:"zpl_mcnt zpl_fm",onScroll:function(e){var n=y.pageNumber,r=y.isRequestProcessing,a=e.target;Math.round(100*(a.scrollTop+a.offsetHeight)/a.scrollHeight)>98&&d&&!r&&(g(Sx(Sx({},y),{},{isRequestProcessing:!0})),E(fs({mode:[Po.OFFBOARDING_FEEDBACK,Po.EXTEND_INTERVIEW_CREATION].includes(o)?we:Po.CUSTOM_FEEDBACK===o?Ne:t.type===Ie?Y:V,pno:n})).then(function(e){"fulfilled"===e.meta.requestStatus?g(Sx(Sx({},y),{},{pageNumber:n+1,isRequestProcessing:!1})):"rejected"===e.meta.requestStatus&&(B({text:ZPI18N.getString("zp.unabletoprocess"),duration:3e3}).showWarning(),g(Sx(Sx({},y),{},{isRequestProcessing:!1})))}))},style:{height:"100%"}},Nb.createElement(FI,{showTagQuestion:b,taggedIds:i,surveyData:t,surveyQuestions:r,qBankQuestions:c,viewType:o,metricId:p,insertAt:f}),S?Nb.createElement(aE,null):w?Nb.createElement(hx,{header:ZPI18N.getString("zp.survey.question.empty")}):Nb.createElement(kI,{hasNextPage:d,isNextPageLoading:y.isRequestProcessing,questions:c||[],tagPayload:l,checkBoxCallback:function(e){return function(e){var n,a=function(e){if(Array.isArray(e))return Ox(e)}(n=m)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||Px(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=(r||[]).map(function(e){if(parseFloat(e.questionbank_id)>0)return e.question_id}).filter(Boolean),i=m.indexOf(e),l=o.indexOf(e);-1===i?-1===l&&a.push(e):i>-1&&a.splice(i,1);var c=o.length+a.length,u=wx(wx(wx(wx({},Ie,Q),Ee,G),Ne,G),we,G)[t.type];c>u?B({text:ZPI18N.getString("zp.assessment.random.youchoosemax",[u]),duration:3e3}).showWarning():(_(!0),E(hs({taggedIds:a,tagPayload:{question_ids:a}})))}(null==e?void 0:e.question_id)},surveyData:t}))};function zx(e){return function(e){if(Array.isArray(e))return Cx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Cx(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cx(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Tx=function(){var e=Kb(),t=Mb(function(e){return e.questionBank},Hb),n=Mb(function(e){return e.createSurvey}).surveyData,r=Mb(function(e){return e.modalBox}).viewType,a=t.fetchInitialData,o=n.metric_type===gn?(n.metric_groups||[]).reduce(function(e,t){return[].concat(zx(e),zx(t.questions||[]))},[]):n.questions;return(0,Nb.useEffect)(function(){a?(e(hs({isLoading:!0,questions:[]})),e(fs({mode:[Po.OFFBOARDING_FEEDBACK,Po.EXTEND_INTERVIEW_CREATION].includes(r)?we:n.type===Ie?Y:V,pno:0}))):e(Uc({surveyQuestions:o}))},[]),Nb.createElement("div",{className:"zpl_mdl zpl_mmd zpl_mopen"},Nb.createElement("div",{className:"zpl_minr"},Nb.createElement(eE,{name:ZPI18N.getString("zp.questionpool"),cancelAction:function(){e(ys())}}),Nb.createElement(Ix,{surveyData:n,surveyQuestions:o,questionBank:t,viewType:r})))},xx=function(e){var t=e.headerName,n=e.disableBackButton,r=void 0!==n&&n,a=e.disableCloseButton,o=void 0!==a&&a,i=e.textOverflow,l=void 0!==i&&i,c=e.backActionHandler,u=e.closeActionHandler,s=e.children;return Nb.createElement("div",{className:"zpl_mhder"},Nb.createElement("div",{className:l?"zpl_ellipsis":""},"function"==typeof c?Nb.createElement("a",{className:"clsArw ".concat(r?"disabled":"")},Nb.createElement("i",{className:"PI_back",onClick:c})):null,Nb.createElement("h4",{className:"zpl_w300"},t)),s,"function"==typeof u?Nb.createElement("a",{className:"_cls PI_cls ".concat(o?"disabled":""),onClick:u}):null)},kx=function(e){var t=e.headerName,n=e.HeaderLabel,r=e.disableBackButton,a=void 0!==r&&r,o=e.disableCloseButton,i=void 0!==o&&o,l=e.backActionHandler,c=e.closeActionHandler,u=e.children;return Nb.createElement("div",{className:"zpl_mhder"},Nb.createElement("div",null,"function"==typeof l?Nb.createElement("a",{className:"clsArw ".concat(a?"disabled":"")},Nb.createElement("i",{className:"PI_back",onClick:l})):null,Nb.createElement("div",{className:"d-flexclmcap12 a-itm-cntr"},Nb.createElement("h4",null,t),Nb.createElement("em",null,"."),n)),u,"function"==typeof c?Nb.createElement("a",{className:"_cls PI_cls ".concat(i?"disabled":""),onClick:c}):null)},Dx=function(e){var t=e.rightActions,n=void 0===t?[]:t,r=e.leftActions,a=void 0===r?[]:r;return n.length||a.length?Nb.createElement("div",{className:"zpl_mfoter zpl_btnsplt"},Nb.createElement("div",null,a.map(function(e){return Nb.createElement("button",{key:zE(),className:"zlabel zlabel--".concat(e.type," zlabel--medium"),onClick:e.callback},e.name)})),Nb.createElement("div",null,n.map(function(e){return Nb.createElement("button",{key:zE(),className:"zlabel zlabel--".concat(e.type," zlabel--medium"),onClick:e.callback},e.name)}))):null},jx=function(e){var t=e.questionPerPage,n=Kb(),r=function(e){n(Fi({questions_per_page:e}))};return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,Nb.createElement("h5",null,ZPI18N.getString("zp.assessment.tab.setup.preferences.layout"))),Nb.createElement("div",null,Nb.createElement("div",{className:"zradiobutton"},Nb.createElement(Yw,{label:ZPI18N.getString("zp.assessment.tab.setup.preferences.layout.one"),id:zE(),callback:function(){return r(1)},isActive:1==t,className:"zradiobutton zradiobutton--horizontal"}),Nb.createElement(Yw,{label:ZPI18N.getString("zp.assessment.tab.setup.preferences.layout.all"),id:zE(),callback:function(){return r(0)},isActive:0==t,className:"zradiobutton zradiobutton--horizontal"}))))},Ax=Nb.forwardRef(function(e,t){var n=e.surveyData;return Nb.createElement("div",{className:"zpl_rgtcnt",ref:t,id:"behaviour"},Nb.createElement("div",{className:"zpl_crd"},Nb.createElement(BI,{title:ZPI18N.getString("zp.gtpreferences"),description:ZPI18N.getString("zp.survey.create.preferences.desc")}),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement(jx,{questionPerPage:n.questions_per_page}))))}),Rx="create-template",qx=function(e){var t=e.identity,n=Kb(),r=[{value:"anonymous",label:ZPI18N.getString("zp.survey.reveal_identity.anonymous")},{value:"optional",label:ZPI18N.getString("zp.survey.reveal_identity.optional")},{value:"mandatory",label:ZPI18N.getString("zp.survey.reveal_identity.mandatory")}];return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,Nb.createElement("h6",null,ZPI18N.getString("zp.employeeidentity.preferences"))),Nb.createElement("div",null,Nb.createElement(MS,{options:r,onChange:function(e){return t=e.value,void n(Fi({respondent_identity:t}));var t},value:r.filter(function(e){return e.value===t})[0]})))},Mx=function(e){var t=e.name,n=e.error,r=Kb(),a=(null==n?void 0:n.length)>0;return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,Nb.createElement("label",{className:"zpl_mtry"},ZPI18N.getString("zp.name"))),Nb.createElement("div",null,Nb.createElement("input",{type:"text",value:t,maxLength:100,onChange:function(e){var t;t=e.target.value,r(Fi({survey_name:t}))},className:"ztextbox ".concat(a?"ztextbox__error":"")})),a&&Nb.createElement("span",{className:"ztextbox--error__label"},n))},Zx=function(e){var t=e.description,n=Kb();return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,Nb.createElement("label",null,ZPI18N.getString("zp.description"))),Nb.createElement("div",null,Nb.createElement("textarea",{type:"text",rows:"4",defaultValue:t,maxLength:1e4,onChange:function(e){var t;t=e.target.value,n(Fi({description:t}))},className:"ztextbox"})))},Lx=function(e){var t=e.selectorTypes;return Nb.createElement("div",{className:"zpl_upld"},Nb.createElement("div",{className:"zpl_fldrp"},Nb.createElement("h5",null,(t||[]).map(function(e,t){return Nb.createElement(Nb.Fragment,null,t>0?" /":"",Nb.createElement("a",{className:"zpl_lnk",onClick:e.callback},e.iconClassName?Nb.createElement("i",{className:e.iconClassName}):null,e.label))}))),Nb.createElement("p",null,Nb.createElement("span",null,"Files supported: PDF, XLS, Image, MP4, MP3"),Nb.createElement("span",null,"Maximum size: 5MB")))},Fx=function(e){var t=e.className,n=e.children,r=document.body;return qE.createPortal(Nb.createElement("div",{className:t},n),r)},Bx=function(e){var t=e.imageClassName,n=e.isSelected,r=e.imgSrc,a=e.editCallback,o=e.selectCallback;return Nb.createElement("div",{className:"zpl_fldrp"},r?Nb.createElement("div",{className:"zpl_profcnt ".concat(n?"zpl_sel":""," edt"),onClick:a},Nb.createElement("img",{src:r,alt:""})):Nb.createElement("div",{className:"zpl_profcnt",onClick:o},Nb.createElement("div",{className:"".concat(n?"zpl_sel":""," ").concat(t)})))},Ux=function(e){e.browseCallback,e.browseImageSrc;var t=e.imageSelectHandler,n=e.imageId;return tt.length,Nb.createElement("div",{className:"zpl_mcnt zpl_fm"},Nb.createElement("form",null,Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_upld prof coverImg"},tt.map(function(e,r){var a=e.className,o=e.name;return Nb.createElement(Bx,{key:o,imageClassName:a,isSelected:Number(n)===r,selectCallback:function(){return t(r)}})}))))))))};function Hx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vx(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vx(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Yx=function(e){var t=e.setShowDefaultImages,n=e.validateAndUploadFile,r=e.fileInfo,a=e.coverImage,o=Kb(),i=(0,Nb.useRef)(null),l=Hx((0,Nb.useState)(null),2),c=l[0],u=l[1],s=Hx((0,Nb.useState)(null==r?void 0:r.previewURL),2),d=s[0],p=s[1],f=Hx((0,Nb.useState)(a.id),2),m=f[0],v=f[1],y=function(){t(!1)},g=[{name:ZPI18N.getString("zp.save"),callback:function(){c?(p(null),n(c)):o(Fi({cover_image:{id:m,is_default:!0}})),y()},type:"primary",disabled:!c},{name:ZPI18N.getString("zp.cancel"),callback:y,type:"outline"}];return Nb.createElement(Fx,{className:"zpl_mdl zpl_mcenter zpl_mopen"},Nb.createElement("div",{className:"zpl_minr"},Nb.createElement(eE,{name:ZPI18N.getString("zp.survey.coverimage"),cancelAction:y}),Nb.createElement(Ux,{browseCallback:function(){i.current.click()},browseImageSrc:d,imageSelectHandler:function(e){v(e)},imageId:m}),Nb.createElement(Dx,{leftActions:g})),Nb.createElement("input",{ref:i,type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0],n=null==t?void 0:t.type;if(Ge.includes(n)){if(t.size>Re)return void Toast({text:ZPI18N.getString("zp.assessment.warning.hotspot.imagesize"),duration:3e3}).showWarning();var r=new FileReader;r.onload=function(e){p(e.target.result),v(void 0)},r.readAsDataURL(t),u(t)}},style:{display:"none"}}))};function Wx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Gx=function(e){var t=e.fileInfo,n=e.setShowDefaultImages,r=e.coverImage,a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Wx(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wx(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(t||{}),2),o=a[0],i=a[1],l=r.id,c=r.is_default;return(0,Nb.useEffect)(function(){var e,n,r;i(c?{name:null===(e=tt[l])||void 0===e?void 0:e.name,previewURL:null===(n=tt[l])||void 0===n?void 0:n.url,is_default:!0,className:null===(r=tt[l])||void 0===r?void 0:r.className}:t||{})},[l]),Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_atchd"},Nb.createElement("div",{className:null!=o&&o.isError?"zpl_flerr":""},o.is_default?Nb.createElement("div",{className:"zpl_atchimg ".concat(o.className)}):Nb.createElement("div",{className:"zpl_atchimg"},o.dummyImg?null:Nb.createElement("img",{src:o.previewURL,alt:o.name})),Nb.createElement("div",{className:"zpl_atchdtl"},Nb.createElement("h4",null,o.name),Nb.createElement("p",null,(null==o?void 0:o.size)&&Nb.createElement("span",null,z(o.size)),null!=o&&o.isError?Nb.createElement("a",{className:"zpl_retry",onClick:function(){return n(!0)}},Nb.createElement("i",{className:"PI_refresh"}),ZPI18N.getString("zp.retry")):null)),Nb.createElement("div",{className:"zpl_atchicn"},null!=o&&o.isError?null:Nb.createElement("i",{className:"PI_edt",onClick:function(){return n(!0)}})))))};function $x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Qx=function(e){var t=e.fileInfo,n=e.coverImage,r=n.id,a=n.is_default,o=(0,Nb.useRef)(null),i=Kb(),l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $x(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(!1),2),c=l[0],u=l[1],s=function(e){var t=null==e?void 0:e.type;if(Ge.includes(t)){if(e.size>Re)return void B({text:ZPI18N.getString("zp.assessment.warning.hotspot.imagesize"),duration:3e3}).showWarning();var n=zE();Sb.setFileId(n,function(e){i(Fi({fileInfo:e.fileInfo,cover_image:{id:e.fileInfo.contentId,is_default:!1}}))}),d(e),Zm(e,n).catch(function(){d(e,!0)})}else B({text:ZPI18N.getString("zp.assessment.warning.hotspot.filetype"),duration:3e3}).showWarning()},d=function(e){var t={dummyImg:!0,isError:arguments.length>1&&void 0!==arguments[1]&&arguments[1],name:e.name,size:e.size};i(Fi({fileInfo:t}))},p=[{label:ZPI18N.getString("zp.survey.image.upload"),iconClassName:"PI_desktop",callback:function(){u(!0)}}];return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,Nb.createElement("h6",null,ZPI18N.getString("zp.survey.display.image"))),Object.keys(t||{}).length||a?Nb.createElement(Gx,{fileInfo:t,setShowDefaultImages:u,coverImage:n}):Nb.createElement(Lx,{selectorTypes:p}),c?Nb.createElement(Yx,{setShowDefaultImages:u,validateAndUploadFile:s,fileInfo:t,coverImage:n,coverImageId:r}):null,Nb.createElement("input",{ref:o,type:"file",accept:"image/*",onChange:function(e){return s(e.target.files[0])},style:{display:"none"}}))};function Xx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Kx(e){var t=e.viewType,n=e.surveyId,r=e.surveyMandatory,a=e.respondentIdentity,o=Kb(),i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xx(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xx(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(!n),2),l=i[0],c=i[1];return(t==Se||t==Ee||t==Ie)&&Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(uw,{isActive:r,label:ZPI18N.getString("zp.survey.make.survey.mandatory"),onChange:function(){o(Fi({survey_mandatory:!r})),l?(o(Fi({respondent_identity:Ot})),c(!1)):o(Fi({respondent_identity:a}))}}),r&&Nb.createElement(EC,{message:ZPI18N.getString("zp.survey.mandatory.note")}))}function Jx(e){return Jx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jx(e)}function ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ek(Object(n),!0).forEach(function(t){nk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nk(e,t,n){return(t=function(e){var t=function(e){if("object"!=Jx(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Jx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Jx(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ak=function(e){var t=e.surveyData,n=(e.viewType,t.metric_type),r=t.questions,a=t.metric_groups,o=Kb(),i=function(e){return function(){!function(e){var t=!0;return e===gn&&(r||[]).forEach(function(e){e.metric_id||(t=!1)}),t}(e)?B({text:ZPI18N.getString("zp.survey.metricgroup.conversion.error"),duration:3e3}).showWarning():l(e)}},l=function(e){if(e===gn){var t=new Set,n=[],i=1,l=(r||[]).reduce(function(e,r){return t.has(r.metric_id)||(t.add(r.metric_id),n.push({metric_id:r.metric_id,metric_name:r.metric_name,questions:[],sequence:i++})),e[r.metric_id]=[].concat(function(e){if(Array.isArray(e))return rk(e)}(a=e[r.metric_id]||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return rk(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rk(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[r]),e;var a},{});n.forEach(function(e){e.questions=l[e.metric_id].map(function(t){return tk(tk({},t),{},{metric_id:e.metric_id,metric_name:e.metric_name})})}),o(Fi({metric_type:e,metric_groups:n,metric_id:null,questions:[]}))}else e!==yn&&e!==vn||(null!=a&&a.length?o(Fi({metric_type:e,questions:(a||[]).flatMap(function(e){return(e.questions||[]).map(function(t){return tk(tk({},t),{},{metric_id:e.metric_id,metric_name:e.metric_name})})}),metric_groups:null,metric_id:null})):o(Fi({metric_type:e,metric_id:null})))};return Nb.createElement("div",{className:"zpl_secn",id:"survey-question-flow"},Nb.createElement("div",null,Nb.createElement("h6",null,ZPI18N.getString("zp.survey.flow"))),Nb.createElement("div",null,Nb.createElement("div",{className:"radiodectxt zpl_secn"},Nb.createElement(Yw,{className:"zradiobutton",id:"survey-question-flow-single",label:ZPI18N.getString("zp.survey.metrictype.single"),isActive:n===vn,callback:i(vn)}),Nb.createElement("span",{className:"dectxt"},ZPI18N.getString("zp.survey.metrictype.single.desc"))),Nb.createElement("div",{className:"radiodectxt zpl_secn"},Nb.createElement(Yw,{className:"zradiobutton",id:"survey-question-flow-multiple",label:ZPI18N.getString("zp.survey.metrictype.questionlevel"),isActive:n===yn,callback:i(yn)}),Nb.createElement("span",{className:"dectxt"},ZPI18N.getString("zp.survey.metrictype.questionlevel.desc"))),Nb.createElement("div",{className:"radiodectxt zpl_secn"},Nb.createElement(Yw,{className:"zradiobutton",id:"survey-question-flow-group",label:ZPI18N.getString("zp.survey.metrictype.group"),isActive:n===gn,callback:i(gn)}),Nb.createElement("span",{className:"dectxt"},ZPI18N.getString("zp.survey.metrictype.group.desc")))))};function ok(e){return ok="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ok(e)}function ik(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ik(Object(n),!0).forEach(function(t){ck(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ck(e,t,n){return(t=function(e){var t=function(e){if("object"!=ok(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ok(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ok(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uk=Nb.forwardRef(function(e,t){var n=e.id,r=e.surveyData,a=e.viewType,o=e.errorData,i=Kb(),l=Nb.useMemo(function(){return r.type===Ee||r.type===Ie},[r.type]),c=Nb.useMemo(function(){return l&&r.metric_type===vn},[r.metric_type,l]);return Nb.createElement("div",{className:"zpl_rgtcnt",ref:t,id:n},Nb.createElement("div",{className:"zpl_crd"},Nb.createElement(BI,{title:ZPI18N.getString("zp.Details"),description:ZPI18N.getString("zp.survey.create.details.desc",[ZPI18N.getString(a==Rx?"zp.templatesmall":"zp.local.surveysmall")])}),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement(Mx,{name:r.survey_name,error:null==o?void 0:o.survey_name}),Nb.createElement(Zx,{description:r.description}),Nb.createElement(Kx,{viewType:a,surveyId:r.survey_id,surveyMandatory:r.survey_mandatory,respondentIdentity:r.respondent_identity}),l&&Nb.createElement(ak,{viewType:a,surveyData:r}),c&&Nb.createElement(ZS,{surveyData:r,metricId:r.metric_id,updateMetric:function(e){var t=e.value,n=r.metric_groups,a=r.questions;r.metric_type===vn&&(null!=n&&n.length?i(Fi({questions:n.flatMap(function(e){return(e.questions||[]).map(function(e){return lk(lk({},e),{},{metric_id:r.metric_id})})})})):i(Fi({questions:(a||[]).map(function(n){return lk(lk({},n),{},{metric_id:t,metric_name:e.label})})}))),i(Fi({metric_id:t,metric_name:e.label}))},error:o.metric_id,isMandatory:!0}),a!=Rx&&Nb.createElement(qx,{identity:r.respondent_identity,surveyMandatory:r.survey_mandatory}),Nb.createElement(Qx,{fileInfo:r.fileInfo,coverImage:r.cover_image}))))}),sk=uk;function dk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var pk=function(){var e=Mb(function(e){return e.createSurvey}),t=Mb(function(e){return e.modalBox}).viewType,n=Mb(function(e){return e.surveyCommon}).metrics,r=e.surveyData,a=e.errorData,o=e.fetchInitialData,i=Kb(),l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return dk(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dk(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(!1),2),c=l[0],u=l[1];return Nb.useEffect(function(){0===(n.active||[]).length&&(u(!0),i(op()).then(function(){u(!1)}))},[r.metric_type]),Nb.createElement("div",{className:"zpl_act"},Nb.createElement("div",{className:"zpl_iwrpr"},Nb.createElement("div",{className:"zpl_iwrprrgt DBI"},Nb.createElement("div",{className:"zpl_act"},o||c?Nb.createElement(aE,null):Nb.createElement(Nb.Fragment,null,Nb.createElement(sk,{surveyData:r,viewType:t,errorData:a,id:"basic-requirement"}),Nb.createElement(Ax,{surveyData:r}))))))},fk=function(e){var t=e.sections,n=e.activeSection,r=e.setActiveSection,a=e.isScriptScrolling,o=e.navClickHandler;return Nb.createElement("div",{className:"zpl_iwrprlft zpl_lineTabs"},Nb.createElement("ul",null,t.map(function(e,t){return Nb.createElement("li",{key:e.id,className:n===e.label?"zpl_act":"",onClick:function(){return function(e){var t;r(e.label),"function"==typeof o&&o(e.id),a&&(a.current=!0),(null===(t=e.ref)||void 0===t?void 0:t.current)&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,r){e instanceof Element||r(new TypeError("First Argument must be a DOM Element"));var a=0,o=null,i=h(h({},{behavior:"smooth"}),t);e.scrollIntoView(i),requestAnimationFrame(function t(){var r=e.getBoundingClientRect().top;r===o?++a>2&&n():(a=0,o=r),requestAnimationFrame(t)})})}(e.ref.current).then(function(){a&&(a.current=!1)})}(e)}},Nb.createElement("a",null,e.label))})))};function mk(e){return mk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mk(e)}function vk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yk(e,t,n){return(t=function(e){var t=function(e){if("object"!=mk(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=mk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==mk(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gk=function(e){var t=e.message,n=e.parentId,r=e.currentId,a=e.editorClickCallBack,o=e.afterEditorLoadCallback,i=e.editorChangeCallback,l=e.resetEditor,c=e.isEditView,u=e.isAlwaysEdit,s=e.height,d=void 0===s?250:s,p=e.readOnly,f=void 0!==p&&p,m=e.placeholder,v=e.focusOutCallback;return(0,Nb.useEffect)(function(){(function(e,t,n){document.getElementById(t).innerHTML="";var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vk(Object(n),!0).forEach(function(t){yk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({currentContainer:$("[id=".concat(e,"]")),editorheight:150,isMiniEditor:!0,isMentionsEnabled:!1},n);ZPFeeds.Editor.getEditor(t,"Assessment",r).toolbardiv.classList.add("DNI")})(n,r,{editorheight:d,afterEditorLoadCallback:o,placeholder:m}),window.i=-1;var e=ZPFeeds.Editor.editorList[r],l=ZPFeeds.Activity.validateRawContent(t,!1);e.setContent(DOMPurify.sanitize(l,{SAFE_FOR_JQUERY:!0})),$(e.iframe).off("load").on("load",function(){var t=e.iframe,n=t.contentDocument||t.contentWindow.document;n.body.contentEditable=!!u,!f&&$(n).off("click").on("click",function(t){"false"===n.body.contentEditable&&(n.body.contentEditable=!0,"function"==typeof a&&a(e))}),new MutationObserver(function(){"function"==typeof i&&i()}).observe(n.body,{subtree:!0,childList:!0,characterData:!0}),"function"==typeof o&&o(),$(n).focusout(function(){"function"==typeof v&&v()})})},[t]),(0,Nb.useEffect)(function(){if(l){var e=ZPFeeds.Editor.editorList[r],n=ZPFeeds.Activity.validateRawContent(t,!1);e.setContent(DOMPurify.sanitize(n,{SAFE_FOR_JQUERY:!0}))}},[l]),(0,Nb.useEffect)(function(){var e=ZPFeeds.Editor.editorList[r],t=e.iframe,n=t.contentDocument||t.contentWindow.document;!f&&n.body&&(n.body.contentEditable=c,c?e.toolbardiv.classList.remove("DNI"):e.toolbardiv.classList.add("DNI"))},[c,t]),Nb.createElement("div",{className:"feedCompsr_area",id:n},Nb.createElement("div",{className:"feedCompsr_cont",id:r}))},hk=function(e){var t=e.title,n=e.children;return Nb.createElement("div",{className:"zpl_crdhdr"},Nb.createElement("div",null,Nb.createElement("h4",null,t)),n)};function bk(e){return bk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bk(e)}function _k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ek(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_k(Object(n),!0).forEach(function(t){Sk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Sk(e,t,n){return(t=function(e){var t=function(e){if("object"!=bk(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=bk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==bk(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Nk=Nb.forwardRef(function(e,t){var n=e.id,r=e.title,a=e.message,o=e.parentId,i=e.currentId,l=e.surveyId,c=e.type,u=(e.surveyData,e.readOnly),s=e.placeholder,d=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wk(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wk(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)({isSaving:!1,isEditView:!1,resetEditor:!1,hasChanges:!1}),2),p=d[0],f=d[1],m=Kb(),v=a,y=function(){!u&&f(function(e){return Ek(Ek({},e),{},{resetEditor:!1,isEditView:!0,hasChanges:!1})})};return Nb.createElement("div",{className:"zpl_rgtcnt",ref:t,id:n},Nb.createElement("div",{className:"zpl_crd"},Nb.createElement(hk,{title:r||ZPI18N.getString("zp.assessment.welcome_msg")},p.isEditView&&Nb.createElement("div",null,Nb.createElement(tE,{name:ZPI18N.getString("zp.cancel"),cancelAction:function(){f(function(e){return Ek(Ek({},e),{},{isEditView:!1,resetEditor:!0})})},disabled:p.isSaving}),Nb.createElement(nE,{name:ZPI18N.getString("zp.save"),submitAction:function(){var e=ZPFeeds.Editor.editorList[i],t=null==e?void 0:e.getContent(),n=ZPFeeds.getSmileysAndMentions(t,!1);if(p.hasChanges){if(f(function(e){return Ek(Ek({},e),{},{isSaving:!0})}),[Po.CREATE_TEMPLATE].includes(c))m(Fi({instruction:n})),f(function(e){return Ek(Ek({},e),{},{isSaving:!1,isEditView:!1})});else if([Po.EXTEND_INTERVIEW_CREATION,Po.OFFBOARDING_FEEDBACK].includes(c))m(Fi({instruction:n})),f(function(e){return Ek(Ek({},e),{},{isSaving:!1,isEditView:!1})});else{var r={surveyData:JSON.stringify({instruction:n})};m(Jo({surveyId:l,payload:r})).then(function(e){var t;"fulfilled"===e.meta.requestStatus?(B({text:ZPI18N.getString("zp.lms.settings.SavedSuccess"),duration:3e3}).showSuccess(),f(function(e){return Ek(Ek({},e),{},{isSaving:!1,isEditView:!1})})):(B({text:(null==e||null===(t=e.payload)||void 0===t?void 0:t.message)||ZPI18N.getString("zp.unabletoprocess"),duration:3e3}).showError(),f(function(e){return Ek(Ek({},e),{},{isSaving:!1})}))})}OO()}},isSaving:p.isSaving,disabled:!p.hasChanges}))),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zp-fd-compose edtr_rply"},Nb.createElement("div",{className:"zp-fd-composeCont"},Nb.createElement("div",{className:"zpl_feedCompsr zpl_edtrply",onClick:u?void 0:y,style:{overflow:"hidden",height:"250px"}},Nb.createElement(gk,{message:v,parentId:o,editorChangeCallback:u?void 0:function(){f(function(e){return Ek(Ek({},e),{},{hasChanges:!0})})},isEditView:p.isEditView,currentId:i,editorClickCallBack:u?void 0:y,resetEditor:p.resetEditor,afterEditorLoadCallback:function(){var e;null===(e=document.getElementById("questions"))||void 0===e||e.scrollIntoView({behavior:"smooth"})},readOnly:u,placeholder:s}))))))))});function Pk(e){return Pk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pk(e)}function Ok(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ik(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ok(Object(n),!0).forEach(function(t){zk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zk(e,t,n){return(t=function(e){var t=function(e){if("object"!=Pk(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Pk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Pk(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ck(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Tk=Nb.forwardRef(function(e,t){var n=e.id,r=e.title,a=e.message,o=e.parentId,i=e.currentId,l=e.surveyId,c=e.type,u=(e.surveyData,e.readOnly),s=e.placeholder,d=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ck(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ck(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)({isSaving:!1,isEditView:!1,resetEditor:!1,hasChanges:!1}),2),p=d[0],f=d[1],m=Kb(),v=a;return Nb.createElement("div",{className:"zpl_rgtcnt",ref:t,id:n},Nb.createElement("div",{className:"zpl_crd"},Nb.createElement(hk,{title:r||ZPI18N.getString("zp.survey.post_feedback_message")},p.isEditView&&Nb.createElement("div",null,Nb.createElement(tE,{name:ZPI18N.getString("zp.cancel"),cancelAction:function(){f(function(e){return Ik(Ik({},e),{},{isEditView:!1,resetEditor:!0})})},disabled:p.isSaving}),Nb.createElement(nE,{name:ZPI18N.getString("zp.save"),submitAction:function(){var e=ZPFeeds.Editor.editorList[i],t=null==e?void 0:e.getContent(),n=ZPFeeds.getSmileysAndMentions(t,!1);if(p.hasChanges){if(f(function(e){return Ik(Ik({},e),{},{isSaving:!0})}),[Po.CREATE_TEMPLATE,Po.EXTEND_INTERVIEW_CREATION,Po.OFFBOARDING_FEEDBACK].includes(c))m(Fi({thankyou_message:n})),f(function(e){return Ik(Ik({},e),{},{isSaving:!1,isEditView:!1})});else{var r={surveyData:JSON.stringify({thankyou_message:n})};m(Jo({surveyId:l,payload:r})).then(function(e){var t;"fulfilled"===e.meta.requestStatus?(B({text:ZPI18N.getString("zp.lms.settings.SavedSuccess"),duration:3e3}).showSuccess(),f(function(e){return Ik(Ik({},e),{},{isSaving:!1,isEditView:!1})})):(B({text:(null==e||null===(t=e.payload)||void 0===t?void 0:t.message)||ZPI18N.getString("zp.unabletoprocess"),duration:3e3}).showError(),f(function(e){return Ik(Ik({},e),{},{isSaving:!1})}))})}OO()}},isSaving:p.isSaving,disabled:!p.hasChanges}))),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zp-fd-compose edtr_rply"},Nb.createElement("div",{className:"zp-fd-composeCont"},Nb.createElement("div",{className:"zpl_feedCompsr zpl_edtrply"},Nb.createElement(gk,{message:v,parentId:o,currentId:i,isEditView:p.isEditView,height:150,editorChangeCallback:u?void 0:function(){f(function(e){return Ik(Ik({},e),{},{hasChanges:!0})})},editorClickCallBack:u?void 0:function(e){!u&&f(function(e){return Ik(Ik({},e),{},{resetEditor:!1,isEditView:!0,hasChanges:!1})})},resetEditor:p.resetEditor,afterEditorLoadCallback:function(){var e;null===(e=document.getElementById("questions"))||void 0===e||e.scrollIntoView({behavior:"smooth"})},readOnly:u,placeholder:s}))))))))});function xk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var kk=function(e){var t=e.viewType,n=e.addQuestionOnClick,r=Kb(),a=(0,Nb.useRef)(null),o=(0,Nb.useRef)(null),i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xk(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xk(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(!1),2),l=i[0],c=i[1],u=[{value:"pickfromqpool",label:t===fw.CUSTOM_FEEDBACK?ZPI18N.getString("zp.survey.pick.from.existing.question"):ZPI18N.getString("zp.survey.pickfromqpool"),callback:function(){r(hs({render:!0,viewType:t}))}}];return Nb.createElement("div",{ref:a,className:"zpl_rgt"},Nb.createElement("div",{className:"zbutton--split zbutton--splitprimary",ref:o},Nb.createElement("button",{className:"zbutton zbutton--medium zbutton--primary zbutton--action",type:"button",onClick:function(){return n()}},Nb.createElement("span",{className:"zbutton__text"},ZPI18N.getString("zp.assessment.addquestions"))),Nb.createElement("button",{className:"zbutton zbutton--menu zbutton--medium zbutton--primary",type:"button",onClick:function(){c(!l)}},Nb.createElement("i",{className:"zbutton__icon zh-floatright"},Nb.createElement("svg",{className:"zbutton__svg zbutton__menuarrow",focusable:"false"},Nb.createElement("use",{xlinkHref:"#zc__svg--downarrow"}))))),l?Nb.createElement(FO,{anchorEleRef:o.current,options:u,open:l,setIsOpen:c,useOffsetLeft:!1}):null)},Dk=function(){return Nb.createElement(Nb.Fragment,null,Nb.createElement("h4",null,ZPI18N.getString("zp.assessment.questions.notfound")),Nb.createElement("p",null,ZPI18N.getString("zp.assessment.search.adjust")))},jk=function(e){var t=e.noQuestionName,n=e.noQuestionDesc;return Nb.createElement(Nb.Fragment,null,Nb.createElement("h4",null,t||ZPI18N.getString("zp.assessment.questionlist.empty")),Nb.createElement("p",null,n||ZPI18N.getString("zp.assessment.questionlist.empty.desc")))},Ak=function(e){var t=e.isSearchView,n=e.noQuestionName,r=e.noQuestionDesc,a=t?"zp_nd_record":"zp_nd_template";return Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_Emptydata"},Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_emptimg ".concat(a)}),t?Nb.createElement(Dk,null):Nb.createElement(jk,{noQuestionName:n,noQuestionDesc:r})))))},Rk=o(5901),qk=function(e){var t=e.headerName,n=e.infomessage,r=e.saveBtnName,a=void 0===r?ZPI18N.getString("zp.save"):r,o=e.cancelBtnName,i=void 0===o?ZPI18N.getString("zp.cancel"):o,l=e.saveClickHandler,c=e.closeClickHandler,u=e.cancelClickHandler,s=e.container,d=e.children;return qE.createPortal(Nb.createElement("div",{className:"zpl_mdl zpl_mopen zpl_malrtmsg"},Nb.createElement("div",{className:"zpl_minr"},Nb.createElement("div",{className:"zpl_mhder"},Nb.createElement("div",null,Nb.createElement("h4",null)),Nb.createElement("a",{className:"_cls PI_cls",onClick:c})),Nb.createElement("div",{className:"zpl_mcnt"},Nb.createElement("div",{className:"alert_contain"},Nb.createElement("i",{className:"ico info"}),Nb.createElement("div",{className:"cont"},Nb.createElement("h3",null,t),Nb.createElement("p",null,n),d))),Nb.createElement("div",{className:"zpl_mfoter"},Nb.createElement("button",{type:"button",className:"zlabel zlabel--yellow zlabel--medium MR10",onClick:l},a),Nb.createElement("button",{type:"button",className:"zlabel zlabel--outline zlabel--medium",onClick:u},i)))),s)};function Mk(e){return Mk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mk(e)}var Zk=["chosen","selected"];function Lk(){return Lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lk.apply(null,arguments)}function Fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fk(Object(n),!0).forEach(function(t){Uk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Uk(e,t,n){return(t=function(e){var t=function(e){if("object"!=Mk(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Mk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Mk(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hk(e){return function(e){if(Array.isArray(e))return Wk(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Yk(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Yk(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yk(e,t){if(e){if("string"==typeof e)return Wk(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wk(e,t):void 0}}function Wk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Gk=function(t){var n=t.surveyData,r=t.questions,a=void 0===r?[]:r,o=t.isRenderBasedOnSearch,i=void 0!==o&&o,l=t.viewType,c=t.courseId,u=t.addQuestionOnClick,s=n.survey_id,d=Mb(Mi),p=Vk((0,Nb.useState)(!0),2),f=p[0],m=p[1],v=Vk((0,Nb.useState)(!1),2),g=v[0],h=v[1],b=Vk((0,Nb.useState)(),2),_=b[0],E=b[1],S=Vk((0,Nb.useState)({}),2),w=S[0],N=S[1],P=Kb(),O=(0,Nb.useCallback)(function(t){if(![Po.CREATE_TEMPLATE,Po.OFFBOARDING_FEEDBACK,Po.EXTEND_INTERVIEW_CREATION].includes(l)&&t.oldIndex!==t.newIndex&&(Po.CUSTOM_FEEDBACK!==l||![0,1].includes(t.oldIndex)&&![0,1].includes(t.newIndex))){var n=t.item.getAttribute("data-id");P(oi({surveyId:s,questionId:n,pos:t.newIndex,courseId:c})).then(function(t){"fulfilled"===t.meta.requestStatus?B({text:ZPI18N.getString("zp.assessment.questions.order.update.success"),duration:3e3}).showSuccess():"rejected"===t.meta.requestStatus&&(B({text:ZPI18N.getString("zp.assessment.questions.order.update.failure"),duration:3e3}).showError(),e.target.blur()),m(!0)})}},[s,l]),I=function(e){l==Po.CUSTOM_FEEDBACK?function(){if(l==Po.CUSTOM_FEEDBACK)return XN(e.question_id,"question_response")}().then(function(t){t?B({text:ZPI18N.getString("zp.engagement.question.edit.mapped"),duration:3e3}).showError():z(e)}):z(e)},z=function(e){P(Ru({render:!0,viewType:l===Po.CREATE_TEMPLATE?fw.TEMPLATE:[Po.OFFBOARDING_FEEDBACK].includes(l)?fw.OFFBOARDING_FEEDBACK:[Po.EXTEND_INTERVIEW_CREATION].includes(l)?fw.EXTEND_INTERVIEW_CREATION:fw.MODULE,mode:"edit",header:ZPI18N.getString("zp.assessment.common.editquestion"),actions:{submitButton:ZPI18N.getString("zp.save"),cancelButton:ZPI18N.getString("zp.cancel")},data:Uk(Uk({},e.type,rw(e)),"type",e.type),disableCardActions:!1,dbHash:""}))},C=function(e){if([Po.CREATE_TEMPLATE,Po.OFFBOARDING_FEEDBACK,Po.EXTEND_INTERVIEW_CREATION].includes(l)){if([Po.OFFBOARDING_FEEDBACK].includes(l)&&n.survey_id>0&&1==d)return void B({text:ZPI18N.getString("zp.survey.interview.question.remove.notpermitted"),duration:1e4}).showError();P(Wi(e.question_id)),OO()}else if([Po.ENGAGEMENT,Po.PULSE].includes(l))P(ri({surveyId:n.survey_id,questionId:e.question_id})).then(function(e){if("fulfilled"===e.meta.requestStatus)P(dd(Bk(Bk({},n),{},{question_count:d-1})));else if("rejected"===e.meta.requestStatus){var t;B({text:(null==e||null===(t=e.payload)||void 0===t||null===(t=t.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||ZPI18N.getString("zp.unabletoprocess"),duration:1e4}).showError()}});else if(Po.CUSTOM_FEEDBACK===l){if(1===d)return void B({text:ZPI18N.getString("zp.survey.interview.question.remove.notpermitted"),duration:1e4}).showError();n.survey_id?P(ri({surveyId:n.survey_id,questionId:e.question_id})).then(function(e){if("fulfilled"===e.meta.requestStatus)P(dd(Bk(Bk({},n),{},{question_count:d-1})));else if("rejected"===e.meta.requestStatus){var t;B({text:(null==e||null===(t=e.payload)||void 0===t||null===(t=t.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||ZPI18N.getString("zp.unabletoprocess"),duration:1e4}).showError()}}):P(Wi(e.question_id))}},T=function(e){var t=!1,r=!1;if((a||[]).map(function(n){n.is_avgrating&&n.question_id!=e.question_id&&(t=!0),n.question_id==e.question_id&&(r=!n.is_avgrating)}),t)h(!0),E(e.question_id);else if(n.survey_id){var o={mode:"avgrating_update",questionData:JSON.stringify({question_id:e.question_id,is_rating:r})},i=new URLSearchParams(o),l="zpsurvey/surveys/".concat(n.survey_id);y.patch(l,i,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}}).then(function(t){200===t.status&&(h(!1),P($i({questionId:e.question_id})))})}else P($i({questionId:e.question_id}))},x=function(){h(!1)},k=function(e){return[{value:"mandatory",label:e.ismandatory?ZPI18N.getString("zp.unmark.mandatory"):ZPI18N.getString("zp.lms.markasmand"),callback:function(){return function(e){[Po.CREATE_TEMPLATE,Po.OFFBOARDING_FEEDBACK,Po.EXTEND_INTERVIEW_CREATION].includes(l)?(P(Gi({questionId:e.question_id,isMandatory:!e.ismandatory})),OO()):[Po.ENGAGEMENT,Po.PULSE].includes(l)?P(ai({surveyId:n.survey_id,questionId:e.question_id,isMandatory:!e.ismandatory,viewtype:l})):Po.CUSTOM_FEEDBACK===l&&(n.survey_id?P(ai({surveyId:n.survey_id,questionId:e.question_id,isMandatory:!e.ismandatory,viewtype:l,courseId:n.related_to[0].related_recordid})):P(Gi({questionId:e.question_id,isMandatory:!e.ismandatory})))}(e)}}]},D=function(){P(hs({render:!0,viewType:l,insertAt:w.insert_at}))},j=Nb.useMemo(function(){var e=Uk(Uk({},Ie,Q),Ee,G)[n.type]||0;if(d>=e)return[];var t=[Jn.TWO_POINT_SCALE.TYPE,Jn.NPS.TYPE,Jn.STAR.TYPE,Jn.RATING_SCALE.TYPE],r=Object.keys(Jn).map(function(e){if(n.type!==Ie||t.includes(Jn[e].TYPE))return{value:Jn[e],label:Jn[e].DISPLAY_NAME,iconClass:Jn[e].ICON,callback:function(){u(Jn[e].TYPE,w.insert_at)}}}).filter(Boolean),a=[{separtor:!0},{value:"addQuestionBank",label:ZPI18N.getString("zp.survey.pickfromqpool"),iconClass:"PI_file_upload",callback:D}];return[].concat(Hk(r),a)},[w,d]),A=Nb.useMemo(function(){return structuredClone(a)},[a]);return Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"secViewAsmnt DBI"},Nb.createElement("div",{className:"zpl_qacrd zpl_qalst-js zpl_qaplr0 zpl_qalstMadd"},Nb.createElement(Rk.ReactSortable,Lk({setList:function(e){if(JSON.stringify(a)!==JSON.stringify(e)&&!i){var t=e.map(function(e){e.chosen,e.selected;var t=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Zk);return t});if(Po.CUSTOM_FEEDBACK===l){var r=[a[0].question_id,a[1].question_id];t=[a[0],a[1]].concat(Hk(t.filter(function(e){return!r.includes(e.question_id)})))}if(t=t.map(function(e,t){return Bk(Bk({},e),{},{question_order:t+1})}),P(Fi({questions:t,question_count:t.length})),[Po.OFFBOARDING_FEEDBACK].includes(l)){var o=Bk(Bk({},n),{},{questions:t,question_count:(t||[]).length});bo(n)!=bo(o)&&OO()}}},list:A},{handle:".PI_drag",ghostClass:"ghost"},{onEnd:O}),a.map(function(e,t){return Nb.createElement("div",{className:"zpl_qalst",key:null==e?void 0:e.question_id},Nb.createElement(wI,{index:t,key:null==e?void 0:e.question_id,editCallback:Po.CUSTOM_FEEDBACK===l&&e.is_default?void 0:I,deleteCallback:C,avgRatingCallback:T,moreOption:k,isSurveyDashboard:!0,surveyData:n,surveyQuestion:e,questionCount:a.length,showDrag:!i&&f,setShowDrag:m,isRenderBasedOnSearch:i,viewType:l,questions:a,midListOptions:j,setInsertionData:N}))})),Po.CUSTOM_FEEDBACK===l&&g?Nb.createElement(qk,{headerName:ZPI18N.getString("zp.feedback.changeto.averagerating.ques.confirm.msg"),infomessage:ZPI18N.getString("zp.feedback.averagerating.popup.content"),saveClickHandler:function(){n.survey_id?function(e,t){var r={mode:"avgrating_update",questionData:JSON.stringify({question_id:t,is_rating:e})},a=new URLSearchParams(r),o="zpsurvey/surveys/".concat(n.survey_id);y.patch(o,a,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}}).then(function(e){200===e.status&&(h(!1),P($i({questionId:t})))})}(!0,_):(P($i({questionId:_})),h(!1))},cancelClickHandler:x,closeClickHandler:x,saveBtnName:ZPI18N.getString("zp.confirm"),container:document.getElementById("custom-feedback")}):null))))},$k=function(e){var t=e.onSearchCallback,n=e.clearOnSearchCallback,r=(0,Nb.useRef)(null);return(0,Nb.useEffect)(function(){r.current.focus()},[]),Nb.createElement("div",{className:"search-cmn wd100_per opn"},Nb.createElement("i",{className:"PI_lens"}),Nb.createElement("input",{type:"text",className:"ztextbox",onChange:t,placeholder:ZPI18N.getString("zp.assessment.searchquestions"),ref:r}),Nb.createElement("i",{className:"PI_cls",onClick:n}))},Qk=function(e){var t=e.totalQuestion,n=e.metricCount;return Nb.createElement("div",null,Nb.createElement("div",{className:"d-flexC j-cnt-btwen"},Nb.createElement("div",{className:"zpl_idiv"},Nb.createElement("div",null,Nb.createElement("em",null,ZPI18N.getString("zp.assessment.totalquestions")),Nb.createElement("span",null,": "),Nb.createElement("b",null,t||0)),-1!=n&&Nb.createElement(Nb.Fragment,null,Nb.createElement("span",null,"|"),Nb.createElement("div",null,Nb.createElement("em",null,ZPI18N.getString("zp.survey.metrics.used")),Nb.createElement("span",null,": "),Nb.createElement("b",null,n||0))))))},Xk=function(e){var t=e.displaySearch,n=e.onSearchHandler,r=e.clearSearchHandler,a=e.isLoading,o=e.totalQuestions,i=e.metricCount,l=void 0===i?0:i,c=e.children;return Nb.createElement("div",{className:"zpl_mnuFxd"},Nb.createElement("div",{className:"zpl_btnmnu P0I"},t&&Nb.createElement($k,{onSearchCallback:n,clearOnSearchCallback:r}),!a&&Nb.createElement(Qk,{totalQuestion:o,metricCount:l}),c))};function Kk(e){return Kk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kk(e)}function Jk(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return eD(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(eD(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,eD(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,eD(d,"constructor",u),eD(u,"constructor",c),c.displayName="GeneratorFunction",eD(u,a,"GeneratorFunction"),eD(d),eD(d,a,"Generator"),eD(d,r,function(){return this}),eD(d,"toString",function(){return"[object Generator]"}),(Jk=function(){return{w:o,m:p}})()}function eD(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}eD=function(e,t,n,r){function o(t,n){eD(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},eD(e,t,n,r)}function tD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tD(Object(n),!0).forEach(function(t){rD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rD(e,t,n){return(t=function(e){var t=function(e){if("object"!=Kk(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Kk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Kk(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aD(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function oD(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){aD(o,r,a,i,l,"next",e)}function l(e){aD(o,r,a,i,l,"throw",e)}i(void 0)})}}function iD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lD(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lD(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var cD=function(e){var t,n=e.viewType,r=e.metricGroup,a=e.surveyData,o=e.addQuestionHandler,i=e.openQuestionBankHandler,l=(null===(t=r.questions)||void 0===t?void 0:t.length)||0,c=Mb(Mi),u=Kb(),s=Nb.useRef(),d=Nb.useRef(),p=iD(Nb.useState(!1),2),f=p[0],m=p[1],v=iD(Nb.useState(!1),2),y=v[0],g=v[1],h=function(){var e=oD(Jk().m(function e(){var t;return Jk().w(function(e){for(;;)switch(e.n){case 0:return t=new Ry(ZPI18N.getString("zp.survey.metric.delete"),ZPI18N.getString("zp.survey.metric.delete.msg"),ZPI18N.getString("zp.confirm"),ZPI18N.getString("zp.cancel"),"red"),e.n=1,t.confirmation();case 1:if(e.v){e.n=2;break}return e.a(2);case 2:n===Po.CREATE_TEMPLATE?u(Fi({metric_groups:a.metric_groups.filter(function(e){return e.metric_id!==r.metric_id}),question_count:c-l})):n!==Po.ENGAGEMENT&&n!==Po.PULSE||u(yi({surveyId:a.survey_id,metricId:r.metric_id})).then(function(e){if("rejected"===e.meta.requestStatus){var t=e.payload.response.data,n=null!=t&&t.message?t.message:ZPI18N.getString("zp.unabletoprocess");B({text:n,duration:3e3}).showError()}else u(dd(nD(nD({},a),{},{question_count:c-l})))});case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),b=Nb.useMemo(function(){return[{value:"delete",label:ZPI18N.getString("zp.delete"),className:"red",iconClass:"PI_delete",callback:(e=oD(Jk().m(function e(){return Jk().w(function(e){for(;;)switch(e.n){case 0:h();case 1:return e.a(2)}},e)})),function(){return e.apply(this,arguments)})}];var e},[h]),_=Nb.useMemo(function(){return[{value:"addQuestion",label:ZPI18N.getString("zp.createquestion"),callback:o,iconClass:"PI_plus_sqr"},{value:"pickFromQBank",label:ZPI18N.getString("zp.survey.pickfromqpool"),callback:i,iconClass:"PI_file_upload"}]},[o,i]);return Nb.createElement("div",{className:"zpl_mnuFxd mnuFxdWH zpl_brs2 zpl_pt4 zpl_pb4"},Nb.createElement("div",{className:"zpl_btnmnu P0I"},Nb.createElement("div",{className:"search-cmn wd100_per"},Nb.createElement("i",{className:"PI_lens"}),Nb.createElement("i",{className:"PI_cls"})),Nb.createElement("div",{className:"zpl_flex-none zpl_flexcolumnaligngap2 zpl_items-start"},Nb.createElement("div",{className:"zpl_flex-a-c"},Nb.createElement("h6",null,r.metric_name)),Nb.createElement("div",{className:"d-flexC j-cnt-btwen"},Nb.createElement("div",{className:"zpl_idiv zpl_mdlAlgnr"},Nb.createElement("div",null,Nb.createElement("em",null,ZPI18N.getString("zp.questions")),Nb.createElement("span",null," : "),Nb.createElement("b",null,l||0))))),Nb.createElement("div",{className:"zpl_rgt"},Nb.createElement("i",{className:"zpl_ibg PI_plus",tabIndex:"0",ref:d,onClick:function(){g(function(e){return!e})}}),Nb.createElement("i",{className:"zpl_ibg PI_more zpl_drpdwn-js",tabIndex:"0",ref:s,onClick:function(){m(function(e){return!e})}}))),f&&Nb.createElement(FO,{anchorEleRef:s.current,setIsOpen:m,open:f,options:b}),y&&Nb.createElement(FO,{anchorEleRef:d.current,setIsOpen:g,open:y,options:_}))};function uD(e){return uD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uD(e)}var sD=["chosen","selected"];function dD(){return dD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dD.apply(null,arguments)}function pD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pD(Object(n),!0).forEach(function(t){mD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mD(e,t,n){return(t=function(e){var t=function(e){if("object"!=uD(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=uD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==uD(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vD(e){return function(e){if(Array.isArray(e))return hD(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gD(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||gD(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gD(e,t){if(e){if("string"==typeof e)return hD(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hD(e,t):void 0}}function hD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var bD=function(t){var n=t.metricGroup,r=t.surveyData,a=t.viewType,o=t.questionStartIndex,i=t.isRenderBasedOnSearch,l=void 0!==i&&i,c=n.questions,u=yD(Nb.useState(!0),2),s=u[0],d=u[1],p=yD(Nb.useState({}),2),f=p[0],m=p[1],v=Mb(Mi),y=Kb(),g=Nb.useCallback(function(t){var n=t.oldIndex,i=t.newIndex;if(![Po.CREATE_TEMPLATE].includes(a)&&n!==i&&!l){var c=t.item.getAttribute("data-id");y(oi({surveyId:r.survey_id,questionId:c,pos:i+o})).then(function(t){"fulfilled"===t.meta.requestStatus?B({text:ZPI18N.getString("zp.assessment.questions.order.update.success"),duration:3e3}).showSuccess():"rejected"===t.meta.requestStatus&&(B({text:ZPI18N.getString("zp.assessment.questions.order.update.failure"),duration:3e3}).showError(),e.target.blur()),d(!0)})}},[a,r,l]),h=function(e){!function(e){y(Ru({render:!0,viewType:a===Po.CREATE_TEMPLATE?fw.TEMPLATE:fw.MODULE,mode:"edit",header:ZPI18N.getString("zp.assessment.common.editquestion"),actions:{submitButton:ZPI18N.getString("zp.save"),cancelButton:ZPI18N.getString("zp.cancel")},data:mD(mD({},e.type,rw(e)),"type",e.type),disableCardActions:!1,dbHash:""}))}(e)},b=function(e){a===Po.CREATE_TEMPLATE?y(Wi(e.question_id)):a!==Po.ENGAGEMENT&&a!==Po.PULSE||y(ri({surveyId:r.survey_id,questionId:e.question_id,metricId:n.metric_id})).then(function(e){if("fulfilled"===e.meta.requestStatus)y(dd(fD(fD({},r),{},{question_count:v-1})));else if("rejected"===e.meta.requestStatus){var t;B({text:(null==e||null===(t=e.payload)||void 0===t||null===(t=t.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||ZPI18N.getString("zp.unabletoprocess"),duration:1e4}).showError()}})},_=function(e){return[{value:"mandatory",label:e.ismandatory?ZPI18N.getString("zp.unmark.mandatory"):ZPI18N.getString("zp.lms.markasmand"),callback:function(){return function(e){[Po.CREATE_TEMPLATE,Po.OFFBOARDING_FEEDBACK,Po.EXTEND_INTERVIEW_CREATION].includes(a)?(y(Gi({questionId:e.question_id,isMandatory:!e.ismandatory,metricId:n.metric_id})),OO()):[Po.ENGAGEMENT,Po.PULSE].includes(a)?y(ai({surveyId:r.survey_id,questionId:e.question_id,isMandatory:!e.ismandatory,viewtype:a,metricId:n.metric_id})):Po.CUSTOM_FEEDBACK===a&&(r.survey_id?y(ai({surveyId:r.survey_id,questionId:e.question_id,isMandatory:!e.ismandatory,viewtype:a,courseId:r.related_to[0].related_recordid,metricId:n.metric_id})):y(Gi({questionId:e.question_id,isMandatory:!e.ismandatory,metricId:n.metric_id})))}(e)}}]},E=function(e,t){var o=mD(mD(mD({},Ie,Q),Ee,G),Ne,G)[r.type];if(v>=o)B({text:ZPI18N.getString("zp.questions.maxlimit.message",[v]),duration:3e3}).showWarning();else{var i=mD(mD(mD(mD(mD(mD(mD(mD({},Jn.TWO_POINT_SCALE.TYPE,YS),Jn.SINGLE_CHOICE.TYPE,HS),Jn.MULTIPLE_CHOICE.TYPE,VS),Jn.COMMENT.TYPE,Pl),Jn.DATE.TYPE,Ol),Jn.NPS.TYPE,Il),Jn.STAR.TYPE,zl),Jn.RATING_SCALE.TYPE,Cl),l=null!=e?e:Jn.TWO_POINT_SCALE.TYPE,c=mD(mD(mD({},l,fD(fD({},i[l]),{},{metric_id:n.metric_id})),"type",l),"insert_at",t);y(Ru({render:!0,viewType:a===Po.CREATE_TEMPLATE?fw.TEMPLATE:[Po.OFFBOARDING_FEEDBACK].includes(a)?fw.OFFBOARDING_FEEDBACK:[Po.EXTEND_INTERVIEW_CREATION].includes(a)?fw.EXTEND_INTERVIEW_CREATION:fw.MODULE,mode:"add",header:ZPI18N.getString("zp.assessment.createquestion"),actions:{submitButton:ZPI18N.getString("zp.save"),cancelButton:ZPI18N.getString("zp.cancel")},data:c,disableCardActions:!1,dbHash:""}))}},S=function(){var e=mD(mD(mD({},Ie,Q),Ee,G),Ne,G)[r.type];v>=e?B({text:ZPI18N.getString("zp.questions.maxlimit.message",[v]),duration:3e3}).showWarning():y(hs({render:!0,viewType:a,insertAt:f.insert_at,metricId:n.metric_id}))},w=Nb.useMemo(function(){var e=mD(mD({},Ie,Q),Ee,G)[r.type]||0;if(v>=e)return[];var t=[Jn.TWO_POINT_SCALE.TYPE,Jn.NPS.TYPE,Jn.STAR.TYPE,Jn.RATING_SCALE.TYPE],n=Object.keys(Jn).map(function(e){if(r.type!==Ie||t.includes(Jn[e].TYPE))return{value:Jn[e],label:Jn[e].DISPLAY_NAME,iconClass:Jn[e].ICON,callback:function(){E(Jn[e].TYPE,f.insert_at)}}}).filter(Boolean),a=[{separtor:!0},{value:"addQuestionBank",label:ZPI18N.getString("zp.survey.pickfromqpool"),iconClass:"PI_file_upload",callback:S}];return[].concat(vD(n),a)},[f,E,S]),N=Nb.useMemo(function(){return structuredClone(c)},[c]);return Nb.createElement("div",{className:"zpl_crd"},Nb.createElement(cD,{viewType:a,metricGroup:n,surveyData:r,addQuestionHandler:E,openQuestionBankHandler:S}),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"secViewAsmnt DBI"},Nb.createElement("div",{className:"zpl_qacrd zpl_qalst-js zpl_qaplr0 zpl_qalstMadd"},Nb.createElement(Rk.ReactSortable,dD({setList:function(e){if(JSON.stringify(c)!==JSON.stringify(e)&&!l){var t=e.map(function(e){e.chosen,e.selected;var t=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,sD);return t});if(Po.CUSTOM_FEEDBACK===a){var o=[c[0].question_id,c[1].question_id];t=[c[0],c[1]].concat(vD(t.filter(function(e){return!o.includes(e.question_id)})))}t=t.map(function(e,t){return fD(fD({},e),{},{question_order:t+1})}),y(Fi({metric_groups:(r.metric_groups||[]).map(function(e){return e.metric_id==n.metric_id?fD(fD({},n),{},{questions:t}):e})}))}},list:N},{handle:".PI_drag",ghostClass:"ghost"},{onEnd:g}),(c||[]).map(function(e,t){return Nb.createElement("div",{className:"zpl_qalst",key:null==e?void 0:e.question_id},Nb.createElement(wI,{index:t+o,key:null==e?void 0:e.question_id,editCallback:h,deleteCallback:b,moreOption:_,isSurveyDashboard:!0,surveyData:r,surveyQuestion:e,questionCount:v,showDrag:s&&!l,setShowDrag:d,viewType:a,questions:c,midListOptions:w,setInsertionData:m}))}))))))};function _D(e){return _D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_D(e)}function ED(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function SD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ED(Object(n),!0).forEach(function(t){wD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wD(e,t,n){return(t=function(e){var t=function(e){if("object"!=_D(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=_D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_D(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ND=Nb.forwardRef(function(e,t){var n=e.viewType,r=e.surveyData,a=e.searchQuery,o=e.isRenderBasedOnSearch,i=e.noQuestionName,l=e.noQuestionDesc,c=Mb(function(e){return e.surveyCommon}).metrics,u=r.metric_groups,s=Kb();Nb.useEffect(function(){0===(c.active||[]).length&&s(op())},[]);var d=Nb.useMemo(function(){return o?(u||[]).map(function(e){var t=(e.questions||[]).filter(function(e){return e.question.toLowerCase().includes((a||"").toLowerCase())});return SD(SD({},e),{},{questions:t})}).filter(function(e){return e.questions.length>0}):u||[]},[u,a,o]);return 0===(d||[]).length?Nb.createElement(Ak,{noQuestionName:i,noQuestionDesc:l,isSearchView:o}):Nb.createElement(Nb.Fragment,null,d.map(function(e){var t=!1,a=(u||[]).reduce(function(n,r){return r.metric_id===e.metric_id&&(t=!0),t?n:n+(r.questions||[]).length},0);return Nb.createElement(bD,{key:"metric-group-".concat(e.metric_id),metricGroup:e,surveyData:r,viewType:n,questionStartIndex:a,isRenderBasedOnSearch:o})}))}),PD=ND;function OD(e){return function(e){if(Array.isArray(e))return zD(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ID(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ID(e,t){if(e){if("string"==typeof e)return zD(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zD(e,t):void 0}}function zD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var CD=function(e){var t=e.portalId,n=e.metrics,r=e.selectedMetrics,a=e.closeHandler,o=e.saveHandler,i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||ID(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Nb.useState([]),2),l=i[0],c=i[1];return qE.createPortal(Nb.createElement("div",{className:"zpl_mdl zpl_mmd zpl_mopen",role:"dialog"},Nb.createElement("div",{className:"zpl_minr"},Nb.createElement("div",{className:"zpl_mhder"},Nb.createElement("div",null,Nb.createElement("h4",null,"Select Your Metrics")),Nb.createElement("a",{className:"_cls PI_cls",onClick:a})),Nb.createElement("div",{className:"zpl_mcnt zpl_fm"},Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn zpl_ma0"},(n||[]).map(function(e){var t,n=(l||[]).includes(e.metric_id),a=(r||[]).includes(e.metric_id),o=n||a?"zpl_act blubdrbglit blu":"";return o+=a?" disabled":"",Nb.createElement("div",{key:e.metric_id,className:"zpl_tg zpl_tgbrd zpl_tgchip ".concat(o),onClick:(t=e.metric_id,function(){var e=l.indexOf(t);if(-1===e){if((l||[]).length+(r||[]).length+1>10)return void B({text:ZPI18N.getString("zp.metricgroup.maxlimit.message",[10]),duration:3e3}).showWarning();c(function(e){return[].concat(OD(e),[t])})}else c(function(t){var n=OD(t);return n.splice(e,1),n})})},Nb.createElement("span",null,e.name))}))))),Nb.createElement(rE,{submitName:ZPI18N.getString("zp.survey.metric.select.add"),submitAction:function(){var e=(n||[]).reduce(function(e,t){return e[t.metric_id]=t,e},{});o(l.map(function(t){return e[t]})).then(function(){a()})},cancelName:ZPI18N.getString("zp.cancel"),cancelAction:a}))),document.getElementById(t))};function TD(e){return TD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TD(e)}function xD(e){return function(e){if(Array.isArray(e))return RD(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||AD(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DD(e,t,n){return(t=function(e){var t=function(e){if("object"!=TD(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=TD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==TD(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||AD(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AD(e,t){if(e){if("string"==typeof e)return RD(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?RD(e,t):void 0}}function RD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var qD=Nb.forwardRef(function(e,t){var n=e.readOnly,r=void 0!==n&&n,a=e.viewType,o=e.courseId,i=Mb(function(e){return e.createSurvey}).surveyData,l=(Mb(function(e){return e.surveyCommon})||{}).metrics,c=(void 0===l?{}:l).active,u=i.metric_groups,s=i.questions,d=Mb(Mi),p=Nb.useMemo(function(){if([Po.OFFBOARDING_FEEDBACK,Po.EXTEND_INTERVIEW_CREATION,Po.CUSTOM_FEEDBACK].includes(a))return-1;if(i.metric_type===gn)return(u||[]).length;var e=new Set;return(s||[]).forEach(function(t){t.metric_id>0&&e.add(t.metric_id)}),e.size},[a,i]),f=jD((0,Nb.useState)(""),2),m=f[0],v=f[1],y=jD((0,Nb.useState)(!1),2),g=y[0],h=y[1],b=jD((0,Nb.useState)(!1),2),_=b[0],E=b[1],S=Kb(),w=((0,Nb.useCallback)(function(){h(!0)},[]),(0,Nb.useCallback)(function(){h(!1),v("")},[])),N=(0,Nb.useCallback)(function(e){v(e.target.value)},[]),P=Nb.useMemo(function(){return(s||[]).filter(function(e){return e.question.toLowerCase().includes((m||"").toLowerCase())})},[s,m]),O=Nb.useMemo(function(){return""!==m&&g?P:s},[m,g,s,P]),I=Nb.useMemo(function(){switch(a){case Po.OFFBOARDING_FEEDBACK:return ZPI18N.getString("zp.survey.interview.question.empty");case Po.EXTEND_INTERVIEW_CREATION:return ZPI18N.getString("zp.survey.interview.template.question.empty");default:return i.metric_type===gn?ZPI18N.getString("zp.engagement.metricgroup.empty"):ZPI18N.getString("zp.survey.question.empty")}},[a,i.metric_type]),z=Nb.useMemo(function(){switch(a){case Po.OFFBOARDING_FEEDBACK:return ZPI18N.getString("zp.survey.interview.no.question.desc");case Po.EXTEND_INTERVIEW_CREATION:return ZPI18N.getString("zp.survey.interview.template.no.question.desc");case Po.ENGAGEMENT:case Po.PULSE:case Po.CREATE_TEMPLATE:return i.metric_type===gn?ZPI18N.getString("zp.engagement.no.metricgroup.desc",[ZPI18N.getString(a==Po.CREATE_TEMPLATE?"zp.templatesmall":"zp.local.surveysmall")]):ZPI18N.getString("zp.survey.no.question.metric.desc",[ZPI18N.getString(a==Po.CREATE_TEMPLATE?"zp.templatesmall":"zp.local.surveysmall")]);default:return i.metric_type===gn?ZPI18N.getString("zp.engagement.no.metricgroup.desc",[ZPI18N.getString(a==Po.CREATE_TEMPLATE?"zp.templatesmall":"zp.local.surveysmall")]):ZPI18N.getString("zp.survey.no.question.desc",[ZPI18N.getString(a==Po.CREATE_TEMPLATE?"zp.templatesmall":"zp.local.surveysmall")])}},[a,i.metric_type]),C=function(e,t){var n=DD(DD(DD(DD({},Ie,Q),Ee,G),Ne,G),we,G)[i.type];if(d>=n)B({text:ZPI18N.getString("zp.questions.maxlimit.message",[d]),duration:3e3}).showWarning();else{var r=DD(DD(DD(DD(DD(DD(DD(DD({},Jn.TWO_POINT_SCALE.TYPE,YS),Jn.SINGLE_CHOICE.TYPE,HS),Jn.MULTIPLE_CHOICE.TYPE,VS),Jn.COMMENT.TYPE,Pl),Jn.DATE.TYPE,Ol),Jn.NPS.TYPE,Il),Jn.STAR.TYPE,zl),Jn.RATING_SCALE.TYPE,Cl),o=null!=e?e:Jn.TWO_POINT_SCALE.TYPE,l=DD(DD(DD({},o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kD(Object(n),!0).forEach(function(t){DD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},r[o])),"type",o),"insert_at",t);S(Ru({render:!0,viewType:a===Po.CREATE_TEMPLATE?fw.TEMPLATE:[Po.OFFBOARDING_FEEDBACK].includes(a)?fw.OFFBOARDING_FEEDBACK:[Po.EXTEND_INTERVIEW_CREATION].includes(a)?fw.EXTEND_INTERVIEW_CREATION:fw.MODULE,mode:"add",header:ZPI18N.getString("zp.assessment.createquestion"),actions:{submitButton:ZPI18N.getString("zp.save"),cancelButton:ZPI18N.getString("zp.cancel")},data:l,disableCardActions:!1,dbHash:""}))}},T=Nb.useCallback(function(){E(!0)},[]),x=Nb.useCallback(function(){E(!1)},[]),k=Nb.useCallback(function(e){if(a===Po.CREATE_TEMPLATE){var t=i.metric_groups||[],n=t.length,r=(e||[]).map(function(e){return{metric_id:e.metric_id,metric_name:e.name,question_count:0,questions:[],sequence:n++}});return S(Fi({metric_groups:[].concat(xD(t),xD(r))})),Promise.resolve()}var o=(e||[]).map(function(e){return e.metric_id});return S(Si({surveyId:i.survey_id,payload:{metricGroups:JSON.stringify({metric_ids:o})}})).then(function(e){var t;"rejected"===e.meta.requestStatus&&B({text:(null==e||null===(t=e.payload)||void 0===t||null===(t=t.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||ZPI18N.getString("zp.unabletoprocess"),duration:1e4}).showError()})},[i,a]);return Nb.createElement("div",{className:"zpl_rgtcnt",ref:t,id:e.id},Nb.createElement("div",{className:"zpl_crd"},Nb.createElement(hk,{title:ZPI18N.getString("zp.questions")}),Nb.createElement(Xk,{displaySearch:g,onSearchHandler:N,clearSearchHandler:w,totalQuestions:d,metricCount:p},Nb.createElement("div",{className:"zpl_rgt"},!r&&(i.metric_type===gn?Nb.createElement("button",{className:"zlabel zlabel--blue zlabel--outline zlabel--medium",onClick:T},ZPI18N.getString("zp.survey.metric.select")):Nb.createElement(kk,{viewType:a,addQuestionOnClick:C})),Nb.createElement("i",{role:"button",tabIndex:0,style:{cursor:"pointer"},className:"zpl_ibg PI_lens",onClick:function(){return h(function(e){return!e})}})))),i.metric_type===gn?0===(i.metric_groups||[]).length?Nb.createElement(Ak,{noQuestionName:I,noQuestionDesc:z,isSearchView:g}):Nb.createElement(PD,{viewType:a,surveyData:i,searchQuery:m,noQuestionName:I,noQuestionDesc:z,isRenderBasedOnSearch:g}):0===(O||[]).length?Nb.createElement(Ak,{noQuestionName:I,noQuestionDesc:z,isSearchView:g}):Nb.createElement(Gk,{surveyData:i,questions:O,courseId:o,viewType:a,isRenderBasedOnSearch:g,readOnly:r,addQuestionOnClick:C}),_?Nb.createElement(CD,{selectedMetrics:(u||[]).map(function(e){return e.metric_id}),closeHandler:x,portalId:a===Po.CREATE_TEMPLATE?"ee-react-root":"ee-module-react-root",metrics:c,saveHandler:k}):null)}),MD=qD;function ZD(e){return ZD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZD(e)}function LD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LD(Object(n),!0).forEach(function(t){BD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BD(e,t,n){return(t=function(e){var t=function(e){if("object"!=ZD(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ZD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ZD(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var HD=function(e){var t=e.type,n=Mb(function(e){return e.createSurvey}),r=n.fetchInitialData,a=n.surveyData,o=Mb(function(e){return e.surveyCommon}),i=Mb(Mi),l=(o||{}).metrics,c=void 0===l?{}:l,u=Kb(),s=(0,Nb.useRef)(null),d=(0,Nb.useRef)(null),p=(0,Nb.useRef)(null),f=(0,Nb.useRef)(null),m=[{id:"introduction",label:ZPI18N.getString("zp.assessment.welcome_msg"),ref:d},{id:"questions",label:ZPI18N.getString("zp.questions"),ref:p},{id:"thankyou",label:ZPI18N.getString("zp.survey.post_feedback_message"),ref:f}],v=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return UD(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?UD(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(m[0].label),2),y=v[0],g=v[1],h=(0,Nb.useRef)(!1);return(0,Nb.useEffect)(function(){[Po.OFFBOARDING_FEEDBACK,Po.EXTEND_INTERVIEW_CREATION].includes(t)&&0===(c.active||[]).length&&u(op());var e=function(e){if(!h.current){e.preventDefault();for(var t=0,n=m;t<n.length;t++){var r=n[t];if(r.ref.current&&D(r.ref.current,s.current))return void g(r.label)}var a=k(d.current),o=k(p.current),i=k(f.current);a>o&&a>i?g(m[0].label):o>a&&o>i?g(m[1].label):i>o&&i>a&&g(m[2].label)}};return s.current&&(s.current.addEventListener("scroll",e),s.current.addEventListener("resize",e)),function(){s.current&&(s.current.removeEventListener("scroll",e),s.current.removeEventListener("resize",e))}},[]),(0,Nb.useEffect)(function(){if([Po.CREATE_TEMPLATE,Po.ENGAGEMENT,Po.PULSE,Po.OFFBOARDING_FEEDBACK,Po.EXTEND_INTERVIEW_CREATION].includes(t)){var e=FD(FD({},a),{},{question_count:i});u(Li({surveyData:e,dbHash:bo(e)})),OO()}},[]),Nb.createElement("div",{className:"zpl_act"},Nb.createElement("div",{className:"zpl_iwrpr",ref:s},Nb.createElement(fk,{sections:m,activeSection:y,setActiveSection:g,isScriptScrolling:h}),Nb.createElement("div",{className:"zpl_iwrprrgt DBI"},Nb.createElement("div",{className:"zpl_act"},r?Nb.createElement(aE,null):Nb.createElement(Nb.Fragment,null,Nb.createElement(Nk,{message:a.instruction,parentId:"intro-parent-editor",currentId:"intro-current-editor",id:m[0].id,ref:m[0].ref,surveyId:a.survey_id,type:t}),Nb.createElement(MD,{id:m[1].id,ref:m[1].ref,viewType:t}),Nb.createElement(Tk,{message:a.thankyou_message,parentId:"thnku-parent-editor",currentId:"thnku-current-editor",id:m[2].id,ref:m[2].ref,surveyId:a.survey_id,type:t}))))))},VD=function(e){var t=e.links,n=e.callbackHandler,r=A_(),a=q_();return Nb.createElement("div",{className:"zpl_mmnulft flex-dirC",id:"fixed-header"},Nb.createElement("ul",null,t.map(function(e,t){return Nb.createElement("li",{key:zE(),onClick:function(){return n(r,a,"/".concat(e.url))},"tab-nav":e.displayName,className:r.pathname==="/".concat(e.url)?"zpl_act":""},Nb.createElement("b",null,t+1),Nb.createElement("a",null,e.displayName))})))},YD=function(e){var t=e.themeId,n=e.themeName,r=e.className,a=e.imageSrc,o=e.theme,i=e.selectTheme,l=e.setSelectTheme,c=e.editHandler,u={};a&&(u.backgroundImage="url(".concat(a,")"));var s=Kb();return Nb.createElement("div",{key:t,onClick:function(){l(t),s(Fi({theme_id:t})),s(Ui({themeData:o})),"function"==typeof c&&(s(Fg(o)),c())},className:i===t?"zpl_sel":""},Nb.createElement("div",{className:r||"",style:u}),Nb.createElement("em",null,Nm(n)))},WD=function(e){var t=e.label,n=e.themeList,r=e.editHandler,a=e.selectTheme,o=e.setSelectTheme;return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,Nb.createElement("label",null,Nb.createElement("b",null,Nb.createElement("em",null,t)))),Nb.createElement("div",{className:"zpl_tDefVw"},(n||[]).map(function(e){var t=e.bg_settings,n=t.bg,i=t.fileInfo;return 0==n?Nb.createElement(YD,{key:zE(),themeId:e.theme_id,themeName:e.theme_name,className:e.color.background,theme:e,selectTheme:a,setSelectTheme:o,editHandler:r}):1==n?Nb.createElement(YD,{key:zE(),themeId:e.theme_id,themeName:e.theme_name,className:e.is_default?t.patt:"",imageSrc:null==i?void 0:i.previewURL,theme:e,selectTheme:a,setSelectTheme:o,editHandler:r}):2==n?Nb.createElement(YD,{key:zE(),themeId:e.theme_id,themeName:e.theme_name,className:t.patt,theme:e,selectTheme:a,setSelectTheme:o,editHandler:r}):void 0})))},GD=function(e){var t=e.themeList,n=e.editHandler,r=e.selectTheme,a=e.setSelectTheme;return Nb.createElement(WD,{label:ZPI18N.getString("zp.survey.template.theme.default"),themeList:t,editHandler:n,selectTheme:r,setSelectTheme:a})},$D=function(e){var t=e.label,n=e.buttonHandler,r=e.isSaving,a=e.isWidth100Per,o=void 0===a||a,i=e.cancelHandler;return Nb.createElement("div",{className:"d-flexC j-cnt-btwen"},i&&Nb.createElement("a",{className:"clsArw",onClick:i},Nb.createElement("i",{className:"PI_back"})," "),Nb.createElement("div",{className:"zlabel zlabel--blue zlabel--outline zlabel--medium ".concat(o?"wd100_per":""," ").concat(r?"zbutton zbutton--medium zbutton--normal is-disabled zbutton--loading zh-transition":""),onClick:n},r&&Nb.createElement("i",{className:"zbutton__icon zbutton--loader "},Nb.createElement("svg",{className:"zbutton__svg zbutton__loader zeffects--rotate",width:"100%",height:"100%"},Nb.createElement("circle",{className:"circle__track",cx:"8px",cy:"8px",r:"8px"}),Nb.createElement("circle",{className:"circle__load",cx:"8px",cy:"8px",r:"8px"}))),t))},QD=function(e){var t=e.label;return Nb.createElement("div",null,Nb.createElement("h6",null,t))};function XD(e){return XD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XD(e)}function KD(e,t,n){return(t=function(e){var t=function(e){if("object"!=XD(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=XD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==XD(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ej=function(e){var t=e.colorDetails,n=Kb(),r=(0,Nb.useRef)(null),a=(0,Nb.useRef)(null),o=(0,Nb.useRef)(null),i={question:{label:ZPI18N.getString("zp.question"),colorList:He,ref:r,bcolorList:{enpsqtxt1:"#333333",enpsqtxt2:"#635514",enpsqtxt3:"#3f5e27",enpsqtxt4:"#4f1495",enpsqtxt5:"#984600"}},answer:{label:ZPI18N.getString("zp.answer"),colorList:Ve,ref:a,bcolorList:{enpsatxt1:"#666666",enpsatxt2:"#8f7a1c",enpsatxt3:"#5e843d",enpsatxt4:"#7f37d6",enpsatxt5:"#bb5600"}},background:{label:ZPI18N.getString("zp.background"),colorList:Ye,ref:o,bcolorList:{enpsbg1:"#f6f6f6",enpsbg2:"#fdfcf6",enpsbg3:"#f3f9ef",enpsbg4:"#f6efff",enpsbg5:"#ffeddf"}}},l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return JD(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?JD(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(void 0),2),c=l[0],u=l[1],s=function(e,t){var r=(e.target||e.srcElement).getAttribute("color");n(Gg({color:KD({},t,r)})),u(void 0)},d=function(e,t){var n=e.target||e.srcElement;Object.keys(i).includes(null==n?void 0:n.getAttribute("rel"))&&u(t)};return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(QD,{label:ZPI18N.getString("zp.color")}),Nb.createElement("div",{className:"zpl_tDefVw tDefVwSml"},["question","answer","background"].map(function(e){var n=i[e],r={backgroundColor:n.bcolorList[t[e]]};return Nb.createElement(Nb.Fragment,null,Nb.createElement("div",{key:zE()},Nb.createElement("div",{style:r,ref:n.ref,rel:e,onClick:function(){!function(e){u(e)}(e)}}),Nb.createElement("em",null,n.label)),c==e&&Nb.createElement(BE,{anchorEleRef:n.ref,colorList:n.colorList,open:!0,setIsOpen:u,colorPickerHandler:s,colorPickerName:e,containerClass:"zpl_enpsbgDrpdwn",clickAwayHandler:d}))})))},tj=function(e){var t=e.name,n=e.error,r=(null==n?void 0:n.length)>0,a=Kb();return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(QD,{label:ZPI18N.getString("zp.survey.template.theme.name")}),Nb.createElement("div",null,Nb.createElement(dw,{value:Nm(t),onChangeHandler:function(e){var t=e.target.value;a(Hg({theme_name:t}))},className:r?"ztextbox__error":""})),r&&Nb.createElement("span",{className:"ztextbox--error__label"},n))},nj=function(e){var t=e.layout,n=Kb();return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(QD,{label:ZPI18N.getString("zp.assessment.tab.setup.preferences.layout")}),Nb.createElement("div",{className:"zpl_tDefVw tDefVwMml"},De.map(function(e){return Nb.createElement("div",{key:e.key,className:t==e.key?"zpl_sel":"",onClick:function(){return function(e){n(Vg({layout:e}))}(e.key)}},Nb.createElement("div",{className:e.className}))})))},rj=function(e){var t=e.font,n=e.actionHandler,r=function(e){n({font:e})};return Nb.createElement("div",null,Nb.createElement("div",{className:"zlabel zlabel--outline zlabel--medium ".concat(ze===t?"zlabel--blue":""),onClick:function(){return r(ze)}},ZPI18N.getString("zp.small")),Nb.createElement("div",{className:"zlabel zlabel--outline zlabel--medium ".concat(Ce===t?"zlabel--blue":""),onClick:function(){return r(Ce)}},ZPI18N.getString("zp.medium")),Nb.createElement("div",{className:"zlabel zlabel--outline zlabel--medium ".concat(Te===t?"zlabel--blue":""),onClick:function(){return r(Te)}},ZPI18N.getString("zp.large")))},aj=function(e){var t=e.properties,n=Kb();return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(QD,{label:ZPI18N.getString("zp.survey.template.question_and_answer")}),Nb.createElement("div",{className:"d-flexC PR"},Nb.createElement(rj,{font:t.font,actionHandler:function(e){n(Yg({qa_props:e}))}})))},oj=function(e){var t=e.alignment,n=e.actionHandler,r=function(e){n({align:e})};return Nb.createElement("div",{className:"zpl_tIcn"},Nb.createElement("div",{className:"zlabel zlabel--outline zlabel--medium ".concat(xe===t?"zlabel--blue":""),onClick:function(){return r(xe)}},Nb.createElement("i",{className:"PI_left_align"})),Nb.createElement("div",{className:"zlabel zlabel--outline zlabel--medium ".concat(ke===t?"zlabel--blue":""),onClick:function(){return r(ke)}},Nb.createElement("i",{className:"PI_center_align"})))},ij=function(e){var t=e.properties,n=Kb(),r=function(e){n(Wg({introtq_props:e}))};return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(QD,{label:ZPI18N.getString("zp.survey.template.intro_and_thankyou")}),Nb.createElement("div",{className:"d-flexC PR"},Nb.createElement(rj,{font:t.font,actionHandler:r}),Nb.createElement("div",{className:"zpl_vbrdr"}),Nb.createElement(oj,{alignment:t.align,actionHandler:r})))};function lj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var cj=function(e){var t=e.buttonHandler,n=e.bgSettings,r=e.bgCallback,a=n.fileInfo,o=n.brightness,i=void 0===o?"100":o,l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lj(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lj(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(i),2),c=l[0],u=l[1];return(0,Nb.useEffect)(function(){r({brightness:c})},[]),Nb.createElement("div",{className:"d-flexC flexclmcap"},Nb.createElement("div",{className:"zpl_tDefVw tDefVwMml zpl_tDefVwhvr"},Nb.createElement("div",{onClick:t},Nb.createElement("div",{style:{backgroundImage:"url(".concat(null==a?void 0:a.previewURL,")")}}))),Nb.createElement("div",{className:"d-flex flex-dirC d-flexclmcap8 wd100_per"},Nb.createElement("em",null,ZPI18N.getString("zp.survey.brightness")),Nb.createElement("div",{className:"wd100_per"},Nb.createElement("input",{type:"range",className:"zpl_rangesldr",min:"0",max:"100",step:"1",value:i,onChange:function(e){!function(e){var t=e.target.value;u(t),r({brightness:t})}(e)}}))))},uj=function(e){var t=e.className,n=e.color,r=e.bgViewHandler,a=e.isSelected,o=n?{backgroundColor:n}:{};return Nb.createElement("div",{className:"".concat(a?"zpl_sel":""),onClick:r},Nb.createElement("div",{className:"".concat(t||""),style:o}))},sj=function(e){var t=e.bgSettings,n=t.bg,r=t.patt,a=["zpl_thmBrck","zpl_thmHoly","zpl_thmBnkr"],o=Kb(),i=function(e){o(Qg({bg_settings:e}))},l=function(e){o($g({bg_settings:e}))};return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(QD,{label:ZPI18N.getString("zp.background")}),Nb.createElement("div",null,Nb.createElement(Yw,{label:ZPI18N.getString("zp.none"),id:zE(),callback:function(){return l({bg:0})},isActive:0===n,className:"zradiobutton zradiobutton--horizontal"}),Nb.createElement(Yw,{label:ZPI18N.getString("zp.image"),id:zE(),callback:function(){o(oh({render:!0,headerName:Le})),l({bg:1})},isActive:1===n,className:"zradiobutton zradiobutton--horizontal"}),Nb.createElement(Yw,{label:ZPI18N.getString("zp.pattern"),id:zE(),callback:function(){return l({bg:2,patt:a[0]})},isActive:2===n,className:"zradiobutton zradiobutton--horizontal"})),function(){if(1===n)return Nb.createElement(cj,{bgSettings:t,bgCallback:i,buttonHandler:function(){return l({bg:0})}})}(),Nb.createElement("div",{className:"zpl_tDefVw tDefVwXSml"},0===n?Nb.createElement(uj,{className:"zpl_thmLgry"}):2===n?a.map(function(e){return Nb.createElement(uj,{key:zE(),className:e,bgViewHandler:function(){i({patt:e})},isSelected:r===e})}):void 0))},dj=function(e){var t=e.bg_settings,n=t.bg,r=t.brightness,a=t.fileInfo,o=t.patt,i={theme_name:e.theme_name,layout:e.layout,qa_props:e.qa_props,introtq_props:e.introtq_props,color:e.color};return 0==n?i.bg_settings={bg:n}:1==n?i.bg_settings={bg:n,brightness:r,fid:a.contentId}:2==n&&(i.bg_settings={bg:n,patt:o}),i};function pj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var fj=function(e){var t=e.isCreatePage,n=e.setCreatePage,r=e.themeData,a=e.cancelHandler,o=e.setSelectTheme,i=r.errorData,l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pj(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pj(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(!1),2),c=l[0],u=l[1],s=Kb();return Nb.createElement("div",{className:t?"":"zpl_DNI",rel:"CREATE_THEME"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement($D,{label:ZPI18N.getString("zp.survey.template.save.theme"),buttonHandler:function(){var e;u(!0),function(){var e,t,n=lh.getState().createTheme.themeData,r=n.theme_name,a=!0,o={};return yo(n)&&(r&&0!==r.trim().length||(o.theme_name=ZPI18N.getString("zp.survey.theme.name.empty"),null===(t=document.querySelector("[rel=CREATE_THEME]"))||void 0===t||t.scrollIntoView({behavior:"smooth"}),a=!1),e=Ug({errorData:o}),lh.dispatch(e)),a}()?s((e=null==r?void 0:r.theme_id,(null==r?void 0:r.is_default)||!e?qg({themeData:dj(r)}):Mg({themeData:dj(r),themeId:e}))).then(function(e){if("fulfilled"===e.meta.requestStatus){var t=e.payload.theme_id;u(!1),n(!1),o(t),s(Fi({theme_id:t})),s(Ui({themeData:r}))}else if("rejected"===e.meta.requestStatus){var a,i=(null==e||null===(a=e.payload)||void 0===a||null===(a=a.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)||ZPI18N.getString("zp.unabletoprocess");B({text:i,duration:3e3}).showError(),u(!1)}}):u(!1)},cancelHandler:a,isWidth100Per:!1,isSaving:c})),Nb.createElement(tj,{name:r.theme_name,error:null==i?void 0:i.theme_name}),Nb.createElement(nj,{layout:r.layout}),Nb.createElement(ij,{properties:r.introtq_props}),Nb.createElement(aj,{properties:r.qa_props}),Nb.createElement(ej,{colorDetails:r.color}),Nb.createElement(sj,{bgSettings:r.bg_settings}))},mj=function(e){var t=e.themeList,n=e.editHandler,r=e.selectTheme,a=e.setSelectTheme;return Nb.createElement(Nb.Fragment,null,t.length>0&&Nb.createElement(WD,{label:ZPI18N.getString("zp.survey.template.theme.custom"),themeList:t,editHandler:n,selectTheme:r,setSelectTheme:a}))};function vj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var yj=function(e){var t=e.themeList,n=e.themeData,r=e.selectedThemeData,a=e.isCreatePage,o=e.setCreatePage,i=e.mode,l=Kb(),c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vj(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vj(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(r.theme_id+""),2),u=c[0],s=c[1],d=function(){return(t||[]).filter(function(e){return 1!=e.is_default})};return Nb.createElement("div",{className:"zpl_tEditCnt"},Nb.createElement("div",{className:"zpl_tabcnt DBI M0I "},!a&&Nb.createElement("div",{className:a?"zpl_DNI":""},Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_secn"},i==Le&&d().length<15&&Nb.createElement($D,{label:ZPI18N.getString("zp.survey.template.create.theme"),buttonHandler:function(){o(!0),l(Bg())}})),Nb.createElement(mj,{themeList:d(),editHandler:function(){o(!0)},selectTheme:u,setSelectTheme:s}),Nb.createElement(GD,{themeList:(t||[]).filter(function(e){return 1==e.is_default}),selectTheme:u,setSelectTheme:s}))),i==Le&&a&&Nb.createElement(fj,{isCreatePage:a,setCreatePage:o,cancelHandler:function(){o(!1),l(Bg())},themeData:n,setSelectTheme:s})))};function gj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var hj=function(e){var t=e.question,n=e.errordata,r=e.attemptdata,a=e.themedata,o=e.additionalCmtHandler,i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gj(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gj(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(""),2),l=i[0],c=i[1];return t.enable_comment&&Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("textarea",{type:"text",className:"ztextbox zpl_hgt100 "+a.acolor+(n.cmt_mandatory||l?" ztextbox__error":""),maxLength:X,value:(null==r?void 0:r.comment)||"",placeholder:ZPI18N.getString("zp.feedback.your.additional.comments"),onInput:function(e){var t=e.target.value;c(t.length>=X?ZPI18N.getString("zp.survey.comment.length.exceed",[X]):""),o(e)},role:"textbox","aria-label":(n.cmt_mandatory?ZPI18N.getString("zp.lms.mandatory"):ZPI18N.getString("zp.lms.nonmandatory"))+" "+ZPI18N.getString("zp.additionalcomments")}),(n.cmt_mandatory||l)&&Nb.createElement("span",{className:"ztextbox--error__label"},n.cmt_mandatory?ZPI18N.getString("zp.lms.settings.required"):l))},bj=function(e){var t=e.question,n=e.errordata,r=e.themedata,a=Mb(function(e){return e.attempt}).surveys;return Nb.createElement("div",{tabIndex:"0","aria-label":ZPI18N.getString("zp.question")+": ".concat(t.question_order," - ").concat(t.question,",")+ZPI18N.getString("zp.local.questiontype")+": \n                ".concat(t.ismandatory?ZPI18N.getString("zp.lms.mandatory"):ZPI18N.getString("zp.lms.nonmandatory"))},Nb.createElement("h4",{className:r.qcolor||""},Nb.createElement("span",{className:n.qmandatory?"zpl_queMtry":""},"Q"+t.question_order+"."),Nb.createElement("label",{className:t.ismandatory?"zpl_mtry":""},t.question),a.metric_type===yn&&t.metric_name&&Nb.createElement("div",{className:"zpl_tg"},Nb.createElement("span",null,t.metric_name))))};function _j(e){return _j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_j(e)}function Ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ej(Object(n),!0).forEach(function(t){wj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wj(e,t,n){return(t=function(e){var t=function(e){if("object"!=_j(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=_j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_j(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nj=function(e){var t=e.question,n=e.attemptdata,r=e.errordata,a=e.themedata,o=e.autoSaveHandler,i=Kb();return Nb.createElement(Nb.Fragment,null,Nb.createElement(bj,{question:t,themedata:a,errordata:r}),Nb.createElement("div",{className:"zpl_thmMans"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,(t.choices||[]).map(function(e,l){var c=e.choice_id,u=e.choice,s=(null==n?void 0:n.choice_id)==c,d=e.is_other,p=null==n?void 0:n.other_answer;return Nb.createElement(Nb.Fragment,{key:c},Nb.createElement(Yw,{className:"zradiobutton",label:u,id:c,isActive:s,onClickHandler:function(){return e=c,r=t.type,(a=Object.keys(n).length?mo(n):{question_id:t.question_id}).choice_id!=e?(a.choice_id=e,a.isanswered=!0):(delete a.choice_id,a.isanswered=!1),a.hasOwnProperty("other_answer")&&null==a.other_answer[a.choice_id]&&delete a.other_answer,function(e){var n,r={cmt_mandatory:!1};t.enable_comment&&t.comment_mandatory&&e.choice_id&&(r.cmt_mandatory=!(null!==(n=e.comment)&&void 0!==n&&n.trim())),i(zy(wj({},e.question_id,r)))}(a),i(Ny(wj({},t.question_id,a))),void o(t.question_id,r,a);var e,r,a},name:t.question_id,ariaLabel:ZPI18N.getString("zp.option")+" ".concat(l+1,", ").concat(u)}),d&&Nb.createElement("div",{className:"zpl_thmMans"},Nb.createElement("div",null,Nb.createElement(dw,{className:r.isOtherErr?"ztextbox__error "+a.acolor:a.acolor,placeholder:ZPI18N.getString("zp.type.here"),maxLength:X,onChangeHandler:function(e){return function(e,a){var l=e.target.value,c=Object.keys(n).length?mo(n):{question_id:t.question_id,isanswered:!1};if(c.isOtherErr=!1,""==l)delete c.other_answer;else{var u={};u[a]=l,c.other_answer=u}i(Ny(wj({},t.question_id,c))),i(zy(wj({},t.question_id,Sj(Sj({},r),{},{isOtherErr:!l&&c.choice_id})))),a==c.choice_id&&o(t.question_id,t.type,c)}(e,c)},value:p?p[c]:""})),r.isOtherErr&&Nb.createElement("span",{className:"ztextbox--error__label"},ZPI18N.getString("zp.lms.settings.required"))))}))),Nb.createElement(hj,{question:t,attemptdata:n,errordata:r,themedata:a,additionalCmtHandler:function(e){var a=e.target.value,l=Object.keys(n).length?mo(n):{question_id:t.question_id,isanswered:!0};l.comment=a,i(Ny(wj({},t.question_id,l))),i(zy(wj({},t.question_id,Sj(Sj({},r),{},{cmt_mandatory:t.comment_mandatory&&!a&&!!l.choice_id})))),l.choice_id&&o(t.question_id,t.type,l)}})))};function Pj(e){return Pj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pj(e)}function Oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ij(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oj(Object(n),!0).forEach(function(t){zj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zj(e,t,n){return(t=function(e){var t=function(e){if("object"!=Pj(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Pj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Pj(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cj=function(e){var t=e.question,n=e.attemptdata,r=e.errordata,a=e.themedata,o=e.autoSaveHandler,i=Kb();return Nb.createElement(Nb.Fragment,null,Nb.createElement(bj,{question:t,themedata:a,errordata:r}),Nb.createElement("div",{className:"zpl_thmMans"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,(t.choices||[]).map(function(e,l){var c,u=e.choice_id,s=e.choice,d=null===(c=n.choice_id)||void 0===c?void 0:c.includes(u),p=e.is_other,f=(null==n?void 0:n.other_answer)||"";return Nb.createElement(Nb.Fragment,{key:u},Nb.createElement(uw,{id:u,isActive:d,label:s,onChange:function(){return function(e,r){var a=Object.keys(n).length?mo(n):{question_id:t.question_id};if(a.choice_id)if(a.choice_id.includes(e)){var l=a.choice_id;a.choice_id=l.filter(function(t){return t!=e}),a.isanswered=!1}else{var c=a.choice_id;c.push(e),a.choice_id=c,a.isanswered=!0}else a.choice_id=[e],a.isanswered=!0;!function(e){var n,r={cmt_mandatory:!1},a=e.choice_id.length;t.enable_comment&&t.comment_mandatory&&a>0&&(r.cmt_mandatory=!(null!==(n=e.comment)&&void 0!==n&&n.trim())),i(zy(zj({},e.question_id,r)))}(a),i(Ny(zj({},t.question_id,a))),o(t.question_id,r,a)}(u,t.type)},ariaLabel:ZPI18N.getString("zp.option")+" ".concat(l+1,", ").concat(s)}),p&&Nb.createElement("div",{className:"zpl_thmMans"},Nb.createElement("div",null,Nb.createElement(dw,{className:r.isOtherErr?"ztextbox__error "+a.acolor:a.acolor,placeholder:ZPI18N.getString("zp.type.here"),maxLength:X,onChangeHandler:function(e){return function(e,a){var l=e.target.value,c=Object.keys(n).length?mo(n):{question_id:t.question_id,isanswered:!1};if(c.isOtherErr=!1,""==l)delete c.other_answer;else{var u={};u[a]=l,c.other_answer=u}i(Ny(zj({},t.question_id,c)));var s=c.choice_id;i(zy(zj({},t.question_id,Ij(Ij({},r),{},{isOtherErr:!l&&(null==s?void 0:s.includes(a))}))));var d=c.choice_id;null!=d&&d.includes(a)&&o(t.question_id,t.type,c)}(e,u)},value:f?f[u]:""})),r.isOtherErr?Nb.createElement("span",{className:"ztextbox--error__label"},ZPI18N.getString("zp.lms.settings.required")):null))}))),Nb.createElement(hj,{question:t,attemptdata:n,errordata:r,themedata:a,additionalCmtHandler:function(e){var a,l=e.target.value,c=Object.keys(n).length?mo(n):{question_id:t.question_id,isanswered:!0};c.comment=l,i(Ny(zj({},t.question_id,c))),i(zy(zj({},t.question_id,Ij(Ij({},r),{},{cmt_mandatory:t.comment_mandatory&&!l&&!!c.choice_id.length>0})))),(null===(a=c.choice_id)||void 0===a?void 0:a.length)>0&&o(t.question_id,t.type,c)}})))};function Tj(e){return Tj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tj(e)}function xj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var kj=function(e){var t=e.question,n=e.attemptdata,r=e.errordata,a=e.themedata,o=e.autoSaveHandler,i=Kb(),l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xj(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xj(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(""),2),c=l[0],u=l[1];return Nb.createElement(Nb.Fragment,null,Nb.createElement(bj,{question:t,themedata:a,errordata:r}),Nb.createElement("div",{className:"zpl_thmMans"},Nb.createElement("div",null,Nb.createElement("textarea",{type:"text",className:"ztextbox zpl_hgt100 "+a.acolor+(c.trim()?" ztextbox__error":""),maxLength:X,value:(null==n?void 0:n.comment)||"",placeholder:ZPI18N.getString("zp.lms.approvals.addComment"),onInput:function(e){var r=e.target.value;u(r.length>=X?ZPI18N.getString("zp.survey.comment.length.exceed",[X]):"");var a=Object.keys(n).length?mo(n):{question_id:t.question_id};a.comment=r,a.isanswered=Boolean(r),i(Ny(function(e,t,n){return(t=function(e){var t=function(e){if("object"!=Tj(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Tj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Tj(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t.question_id,a))),o(t.question_id,t.type,a)}}),c.trim()&&Nb.createElement("span",{className:"ztextbox--error__label"},c))))};function Dj(e){return Dj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dj(e)}function jj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Aj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jj(Object(n),!0).forEach(function(t){Rj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Rj(e,t,n){return(t=function(e){var t=function(e){if("object"!=Dj(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Dj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Dj(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qj=function(e){var t=e.question,n=e.attemptdata,r=e.errordata,a=e.themedata,o=e.autoSaveHandler,i=Kb(),l=je[t.date_format],c=t.start_range?Dm(t.start_range).getTime():"",u=t.end_range?Dm(t.end_range).getTime():"";return Nb.createElement(Nb.Fragment,null,Nb.createElement(bj,{question:t,themedata:a,errordata:r}),Nb.createElement("div",{className:"zpl_thmMans"},Nb.createElement("div",{className:"zpl_gbox"},Nb.createElement("div",{className:"zpl_idiv  d-flexM"},Nb.createElement(Rw,{displayFormat:l,timestamp:n.date?Dm(n.date):null,minTimeStampRange:c,maxTimeStampRange:u,onChange:function(e){var r=jm(new Date(e)),a=Object.keys(n).length?mo(n):{question_id:t.question_id};a.date=r,a.isanswered=!!r,function(e){var n,r={cmt_mandatory:!1};t.comment_mandatory&&e.isanswered&&e.date?r.cmt_mandatory=!(null!==(n=e.comment)&&void 0!==n&&n.trim()):!t.comment_mandatory||e.isanswered||e.date||(r.cmt_mandatory=!1),i(zy(Rj({},e.question_id,r)))}(a),i(Ny(Rj({},t.question_id,a))),o(t.question_id,t.type,a)}}))),Nb.createElement(hj,{question:t,attemptdata:n,errordata:r,themedata:a,additionalCmtHandler:function(e){var a=e.target.value,l=Object.keys(n).length?mo(n):{question_id:t.question_id,isanswered:!0};l.comment=a,i(Ny(Rj({},t.question_id,l))),i(zy(Rj({},t.question_id,Aj(Aj({},r),{},{cmt_mandatory:t.comment_mandatory&&!a})))),l.date&&o(t.question_id,t.type,l)}})))},Mj=function(e,t,n,r){var a,o,i,l,c,u=e.type,s=e.ismandatory;switch(n.qmandatory=!1,n.cmt_mandatory=!1,n.isanswered=!1,n.isFocus=!1,u||""){case Jn.SINGLE_CHOICE.TYPE_STR:var d,p;!s||0!=Object.keys(t).length&&t.choice_id||(n.qmandatory=!0,!r&&(n.isFocus=!0)),e.enable_comment&&e.comment_mandatory&&t.choice_id&&(n.cmt_mandatory=!(null!==(d=t.comment)&&void 0!==d&&d.trim()),!r&&(null===(p=t.comment)||void 0===p||!p.trim())&&(n.isFocus=!0)),Object.keys(t).length>0&&t.choice_id&&(n.isanswered=!0);break;case Jn.MULTIPLE_CHOICE.TYPE_STR:var f,m;!s||0!=Object.keys(t).length&&t.choice_id&&0!=(null===(a=t.choice_id)||void 0===a?void 0:a.length)||(n.qmandatory=!0,!r&&(n.isFocus=!0)),e.enable_comment&&e.comment_mandatory&&(null===(o=t.choice_id)||void 0===o?void 0:o.length)>0&&(n.cmt_mandatory=!(null!==(f=t.comment)&&void 0!==f&&f.trim()),!r&&(null===(m=t.comment)||void 0===m||!m.trim())&&(n.isFocus=!0)),Object.keys(t).length>0&&(null===(i=t.choice_id)||void 0===i?void 0:i.length)>0&&(n.isanswered=!0);break;case Jn.COMMENT.TYPE_STR:!s||0!=Object.keys(t).length&&null!==(l=t.comment)&&void 0!==l&&l.trim()||(n.qmandatory=!0,!r&&(n.isFocus=!0)),Object.keys(t).length>0&&(null===(c=t.comment)||void 0===c?void 0:c.trim().length)>0&&(n.isanswered=!0);break;case Jn.DATE.TYPE_STR:var v,y;!s||0!=Object.keys(t).length&&t.date||(n.qmandatory=!0,!r&&(n.isFocus=!0)),e.enable_comment&&e.comment_mandatory&&t.date&&(n.cmt_mandatory=!(null!==(v=t.comment)&&void 0!==v&&v.trim()),(null===(y=t.comment)||void 0===y||!y.trim())&&!r&&(n.isFocus=!0)),Object.keys(t).length>0&&t.date&&(n.isanswered=!0);break;case Jn.NPS.TYPE_STR:case Jn.STAR.TYPE_STR:case Jn.RATING_SCALE.TYPE_STR:case Jn.TWO_POINT_SCALE.TYPE_STR:var g;if(s&&(0==Object.keys(t).length||!("score"in t)||t.score<(u===Jn.STAR.TYPE_STR?1:0))&&(n.qmandatory=!0,!r&&(n.isFocus=!0)),e.enable_comment)u==Jn.TWO_POINT_SCALE.TYPE_STR?n.cmt_mandatory=e.comment_mandatory&&t.score>=0&&!(null!==(g=t.comment)&&void 0!==g&&g.trim()):Lj(e,t,n),n.cmt_mandatory&&!r&&(n.isFocus=!0);Object.keys(t).length>0&&t.score>=(u===Jn.STAR.TYPE_STR?1:0)&&(n.isanswered=!0)}if(e.type==Jn.SINGLE_CHOICE.TYPE_STR||e.type==Jn.MULTIPLE_CHOICE.TYPE_STR){var h,b=0;if(n.isOtherErr=!1,(e.choices||[]).map(function(e,t){b=e.is_other?e.choice_id:0}),e.type==Jn.SINGLE_CHOICE.TYPE_STR&&Object.keys(t).length>0&&t.choice_id>0&&b>0&&t.choice_id==b){var _,E=!(null!==(_=t.other_answer)&&void 0!==_&&null!==(_=_[b])&&void 0!==_&&_.trim());n.isOtherErr=E,E&&!r&&(n.isFocus=!0)}if(e.type==Jn.MULTIPLE_CHOICE.TYPE_STR&&Object.keys(t).length>0&&(null===(h=t.choice_id)||void 0===h?void 0:h.length)>0&&b>0&&t.choice_id.includes(b)){var S,w=!(null!==(S=t.other_answer)&&void 0!==S&&null!==(S=S[b])&&void 0!==S&&S.trim());n.isOtherErr=w,w&&!r&&(n.isFocus=!0)}}return n},Zj=function(e,t){var n,r=Number(e.comment_score),a=t.score,o=function(e,t){var n,r;return t==Jn.NPS.TYPE_STR?(n=0,r=10):t==Jn.STAR.TYPE_STR?(n=1,r=e):t==Jn.RATING_SCALE.TYPE_STR&&(n=0,r=e-1),{minScore:n,maxScore:r}}(e.max_count,e.type),i=o.minScore,l=o.maxScore;return!(!(e.comment_mandatory&&r>=i&&r<=l&&a>=i&&a<=l&&("0"==e.comment_criteria&&a<=r||"1"==e.comment_criteria&&a>=r))||null!==(n=t.comment)&&void 0!==n&&n.trim())},Lj=function(e,t,n){n.cmt_mandatory=Zj(e,t)};function Fj(e){return Fj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fj(e)}function Bj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Uj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bj(Object(n),!0).forEach(function(t){Hj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Hj(e,t,n){return(t=function(e){var t=function(e){if("object"!=Fj(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Fj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Fj(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vj=function(e){var t,n=e.question,r=e.attemptdata,a=e.errordata,o=e.autoSaveHandler,i=e.themedata,l=Kb();return Nb.createElement(Nb.Fragment,null,Nb.createElement(bj,{question:n,themedata:i,errordata:a}),Nb.createElement("div",{className:"zpl_thmMans"},Nb.createElement(Uw,{minScoreText:Nm(n.minscore_text),maxScoreText:Nm(n.maxscore_text),selectedBtn:null!==(t=r.score)&&void 0!==t?t:null,onClickHandler:function(e){var t=Object.keys(r).length?mo(r):{question_id:n.question_id};t.score=e,t.isanswered=e>=0,function(e){var t={cmt_mandatory:!1};n.enable_comment&&Lj(n,e,t),l(zy(Hj({},e.question_id,t)))}(t),l(Ny(Hj({},n.question_id,t))),o(n.question_id,n.type,t)},showArrow:!0}),Nb.createElement(hj,{question:n,attemptdata:r,errordata:a,themedata:i,additionalCmtHandler:function(e){var t=e.target.value,i=Object.keys(r).length?mo(r):{question_id:n.question_id,isanswered:!0};i.comment=t,l(Ny(Hj({},n.question_id,i))),l(zy(Hj({},n.question_id,Uj(Uj({},a),{},{cmt_mandatory:n.comment_mandatory&&!t&&Zj(n,i)})))),i.score>=0&&o(n.question_id,n.type,i)}})))};function Yj(e){return Yj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yj(e)}function Wj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Gj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wj(Object(n),!0).forEach(function(t){$j(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $j(e,t,n){return(t=function(e){var t=function(e){if("object"!=Yj(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Yj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Yj(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qj=function(e){var t=e.question,n=e.attemptdata,r=e.errordata,a=e.themedata,o=e.autoSaveHandler,i=Kb(),l=function(e){var n={cmt_mandatory:!1};t.enable_comment&&Lj(t,e,n),i(zy($j({},e.question_id,n)))};return(0,Nb.useEffect)(function(){if(t.is_avgrating&&null==n.score){var e=Object.keys(n).length?mo(n):{question_id:t.question_id};e.score=t.max_count,e.isanswered=!0,l(e),i(Ny($j({},t.question_id,e)))}},[n]),Nb.createElement(Nb.Fragment,null,Nb.createElement(bj,{question:t,themedata:a,errordata:r}),Nb.createElement("div",{className:"zpl_thmMans"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(wN,{maxCount:t.max_count,isView:!1,selectedStar:n.score>0?n.score-1:n.score+1||null,onClickHandler:function(e){var r=Object.keys(n).length?mo(n):{question_id:t.question_id};r.score=e,r.isanswered=!!e,l(r),i(Ny($j({},t.question_id,r))),o(t.question_id,t.type,r)}})),Nb.createElement(hj,{question:t,attemptdata:n,errordata:r,themedata:a,additionalCmtHandler:function(e){var a=e.target.value,l=Object.keys(n).length?mo(n):{question_id:t.question_id,isanswered:!0};l.comment=a,i(Ny($j({},t.question_id,l))),i(zy($j({},t.question_id,Gj(Gj({},r),{},{cmt_mandatory:t.comment_mandatory&&!a&&Zj(t,l)})))),l.score>0&&o(t.question_id,t.type,l)}})))};function Xj(e){return Xj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xj(e)}function Kj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kj(Object(n),!0).forEach(function(t){eA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eA(e,t,n){return(t=function(e){var t=function(e){if("object"!=Xj(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Xj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Xj(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tA=function(e){var t,n,r=e.question,a=e.attemptdata,o=e.errordata,i=e.themedata,l=e.autoSaveHandler,c=Kb(),u={max_count:r.max_count,rating_type:r.rating_type,layout:r.layout};return n=r.rating_type==re||r.rating_type===ae||r.rating_type==oe||r.rating_type==ie||r.rating_type==le?r.scale_customtext:Om(r.rating_type,r.max_count),Nb.createElement(Nb.Fragment,null,Nb.createElement(bj,{question:r,themedata:i,errordata:o}),Nb.createElement("div",{className:"zpl_thmMans"},Nb.createElement(yN,{ratingConfig:u,customText:n,isView:!1,onClickHandler:function(e){var t=Object.keys(a).length?mo(a):{question_id:r.question_id};t.score=e,t.isanswered=e>=0,function(e){var t,n={cmt_mandatory:!1};r.enable_comment&&(r.type==Jn.TWO_POINT_SCALE.TYPE_STR?n.cmt_mandatory=r.comment_mandatory&&e.score>=0&&!(null!==(t=e.comment)&&void 0!==t&&t.trim()):Lj(r,e,n)),c(zy(eA({},e.question_id,n)))}(t),c(Ny(eA({},r.question_id,t))),l(r.question_id,r.type,t)},selectedbtn:null!==(t=a.score)&&void 0!==t?t:null}),Nb.createElement(hj,{question:r,attemptdata:a,errordata:o,themedata:i,additionalCmtHandler:function(e){var t=e.target.value,n=Object.keys(a).length?mo(a):{question_id:r.question_id,isanswered:!0};n.comment=t,c(Ny(eA({},r.question_id,n))),c(zy(eA({},r.question_id,Jj(Jj({},o),{},{cmt_mandatory:r.comment_mandatory&&!t&&Zj(r,n)})))),n.score>=0&&l(r.question_id,r.type,n)}})))},nA=function(e,t){var n=[];return(e||[]).forEach(function(e){n.push(rA(e,null==t?void 0:t[e.question_id]))}),n};function rA(e,t){var n,r,a=e.type,o=t,i=!1,l={};switch(e.hasOwnProperty("question_id")&&(r=e.question_id),a||""){case Jn.SINGLE_CHOICE.TYPE_STR:var c=[];if(o&&o.choice_id){var u=o.choice_id,s={choice_id:u};if(o.other_answer){var d,p=o.other_answer;s.other_answer=null===(d=p[u])||void 0===d?void 0:d.trim()}c.push(s),i=!0}l={question_id:r,choice_ids:c,isanswered:i};break;case Jn.MULTIPLE_CHOICE.TYPE_STR:var f=[];o&&(null===(n=o.choice_id)||void 0===n?void 0:n.length)>0&&((o.choice_id||[]).forEach(function(e){var t={choice_id:e};if(o.other_answer){var n,r=o.other_answer;t.other_answer=null===(n=r[e])||void 0===n?void 0:n.trim()}f.push(t)}),i=!0),l={question_id:r,choice_ids:f,isanswered:i};break;case Jn.COMMENT.TYPE_STR:l={question_id:r},null!=o&&o.comment&&(i=!0,l.comment=o.comment.trim()),l.isanswered=i;break;case Jn.DATE.TYPE_STR:l={question_id:r},null!=o&&o.date&&(i=!0,l.date=o.date),l.isanswered=i;break;case Jn.NPS.TYPE_STR:case Jn.RATING_SCALE.TYPE_STR:case Jn.TWO_POINT_SCALE.TYPE_STR:l={question_id:r},(null==o?void 0:o.score)>=0?(i=!0,l.score=o.score):l.score=-1,l.isanswered=i;break;case Jn.STAR.TYPE_STR:l={question_id:r},null!=o&&o.score?(i=!0,l.score=o.score):l.score=0,l.isanswered=i}return null!=o&&o.comment&&(l.comment=o.comment.trim()),l}var aA=function(e){var t=e.surveydata,n=e.question,r=e.attemptdata,a=e.errordata,o=e.themedata,i=e.isPreview,l=(0,Nb.useRef)();(0,Nb.useEffect)(function(){null!=a&&a.isFocus&&l.current.scrollIntoView({behavior:"smooth"})},[a]),(0,Nb.useEffect)(function(){l.current&&1==t.questions_per_page&&l.current.focus()},[n.question_order]);var c=(0,Nb.useCallback)(R(function(e,n,r){if(!i){var a=rA({type:n},r);t.type==we?recordId&&(a.record_id=recordId):t.type==on&&(courseId&&(a.course_id=courseId),batchId>0&&(a.batch_id=batchId));var o="zpsurvey/surveys/".concat(t.survey_id,"/questions/").concat(e,"/save");y.post(o,new URLSearchParams({responseData:JSON.stringify(a)}),{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}}).then(function(e){})}},300),[]);return Nb.createElement("div",{className:"zpl_secn",ref:l,tabIndex:"-1"},function(){var e=n.type,t=n.question_id;switch(e||""){case Jn.SINGLE_CHOICE.TYPE_STR:return Nb.createElement(Nj,{question:n,key:t,attemptdata:r||{},errordata:a||{},themedata:o||{},autoSaveHandler:c});case Jn.MULTIPLE_CHOICE.TYPE_STR:return Nb.createElement(Cj,{question:n,key:t,attemptdata:r||{},errordata:a||{},themedata:o||{},autoSaveHandler:c});case Jn.COMMENT.TYPE_STR:return Nb.createElement(kj,{question:n,key:t,attemptdata:r||{},errordata:a||{},themedata:o||{},autoSaveHandler:c});case Jn.DATE.TYPE_STR:return Nb.createElement(qj,{question:n,key:t,attemptdata:r||{},errordata:a||{},themedata:o||{},autoSaveHandler:c});case Jn.NPS.TYPE_STR:return Nb.createElement(Vj,{question:n,key:t,attemptdata:r||{},errordata:a||{},themedata:o||{},autoSaveHandler:c});case Jn.STAR.TYPE_STR:return Nb.createElement(Qj,{question:n,key:t,attemptdata:r||{},errordata:a||{},themedata:o||{},autoSaveHandler:c});case Jn.RATING_SCALE.TYPE_STR:case Jn.TWO_POINT_SCALE.TYPE_STR:return Nb.createElement(tA,{question:n,key:t,attemptdata:r||{},errordata:a||{},themedata:o||{},autoSaveHandler:c})}}())},oA=function(e){var t=e.metricName;return Nb.createElement("div",{className:"zpl_survUI-mnam ui_queNmbr"},Nb.createElement("span",null,Nb.createElement("h4",null,t)))},iA=function(e){var t=e.attemptdata,n=e.surveydata,r=e.revealIdentityHandler,a=e.parentClass,o=null==t?void 0:t.reveal_identity;return Nb.createElement(uw,{id:"reveal_identity",isActive:o,label:ZPI18N.getString(n.type==Se?"zp.enps.reveal_identity":"zp.survey.reveal_identity.popup.doubleconfirm.text"),onChange:function(){return r(!o)},parentClass:a})},lA=function(e){var t=e.onClickHandler,n=e.isMobileView,r=void 0!==n&&n;return Nb.createElement("div",{className:"zpl_flex-a-c zpl_gap-2 zpl_cp","data-popup-open":"instructOpen",onClick:t,tabIndex:"0"},Nb.createElement("i",{className:"PI_sampdata blk zpl_ma0 ".concat(r?"zpl_fh3":"")}),r?"":ZPI18N.getString("zp.survey.view.instruction"))};function cA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var uA=function(e){var t,n=document.createElement("div");n.innerHTML=sA(e);var r,a=n.getElementsByTagName("img"),o=window.location.protocol+"//"+window.location.host+"/"+("undefined"!=typeof ZPeople&&void 0!==ZPeople.PORTAL_NAME?null===(t=ZPeople)||void 0===t?void 0:t.PORTAL_NAME:"undefined"===portal?portalName:portal);return(r=a,function(e){if(Array.isArray(e))return cA(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return cA(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cA(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()||[]).forEach(function(e){var t=e.src;if(t){var n=t.indexOf("inlineimgpreview?");n>-1&&(e.src=o+"/"+t.substring(n)+"&conreqcsr="+csrfToken)}}),l().sanitize(n.innerHTML)},sA=function(e){return(e.match(/:\b(smilenew|lol|sad|angry|tongueout|winknew|meh|shocked|worried|sleepy|lipssealed|neutral|like|dislike|claps|searching|tensed|dizzy|coolnew|yummy|idea|injured|sick|anxious|doubtful|tearofjoy|halo|grin|loveit|curious|thinking|relaxed|yuck|blush|upset|stressed|tired|bored|jealous|evil|facepalm|surprise|headache|namaste|super|birthday|feelingwarm|feelingcold|ontarget)\b:/gi)||[]).forEach(function(t){var n=t.substr(1,t.length-2);e=e.replace(t,"<span class='zcoemoji-".concat(n,"'></span>"))}),e},dA=function(e){var t=e.headerName,n=e.closeActionHandler,r=e.children,a=e.closeTabIndex,o=void 0===a?0:a,i=e.closeAriaLabel,l=void 0===i?ZPI18N.getString("zp.close"):i,c=e.headerTabIndex,u=void 0===c?0:c,s=e.headerAriaLabel,d=e.showBackButton,p=e.backActionHandler;return Nb.createElement("div",{className:"zpl_mhder"},Nb.createElement("div",{className:"d-flexcap a-itm-cntr",tabIndex:u,"aria-label":s},d&&Nb.createElement("i",{className:"_cls PI_back",tabIndex:0,onClick:p}),Nb.createElement("h4",null,t)),r,Nb.createElement("a",{className:"_cls PI_cls",onClick:n,tabIndex:o,"aria-label":l}))},pA=function(e){var t=e.surveydata,n=e.closeHandler,r=(0,Nb.useRef)(null);return(0,Nb.useEffect)(function(){r.current&&(r.current.style.setProperty("block-size","100%","important"),r.current.focus())},[]),(0,Nb.useEffect)(function(){var e=function(e){"Escape"===e.key&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}},[]),Nb.createElement("div",{className:"zpl_mdl zpl_mopen","data-modal-box":"instructOpen",ref:r,tabIndex:"-1"},Nb.createElement("div",{className:"zpl_minr"},Nb.createElement(dA,{headerName:ZPI18N.getString("zp.assessment.welcome_msg"),closeActionHandler:n,headerAriaLabel:ZPI18N.getString("zp.survey.introduction.slider.open")}),Nb.createElement("div",{className:"zpl_mcnt"},Nb.createElement("form",null,Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn",dangerouslySetInnerHTML:{__html:uA(t.instruction)},tabIndex:"0",role:"textbox","aria-readonly":"true"})))))))};function fA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var mA=function(e){var t=e.surveydata,n=e.attemptdata,r=e.totalQCount,a=e.qno,o=e.prevHandler,i=e.nextHandler,l=e.submitHandler,c=e.revealIdtySaveHandler,u=e.groupno,s=e.isTemplatePreview,d=e.isSubmitting,p=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fA(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fA(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(!1),2),f=p[0],m=p[1],v=Kb(),y=t.metric_type==gn&&(t.metric_groups||[]).length,g=0==t.questions_per_page&&t.metric_type==gn,h=0==t.questions_per_page&&t.metric_type!=gn,b=(0,Nb.useCallback)(function(){m(!1)},[]);return Nb.createElement("div",{className:"tViewFTr j-cnt-btwen"},Nb.createElement("div",{className:"zpl_flex-a-c"},((g?y-1==u:r-1==a)||h)&&Nb.createElement(Nb.Fragment,null,Nb.createElement(J_,{disabled:d,className:"zlabel--blue",onClickHandler:l},ZPI18N.getString("zp.submit")),!s&&Nb.createElement("div",{className:"zpl_vbrdr"})),sv(t.type)&&(t.respondent_identity==It||t.respondent_identity==Ot)&&Nb.createElement("div",{className:"zpl_flex-a-c zpl_gap-2"},ZPI18N.getString(t.respondent_identity==It?"zp.enps.note_anonymous":"zp.enps.mantatory_disclosure_identity.note")),sv(t.type)&&t.respondent_identity==zt&&Nb.createElement(iA,{attemptdata:n,surveydata:t,revealIdentityHandler:function(e){if(t.respondent_identity==zt){var n={reveal_identity:e};v(wy(n)),c(n)}},parentClass:"zpl_mt1"})),Nb.createElement("div",{className:"zpl_flex-a-c"},!s&&t.instruction&&Nb.createElement(lA,{onClickHandler:function(){m(!0)}}),!h&&Nb.createElement(Nb.Fragment,null,!s&&Nb.createElement("div",{className:"zpl_vbrdr"}),(g?u>0:a>0)&&Nb.createElement(J_,{className:"zlabel--outline",onClickHandler:o},ZPI18N.getString("zp.previous")),(g?y-1!=u:r-1!=a)&&Nb.createElement(J_,{className:"zlabel--blue",onClickHandler:i},ZPI18N.getString("zp.next")))),f&&qE.createPortal(Nb.createElement(pA,{surveydata:t,closeHandler:b}),document.getElementById("zpEEUserInterParent")))};function vA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var yA=function(e){var t=e.surveydata,n=e.attemptdata,r=e.totalQCount,a=e.qno,o=e.prevHandler,i=e.nextHandler,l=e.submitHandler,c=e.revealIdtySaveHandler,u=e.groupno,s=e.isSubmitting,d=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vA(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vA(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(!1),2),p=d[0],f=d[1],m=Kb(),v=t.metric_type==gn&&(t.metric_groups||[]).length,y=0==t.questions_per_page&&t.metric_type==gn,g=0==t.questions_per_page&&t.metric_type!=gn,h=(0,Nb.useCallback)(function(){f(!1)},[]);return Nb.createElement("div",{className:"tViewFTr j-cnt-btwen"},sv(t.type)&&(t.respondent_identity==It||t.respondent_identity==Ot)&&Nb.createElement("div",{className:"zpl_clamp-2 zpl_lh-title"},ZPI18N.getString(t.respondent_identity==It?"zp.enps.note_anonymous":"zp.enps.mantatory_disclosure_identity.note")),sv(t.type)&&t.respondent_identity==zt&&Nb.createElement(iA,{attemptdata:n,surveydata:t,revealIdentityHandler:function(e){if(t.respondent_identity==zt){var n={reveal_identity:e};m(wy(n)),c(n)}},parentClass:"zpl_mt1"}),Nb.createElement("div",{className:"zpl_flex-a-c zpl_flex-j-sb zpl_w-100"},Nb.createElement("div",{className:"zpl_flex-a-c"},((y?v-1==u:r-1==a)||g)&&Nb.createElement(Nb.Fragment,null,Nb.createElement(J_,{disabled:s,className:"zlabel--blue",onClickHandler:l},ZPI18N.getString("zp.submit")),Nb.createElement("div",{className:"zpl_vbrdr"})),t.instruction&&Nb.createElement(lA,{onClickHandler:function(){f(!0)},isMobileView:!0})),!g&&Nb.createElement("div",null,(y?u>0:a>0)&&Nb.createElement(J_,{className:"zlabel--outline",onClickHandler:o},ZPI18N.getString("zp.previous")),(y?v-1!=u:r-1!=a)&&Nb.createElement(J_,{className:"zlabel--blue",onClickHandler:i},ZPI18N.getString("zp.next")))),p&&qE.createPortal(Nb.createElement(pA,{surveydata:t,closeHandler:h}),document.getElementById("zpEEUserInterParent")))};function gA(e){return gA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gA(e)}function hA(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return bA(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(bA(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,bA(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,bA(d,"constructor",u),bA(u,"constructor",c),c.displayName="GeneratorFunction",bA(u,a,"GeneratorFunction"),bA(d),bA(d,a,"Generator"),bA(d,r,function(){return this}),bA(d,"toString",function(){return"[object Generator]"}),(hA=function(){return{w:o,m:p}})()}function bA(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}bA=function(e,t,n,r){function o(t,n){bA(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},bA(e,t,n,r)}function _A(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function EA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var SA=function(e){var t,n=Kb(),r=e.surveydata,a=e.attemptdata,o=e.errordata,i=e.themedata,l=e.setViewType,c=e.isPreview,u=e.revealIdtySaveHandler,s=e.isTemplatePreview,d=r.questions,p=null===(t=r.questions)||void 0===t?void 0:t.length,f=(0,Nb.useRef)(0),m=null==a?void 0:a.questions,v=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return EA(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EA(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(!1),2),g=v[0],h=v[1],b=function(){var e=[],t=!0,r=0,a=!1,i=0;return(d||[]).map(function(l){var c,u={},s={},d=l.ismandatory;null!=m&&m[l.question_id]&&(u=mo(m[l.question_id])),o[l.question_id]&&(s=mo(o[l.question_id])),d&&e.push(l.question_id),null!==(c=s=Mj(l,u,s,a))&&void 0!==c&&c.isFocus&&(a=s.isFocus),(s.qmandatory&&0==Object.keys(s).length||s.qmandatory||s.cmt_mandatory||s.isOtherErr)&&(t=!1),s.isanswered&&(r+=1),d&&s.isanswered&&(i+=1),n(zy(function(e,t,n){return(t=function(e){var t=function(e){if("object"!=gA(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=gA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gA(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},l.question_id,s)))}),f.current=r,0==e.length&&0==Object.keys(m).length||0==r?(B({text:ZPI18N.getString("zp.feedback.submit.error.message"),duration:3e3}).showError(),t=!1):e.length>0&&e.length!=i&&(B({text:ZPI18N.getString("zp.survey.all.mandatory.ques.feedback.required"),duration:3e3}).showError(),t=!1),t},_=function(){var e,t=(e=hA().m(function e(){var t,n,r;return hA().w(function(e){for(;;)switch(e.n){case 0:if(t=function(){E()},!b()){e.n=2;break}if(!(f.current>0&&d.length>f.current)){e.n=1;break}return n=new pI({title:ZPI18N.getString("zp.survey.submit.unanswered.title"),message:ZPI18N.getString("zp.survey.submit.unanswered.message"),confirmText:ZPI18N.getString("zp.proceed"),cancelText:ZPI18N.getString("zp.cancel"),style:{"block-size":"100% !important"},popupAriaLabel:ZPI18N.getString("zp.confirmation.popup.alert"),confirmCallback:t}),e.n=1,n.confirmation();case 1:if(!(f.current>0&&d.length==f.current)){e.n=2;break}return r=new pI({title:ZPI18N.getString("zp.survey.submit.answered.title"),message:ZPI18N.getString("zp.survey.submit.answered.message"),confirmText:ZPI18N.getString("zp.proceed"),cancelText:ZPI18N.getString("zp.cancel"),style:{"block-size":"100% !important"},popupAriaLabel:ZPI18N.getString("zp.confirmation.popup.alert"),confirmCallback:t}),e.n=2,r.confirmation();case 2:return e.a(2)}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){_A(o,r,a,i,l,"next",e)}function l(e){_A(o,r,a,i,l,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}(),E=function(){if(c)l("thanku");else{h(!0);var e={question_responses:nA(d,m)};r.recurrence_id>0&&(e.recurrence_id=r.recurrence_id),r.respondent_identity==Ot?e.reveal_identity=!0:r.respondent_identity==zt&&(e.reveal_identity=!!a.reveal_identity&&a.reveal_identity),r.type==we&&(flowId&&(e.flow_id=flowId),recordId&&(e.record_id=recordId)),r.type==on&&(courseId&&(e.course_id=courseId),batchId>0&&(e.batch_id=batchId));var t="zpsurvey/surveys/".concat(r.survey_id,"/submit");y.patch(t,new URLSearchParams({responseData:JSON.stringify(e)}),{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}}).then(function(e){200===e.status&&l("thanku")}).catch(function(e){var t;B({text:(null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||ZPI18N.getString("zp.unabletoprocess"),duration:3e3}).showError()}).finally(function(){h(!1)})}};return Nb.createElement("div",{className:"zpl_tViewCnt zpl_tView_ftr"},Nb.createElement("div",{"data-class":"tViewCnt",className:i.theme+" "+i.qa_font},Nb.createElement("div",{className:"zpl_thmImg",style:i.bg_style}),Nb.createElement("div",{className:i.background},Nb.createElement("div",{className:"zpl_thmMttl"},Nb.createElement("div",null,Nb.createElement("h4",null,r.survey_name))),Nb.createElement("div",{className:"zpl_thmMcnt"},Nb.createElement("div",null,sv(r.type)&&r.metric_type===vn&&Nb.createElement(oA,{metricName:r.metric_name}),(d||[]).map(function(e){return Nb.createElement(Nb.Fragment,{key:r.survey_id+"-"+e.question_id},Nb.createElement(aA,{surveydata:r,question:e,attemptdata:null==m?void 0:m[e.question_id],errordata:o[e.question_id],themedata:i,isPreview:c}))}))),A.any()?Nb.createElement(yA,{surveydata:r,attemptdata:a,totalQCount:p,submitHandler:_,revealIdtySaveHandler:u,isSubmitting:g}):Nb.createElement(mA,{surveydata:r,attemptdata:a,totalQCount:p,submitHandler:_,revealIdtySaveHandler:u,isTemplatePreview:s,isSubmitting:g}))))};function wA(e){return wA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wA(e)}function NA(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return PA(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(PA(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,PA(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,PA(d,"constructor",u),PA(u,"constructor",c),c.displayName="GeneratorFunction",PA(u,a,"GeneratorFunction"),PA(d),PA(d,a,"Generator"),PA(d,r,function(){return this}),PA(d,"toString",function(){return"[object Generator]"}),(NA=function(){return{w:o,m:p}})()}function PA(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}PA=function(e,t,n,r){function o(t,n){PA(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},PA(e,t,n,r)}function OA(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function IA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zA(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zA(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var CA=function(e){var t=Kb(),n=e.surveydata,r=e.attemptdata,a=e.errordata,o=e.themedata,i=e.setViewType,l=e.isPreview,c=e.revealIdtySaveHandler,u=e.isTemplatePreview,s=n.questions,d=n.questions.length,p=IA((0,Nb.useState)(0),2),f=p[0],m=p[1],v=(0,Nb.useRef)(0),g=null==r?void 0:r.questions,h=IA((0,Nb.useState)(!1),2),b=h[0],_=h[1],E=function(){var e=f;e>0&&m(e-=1)},S=function(){var e=f,t=s[e];e<d&&w(t)&&m(e+=1)},w=function(e){var n=!1,r={},o={};null!=g&&g[e.question_id]&&(r=mo(g[e.question_id])),a[e.question_id]&&(o=mo(a[e.question_id]));var i=Mj(e,r,o,!1);return 0==Object.keys(i).length?n=!0:(i.qmandatory||i.cmt_mandatory||i.isOtherErr||(n=!0),i.qmandatory&&!ov(e,r)&&(B({text:ZPI18N.getString("zp.survey.single.mandatory.ques.feedback.required"),duration:3e3}).showError(),n=!1)),t(zy(function(e,t,n){return(t=function(e){var t=function(e){if("object"!=wA(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=wA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==wA(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e.question_id,i))),n},N=function(){if(w(s[f])){var e=[],t=0;return(s||[]).map(function(n){n.ismandatory&&e.push(n.question_id);var r=null==g?void 0:g[n.question_id];ov(n,r)&&t++}),v.current=t,(0!=e.length||0!=Object.keys(g).length)&&0!=t||(B({text:ZPI18N.getString("zp.feedback.submit.error.message"),duration:3e3}).showError(),!1)}},P=function(){var e,t=(e=NA().m(function e(){var t,n,r;return NA().w(function(e){for(;;)switch(e.n){case 0:if(t=function(){O()},!N()){e.n=2;break}if(!(v.current>0&&d>v.current)){e.n=1;break}return n=new pI({title:ZPI18N.getString("zp.survey.submit.unanswered.title"),message:ZPI18N.getString("zp.survey.submit.unanswered.message"),confirmText:ZPI18N.getString("zp.proceed"),cancelText:ZPI18N.getString("zp.cancel"),style:{"block-size":"100% !important"},popupAriaLabel:ZPI18N.getString("zp.confirmation.popup.alert"),confirmCallback:t}),e.n=1,n.confirmation();case 1:if(!(v.current>0&&d==v.current)){e.n=2;break}return r=new pI({title:ZPI18N.getString("zp.survey.submit.answered.title"),message:ZPI18N.getString("zp.survey.submit.answered.message"),confirmText:ZPI18N.getString("zp.proceed"),cancelText:ZPI18N.getString("zp.cancel"),style:{"block-size":"100% !important"},popupAriaLabel:ZPI18N.getString("zp.confirmation.popup.alert"),confirmCallback:t}),e.n=2,r.confirmation();case 2:return e.a(2)}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){OA(o,r,a,i,l,"next",e)}function l(e){OA(o,r,a,i,l,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}(),O=function(){if(l)i("thanku");else{_(!0);var e={question_responses:nA(s,g)};n.recurrence_id>0&&(e.recurrence_id=n.recurrence_id),n.respondent_identity==Ot?e.reveal_identity=!0:n.respondent_identity==zt&&(e.reveal_identity=!!r.reveal_identity&&r.reveal_identity);var t="zpsurvey/surveys/".concat(n.survey_id,"/submit");y.patch(t,new URLSearchParams({responseData:JSON.stringify(e)}),{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}}).then(function(e){200===e.status&&i("thanku")}).catch(function(e){var t;B({text:(null===(t=e.response.data)||void 0===t?void 0:t.message)||ZPI18N.getString("zp.unabletoprocess"),duration:3e3}).showError()}).finally(function(){_(!1)})}};return Nb.createElement("div",{className:"zpl_tViewCnt zpl_tView_ftr zpl_tView_sngl"},Nb.createElement("div",{"data-class":"tViewCnt",className:o.theme+" "+o.qa_font},Nb.createElement("div",{className:"zpl_thmImg",style:o.bg_style}),Nb.createElement("div",{className:o.background},Nb.createElement("div",{className:"zpl_thmMttl"},Nb.createElement("div",null,Nb.createElement("h4",null,n.survey_name))),Nb.createElement("div",{className:"zpl_thmMcnt"},Nb.createElement("div",null,sv(n.type)&&n.metric_type===vn&&Nb.createElement(oA,{metricName:n.metric_name}),s[f]&&Nb.createElement(aA,{key:n.survey_id+"-"+s[f].question_id,surveydata:n,question:s[f],attemptdata:null==g?void 0:g[s[f].question_id],errordata:a[s[f].question_id],themedata:o,isPreview:l}))),A.any()?Nb.createElement(yA,{surveydata:n,attemptdata:r,totalQCount:d,qno:f,prevHandler:E,nextHandler:S,submitHandler:P,revealIdtySaveHandler:c,isSubmitting:b}):Nb.createElement(mA,{surveydata:n,attemptdata:r,totalQCount:d,qno:f,prevHandler:E,nextHandler:S,submitHandler:P,revealIdtySaveHandler:c,isTemplatePreview:u,isSubmitting:b}))))},TA=function(e){var t=e.surveydata,n=e.onClickHandler,r=e.themedata,a=e.isStarting;return Nb.createElement("div",{className:"zpl_tViewCnt",tabIndex:"0","aria-label":ZPI18N.getString("zp.survey.participate.survey.desc",[t.survey_name])},Nb.createElement("div",{"data-class":"tViewCnt",className:r.theme+" "+r.introtq_font},Nb.createElement("div",{className:"zpl_thmImg",style:r.bg_style}),Nb.createElement("div",{className:r.background},Nb.createElement("div",{className:"zpl_thmIntro "+r.align},Nb.createElement("div",{className:"thmIntro_cnt"},Nb.createElement("h2",{className:"thmIntro_ttl"},t.survey_name),Nb.createElement("div",{className:"thmIntro_desc",dangerouslySetInnerHTML:{__html:uA(t.instruction)},tabIndex:"0",role:"textbox","aria-readonly":"true"}),sv(t.type)&&(t.respondent_identity==It||t.respondent_identity==Ot)&&Nb.createElement("div",{className:"thmIntro_note",tabIndex:"0"},Nb.createElement("div",{className:"org"},Nb.createElement("p",null,ZPI18N.getString(t.respondent_identity==It?"zp.enps.note_anonymous":"zp.enps.mantatory_disclosure_identity.note")))),Nb.createElement("div",null,Nb.createElement("button",{disabled:a,className:"zlabel zlabel--blue zlabel--medium",onClick:n},ZPI18N.getString("zp.survey.enter_feedback"))))))))},xA=function(e){var t=e.themedata,n=e.surveydata;return Nb.createElement("div",{className:"zpl_tViewCnt"},Nb.createElement("div",{"data-class":"tViewCnt",className:t.theme+" "+t.introtq_font},Nb.createElement("div",{className:"zpl_thmImg",style:t.bg_style}),Nb.createElement("div",{className:t.background},Nb.createElement("div",{className:"zpl_thmIntro flex-dirC "+t.align},Nb.createElement("div",{className:"zpl_thmImgCon"},Nb.createElement("div",{className:"zpl_tqImg ".concat(en.active)})),Nb.createElement("div",{className:"thmIntro_cnt"},Nb.createElement("h2",{className:"thmIntro_ttl",dangerouslySetInnerHTML:{__html:uA(n.thankyou_message)},tabIndex:"0",role:"textbox","aria-readonly":"true"}),Nb.createElement("div",{className:"thmIntro_desc"},Nb.createElement("div",{tabIndex:"0"},ZPI18N.getString("zp.survey.thankyoumsg_note",[""]))))))))},kA=function(e){var t=e.imageclass,n=e.message,r=e.desc;return Nb.createElement("div",{className:"zpl_themeCnt"},Nb.createElement("div",{className:"zpl_tViewCnt"},Nb.createElement("div",{"data-class":"tViewCnt",className:"zpl_thmBrck P0I"},Nb.createElement("div",{className:"zpl_thmImg"}),Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_thmIntro flex-dirC text-center"},Nb.createElement("div",{className:"zpl_thmImgCon"},Nb.createElement("div",{className:"zpl_tqImg ".concat(t)})),Nb.createElement("div",null,Nb.createElement("h3",null,Nm(n)),Nb.createElement("p",{className:"zpl_mt3"},Nm(r))))))))};function DA(e){return DA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DA(e)}function jA(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return AA(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(AA(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,AA(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,AA(d,"constructor",u),AA(u,"constructor",c),c.displayName="GeneratorFunction",AA(u,a,"GeneratorFunction"),AA(d),AA(d,a,"Generator"),AA(d,r,function(){return this}),AA(d,"toString",function(){return"[object Generator]"}),(jA=function(){return{w:o,m:p}})()}function AA(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}AA=function(e,t,n,r){function o(t,n){AA(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},AA(e,t,n,r)}function RA(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function qA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return MA(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MA(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ZA=function(e){var t=Kb(),n=e.surveydata,r=e.attemptdata,a=e.errordata,o=e.themedata,i=e.setViewType,l=e.isPreview,c=e.revealIdtySaveHandler,u=e.isTemplatePreview,s=n.metric_groups,d=null==r?void 0:r.questions,p=(0,Nb.useRef)(0),f=qA((0,Nb.useState)(0),2),m=f[0],v=f[1],g=qA((0,Nb.useState)(0),2),h=g[0],b=g[1],_=s[m],E=_&&_.questions[h],S=n.question_count,w=n.metric_groups.flatMap(function(e){return e.questions}),N=qA((0,Nb.useState)(!1),2),P=N[0],O=N[1],I=function(){h>0?b(h-1):m>0&&(v(m-1),b(s[m-1].questions.length-1))},z=function(){C(E)&&(h<_.questions.length-1?b(h+1):m<s.length-1&&(v(m+1),b(0)))},C=function(e){var n=!1,r={},o={};null!=d&&d[e.question_id]&&(r=mo(d[e.question_id])),a[e.question_id]&&(o=mo(a[e.question_id]));var i=Mj(e,r,o,!1);return 0==Object.keys(i).length?n=!0:(i.qmandatory||i.cmt_mandatory||i.isOtherErr||(n=!0),i.qmandatory&&!ov(e,r)&&(B({text:ZPI18N.getString("zp.survey.single.mandatory.ques.feedback.required"),duration:3e3}).showError(),n=!1)),t(zy(function(e,t,n){return(t=function(e){var t=function(e){if("object"!=DA(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=DA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==DA(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e.question_id,i))),n},T=function(){if(C(E)){var e=[],t=0;return(w||[]).map(function(n){n.ismandatory&&e.push(n.question_id);var r=null==d?void 0:d[n.question_id];ov(n,r)&&t++}),p.current=t,(0!=e.length||0!=Object.keys(d).length)&&0!=t||(B({text:ZPI18N.getString("zp.feedback.submit.error.message"),duration:3e3}).showError(),!1)}},x=function(){var e,t=(e=jA().m(function e(){var t,n,r;return jA().w(function(e){for(;;)switch(e.n){case 0:if(t=function(){k()},!T()){e.n=2;break}if(!(p.current>0&&S>p.current)){e.n=1;break}return n=new pI({title:ZPI18N.getString("zp.survey.submit.unanswered.title"),message:ZPI18N.getString("zp.survey.submit.unanswered.message"),confirmText:ZPI18N.getString("zp.proceed"),cancelText:ZPI18N.getString("zp.cancel"),style:{"block-size":"100% !important"},popupAriaLabel:ZPI18N.getString("zp.confirmation.popup.alert"),confirmCallback:t}),e.n=1,n.confirmation();case 1:if(!(p.current>0&&S==p.current)){e.n=2;break}return r=new pI({title:ZPI18N.getString("zp.survey.submit.answered.title"),message:ZPI18N.getString("zp.survey.submit.answered.message"),confirmText:ZPI18N.getString("zp.proceed"),cancelText:ZPI18N.getString("zp.cancel"),style:{"block-size":"100% !important"},popupAriaLabel:ZPI18N.getString("zp.confirmation.popup.alert"),confirmCallback:t}),e.n=2,r.confirmation();case 2:return e.a(2)}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){RA(o,r,a,i,l,"next",e)}function l(e){RA(o,r,a,i,l,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}(),k=function(){if(l)i("thanku");else{O(!0);var e={question_responses:nA(w,d)};n.recurrence_id>0&&(e.recurrence_id=n.recurrence_id),n.respondent_identity==Ot?e.reveal_identity=!0:n.respondent_identity==zt&&(e.reveal_identity=!!r.reveal_identity&&r.reveal_identity);var t="zpsurvey/surveys/".concat(n.survey_id,"/submit");y.patch(t,new URLSearchParams({responseData:JSON.stringify(e)}),{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}}).then(function(e){200===e.status&&i("thanku")}).catch(function(e){var t;B({text:(null===(t=e.response.data)||void 0===t?void 0:t.message)||ZPI18N.getString("zp.unabletoprocess"),duration:3e3}).showError()}).finally(function(){O(!1)})}};return Nb.createElement("div",{className:"zpl_tViewCnt zpl_tView_ftr zpl_tView_sngl"},Nb.createElement("div",{"data-class":"tViewCnt",className:o.theme+" "+o.qa_font},Nb.createElement("div",{className:"zpl_thmImg",style:o.bg_style}),Nb.createElement("div",{className:o.background},Nb.createElement("div",{className:"zpl_thmMttl"},Nb.createElement("div",null,Nb.createElement("h4",null,n.survey_name))),Nb.createElement("div",{className:"zpl_thmMcnt"},Nb.createElement("div",null,Nb.createElement(oA,{metricName:null==_?void 0:_.metric_name}),E&&Nb.createElement(aA,{key:n.survey_id+"-"+E.question_id,surveydata:n,question:E,attemptdata:null==d?void 0:d[E.question_id],errordata:a[E.question_id],themedata:o,isPreview:l}))),A.any()?Nb.createElement(yA,{surveydata:n,attemptdata:r,totalQCount:S,qno:(null==E?void 0:E.question_order)-1,prevHandler:I,nextHandler:z,submitHandler:x,revealIdtySaveHandler:c,isSubmitting:P}):Nb.createElement(mA,{surveydata:n,attemptdata:r,totalQCount:S,qno:(null==E?void 0:E.question_order)-1,prevHandler:I,nextHandler:z,submitHandler:x,revealIdtySaveHandler:c,isTemplatePreview:u,isSubmitting:P}))))};function LA(e){return LA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LA(e)}function FA(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return BA(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(BA(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,BA(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,BA(d,"constructor",u),BA(u,"constructor",c),c.displayName="GeneratorFunction",BA(u,a,"GeneratorFunction"),BA(d),BA(d,a,"Generator"),BA(d,r,function(){return this}),BA(d,"toString",function(){return"[object Generator]"}),(FA=function(){return{w:o,m:p}})()}function BA(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}BA=function(e,t,n,r){function o(t,n){BA(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},BA(e,t,n,r)}function UA(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function HA(e,t,n){return(t=function(e){var t=function(e){if("object"!=LA(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=LA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==LA(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||YA(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YA(e,t){if(e){if("string"==typeof e)return WA(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WA(e,t):void 0}}function WA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var GA=function(e){var t=Kb(),n=e.surveydata,r=e.attemptdata,a=e.errordata,o=e.themedata,i=e.setViewType,l=e.isPreview,c=e.revealIdtySaveHandler,u=e.isTemplatePreview,s=n.metric_groups,d=null==r?void 0:r.questions,p=(0,Nb.useRef)(0),f=VA((0,Nb.useState)(0),2),m=f[0],v=f[1],g=VA((0,Nb.useState)(0),2),h=(g[0],g[1]),b=s[m],_=n.metric_groups.flatMap(function(e){return e.questions}),E=n.question_count,S=(0,Nb.useRef)(),w=VA((0,Nb.useState)(!1),2),N=w[0],P=w[1];(0,Nb.useEffect)(function(){S.current.scrollTop=0},[m]);var O=function(){m>0&&(v(m-1),h(0))},I=function(){z(b)&&m<s.length-1&&(v(m+1),h(0))},z=function(e){var n,r=!1,o=!1,i=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=YA(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(i)throw a}}}}((null==e?void 0:e.questions)||[]);try{for(i.s();!(n=i.n()).done;){var l=n.value,c={},u={};r=!1,o=!1,null!=d&&d[l.question_id]&&(c=mo(d[l.question_id])),a[l.question_id]&&(u=mo(a[l.question_id]));var s=Mj(l,c,u,o);if(0==Object.keys(s).length?r=!0:(s.qmandatory||s.cmt_mandatory||s.isOtherErr||(r=!0),s.qmandatory&&!ov(l,c)&&(B({text:ZPI18N.getString("zp.survey.all.mandatory.ques.feedback.required"),duration:3e3}).showError(),r=!1)),t(zy(HA({},l.question_id,s))),!r)return}}catch(e){i.e(e)}finally{i.f()}return r},C=function(){if(z(b)){var e=[],t=0;return(_||[]).map(function(n){n.ismandatory&&e.push(n.question_id);var r=null==d?void 0:d[n.question_id];ov(n,r)&&t++}),p.current=t,(0!=e.length||0!=Object.keys(d).length)&&0!=t||(B({text:ZPI18N.getString("zp.feedback.submit.error.message"),duration:3e3}).showError(),!1)}},T=function(){var e,t=(e=FA().m(function e(){var t,n,r;return FA().w(function(e){for(;;)switch(e.n){case 0:if(t=function(){x()},!C()){e.n=2;break}if(!(p.current>0&&E>p.current)){e.n=1;break}return n=new pI({title:ZPI18N.getString("zp.survey.submit.unanswered.title"),message:ZPI18N.getString("zp.survey.submit.unanswered.message"),confirmText:ZPI18N.getString("zp.proceed"),cancelText:ZPI18N.getString("zp.cancel"),style:{"block-size":"100% !important"},popupAriaLabel:ZPI18N.getString("zp.confirmation.popup.alert"),confirmCallback:t}),e.n=1,n.confirmation();case 1:if(!(p.current>0&&E==p.current)){e.n=2;break}return r=new pI({title:ZPI18N.getString("zp.survey.submit.answered.title"),message:ZPI18N.getString("zp.survey.submit.answered.message"),confirmText:ZPI18N.getString("zp.proceed"),cancelText:ZPI18N.getString("zp.cancel"),style:{"block-size":"100% !important"},popupAriaLabel:ZPI18N.getString("zp.confirmation.popup.alert"),confirmCallback:t}),e.n=2,r.confirmation();case 2:return e.a(2)}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){UA(o,r,a,i,l,"next",e)}function l(e){UA(o,r,a,i,l,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}(),x=function(){if(l)i("thanku");else{P(!0);var e={question_responses:nA(_,d)};n.recurrence_id>0&&(e.recurrence_id=n.recurrence_id),n.respondent_identity==Ot?e.reveal_identity=!0:n.respondent_identity==zt&&(e.reveal_identity=!!r.reveal_identity&&r.reveal_identity);var t="zpsurvey/surveys/".concat(n.survey_id,"/submit");y.patch(t,new URLSearchParams({responseData:JSON.stringify(e)}),{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}}).then(function(e){200===e.status&&i("thanku")}).catch(function(e){var t;B({text:(null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||ZPI18N.getString("zp.unabletoprocess"),duration:3e3}).showError()}).finally(function(){P(!1)})}};return Nb.createElement("div",{className:"zpl_tViewCnt zpl_tView_ftr"},Nb.createElement("div",{"data-class":"tViewCnt",className:o.theme+" "+o.qa_font},Nb.createElement("div",{className:"zpl_thmImg",style:o.bg_style}),Nb.createElement("div",{className:o.background},Nb.createElement("div",{className:"zpl_thmMttl"},Nb.createElement("div",null,Nb.createElement("h4",null,n.survey_name))),Nb.createElement("div",{className:"zpl_thmMcnt",ref:S},Nb.createElement("div",null,Nb.createElement(oA,{metricName:null==b?void 0:b.metric_name}),null==b?void 0:b.questions.map(function(e){return Nb.createElement(aA,{surveydata:n,key:n.survey_id+"-"+e.question_id,question:e,attemptdata:null==d?void 0:d[e.question_id],errordata:a[e.question_id],themedata:o,isPreview:l})}))),A.any()?Nb.createElement(yA,{surveydata:n,attemptdata:r,prevHandler:O,nextHandler:I,submitHandler:T,revealIdtySaveHandler:c,groupno:m,isSubmitting:N}):Nb.createElement(mA,{surveydata:n,attemptdata:r,prevHandler:O,nextHandler:I,submitHandler:T,revealIdtySaveHandler:c,groupno:m,isTemplatePreview:u,isSubmitting:N}))))};function $A(e){return $A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$A(e)}function QA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function XA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QA(Object(n),!0).forEach(function(t){KA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KA(e,t,n){return(t=function(e){var t=function(e){if("object"!=$A(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=$A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$A(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eR(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eR(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tR=function(e){var t=e.surveydata,n=e.isPreview,r=e.revealIdtySaveHandler,a=e.isTemplatePreview,o=void 0!==a&&a,i=e.templateSelectedThemeData,l=Mb(function(e){return e.attempt}),c=l.attemptdata,u=l.errordata,s=JA((0,Nb.useState)(!n&&isSurveyStarted?"attempt":"start"),2),d=s[0],p=s[1],f=JA((0,Nb.useState)(t),2),m=f[0],v=f[1],g=o?i:t.theme,h=o?_t:t.current_state,b=Kb(),_=JA((0,Nb.useState)(!1),2),E=_[0],S=_[1];(0,Nb.useEffect)(function(){var e,n=1,r=function(e){return(e||[]).map(function(e){var t;return XA(XA({question_order:n++},e),{},{type:null===(t=Object.values(Jn).find(function(t){return t.TYPE===e.type}))||void 0===t?void 0:t.TYPE_STR})})},a=mo(t),o=null!==(e=t.metric_groups)&&void 0!==e&&e.length?XA(XA({},a),{},{metric_groups:a.metric_groups.map(function(e){return XA(XA({},e),{},{questions:r(e.questions)})})}):XA(XA({},a),{},{questions:r(a.questions)});o&&(v(o),b(Sy({surveys:o})))},[t]);var w=function(){if(n)p("attempt");else{S(!0);var e={};t.recurrence_id>0&&(e.recurrence_id=t.recurrence_id),t.type==we?(flowId&&(e.flow_id=flowId),recordId&&(e.record_id=recordId)):t.type==on&&(courseId&&(e.course_id=courseId),batchId>0&&(e.batch_id=batchId));var r="zpsurvey/surveys/".concat(t.survey_id,"/startresponse");y.patch(r,new URLSearchParams({responseData:JSON.stringify(e)}),{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}}).then(function(e){200===e.status&&p("attempt")}).catch(function(e){B({text:e.message||ZPI18N.getString("zp.unabletoprocess"),duration:3e3}).showError()}).finally(function(){S(!1)})}},N=function(){var e,t,n,r,a,o,i="",l={};if(g){var c,u,s,d,p,f,m,v,y,h=g.layout?De[g.layout].previewClassName:"",b=null!==(c=g.bg_settings)&&void 0!==c&&c.patt?g.bg_settings.patt:"",_=null!==(u=g.color)&&void 0!==u&&u.background?g.color.background:"";a=null!==(s=g.introtq_props)&&void 0!==s&&s.font?We[g.introtq_props.font]:"",o=null!==(d=g.qa_props)&&void 0!==d&&d.font?We[g.qa_props.font]:"",e="center"==(null===(p=g.introtq_props)||void 0===p?void 0:p.align)?"text-center":"",r=null!==(f=g.color)&&void 0!==f&&f.answer?g.color.answer:"",n=null!==(m=g.color)&&void 0!==m&&m.question?g.color.question:"",null!==(v=g.bg_settings)&&void 0!==v&&v.fileInfo&&(l.backgroundImage="url(".concat(g.bg_settings.fileInfo.previewURL,")"),l.filter="brightness(".concat(Number(g.bg_settings.brightness)/100,")")),""==_||""==b&&0==g.layout||(_=""),i="".concat(0==(null==g?void 0:g.layout)?_+" P0I":h+" "+b+" "+_),t=""==(t=null!==(y=g.color)&&void 0!==y&&y.background?g.color.background:"")||""==b&&0==g.layout?"":t}return{align:e,theme:i,bg_style:l,background:t,qcolor:n,acolor:r,introtq_font:a,qa_font:o}},P=function(){return"start"===d&&h===_t?Nb.createElement(TA,{surveydata:t,onClickHandler:w,themedata:N(),isStarting:E}):"attempt"===d&&0==t.questions_per_page&&h===_t?t.metric_type!=gn?Nb.createElement(SA,{surveydata:m,attemptdata:c,errordata:u,themedata:N(),setViewType:p,isPreview:n,revealIdtySaveHandler:r,isTemplatePreview:o}):Nb.createElement(GA,{surveydata:m,attemptdata:c,errordata:u,themedata:N(),setViewType:p,isPreview:n,revealIdtySaveHandler:r,isTemplatePreview:o}):"attempt"===d&&1==t.questions_per_page&&h===_t?t.metric_type!=gn?Nb.createElement(CA,{surveydata:m,attemptdata:c,errordata:u,themedata:N(),setViewType:p,isPreview:n,revealIdtySaveHandler:r,isTemplatePreview:o}):Nb.createElement(ZA,{surveydata:m,attemptdata:c,errordata:u,themedata:N(),setViewType:p,isPreview:n,revealIdtySaveHandler:r,isTemplatePreview:o}):"thanku"===d&&h===_t?Nb.createElement(xA,{themedata:N(),surveydata:t}):h===nn?Nb.createElement(kA,{imageclass:en[nn],message:t.survey_name,desc:"zp.survey.submitted_feedback"}):h===St?Nb.createElement(kA,{imageclass:en[St],message:t.survey_name,desc:"zp.survey.closed"}):h===Et?Nb.createElement(kA,{imageclass:en[Et],message:t.survey_name,desc:"zp.survey.feed.disabled.survey"}):h===wt?Nb.createElement(kA,{imageclass:en[wt],message:t.survey_name,desc:"zp.survey.delete.or.disable.survey"}):void 0};return o?P():Nb.createElement("div",{className:"zpl_outer zpl_tpAdjst"},Nb.createElement("div",{className:"cont-wrap"},Nb.createElement("div",{className:"main-wrp"},Nb.createElement("div",{className:"zpl_themeCnt wd100_per"},P()))))};function nR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rR=function(){var e=Mb(function(e){return e.createTheme}),t=e.themeList,n=e.themeData,r=e.mode,a=e.fetchInitialData,o=Mb(function(e){return e.createSurvey},Hb),i=o.surveyData,l=o.themeData,c=i.theme_id,u=l.fetchInitialThemeData,s=Kb(),d=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nR(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nR(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(!1),2),p=d[0],f=d[1];return(0,Nb.useEffect)(function(){isadmin&&s(Lg({mode:Le})),a&&(s(Ag()),s(Rg()))},[]),(0,Nb.useEffect)(function(){if(!a&&u)if(Number(c)>-1&&t.length>0){var e,n=(t||[]).filter(function(e){return e.theme_id==c});n.length>0&&(s(Fi({theme_id:null===(e=n[0])||void 0===e?void 0:e.theme_id})),s(Ui({themeData:n[0]})))}else if(!c||c<=-1){var r,o=(t||[]).filter(function(e){return 1==e.is_default});o.length>0&&(s(Fi({theme_id:null===(r=o[0])||void 0===r?void 0:r.theme_id})),s(Ui({themeData:o[0]})))}}),(0,Nb.useEffect)(function(){s(Sy({surveys:i,attemptdata:{questions:{}},errordata:{}}))},[]),Nb.createElement("div",{className:"zpl_act"},Nb.createElement("div",{className:"zpl_crd wd100_per"},a||u?Nb.createElement(aE,{height:500}):Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_themeCnt"},Nb.createElement(yj,{themeList:t,themeData:n,selectedThemeData:l,isCreatePage:p,setCreatePage:f,mode:r}),Nb.createElement(tR,{surveydata:i,isPreview:!0,isTemplatePreview:!0,templateSelectedThemeData:p?n:l})))))},aR=function(e){var t=e.type,n=[{url:"configuration",displayName:ZPI18N.getString("zp.setup")},{url:"questions",displayName:ZPI18N.getString("zp.questions")},{url:"theme",displayName:ZPI18N.getString("zp.local.theme")}],r=q_();return(0,Nb.useEffect)(function(){r("configuration")},[]),Nb.createElement("div",{className:"zpl_mcnt"},Nb.createElement("div",{className:"zpl_mmnu"},Nb.createElement(VD,{links:n,callbackHandler:fP}),Nb.createElement("div",{className:"zpl_mmnurgt"},Nb.createElement(X_,null,Nb.createElement($_,{path:"",element:Nb.createElement(G_,{to:"/configuration"})}),Nb.createElement($_,{path:"/configuration",element:Nb.createElement(pk,null)}),Nb.createElement($_,{path:"/questions",element:Nb.createElement(HD,{type:t})}),Nb.createElement($_,{path:"/theme",element:Nb.createElement(rR,null)}),Nb.createElement($_,null)))))},oR=function(e){switch(e){case Oe:return fm.getState().sharedSurvey;case Ee:return fm.getState().engagementRecords;case Ie:return fm.getState().pulseRecords;case Se:return fm.getState().enpsRecords}},iR=function(e){switch(e){case Oe:return Hp;case Ee:return nd;case Ie:return rm;case Se:return js}},lR=function(e){var t,n,r={};return(null===(t=e.metric_ids)||void 0===t?void 0:t.length)>0&&(r.metric_ids=null===(n=e.metric_ids||[])||void 0===n?void 0:n.filter(function(e){return null!=e})),e.survey_name&&(r.survey_name=e.survey_name),e.status&&(r.status=e.status),e.survey_type&&(r.survey_type=e.survey_type),e.period&&(r.start_date=e.start_date,r.end_date=e.end_date),r};const cR=e=>{let t="enps"===e?fm.getState().enpsRecords:"engagement"===e?fm.getState().engagementRecords:fm.getState().pulseRecords,n=t?.filter;const r=document.getElementById("surveys_view");r.innerHTML="",r.appendChild(Am());const a="enps"===e?js:"engagement"===e?nd:rm;fm.dispatch(a({pno:0,mode:e,filter:lR(n)})).then(t=>{if("fulfilled"===t.meta.requestStatus){const{filter:t}="enps"===e?fm.getState().enpsRecords:"engagement"===e?fm.getState().engagementRecords:fm.getState().pulseRecords;vo(n,t)||(SR(),_q())}})},uR=(e,t)=>{const{filter:n}=fm.getState()[t===Po.ENPS?"enpsRecords":t===Po.ENGAGEMENT?"engagementRecords":"pulseRecords"],r=t===Po.ENPS?Fs:t===Po.ENGAGEMENT?ud:sm;SR();const a=ZPCreateDOM(ib,{staticChildren:ZPCreateDOM(dR,{filter:n,onInputHandler:()=>{hR(!1)}}),children:ZPCreateDOM(Am,null),clsCallback:sR,saveCallback:()=>(e=>{fm.dispatch(r({data:[],filter:bR(),nextPageNumber:0})),cR(e)})(t),resetCallback:()=>(e=>{fm.dispatch(r({data:[],filter:{status:n.status||"4"},nextPageNumber:0})),sR(),cR(e)})(t)});Tm(e,"zpl_fltr_flt"),e.appendChild(a),fR(e,n,t);const o=a.querySelector("input[type=search]");o?.focus(),o.selectionStart=o.selectionEnd=o.value.length},sR=()=>{let e=Cm("SURVEY_CONT");xm(e,"zpl_fltr_flt"),SR(),Sm().querySelector("[rel=EE_FILTER_WRAPPER]")?.remove()},dR=({filter:e,onInputHandler:t,rel:n="EE_SURVEYNAME_FILTER"})=>ZPCreateDOM("div",{className:"zpl_secn"},ZPCreateDOM("div",null,ZPCreateDOM("label",{tabIndex:"0"},ZPI18N.getString("zp.surveyname"))),ZPCreateDOM("div",null,ZPCreateDOM("div",{className:"zpl_srchsml"},ZPCreateDOM("input",{placeholder:ZPI18N.getString("zp.survey.enter.survey_name"),type:"search",className:"ztextbox",rel:n,value:e?.survey_name,onInput:t,autoFocus:!0})))),pR=({period:e,surveyType:t})=>ZPCreateDOM("fragment",null,ZPCreateDOM("div",{className:"zpl_secn"},ZPCreateDOM("div",null,ZPCreateDOM("label",null,ZPI18N.getString("zp.survey.employee.metrics"))),ZPCreateDOM("div",null,ZPCreateDOM("textarea",{id:"metricsFilter",rows:"60",style:"display: none;","data-zbp-bound":"true"}))),ZPCreateDOM("div",{className:"zpl_secn"},ZPCreateDOM("div",null,ZPCreateDOM("label",null,ZPI18N.getString("zp.status"))),ZPCreateDOM("div",null,ZPCreateDOM("select",{id:"statusFilter"}))),ZPCreateDOM("div",{className:"zpl_secn"},ZPCreateDOM("div",null,ZPCreateDOM("label",null,ZPI18N.getString("zp.period"))),ZPCreateDOM("div",null,ZPCreateDOM("select",{id:"periodFilter"}))),ZPCreateDOM("div",{className:"zpl_secn "+("custom"==e?"":"hide"),rel:"FILTER_FROM"},ZPCreateDOM("div",null,ZPCreateDOM("label",null,ZPI18N.getString("zp.from"))),ZPCreateDOM("div",null,ZPCreateDOM("input",{id:"filter-from-date",className:"datepicker-js","data-placeholder-type":"date-format-in-lower","data-format":"dd/MM/yyyy","data-picker":"true","data-calendar-icon":"true","data-clear-button":"none","data-spin-buttons":"none",style:"display: none;"}))),ZPCreateDOM("div",{className:"zpl_secn "+("custom"==e?"":"hide"),REL:"FILTER_TO"},ZPCreateDOM("div",null,ZPCreateDOM("label",null,ZPI18N.getString("zp.to"))),ZPCreateDOM("div",null,ZPCreateDOM("input",{id:"filter-to-date",className:"datepicker-js","data-placeholder-type":"date-format-in-lower","data-format":dateFmt,"data-picker":"true","data-calendar-icon":"true","data-clear-button":"none","data-spin-buttons":"none",style:"display: none;"})))),fR=(e,t,n)=>{mR(vR,e,t,n)},mR=(e,t,n,r)=>{const{metrics:a}=fm.getState().surveyCommon;$.when((async()=>(a.hasOwnProperty("active")||await fm.dispatch(op()),!0))()).then(function(){"function"==typeof e&&e(t,n,r)})},vR=(e,t,n)=>{const{metric_ids:r,status:a,period:o,survey_type:i}=t,{metrics:l}=fm.getState().surveyCommon;let c=[],u=[],s={},d={},p=[],f=[],m=l.active||[];Object.keys(m).forEach(e=>{let t=m[e],n=t.metric_id,a={value:t.name,id:n};c.push(a),r?.includes(n)&&p.push(a)});let v={...Wm(c,p),listitemselect:()=>hR(!1)};(Tt||[]).forEach(e=>{a==e?.value&&(s=e)});let y={options:Tt,selectedValue:s.value||0,optionclick:()=>hR(!1)};(xt||[]).forEach(e=>{i==e?.value&&(d=e)}),d.value,(Object.keys(Ct)||[]).forEach(e=>{let t=ER(e),n=t?.start_date?Dm(t.start_date):null,r=t?.end_date?Dm(t.end_date):null,a=n&&r?` (${n?.getDate()} ${Gt[n?.getMonth()]} - ${r?.getDate()} ${Gt[r?.getMonth()]})`:"",i={label:Ct[e].label+a,value:e};u.push(i),o==e&&(f=i)});let g={options:u,selectedValue:f.value,optionclick:gR};Rm(),e.querySelector("[rel=EE_FILTER_BODY]").appendChild(ZPCreateDOM(pR,{period:o,surveyType:n})),ZPeopleComponents.tokenfield($(e).find("#metricsFilter"),v),ZPeopleComponents.select($(e).find("#statusFilter"),y),ZPeopleComponents.select($(e).find("#periodFilter"),g),yR(t)},yR=e=>{const t=Dm(e?.start_date?e.start_date:jm(new Date)),n=Dm(e?.end_date?e.end_date:jm(new Date));ZPeopleComponents.datefield(Cm("filter-from-date"),{value:t.getDateBy(dateFmt),format:dateFmt,change:()=>hR(!1),pickerdateselect:e=>{ZPeopleComponents.datefield(Cm("filter-to-date")).setAttribute("min",e.detail.value)}}),ZPeopleComponents.datefield(Cm("filter-to-date"),{value:n.getDateBy(dateFmt),min:t,format:dateFmt,change:()=>hR(!1)})},gR=(e,t)=>{let n=Sm(),r=n.querySelector("[rel=FILTER_FROM]"),a=n.querySelector("[rel=FILTER_TO]"),o=t?.selectedValue;"custom"==o?(km(r,"hide")&&xm(r,"hide"),km(a,"hide")&&xm(a,"hide")):(!km(r,"hide")&&Tm(r,"hide"),!km(a,"hide")&&Tm(a,"hide")),hR(!1)},hR=(e=!0)=>{let t=Sm().querySelector("#eeFilterSave");t&&e?Tm(t,"hide"):xm(t,"hide")},bR=()=>{let e=Sm(),t=e.querySelector("[rel=EE_SURVEYNAME_FILTER]"),n=e.querySelector("#metricsFilter"),r=e.querySelector("#statusFilter"),a=e.querySelector("#periodFilter"),o={};t.value.trim().length>0&&(o.survey_name=t.value.trim());const i=n&&(ZPeopleComponents.tokenfield($(n))?.getAllValues()||[]).map(e=>e.id);return i?.length>0&&(o.metric_ids=i),ZPeopleComponents.select($(r))?.getValue().length>0&&(o.status=ZPeopleComponents.select($(r)).getValue()),ZPeopleComponents.select($(a))?.getValue().length>0&&(o.period=ZPeopleComponents.select($(a)).getValue()),o={...o,..._R(e)},o},_R=e=>{let t=e.querySelector("#periodFilter"),n=e.querySelector("#filter-from-date"),r=e.querySelector("#filter-to-date"),a=null;return ZPeopleComponents.select($(t))?.getValue().length>0&&(a=ZPeopleComponents.select($(t)).getValue()),"custom"==a?{start_date:jm(ZPeopleComponents.datefield($(n)).getValue().dateObject),end_date:jm(ZPeopleComponents.datefield($(r)).getValue().dateObject)}:ER(a)},ER=e=>{let t=jm(new Date);return"thisMonth"==e?{start_date:jm(new Date((new Date).getFullYear(),(new Date).getMonth(),1)),end_date:t}:"lastMonth"==e?{start_date:jm(new Date((new Date).getFullYear(),(new Date).getMonth()-1,1)),end_date:jm(new Date((new Date).getFullYear(),(new Date).getMonth(),0))}:"lastThreeMonth"==e?{start_date:jm(new Date((new Date).getFullYear(),(new Date).getMonth()-3,1)),end_date:jm(new Date((new Date).getFullYear(),(new Date).getMonth(),0))}:"lastSixMonth"==e?{start_date:jm(new Date((new Date).getFullYear(),(new Date).getMonth()-6,1)),end_date:jm(new Date((new Date).getFullYear(),(new Date).getMonth(),0))}:{}},SR=()=>{let e=Sm(),t=e.querySelector("#metricsFilter"),n=e.querySelector("#statusFilter"),r=e.querySelector("#periodFilter"),a=e.querySelector("#filter-from-date"),o=e.querySelector("#filter-to-date"),i=e.querySelector("#surveyTypeFilter");t&&ZPeopleComponents.tokenfield($(t)).destroy(),n&&ZPeopleComponents.select($(n)).destroy(),r&&ZPeopleComponents.select($(r)).destroy(),a&&ZPeopleComponents.select($(a)).destroy(),o&&ZPeopleComponents.select($(o)).destroy(),i&&ZPeopleComponents.select($(i)).destroy()},wR=({filter:e,surveyType:t})=>{const{survey_name:n,survey_type:r,start_date:a,end_date:o,metric_ids:i,period:l}=e,c=n||r||l||i?.length>0,u=(e=>{switch(e){case Po.ENGAGEMENT:return ud;case Po.PULSE:return sm;case Po.ENPS:return Fs}})(t),{metrics:s}=fm.getState().surveyCommon,d=i?.length>0?(s.active||[]).filter(e=>i?.includes(e.metric_id)):[],p=d.map(e=>e.name);if(!c)return null;const f=(n,r)=>{n.stopPropagation();const a={...e};Array.isArray(r)?r.forEach(e=>{delete a[e]}):delete a[r],fm.dispatch(u({filter:a,data:[],nextPageNumber:0})),cR(t),"metric_ids"==r&&ar("assess-survey-zpmenu"),n.target?.parentElement?.remove()},m=()=>{sR(),uR(Cm("SURVEY_CONT"),t)};return ZPCreateDOM("div",{className:"zpl_fltrvw",id:"survey-filter-view"},ZPCreateDOM("div",null,ZPCreateDOM("ul",{className:"zpl_fltrvwlst"},n&&ZPCreateDOM(lb,{filterLabel:ZPI18N.getString("zp.surveyname"),filter:n,closeHandler:e=>f(e,"survey_name"),onClickContainer:m}),i?.length>0&&ZPCreateDOM(lb,{filterLabel:ZPI18N.getString("zp.survey.employee.metrics"),filter:p,onClickContainer:()=>{m()},moreOptionHandler:e=>{((e,n)=>{e.stopPropagation(),showBoxMenu(e,(e=>{if("metric_ids"==e)return d.map(e=>({label:e.name,value:e.metric_id}))})(n),n,"ZDOMEEAPI.operations.exposeToWindowMethods.removeSurveyFilter",{surveyType:t})})(e,"metric_ids")},closeHandler:e=>f(e,"metric_ids")}),r&&ZPCreateDOM(lb,{filterLabel:ZPI18N.getString("zp.survey.type"),filter:xt.filter(e=>e.value==r)[0].label,onClickContainer:()=>{m()},closeHandler:e=>f(e,"survey_type")}),l&&(()=>{if("custom"==l)return ZPCreateDOM("fragment",null,a&&o&&ZPCreateDOM(lb,{filterLabel:ZPI18N.getString("zp.period"),filter:`${Dm(a).getDateBy(dateFmt)} - ${Dm(o).getDateBy(dateFmt)}`,closeHandler:e=>f(e,["start_date","end_date","period"])}));{let e=a?Dm(a):null,t=o?Dm(o):null,n=e&&t?` (${e?.getDate()} ${Gt[e?.getMonth()]} - ${t?.getDate()} ${Gt[t?.getMonth()]})`:"";return ZPCreateDOM(lb,{filterLabel:ZPI18N.getString("zp.period"),filter:Ct[l].label+n,onClickContainer:m,closeHandler:e=>f(e,["start_date","end_date","period"])})}})())),ZPCreateDOM("div",{className:"d-flexcap MLauto",onClick:()=>{fm.dispatch(u({filter:{status:e.status},data:[],nextPageNumber:0})),cR(t),ar("assess-survey-zpmenu"),Cm("survey-filter-view")?.remove()}},ZPCreateDOM("a",{className:"zpl_link"},ZPI18N.getString("zp.reset"))))},NR=(e,t="SURVEY_CONT")=>{e.appendChild(Kn("div",{className:"zpl_container"},Kn("div",{className:"zpl_iwrpr"},Kn("div",{className:"zpl_iwrprrgt zpl_crdwthful"},Kn("div",{className:"zpl_act",id:t})))))},PR=(e,t,n)=>{const r=Cm("SURVEY_CONT").querySelector("div[rel=btnMenu]"),{data:a}=fm.getState()[e===Po.ENPS?"enpsRecords":e===Po.ENGAGEMENT?"engagementRecords":"pulseRecords"],o=(t,r)=>{const a=location.hash,o=document.getElementById("toggleWrapper");if(o.innerHTML="",o.append(i(r)),"#employeeengagement/surveys/enps"===a){fm.dispatch(Fs({viewMode:r}));const{data:t}=fm.getState().enpsRecords;Aq(e,t,r,void 0,n)}else if("#employeeengagement/surveys/fullengagement"===a){fm.dispatch(ud({viewMode:r}));const{data:t}=fm.getState().engagementRecords;Aq(e,t,r,void 0,n)}else if("#employeeengagement/surveys/pulse"===a){fm.dispatch(sm({viewMode:r}));const{data:t}=fm.getState().pulseRecords;Aq(e,t,r,void 0,n)}},i=e=>Kn("fragment",null,Kn("i",{className:"PI_grid"+("gridView"===e?" zpl_act":""),mode:"grid",onClick:e=>o(0,"gridView")}),Kn("i",{className:"PI_listview"+("listView"===e?" zpl_act":""),mode:"list",onClick:e=>o(0,"listView")}));r.appendChild(Kn("div",{className:"zpl_rgt"},!n&&Kn("fragment",null,e===Se?Kn("button",{className:"zlabel zlabel--blue zlabel--medium",onClick:()=>(e=>{e===Po.ENGAGEMENT?og():e===Po.ENPS?eg():e===Po.PULSE&&fg()})(e)},ZPI18N.getString("zp.enps.newenps")):void 0,e===Ee?Kn("button",{className:"zlabel zlabel--blue zlabel--medium",onClick:e=>IR()},ZPI18N.getString("zp.engagement.new")):void 0,e===Ie?Kn("button",{className:"zlabel zlabel--blue zlabel--medium",onClick:e=>OR()},ZPI18N.getString("zp.pulse.new")):void 0),(a||[]).length>0&&Kn("div",{className:"grpbtn",id:"toggleWrapper"},i(t)),!n&&Kn("i",{className:"zpl_ibg PI_fltr",onClick:()=>uR(Cm("SURVEY_CONT"),e)})))},OR=()=>{Cm("employeeengagement-surveys-pulse").append(TR(Ie))},IR=()=>{Cm("employeeengagement-surveys-fullengagement").append(TR(Ee))},zR=e=>{Cm(e==Ie?"employeeengagement-surveys-pulse":"employeeengagement-surveys-fullengagement").querySelector("div[rel=popup-box]").remove()},CR=(e,t)=>{const n=Cm(t==Ie?"employeeengagement-surveys-pulse":"employeeengagement-surveys-fullengagement");(n.querySelector("div[rel=popup-options]").querySelectorAll("div.zpl_catlst")||[]).forEach(e=>{xm(e,"zpl_act")}),n.querySelector("div[rel="+e+"]")&&Tm(n.querySelector("div[rel="+e+"]"),"zpl_act"),"useExistingTemplate"==e?(zR(t),fm.dispatch(Qa({render:!0,viewType:Po.LIST_TEMPLATE,headerName:ZPI18N.getString("zp.seltemps"),tempType:t==Ie?"pulse_activetemplate":"engagement_activetemplate"}))):(fm.dispatch(Li({fetchInitialData:!1})),fm.dispatch(Fi({type:t})),t==Ie?fg():og())},TR=e=>Kn("div",{className:"zpl_mdl zpl_mcenter zpl_mopen","data-modal-box":"qbank_import",rel:"popup-box"},Kn("div",{className:"zpl_minr"},Kn("div",{className:"zpl_mhder"},Kn("div",null,Kn("h4",null,e==Ie?ZPI18N.getString("zp.pulse.new"):ZPI18N.getString("zp.engagement.new"))),Kn("a",{className:"_cls PI_cls",onClick:t=>zR(e)})),Kn("div",{className:"zpl_mcnt zpl_fm"},Kn("form",null,Kn("div",{className:"zpl_crd"},Kn("div",{className:"zpl_crdcnt"},Kn("div",{className:"zpl_secn"},Kn("div",{className:"zpl_crdlst",rel:"popup-options"},Kn("div",{className:"zpl_catlst zpl_catlstgry",rel:"createFromScratch",onClick:t=>CR("createFromScratch",e)},Kn("span",{className:"PI_frm_upld zpl_seclr10 icn"}),Kn("div",null,Kn("h5",null,ZPI18N.getString("zp.survey.new")),Kn("p",null,ZPI18N.getString("zp.survey.design.your.own.survey")))),Kn("div",{className:"zpl_catlst zpl_catlstgry",rel:"useExistingTemplate",onClick:t=>CR("useExistingTemplate",e)},Kn("span",{className:"PI_cpy zpl_seclr3 icn"}),Kn("div",null,Kn("h5",null,ZPI18N.getString("zp.leavetype.gallery.button.submit")),Kn("p",null,ZPI18N.getString("zp.engagement.template.desc"))))))))))));var xR=function(e){e==Se?(fm.dispatch(Hi()),tg(),fm.dispatch(Qa({render:!1}))):e==Ee?(fm.dispatch(Hi()),ig(),fm.dispatch(Qa({render:!1}))):e==Ie&&(fm.dispatch(Hi()),mg(),fm.dispatch(Qa({render:!1})))},kR=o(5848),DR=function(e){var t=e.contactUrl,n=e.logo,r=e.rel;return Nb.createElement("nav",{className:"zpl_Nav",rel:r||""},Nb.createElement("div",{className:"zpl_header"},Nb.createElement("div",{className:"zpl_mnLgo CP"},"null"==n?Nb.createElement("a",{className:"logo_l"}):Nb.createElement("a",{className:"logo_l",style:{backgroundImage:"url('/viewPhoto?filename=".concat(n,"')"),backgroundSize:"contain",width:"40px"}})),Nb.createElement("div",{className:"zpl_rProf"},Nb.createElement("ul",{className:"zpl_rnav"},Nb.createElement("li",{className:"zpl_Nvpicimg"},Nb.createElement("div",{className:"zpl_Nvpic"},Nb.createElement("img",{src:t})))))))},jR={},AR=function(e){var t=null!=e?e:-1;if(-1!=t){if(jR[t])return jR[t];var n=new URLSearchParams({mode:"GET_ORG_USERLIST_NEW",isInit:!1,conreqcsr:csrfToken,userIds:JSON.stringify([t])});return fetch("/commonAction.zp",{method:"POST",headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)},body:n}).then(function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()}).then(function(e){if(e.success)return RR(e.response)}).catch(function(e){console.error("Error:",e)})}},RR=function(e){var t=qR(e.userList[0],e);return jR[t.erecno]=t,t},qR=function(e,t){var n={},r=function(e,t,r,a,o){FR(e)?n[o]="":(n[o]=t[e],r&&(n[a]=r[e]))};return e.forEach(function(e,a){var o=s[a];if("reportingTo"==o)r(n[a],t.reposList,void 0,void 0,"reportingTo");else if("dualReportTo"==o)r(n[a],t.reposList,void 0,void 0,o);else if("isLogEnb"==o||"isNonUser"==o||"isMobileUser"==o){var i=n[a];n[o]="1"===i?"true":"false"}else n[o]=e}),ZR(n.avatar,n.id,n),n.name=MR(n.fname,n.lname),r(n.deptId,t.deptIdList,t.deptNameList,"deptName","deptId"),r(n.designation,t.desiIdList,t.desiNameList,"designation","desiId"),r(n.roleId,t.roleIdList,t.roleNameList,"roleName","roleId"),r(n.locId,t.locIdList,t.locNameList,"locName","locId"),r(n.entityId,t.entityIdList,t.entityNameList,"entityName","entityId"),r(n.unitId,t.unitIdList,t.unitNameList,"unitName","unitId"),r(n.divId,t.divIdList,t.divNameList,"divName","divId"),n},MR=function(e,t){var n,r,a,o;e=null!==(n=null===(r=e)||void 0===r?void 0:r.trim())&&void 0!==n?n:"",t=null!==(a=null===(o=t)||void 0===o?void 0:o.trim())&&void 0!==a?a:"";var i=userNameDisType,l="";return"2"==i?l=t:"4"==i?l=e+" "+t:"5"==i&&(l=t+" "+e),l},ZR=function(e,t,n){var r=!1;FR(e)||(null!=n.avatarid&&"string"==typeof n.avatarid&&null!=n.avatarid&&0==n.avatarid.indexOf("/newhr/images/sampleemployeephotos/")?(r=!0,n.hasZPImg=!0,n.originalphoto=n.avatarid,n.zpeoplePhoto=n.avatarid,n.avatar=n.avatarid,n.thumb=n.avatarid):"1"==e?(r=!0,n.hasZPImg=!0,n.originalphoto="viewPhoto?erecno="+n.usererec+"&mode=0&avatarid="+n.avatarid,n.zpeoplePhoto="viewPhoto?erecno="+n.usererec+"&mode=1&avatarid="+n.avatarid,n.avatar="viewPhoto?erecno="+n.usererec+"&mode=2&avatarid="+n.avatarid,n.thumb="viewPhoto?erecno="+n.usererec+"&mode=3&avatarid="+n.avatarid):"0"==e&&(n.originalphoto="viewPhoto?erecno="+n.usererec+"&mode=1&avatarid="+n.avatarid,n.zpeoplePhoto="viewPhoto?erecno="+n.usererec+"&mode=1&avatarid="+n.avatarid,n.avatar="viewPhoto?erecno="+n.usererec+"&mode=0&avatarid="+n.avatarid,n.thumb="viewPhoto?erecno="+n.usererec+"&mode=0&avatarid="+n.avatarid,r=!0)),r||null==t||"null"==t?r||(n.thumb=LR(),n.avatar=LR(),n.zpeoplePhoto=LR(),n.originalphoto=LR()):(n.thumb=contactUrl+"/file?ID="+t+"&fs=thumb",n.avatar=contactUrl+"/file?ID="+t+"&fs=thumb",n.zpeoplePhoto=contactUrl+"/file?ID="+t+"&fs=original",n.originalphoto=contactUrl+"/file?ID="+t+"&fs=original")},LR=function(){var e="undefined"!=typeof imgurl&&"null"!==imgurl;return(e?e+"people2":"")+"/images/user.png"},FR=function(e){return null==e||BR(e)},BR=function(e){for(var t in e)return!1;return!0};function UR(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return HR(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(HR(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,HR(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,HR(d,"constructor",u),HR(u,"constructor",c),c.displayName="GeneratorFunction",HR(u,a,"GeneratorFunction"),HR(d),HR(d,a,"Generator"),HR(d,r,function(){return this}),HR(d,"toString",function(){return"[object Generator]"}),(UR=function(){return{w:o,m:p}})()}function HR(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}HR=function(e,t,n,r){function o(t,n){HR(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},HR(e,t,n,r)}function VR(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function YR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var WR=function(e){var t=e.html,n=e.isTopNavNeeded,r=void 0===n||n,a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return YR(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YR(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(),2),o=a[0],i=a[1];return(0,Nb.useEffect)(function(){function e(){var t;return t=UR().m(function e(){var t,n;return UR().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,AR(erecno);case 1:t=e.v,n=(n=t&&(null==t?void 0:t.avatar)||LR()).startsWith("viewPhoto?")?window.location.protocol+"//"+ZPZOHOURL+"/"+portal+"/"+n:n,i(n);case 2:return e.a(2)}},e)}),e=function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function i(e){VR(o,r,a,i,l,"next",e)}function l(e){VR(o,r,a,i,l,"throw",e)}i(void 0)})},e.apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),Nb.createElement("div",{id:"eeShareReport"},r&&contactUrl&&Nb.createElement(DR,{contactUrl:o,logo:logo,rel:"EETopNav"}),Nb.createElement("div",{className:"zpl_outer"},Nb.createElement("div",{className:"cont-wrap"},Nb.createElement("div",{className:"main-wrp "},Nb.createElement("div",{className:"zpl_uiContainer"},Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_uiIntro_wrap"},Nb.createElement("section",{className:"ui_contWrap"},Nb.createElement("div",{className:"ui_mainCont"},Nb.createElement("div",{className:"ui_tabcnt"},Nb.createElement("div",{dangerouslySetInnerHTML:{__html:t}})))))))))))},GR=function(e){var t,n=e.html,r=e.pageSize,a=void 0===r?"A3":r,o=e.isDetailed,i=void 0!==o&&o,l="/new5zp/css/";return"undefined"!=typeof ZPLoader&&null!==(t=ZPLoader)&&void 0!==t&&null!==(t=t.PATH)&&void 0!==t&&t.CSS&&(l=ZPLoader.PATH.CSS),"undefined"!=typeof CSSV5PATH&&CSSV5PATH&&(l=CSSV5PATH),Nb.createElement("html",null,Nb.createElement("head",null,Nb.createElement("meta",{content:"text/html; charset=UTF-8",httpEquiv:"Content-Type"}),Nb.createElement("meta",{name:"viewport",content:"width=1024"}),"undefined"!=typeof page_title?Nb.createElement("title",null,page_title):"",Nb.createElement("style",{type:"text/css",media:"print"},"@page {size: ".concat(a," landscape; margin: 20px; page-break-after: always; -webkit-print-color-adjust: exact;}")),Nb.createElement("link",{rel:"stylesheet",type:"text/css",href:ZPeople.getResourceURL(l+"zpsurvey_report5.0.min.css")})),i?Nb.createElement("body",{className:"zpl_newpl zpl_themelight"},Nb.createElement("div",{className:"zpl_usrIntractn zpl_surveyPrint"},Nb.createElement("div",{className:"zpl_outer"},Nb.createElement("div",{className:"cont-wrap"},Nb.createElement("div",{className:"main-wrp "},Nb.createElement("div",{className:"zpl_uiContainer"},Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_uiIntro_wrap"},Nb.createElement("section",{className:"ui_contWrap"},Nb.createElement("div",{className:"ui_mainCont"},Nb.createElement("div",{className:"ui_tabcnt",dangerouslySetInnerHTML:{__html:n}}))))))))))):Nb.createElement("body",{className:"zpl_newpl zpl_themelight",dangerouslySetInnerHTML:{__html:n}}))};function $R(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return QR(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(QR(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,QR(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,QR(d,"constructor",u),QR(u,"constructor",c),c.displayName="GeneratorFunction",QR(u,a,"GeneratorFunction"),QR(d),QR(d,a,"Generator"),QR(d,r,function(){return this}),QR(d,"toString",function(){return"[object Generator]"}),($R=function(){return{w:o,m:p}})()}function QR(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}QR=function(e,t,n,r){function o(t,n){QR(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},QR(e,t,n,r)}function XR(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function KR(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){XR(o,r,a,i,l,"next",e)}function l(e){XR(o,r,a,i,l,"throw",e)}i(void 0)})}}function JR(e){return JR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JR(e)}function eq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eq(Object(n),!0).forEach(function(t){nq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nq(e,t,n){return(t=function(e){var t=function(e){if("object"!=JR(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=JR(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==JR(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rq(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return aq(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(aq(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,aq(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,aq(d,"constructor",u),aq(u,"constructor",c),c.displayName="GeneratorFunction",aq(u,a,"GeneratorFunction"),aq(d),aq(d,a,"Generator"),aq(d,r,function(){return this}),aq(d,"toString",function(){return"[object Generator]"}),(rq=function(){return{w:o,m:p}})()}function aq(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}aq=function(e,t,n,r){function o(t,n){aq(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},aq(e,t,n,r)}function oq(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function iq(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){oq(o,r,a,i,l,"next",e)}function l(e){oq(o,r,a,i,l,"throw",e)}i(void 0)})}}var lq=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"details",n=arguments.length>2?arguments[2]:void 0,r=e.status,a=e.current_state,o=n>=0?n:e.response_count||0,i=fm.getState().surveyCommon.initData.read_only;return void 0!==i&&i?"reports"==t&&o>0?[Ht.export,Ht.print]:[]:e.is_ready||0!=e.survey_state?"disabled"===a?[Ht.enable,Ht.seperator,Ht.delete]:"completed"===r?cq(e,t,o):"upcoming"===r?uq(e,t,o):sq(e,t,o):[Ht.edit,Ht.publish,Ht.seperator,Ht.delete]},cq=function(e,t,n){var r=[Ht.clone];return"listing"==t&&e.created_by===erecno&&e.allow_share&&n>0&&r.push(Ht.share),"reports"==t&&n>0&&(r.push(Ht.export),r.push(Ht.print)),e.is_repeat&&e.upcominginstance?r.push(Ht.seperator,Ht.disable,Ht.delete):r.push(Ht.seperator,Ht.delete),r},uq=function(e,t,n){var r=[Ht.clone];return"listing"==t&&e.created_by===erecno&&e.allow_share&&n>0&&r.push(Ht.share),"reports"==t&&n>0&&(r.push(Ht.export),r.push(Ht.print)),e.activation_type==qn&&r.push(Ht.seperator,Ht.disable,Ht.delete),r},sq=function(e,t,n){var r=[Ht.clone,Ht.preview];return""!==(null==e?void 0:e.url)&&r.splice(2,0,Ht.copyurl),"listing"==t&&e.created_by===erecno&&e.allow_share&&n>0&&r.push(Ht.share),"reports"==t&&n>0&&(r.push(Ht.export),r.push(Ht.print)),e.activation_type==qn?r.push(Ht.seperator,Ht.disable,Ht.delete):r.push(Ht.seperator,Ht.delete),r},dq=function(e,t,n,r,a){var o={edit:function(){return(t===Se?rg:t===Ee?cg:yg)(e.survey_id)},delete:function(){return mq(t,e.survey_id)},clone:function(){return(t===Se?ag:t===Ee?ug:gg)(e.survey_id)},disable:function(){return vq(t,e)},enable:function(){return yq(t,e)},copyurl:function(){return pq(e)},publish:function(){return gq(t,e,!1)},preview:function(){return fq(t,e)},share_report:function(){return bq(e,r)},export:function(){return function(e,t,n,r){var a=n.reports,o=void 0===a?{}:a,i=(n.reportFilter,n.single_question_response),l=n.currentRecurrence,c=n.appliedFilterData,u=t.survey_id,s=o.response_count,d=o.completed_response,p=o.respondent_identity;if(e==Se&&jz(s,p)||[Ee,Ie].includes(e)&&jz(d,p)){var f,m,v,y=function(){var e,t=r?document.querySelector("body").cloneNode(!0).querySelector("[rel=detailed-report]"):document.querySelector("body").cloneNode(!0).querySelector("[rel=ee_report_parent]");return null===(e=t.querySelector("iframe"))||void 0===e||e.remove(),(0,kR.renderToString)(Nb.createElement(WR,{html:t.innerHTML,isTopNavNeeded:!1}))};(f=[{id:zE(),label:ZPI18N.getString("zp.csv"),value:"csv",isChecked:!0},{id:zE(),label:ZPI18N.getString("zp.xls"),value:"xls"},{id:zE(),label:ZPI18N.getString("zp.xlsx"),value:"xlsx"},{id:zE(),label:ZPI18N.getString("zp.pdf"),value:"pdf"}],m=[{id:zE(),label:ZPI18N.getString("zp.survey.export.preferences.employee"),value:"default",isChecked:!0},{id:zE(),label:ZPI18N.getString("zp.survey.export.preferences.department"),value:"department"}],v={label:ZPI18N.getString("zp.export.additionalfields"),options:[{label:ZPI18N.getString("zp.department"),value:"department"},{label:ZPI18N.getString("zp.location"),value:"location"},{label:ZPI18N.getString("zp.designation"),value:"designation"}]},new VN(f,{passwordDetails:{passwordEnabled:!1},reportTypes:m,additionalFields:v})).showModal().then(function(n){r||e==Se?function(n){var r,a=n.passwordDetails,o=n.dataToExport,s=n.additionalFields;r=e===Se?t.question_id:i.question_id;var d=(s||[]).map(function(e){return e.value}),p={password:a.passwordEnabled?a.password:void 0,additional_fields:d},f="zpsurvey/surveys/".concat(u,"/questions/").concat(r,"/report-export"),m={type:n.type,report_type:"department"===o?"singlequestion_department":"singlequestion_export",content:"pdf"===n.type?y():void 0,recurrenceId:l||void 0,exportData:JSON.stringify(p),reportFilter:JSON.stringify(AT(c))};B({text:ZPI18N.getString("zp.generatingreport"),duration:2e3}).showWarning(),KN({url:f,method:"POST",data:m}).then(function(){var e=KR($R().m(function e(t){var n,r,a,o,i;return $R().w(function(e){for(;;)switch(e.n){case 0:if(!(n=t.headers["content-type"])||!n.includes("application/json")||202!==t.status){e.n=4;break}if(!(t.data instanceof Blob)){e.n=2;break}return e.n=1,t.data.text();case 1:o=e.v,r=null===(a=JSON.parse(o))||void 0===a?void 0:a.message,e.n=3;break;case 2:r=null===(i=t.data)||void 0===i?void 0:i.message;case 3:B({text:r||ZPI18N.getString("zp.mailyoureport"),duration:3e3}).showSuccess();case 4:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}())}(n):function(e){var t=e.passwordDetails,n=e.dataToExport,r=(e.additionalFields||[]).map(function(e){return e.value}),a={password:t.passwordEnabled?t.password:void 0,additional_fields:r},o={type:e.type||"pdf",report_type:"department"===n?"allquestion_department":"allquestion_export",content:"pdf"===e.type?y():void 0,recurrenceId:l||void 0,exportData:JSON.stringify(a),reportFilter:JSON.stringify(AT(c))},i="zpsurvey/surveys/".concat(u,"/report-export");B({text:ZPI18N.getString("zp.generatingreport"),duration:2e3}).showWarning(),KN({url:i,method:"POST",data:o}).then(function(){var e=KR($R().m(function e(t){var n,r,a,o,i;return $R().w(function(e){for(;;)switch(e.n){case 0:if(!(n=t.headers["content-type"])||!n.includes("application/json")||202!==t.status){e.n=4;break}if(!(t.data instanceof Blob)){e.n=2;break}return e.n=1,t.data.text();case 1:o=e.v,r=null===(a=JSON.parse(o))||void 0===a?void 0:a.message,e.n=3;break;case 2:r=null===(i=t.data)||void 0===i?void 0:i.message;case 3:B({text:r||ZPI18N.getString("zp.mailyoureport"),duration:3e3}).showSuccess();case 4:return e.a(2,t)}},e)}));return function(t){return e.apply(this,arguments)}}())}(n)})}else B({text:ZPI18N.getString("zp.disp_exporterror"),duration:3e3}).showError()}(t,e,a,r)},print:function(){return function(e,t,n){if(n){var r=document.querySelector("body").cloneNode(!0).querySelector("[rel=detailed-report]"),a=(0,kR.renderToString)(Nb.createElement(GR,{html:r.outerHTML,pageSize:"A3",isDetailed:!0})),o="undefined"!=typeof Layout&&Em()||document,i=null==o?void 0:o.querySelector("[rel=EE_PRINT_IFRAME]");if(!i)return;i&&(i.innerHTML="");var l=i.contentWindow;l.document.write(a),l.onload=function(){l.print()},l.document.close()}else gv(window.location.protocol+"//"+window.location.host+(""!=portalName?"/"+portalName:"")+"/surveys/"+e+(t?"/recurrence/"+t:"")+"/print")}(e.survey_id,e.prev_recurrence,r)}};o.hasOwnProperty(n)&&o[n]()},pq=function(e){var t=Bm(e.url,!1);navigator.clipboard.writeText(t),B({text:ZPI18N.getString("zp.copysuccess"),duration:3e3}).showSuccess()},fq=function(e,t){return gv(Bm(t.url,!0))},mq=function(){var e=iq(rq().m(function e(t,n){var r;return rq().w(function(e){for(;;)switch(e.n){case 0:return r=new Ry(ZPI18N.getString("zp.survey.delete.confirm"),ZPI18N.getString("zp.survey.delete.message"),ZPI18N.getString("zp.delete"),ZPI18N.getString("zp.cancel"),"red"),e.n=1,r.confirmation();case 1:if(e.v){e.n=2;break}return e.a(2);case 2:fm.dispatch((t===Se?qs:t===Ee?od:im)({surveyId:n})).then(function(e){if("fulfilled"===e.meta.requestStatus)qq(n,t),xR(t),B({text:ZPI18N.getString("zp.survey.delete.successmsg"),duration:3e3}).showSuccess();else{var r,a,o=null!==(r=null==e||null===(a=e.payload)||void 0===a||null===(a=a.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)&&void 0!==r?r:ZPI18N.getString("zp.unabletoprocess");B({text:o,duration:3e3}).showError()}});case 3:return e.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}(),vq=function(){var e=iq(rq().m(function e(t,n){var r;return rq().w(function(e){for(;;)switch(e.n){case 0:return r=new Ry(ZPI18N.getString("zp.survey.disable.confirm"),ZPI18N.getString("zp.survey.disable.message"),ZPI18N.getString("zp.disable"),ZPI18N.getString("zp.cancel")),e.n=1,r.confirmation();case 1:if(e.v){e.n=2;break}return e.a(2);case 2:fm.dispatch((t===Se?Ms:t===Ee?id:lm)({surveyId:n.survey_id})).then(function(e){if("fulfilled"===e.meta.requestStatus)Rq(tq(tq({},n),{},{current_state:Et,type:t})),B({text:ZPI18N.getString("zp.survey.disable.successmsg"),duration:3e3}).showSuccess();else{var r,a,o=null!==(r=null==e||null===(a=e.payload)||void 0===a||null===(a=a.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)&&void 0!==r?r:ZPI18N.getString("zp.unabletoprocess");B({text:o,duration:3e3}).showError()}});case 3:return e.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}(),yq=function(){var e=iq(rq().m(function e(t,n){var r,a,o;return rq().w(function(e){for(;;)switch(e.n){case 0:if(r=n.actionType==qn&&n.closing_time?Dm(n.closing_time):0,a=Calendar.getCurrentDate(),o=new Ry(ZPI18N.getString("zp.survey.enable.confirm"),ZPI18N.getString("zp.survey.enable.message"),ZPI18N.getString("zp.ok"),ZPI18N.getString("zp.cancel")),!(n.actionType==qn&&r<a)){e.n=4;break}return e.n=1,o.confirmation();case 1:if(e.v){e.n=2;break}return e.a(2);case 2:(t===Se?rg:t===Ee?cg:yg)(n.survey_id);case 3:e.n=5;break;case 4:fm.dispatch((t===Se?Zs:t===Ee?ld:cm)({surveyId:n.survey_id})).then(function(e){if("fulfilled"===e.meta.requestStatus)Rq(tq(tq({},n),{},{current_state:_t,type:t})),B({text:ZPI18N.getString("zp.survey.enable.successmsg"),duration:3e3}).showSuccess();else{var r,a,o=null!==(r=null==e||null===(a=e.payload)||void 0===a||null===(a=a.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)&&void 0!==r?r:ZPI18N.getString("zp.unabletoprocess");B({text:o,duration:3e3}).showError()}});case 5:return e.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}(),gq=function(){var e=iq(rq().m(function e(t,n){var r,a,o=arguments;return rq().w(function(e){for(;;)switch(e.n){case 0:if(r=!(o.length>2&&void 0!==o[2])||o[2],n.survey_id,!r){e.n=1;break}if(nP(n)){e.n=1;break}return e.a(2);case 1:return a=new Ry(ZPI18N.getString("zp.survey.publish.confirm"),ZPI18N.getString("zp.survey.publish.confirmation.message"),ZPI18N.getString("zp.confirm"),ZPI18N.getString("zp.cancel"),"green"),e.n=2,a.confirmation();case 2:if(e.v){e.n=3;break}return e.a(2);case 3:fm.dispatch((t===Se?As:t===Ee?rd:am)({surveyData:n})).then(function(e){if("fulfilled"===e.meta.requestStatus)B({text:ZPI18N.getString("zp.survey.publish.successmsg"),duration:3e3}).showSuccess(),Rq(tq(tq({},n),{},{is_ready:!0,type:t,survey_state:1})),r&&Uh({type:t});else{var a=e.payload.response.data,o=null!=a&&a.message?a.message:ZPI18N.getString("zp.unabletoprocess");B({text:o,duration:3e3}).showError()}});case 4:return e.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}(),hq=function(){var e=iq(rq().m(function e(t,n){var r,a=arguments;return rq().w(function(e){for(;;)switch(e.n){case 0:r=!(a.length>2&&void 0!==a[2])||a[2],fm.dispatch((t===Se?Rs:t===Ee?ad:om)({surveyData:n})).then(function(e){if("fulfilled"===e.meta.requestStatus)B({text:ZPI18N.getString("zp.survey.unpublish.successmsg"),duration:3e3}).showSuccess(),Rq(tq(tq({},n),{},{is_ready:!0,type:t,survey_state:0})),r&&(t===Se?rg:t===Ee?cg:yg)(n.survey_id);else{var a=e.payload.response.data,o=null!=a&&a.message?a.message:ZPI18N.getString("zp.unabletoprocess");B({text:o,duration:3e3}).showError()}});case 1:return e.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}(),bq=function(e,t){fm.dispatch(io({render:!0,headerName:ZPI18N.getString("zp.survey.share_report"),viewType:Po.SHARE_POPUP,data:{surveyData:e,isDetailed:t}}))};const _q=()=>{let e=location.hash,t=Cm("SURVEY_CONT")?.querySelector("#surveyStatus");t&&ZPeopleComponents.select(t).destroy(),"#employeeengagement/surveys/enps"===e?Eq():"#employeeengagement/surveys/fullengagement"===e?Sq():"#employeeengagement/surveys/shared"===e?($('[id*="employeeengagement-surveys-"]')?.empty(),NR(Cm("employeeengagement-surveys-shared")),((e=Oe)=>{let t=Cm("SURVEY_CONT");t.innerHTML="";let{viewMode:n,filter:r,data:a}=oR(Oe);t.appendChild(Kn("div",{className:"zpl_rgtcnt",id:"surveys_view"})),a&&0!==a.length?Aq(e,a,n,ut):(t.querySelector("#surveys_view").append(Kn(Am,null)),fm.dispatch(iR(Oe)({pno:0,mode:e,filter:r})).then(t=>{if("fulfilled"===t.meta.requestStatus){let{data:t,viewMode:n}=fm.getState().sharedSurvey;const r=(t||[]).map(e=>e.created_by);ZPeople.getUserDetailsByIds(r,!1),Aq(e,t,n,ut)}}))})()):"#employeeengagement/surveys/pulse"===e&&wq()},Eq=()=>{$('[id*="employeeengagement-surveys-"]')?.empty(),NR(Pm(Se)),Nq(Se)},Sq=()=>{$('[id*="employeeengagement-surveys-"]')?.empty(),NR(Pm(Ee)),Nq(Ee)},wq=()=>{$('[id*="employeeengagement-surveys-"]')?.empty(),NR(Pm(Ie)),Nq(Ie)},Nq=e=>{let t=Cm("SURVEY_CONT");t.innerHTML="";const{initData:n}=fm.getState().surveyCommon,{read_only:r=!1}=n;let{viewMode:a,filter:o,data:i,fetchInitialData:l,nextPageNumber:c}=oR(e);t.appendChild(Kn("fragment",null,((e="surveyStatus")=>Kn("div",{className:"zpl_btnmnu",rel:"btnMenu"},Kn("div",{rel:"SURVEY_STATUS"},Kn("select",{id:e}))))(),Kn(wR,{filter:o,surveyType:e}),Kn("div",{className:"zpl_rgtcnt",id:"surveys_view"})));let u=Cm("SURVEY_CONT")?.querySelector("#surveyStatus");u&&ZPeopleComponents.select(u).destroy(),((e,t)=>{let n="enps"===t?fm.getState().enpsRecords:"engagement"===t?fm.getState().engagementRecords:fm.getState().pulseRecords;ZPeopleComponents.select(e.querySelector("#surveyStatus"),{options:Tt,selectedValue:n?.filter?.status||0,optionclick:(e,r)=>{let a="enps"===t?Fs:"engagement"===t?ud:sm;fm.dispatch(a({filter:{...n.filter,status:r.selectedValue},data:[],nextPageNumber:0})),cR(t)}})})(t,e),l?(t.querySelector("#surveys_view").appendChild(Kn(Am,null)),fm.dispatch(iR(e)({pno:c,mode:e,filter:o})).then(t=>{if("fulfilled"===t.meta.requestStatus){let{data:t,viewMode:n}=oR(e);PR(e,n,r),Aq(e,t,n,void 0,r)}})):(PR(e,a,r),Aq(e,i,a,void 0,r)),t.addEventListener("scroll",t=>Pq(t,e))},Pq=(e,t)=>{let n=e.target;Math.round(100*(n.scrollTop+n.offsetHeight)/n.scrollHeight)>=98&&Iq(t)};let Oq=!1;const Iq=e=>{const{initData:t}=fm.getState().surveyCommon,{read_only:n=!1}=t;let{fetchInitialData:r,hasMore:a,nextPageNumber:o,filter:i,viewMode:l}=fm.getState()[e===Se?"enpsRecords":"engagementRecords"];if(!r&&a&&!Oq){const t=e===Po.ENPS?js:nd;Oq=!0,fm.dispatch(t({pno:o,mode:e,filter:lR(i)})).then(t=>{if("fulfilled"===t.meta.requestStatus){const{surveys:r}=t.payload;document.getElementById("surveys_view").querySelector("#viewRef").appendChild(Kn("fragment",null,(r||[]).map(t=>Tq(No(t),e,void 0,n,l))))}Oq=!1})}},zq=({viewMode:e})=>Kn("fragment",null,"listView"===e?Kn("div",{id:"lstVw"},Kn("div",{className:"zpl_pakragls zpl_mw600",rel:"SURVEYLIST"})):Kn("div",{id:"gridVw"},Kn("div",{rel:"SURVEYLIST"}))),Cq=({surveyType:e,isFilterApplied:t,filter:n,readOnly:r})=>Kn(rb,{message:(()=>{if(t)return ZPI18N.getString("zp.survey.search.nodata");if(e===Po.ENPS||e===Po.ENGAGEMENT||e===Po.PULSE){let t=e===Po.ENGAGEMENT?ZPI18N.getString("zp.engagement"):ZPI18N.getString("zp.survey.pulse"),r=e===Po.ENPS?ZPI18N.getString("zp.survey.status.nodata.to.display"):ZPI18N.getString("zp.survey.nosurveys.to.list",[t]);return n.status==$e?r:ZPI18N.getString("zp.survey.status.nodata",[Mq(n.status)])}if(e===Oe)return ZPI18N.getString("zp.survey.shared.nodata");[Po.OFFBOARDING_FEEDBACK,Po.EXTEND_INTERVIEW_CREATION].includes(e)&&ZPI18N.getString("zp.survey.status.nodata.to.display")})(),description:t?"":e===Po.ENPS?ZPI18N.getString("zp.enps.nodata_msg"):e===Po.ENGAGEMENT?ZPI18N.getString("zp.engagement.nodata_msg"):e===Po.PULSE?ZPI18N.getString("zp.pulse.nodata_msg"):[Po.OFFBOARDING_FEEDBACK,Po.EXTEND_INTERVIEW_CREATION].includes(e)?ZPI18N.getString("zp.survey.interviews.no"):void 0,isButtonNeeded:e!=Oe&&!r&&!(t||"3"===n.status),btnMsg:e==Po.ENPS?ZPI18N.getString("zp.enps.newenps"):e==Po.ENGAGEMENT?ZPI18N.getString("zp.engagement.new"):ZPI18N.getString("zp.pulse.new"),btnHandler:()=>{e===Po.ENGAGEMENT?IR():e===Po.ENPS?eg():e===Po.PULSE&&OR()}}),Tq=(e,t,n,r,a)=>{e.opening_time,e.closing_time;const{cover_image:o,is_ready:i,is_repeat:l,type:c,recurrence_count:u,opening_time:s,closing_time:d,survey_id:p,fileInfo:f,activation_type:m}=e,{id:v,is_default:y}=o;let g=m==qn?Dm(s):void 0,h=m==qn?Dm(d):void 0;const b=tt[v].className,_=e.question_count>0&&e.question_count<10?`0${Number(e.question_count)}`:Number(e.question_count),E=C(e.created_by);return Kn("fragment",null,Kn("listView"===a?xq:kq,{surveyData:e,surveyType:t,tabName:n,readOnly:r,eeThumbNailImgClassName:b,questionCount:_,startDate:g,endDate:h,userDetails:E,onClickViewDetailedCard:n=>{n.preventDefault(),n.stopPropagation();const{survey_id:r,type:a}=e;var o;t==Oe?(o=r,window.location.hash="employeeengagement/surveys/shared/details/".concat(o)):a==Se?function(e){window.location.hash="employeeengagement/surveys/enps/details/".concat(e)}(r):a==Ee?function(e){window.location.hash="employeeengagement/surveys/fullengagement/details/".concat(e)}(r):a==Ie&&vg(r)},showMenu:n=>{n.stopPropagation();const r={className:"zpl_drpdwn",forElement:n.target,show:()=>(()=>{let t=Sm().querySelector(`#survey-box-${e.survey_id} [rel=EE_MODULE_MORE]`),n=t?.parentElement;t&&!km(t,"zpl_act")&&Tm(t,"zpl_act"),n&&!km(n,"zpl_hvract")&&Tm(n,"zpl_hvract")})(),hide:()=>{(()=>{let t=Sm().querySelector(`#survey-box-${e.survey_id} [rel=EE_MODULE_MORE]`),n=t?.parentElement;t&&km(t,"zpl_act")&&xm(t,"zpl_act"),n&&km(n,"zpl_hvract")&&xm(n,"zpl_hvract")})(),ar("assess-survey-zpmenu")},itemclick:(n,r)=>dq(e,t,r.value),contentType:"icon-text"};rr(r,lq(e,"listing"))},viewMode:a}))},xq=({surveyData:e,surveyType:t,tabName:n,readOnly:r,eeThumbNailImgClassName:a,questionCount:o,startDate:i,endDate:l,userDetails:c,onClickViewDetailedCard:u,showMenu:s,viewMode:d})=>{const{survey_id:p,type:f,is_ready:m,recurrence_count:v,survey_name:y,response_percentage:g,is_repeat:h,activation_type:b,survey_state:_}=e,E=b==qn&&m||b==Rn&&(2==_||1==_);return Kn("div",{className:"zpl_accordionlst CP",id:`survey-box-${p}`},Kn("div",{className:"zpl_accordionhdr zpl_flex-a-c "+(r&&!E?"CPD":""),onClick:t=>jq(t,n||f,e,r)},Kn("div",{className:"zpl_em zpl_kraglshd"},Kn("div",{className:`zpl_emimg ${a}`}),Kn("div",{className:"zpl_emdts zpl_ellipsis"},Kn("div",{className:"zpl_w-100"},Kn("b",null,y)),Kn("div",{className:"zpl_w-100"},Kn("span",{className:"zpl_flex-a-c zpl_gap-1 zpl_pt1"},(t===Po.ENGAGEMENT||t===Po.PULSE)&&Kn("fragment",null,Kn("em",{className:"zpl_flex-a-c zpl_gap-1"}," ",Kn("span",null,`${iv(o)}`))),Kn("em",{className:"zpl_flex-a-c zpl_gap-2"},Kn(Dq,{surveyData:e,viewMode:d})),E&&h&&Kn("fragment",null,Kn("em",{className:"zpl_dots"}),Kn("i",{className:"PI_reload gry6 zpl_f7",title:`${ZPI18N.getString("zp.survey.repeat.current.frequency")}: ${i?.getDateBy(dateFmt)} - ${l?.getDateBy(dateFmt)}`}),Kn("em",{className:"zpl_flex-a-c zpl_gap-1",title:`${ZPI18N.getString("zp.survey.repeat.current.frequency")}: ${i?.getDateBy(dateFmt)} - ${l?.getDateBy(dateFmt)}`},Kn("span",null,v))))))),Kn("div",{className:"zpl_flex-1 zpl_mw200",tabIndex:"0"},E&&Kn("fragment",null,Kn("div",null,Kn("em",null,ZPI18N.getString("zp.survey.response.received"))),Kn("span",{className:"zpl_mt1 zpl_flex"},(g||0)+"%"))),Kn("div",{className:"zpl_flex-1 zpl_mw200",tabIndex:"0"},(t===Po.ENGAGEMENT||t===Po.PULSE)&&Kn("fragment",null,Kn("div",null,Kn("em",null,ZPI18N.getString("zp.type"))),Kn("span",{className:"zpl_mt1 zpl_flex"},dv(f)))),Kn("div",{className:"zpl_hvr zpl_hvrsw zpl_flex-1 zpl_mw200"},E&&Kn("a",{className:"zpl_link",onclick:u},ZPI18N.getString("zp.viewdetails"))),Kn("div",{className:"zpl_hvr zpl_hvrsw zpl_flex-1"},Kn("div",{className:"zpl_hvr"},Kn("i",{type:"button",className:"zpl_drpdwn-js PI_more",rel:"EE_MODULE_MORE",onClick:s})))))},kq=({surveyData:e,surveyType:t,tabName:n,readOnly:r,eeThumbNailImgClassName:a,questionCount:o,startDate:i,endDate:l,userDetails:c,onClickViewDetailedCard:u,showMenu:s,viewMode:d})=>{const{survey_id:p,type:f,is_ready:m,recurrence_count:v,survey_name:y,response_percentage:g,is_repeat:h,activation_type:b,survey_state:_}=e,E=T(c.name),S=b==qn&&m||b==Rn&&(2==_||1==_);return Kn("li",{className:"zpl_enpsLst "+(r&&!S?"CPD":""),id:`survey-box-${p}`,onClick:t=>jq(t,n||f,e,r)},Kn("div",{className:`zpl_enpsImg ${a}`}),Kn("i",{className:pv(f),title:dv(f)}),Kn("div",null,Kn("label",{title:y},y),Kn("ul",{className:"zpl_lstbdrlne"},(t===Po.ENGAGEMENT||t===Po.PULSE)&&Kn("li",null,Kn("em",null," ",`${iv(o)}`," ")),Kn(Dq,{surveyData:e,viewMode:d}))),Kn("div",{className:"zpl_lstFtr"},Kn("ul",{className:"lFtr_dtls"},Kn("li",null,S?Kn("fragment",null,Kn("i",{className:"PI_annual_survey"}),Kn("em",null,(g||0)+"%")):Kn("fragment",null,Kn("i",{className:"PI_draft_record"}),Kn("em",null,ZPI18N.getString("zp.draft")))),S&&h&&Kn("li",{title:`${ZPI18N.getString("zp.survey.repeat.current.frequency")}: ${i?.getDateBy(dateFmt)} - ${l?.getDateBy(dateFmt)}`},Kn("i",{className:"PI_reload"}),Kn("em",null,v)),S&&Kn("li",null,Kn("i",{className:"PI_descrip","data-popup-open":"enpsTemplateCntr1",onClick:u}))),!r&&Kn("span",{className:"zpl_hvr zpl_hvrsw"},n===ut?Kn("div",{className:"zpl_em P0I"},Kn("div",{className:"zpl_emimg"},Kn("img",{src:c.avatar||ZPeople.getDefaultUserImagePath(),alt:E,title:E}))):Kn("i",{type:"button",className:"zpl_drpdwn-js PI_more",id:`survey-menu-btn-${p}`,onClick:s}))))},Dq=e=>{const{surveyData:t,viewMode:n}=e,{opening_time:r,closing_time:a,cover_image:o,fileInfo:i,is_ready:l,type:c,activation_type:s,survey_state:d}=t,p=s==qn?Dm(r):void 0,f=s==qn?Dm(a):void 0,m=Dm(jm()),v=s==qn&&p<=m&&m<=f,y=s==qn&&p>m,g=s==qn&&m>f,h=s==Rn&&2==d;let b={[Vt]:{name:"completed",label:ZPI18N.getString("zp.lms.content.Completed"),color:"grn"},[Qe]:{name:"disabled",label:ZPI18N.getString("zp.disabled")},[Wt]:{name:"upcoming",label:ZPI18N.getString("zp.upcoming"),color:"blu"},[Yt]:{name:"ongoing",label:ZPI18N.getString("zp.ongoingcases")}};return Kn("fragment",null,Kn("fragment",null,"listView"==n?(()=>{if(!l)return Kn("fragment",null,c!=Se&&Kn("em",{className:"zpl_dots"}),h?Kn("em",{className:b[t.status].color},Kn("span",null,b[t.status].label)):Kn("em",null,ZPI18N.getString("zp.draft")));if(t.current_state===Et)return Kn("fragment",null,c!=Se&&Kn("em",{className:"zpl_dots"}),Kn("em",null,Kn("span",null,ZPI18N.getString("zp.disabled"))));if(g||y)return Kn("fragment",null,c!=Se&&Kn("em",{className:"zpl_dots"}),Kn("em",{className:b[t.status].color},Kn("span",null,b[t.status].label)));if(v){const e=Math.round((f-m)/u);return Kn("fragment",null,c!=Se&&Kn("em",{className:"zpl_dots"}),Kn("em",{className:"zpl_flex-a-c zpl_gap-1 red"},Kn("span",null,av(e))))}})():(()=>{if(l){if(t.current_state===Et)return Kn("em",{className:"zpl_flexaligngap1"},Kn("i",{className:"PI_disable"}),Kn("span",null,ZPI18N.getString("zp.disabled")));if(g||y)return Kn("em",{className:b[t.status].color},b[t.status].label);if(v){const e=Math.round((f-m)/u);return Kn("li",null,Kn("em",null,av(e)))}}else if(h)return Kn("em",{className:b[t.status].color},b[t.status].label)})()))},jq=(e,t,n,r)=>{if(e.stopPropagation(),r&&!n.is_ready)return;let a=n.activation_type==qn&&n.is_ready||n.activation_type==Rn&&(2==n.survey_state||1==n.survey_state);switch(t){case Se:(a?ng:rg)(n.survey_id);break;case Ee:(a?lg:cg)(n.survey_id);break;case Ie:(a?vg:yg)(n.survey_id);break;case ut:o=n.survey_id,window.location.hash="employeeengagement/surveys/shared/view/".concat(o)}var o},Aq=(e,t,n,r,a)=>{Rm();const o=document.getElementById("surveys_view");if(o.innerHTML="",t&&0!==t.length){o.appendChild(Kn(zq,{viewMode:n}));const i="gridView"===n?Kn("ul",{className:"zpl_enpsCrd enpsCrd_New",id:"viewRef"}):Kn("div",{className:"zpl_act",id:"viewRef"});i.appendChild(Kn("fragment",null,(t||[]).map(t=>Tq(t,e,r,a,n)))),o.querySelector("div[rel=SURVEYLIST]").append(i)}else{const{filter:t}=fm.getState()[e===Po.ENPS?"enpsRecords":e===Po.ENGAGEMENT?"engagementRecords":"pulseRecords"];o.appendChild(Kn(Cq,{surveyType:e,filter:t,isFilterApplied:Object.keys(t).length>1,readOnly:a}))}},Rq=e=>{const t=document.getElementById("surveys_view"),n=document.getElementById(`survey-box-${e.survey_id}`),r=t?.querySelector("#viewRef");let{viewMode:a,fetchInitialData:o,filter:i,data:l}=fm.getState()[e.type===Se?"enpsRecords":e.type===Ee?"engagementRecords":"pulseRecords"];const c=$m(e,i);if(!o&&c){let t=e.type==Se?Se:e.type==Ie?Ie:Ee;const o=Tq(e,t,void 0,void 0,a);n?n.replaceWith(o):r?r.prepend(o):Aq(e.type,l,a)}else o||n?.remove()},qq=(e,t)=>{const n=document.getElementById(`survey-box-${e}`);n?.remove();let r=t===Se?fm.getState().enpsRecords:t===Ee?fm.getState().engagementRecords:fm.getState().pulseRecords;Aq(t,r.data,r.viewMode)},Mq=e=>"2"==e?ZPI18N.getString("zp.ongoingsmall"):"1"==e?ZPI18N.getString("zp.upcomingsmall"):"3"==e?ZPI18N.getString("zp.completedsmall"):"4"==e?ZPI18N.getString("zp.draftsmall"):void 0;function Zq(e){return Zq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zq(e)}function Lq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lq(Object(n),!0).forEach(function(t){Bq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Bq(e,t,n){return(t=function(e){var t=function(e){if("object"!=Zq(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Zq(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Zq(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uq=function(e){var t,n=e.applicable_to;if((null===(t=n)||void 0===t?void 0:t.type)===Fe){var r,a=((null===(r=n)||void 0===r?void 0:r.rules)||[]).map(function(t){var n=(t.applicable_props||[]).map(function(e){var t=(e.options||[]).map(function(e){return e.value}).filter(Boolean);return{type:e.type,ids:t}});return e.survey_id?Fq(Fq({},t),{},{applicable_props:n}):{applicable_props:n,rule_name:t.rule_name}});n=Fq(Fq({},n),{},{rules:a})}return n};function Hq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Vq=function(e){var t={survey_name:e.survey_name,description:e.description,type:e.type,respondent_identity:e.respondent_identity,is_repeat:e.is_repeat,questions_per_page:e.questions_per_page,cover_image_id:e.cover_image.id,survey_mandatory:e.survey_mandatory,activation_type:e.activation_type};if(e.activation_type==qn&&(t.opening_time=e.opening_time,t.closing_time=e.closing_time),null!=e&&e.survey_id||(t.applicable_to=Uq(e),t.instruction=e.instruction,t.thankyou_message=e.thankyou_message),e.activation_type==qn&&e.is_repeat&&(t.repeat=e.repeat),e.activation_type!=qn||null!=e&&e.survey_id||(t.is_reminder=e.is_reminder),null!=e&&e.survey_id||!e.is_reminder||(t.reminders=e.reminders),null!=e.metric_type&&(t.metric_type=e.metric_type,e.metric_type===vn&&(t.metric_id=e.metric_id)),e.type===Po.ENPS)t.question=e.question,t.metric_id=e.metric_id,t.minscore_text=e.minscore_text,t.maxscore_text=e.maxscore_text,t.enable_comment=e.enable_comment,t.comment_mandatory=e.comment_mandatory,t.comment_mandatory&&(t.comment_rule="R".concat("0"==e.comment_criteria?"<=":">=").concat(e.comment_score||0)),e.question_id&&(t.question_id=e.question_id);else if([Po.ENGAGEMENT,Po.OFFBOARDING_FEEDBACK,Po.EXTEND_INTERVIEW_CREATION,Po.PULSE].includes(e.type)){if(null!=e&&e.survey_id||!(e.questions||[]).length){if((null==e||!e.survey_id)&&(e.metric_groups||[]).length){var n=[],r=[];(e.metric_groups||[]).forEach(function(e){var t;n.push(e.metric_id),r.push.apply(r,function(e){if(Array.isArray(e))return Hq(e)}(t=(e.questions||[]).map(function(t){return{question_id:t.question_id,metric_id:e.metric_id,ismandatory:t.ismandatory}}))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return Hq(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hq(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}),t.metric_groups=n,t.questions=r}}else t.questions=(e.questions||[]).map(function(e){return{question_id:e.question_id,metric_id:e.metric_id||-1,ismandatory:e.ismandatory}});e.theme_id&&(t.theme_id=e.theme_id)}return t},Yq=function(e){var t={mail_notification:e.mail_notification,is_reminder:e.is_reminder};return t.is_reminder&&(t.reminders=e.reminders),t},Wq=function(e,t,n){var r=t,a=Dm(e.opening_time),o=Dm(e.closing_time);return a<Calendar.getCurrentDate()&&(n.opening_time=ZPI18N.getString("zp.survey.startdate.greater_equal.currentdate"),r=!1),o<Calendar.getCurrentDate()&&(n.closing_time=ZPI18N.getString("zp.survey.enddate.greater_equal.currentdate"),r=!1),o<a&&(n.closing_time=ZPI18N.getString("zp.survey.enddate.greater_equal.startdate"),r=!1),!r&&t&&document.getElementById("survey_activation").scrollIntoView({behavior:"smooth"}),r},Gq=function(e,t,n){var r=t;if(e.is_repeat){var a,o=e.repeat,i=o.count,l=o.frequency;e.repeat.hasOwnProperty("count")?(l===In?a=20:l===On?a=10:l===Pn&&(a=5),i>a?(r=!1,n.repeat=ZPI18N.getString("zp.survey.error.repeat.count.invaild")):0===Number(i||0)&&(r=!1,n.repeat=ZPI18N.getString("zp.survey.repeat.count.empty"))):e.repeat.hasOwnProperty("until"),!r&&t&&document.getElementById("repeat-config").scrollIntoView({behavior:"smooth"})}return r},$q=function(e){var t,n,r=fm.getState().createSurvey;switch(e){case"/configuration":return function(e){var t,n=e.survey_name,r=e.opening_time,a=e.closing_time,o=e.type,i=!0,l={};if(yo(e)){var c,u;if(n&&0!==n.trim().length||(l.survey_name=ZPI18N.getString("zp.survey.name.empty"),c=c||"basic-requirements",i=!1),n&&(n.includes("<")||n.includes(">"))&&(l.survey_name=ZPI18N.getString("zp.charactorremove",["<, >"]),c=c||"basic-requirements",i=!1),e.activation_type==qn){var s=Dm(r),d=Dm(a);s<Calendar.getCurrentDate()&&(l.opening_time=ZPI18N.getString("zp.survey.startdate.greater_equal.currentdate"),c=c||"survey_activation",i=!1),d<Calendar.getCurrentDate()&&(l.closing_time=ZPI18N.getString("zp.survey.enddate.greater_equal.currentdate"),c=c||"survey_activation",i=!1),d<s&&(l.closing_time=ZPI18N.getString("zp.survey.enddate.greater_equal.startdate"),c=c||"survey_activation",i=!1)}e.type===Se||e.metric_type!==vn||e.metric_id||(l.metric_id=ZPI18N.getString("zp.survey.metrics.error.empty"),c=c||"survey-question-flow",i=!1),c&&(null===(u=document.getElementById(c))||void 0===u||u.scrollIntoView({behavior:"smooth"})),o===Se&&(i=function(e,t,n){var r=t,a=""!==e.maxscore_text.replace(/\s+/,""),o=""!==e.maxscore_text.replace(/\s+/,"");return e.metric_id||(n.metric_id=ZPI18N.getString("zp.survey.metrics.error.empty"),r=!1),""===e.question.replace(/\s+/,"")&&(n.question=ZPI18N.getString("zp.survey.enps.error.question.empty"),r=!1),o&&!a&&(r=!1,n.minscore_text=ZPI18N.getString("zp.survey.negative.response")),!o&&a&&(r=!1,n.maxscore_text=ZPI18N.getString("zp.survey.positive.response")),e.metric_id||(n.metric_id=ZPI18N.getString("zp.survey.metrics.error.empty"),r=!1),!r&&t&&document.getElementById("question").scrollIntoView({behavior:"smooth"}),r}(e,i,l)&&i),e.activation_type==qn&&(i=function(e,t,n){return Wq(e,t,n),Gq(e,t,n)&&t}(e,i,l)&&i),t=Vi({errorData:l}),fm.dispatch(t)}return i}(r.surveyData);case"/applicability":return t=r.surveyData.applicable_to,n=!0,t.type===Fe&&(t.rules||[]).forEach(function(e){n&&(e.applicable_props||[]).forEach(function(e){(0===Object.keys(e).length||0===(e.options||[]).length)&&(n=!1)})}),n||(document.getElementById("applicability_rule").scrollIntoView({behavior:"smooth"}),B({text:ZPI18N.getString("zp.assessment.applicability.nocondition.error"),duration:3e3}).showWarning()),n}return!0};function Qq(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return Xq(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Xq(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,Xq(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,Xq(d,"constructor",u),Xq(u,"constructor",c),c.displayName="GeneratorFunction",Xq(u,a,"GeneratorFunction"),Xq(d),Xq(d,a,"Generator"),Xq(d,r,function(){return this}),Xq(d,"toString",function(){return"[object Generator]"}),(Qq=function(){return{w:o,m:p}})()}function Xq(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Xq=function(e,t,n,r){function o(t,n){Xq(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Xq(e,t,n,r)}function Kq(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}var Jq=!1;function eM(){var e;return e=Qq().m(function e(t,n,r){var a,o,i,l,c,u,s,d;return Qq().w(function(e){for(;;)switch(e.n){case 0:if((a=t.pathname)!==r&&!Jq){e.n=1;break}return e.a(2);case 1:if(!$q(a)){e.n=9;break}if(o=fm.getState().createSurvey,i=o.surveyData,l=o.fetchInitialData,c=o.dbHash,u=bo(i),s=function(e){n(e,{replace:!0})},!l){e.n=2;break}return e.a(2);case 2:if(c!==u){e.n=3;break}return s(r),e.a(2);case 3:d=a,e.n="/configuration"===d?4:"/questions"===d?5:"/applicability"===d?6:"/notifications"===d?7:8;break;case 4:return Jq=!0,tM(i).then(function(){s(r)}).finally(function(){Jq=!1}),e.a(3,9);case 5:case 8:return s(r),e.a(3,9);case 6:return Jq=!0,nM(i).then(function(){s(r)}).finally(function(){Jq=!1}),e.a(3,9);case 7:return Jq=!0,rM(i).then(function(){s(r)}).finally(function(){Jq=!1}),e.a(3,9);case 9:return e.a(2)}},e)}),eM=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Kq(o,r,a,i,l,"next",e)}function l(e){Kq(o,r,a,i,l,"throw",e)}i(void 0)})},eM.apply(this,arguments)}var tM=function(e){var t={surveyData:JSON.stringify(Vq(e))},n=(null==e?void 0:e.survey_id)||0;return fm.dispatch(n?Jo({payload:t,surveyId:n}):Ko({payload:t})).then(function(e){if("rejected"===e.meta.requestStatus){var t=e.payload.response.data,r=null!=t&&t.message?t.message:ZPI18N.getString("zp.unabletoprocess");return B({text:r,duration:3e3}).showError(),Promise.reject(r)}var a=e.payload;a.type===Se?fm.dispatch((n?Us:Bs)(a)):a.type===Ee?fm.dispatch((n?dd:sd)(a)):a.type===Ie&&fm.dispatch((n?pm:dm)(a)),Rq(e.payload)})},nM=function(e){var t={surveyData:JSON.stringify({applicable_to:Uq(e)})},n=(null==e?void 0:e.survey_id)||0;return fm.dispatch(Jo({payload:t,surveyId:n})).then(function(e){if("rejected"===e.meta.requestStatus){var t=e.payload.response.data,n=null!=t&&t.message?t.message:ZPI18N.getString("zp.unabletoprocess");return B({text:n,duration:3e3}).showError(),Promise.reject(n)}})},rM=function(e){var t={surveyData:JSON.stringify(Yq(e))},n=(null==e?void 0:e.survey_id)||0;return fm.dispatch(Jo({payload:t,surveyId:n})).then(function(e){if("rejected"===e.meta.requestStatus){var t=e.payload.response.data,n=null!=t&&t.message?t.message:ZPI18N.getString("zp.unabletoprocess");return B({text:n,duration:3e3}).showError(),Promise.reject(n)}})},aM=function(e,t,n){return eM.apply(this,arguments)};function oM(e){return oM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oM(e)}function iM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iM(Object(n),!0).forEach(function(t){cM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cM(e,t,n){return(t=function(e){var t=function(e){if("object"!=oM(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=oM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==oM(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uM=function(e){var t=e.openingDate,n=e.closingDate,r=e.isRepeat,a=e.repeat,o=e.error,i=(a||{}).frequency,l=Kb(),c=(new Date).getTime(),u=c,s=new Date(c+23328e5).getTime();i===Cn?(u=j(t),s=new Date(u+5184e5).getTime()):i===Tn&&(u=j(t),s=new Date(u+11232e5).getTime());var d=function(e,o){if("opening_date"===o){var i=Dm(t),c=Dm(n),u=new Date(e).getDate(),s={opening_time:jm(new Date(e)),closing_time:jm(new Date(e+(c.getTime()-i.getTime())))};r&&(s.repeat=lM(lM({},a),{},{bymonthday:u})),l(Fi(s))}else"closing_date"===o&&l(Fi({closing_time:jm(new Date(e))}))};return Nb.createElement("div",{className:"zpl_secn",id:"survey_activation"},Nb.createElement("div",null,Nb.createElement("h6",{className:"zpl_mtry"},ZPI18N.getString("zp.survey.period.select"))),Nb.createElement("div",null,Nb.createElement(qw,{startDate:Dm(t),endDate:Dm(n),dateFormat:je[2],startDateHandler:function(e){return d(e,"opening_date")},endDateHandler:function(e){return d(e,"closing_date")},error:o,startDateMinStamp:c,enddateminTimeStampRange:u,enddateMaxTimeStampRange:s})))},sM=function(e){var t=e.isRepeat,n=e.repeat,r=e.openingDate,a=e.closingDate,o=e.surveyType,i=Kb(),l=Dm(r).getDate(),c=Nb.useMemo(function(){var e=j(r),t=j(a),n=new Date(e),i=(new Date(t)-n)/864e5,l=[];return o===Ie?i<7?l=[{value:Nn,label:ZPI18N.getString("zp.automation.none")},{value:Cn,label:ZPI18N.getString("zp.weekly")},{value:Tn,label:ZPI18N.getString("zp.biweekly")},{value:zn,label:ZPI18N.getString("zp.monthly")},{value:In,label:ZPI18N.getString("zp.quarterly")}]:i<14?l=[{value:Nn,label:ZPI18N.getString("zp.automation.none")},{value:Tn,label:ZPI18N.getString("zp.biweekly")},{value:zn,label:ZPI18N.getString("zp.monthly")},{value:In,label:ZPI18N.getString("zp.quarterly")}]:i>=14&&(l=[{value:Nn,label:ZPI18N.getString("zp.automation.none")},{value:zn,label:ZPI18N.getString("zp.monthly")},{value:In,label:ZPI18N.getString("zp.quarterly")}]):l=[{value:Nn,label:ZPI18N.getString("zp.automation.none")},{value:zn,label:ZPI18N.getString("zp.monthly")},{value:In,label:ZPI18N.getString("zp.quarterly")},{value:On,label:ZPI18N.getString("zp.halfyearly")},{value:Pn,label:ZPI18N.getString("zp.annually")}],l},[o,r,a]);return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,Nb.createElement("h6",null,ZPI18N.getString("zp.survey.repeats"))),Nb.createElement("div",null,Nb.createElement(MS,{options:c,onChange:function(e){return n={is_repeat:!1,repeat:{}},(t=e.value)===Cn?(n.is_repeat=!0,n.repeat={frequency:t,count:52}):t===Tn?(n.is_repeat=!0,n.repeat={frequency:t,count:26}):t===zn||t===In?(n.is_repeat=!0,n.repeat={frequency:t,count:12,bymonthday:l}):t===On?(n.is_repeat=!0,n.repeat={frequency:t,count:10,bymonthday:l}):t===Pn&&(n.is_repeat=!0,n.repeat={frequency:t,count:5,bymonthday:l}),void i(Fi(n));var t,n},value:t?c.filter(function(e){return e.value===n.frequency})[0]:c[0]})))};function dM(e){return dM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dM(e)}function pM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pM(Object(n),!0).forEach(function(t){mM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mM(e,t,n){return(t=function(e){var t=function(e){if("object"!=dM(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=dM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==dM(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vM=function(e){var t=e.repeat,n=e.openingDate,r=e.error,a=Kb(),o=t.frequency,i=t.count,l=(null==r?void 0:r.length)>0,c=[{value:"count",label:ZPI18N.getString("zp.after")},{value:"until",label:ZPI18N.getString("zp.survey.ends.ondate")}];return Nb.createElement("div",{className:"zpl_secn",id:"repeat-config"},Nb.createElement("div",{className:"zpl_idiv"},ZPI18N.getString("zp.survey.end_survey"),Nb.createElement("div",null,Nb.createElement(MS,{className:"w200",options:c,onChange:function(e){return r=e.value,l=fM({},t),"count"===r?(delete l.until,o===In?l.count=12:o===On?l.count=10:o===Pn?l.count=5:o===zn?l.count=12:o===Cn?l.count=52:o===Tn&&(l.count=26)):"until"===r&&(delete l.count,l.until=function(e,t){var r=Dm(n)||Calendar.getCurrentDate();switch(e){case zn:r.setMonth(r.getMonth()+(t-1));break;case In:r.setMonth(r.getMonth()+3*(t-1));break;case On:r.setMonth(r.getMonth()+6*(t-1));break;case Pn:r.setFullYear(r.getFullYear()+(t-1));break;case Cn:r.setDate(r.getDate()+7*(t-1));break;case Tn:r.setDate(r.getDate()+14*(t-1))}return r.getDateBy("yyyyMMdd")}(o,i)),void a(Fi({repeat:l}));var r,l},value:null!=t&&t.hasOwnProperty("count")?c[0]:c[1]})),null!=t&&t.hasOwnProperty("count")?Nb.createElement(Nb.Fragment,null,Nb.createElement("input",{type:"text",className:"ztextbox w150",value:parseInt(t.count)>0?t.count:"",onChange:function(e){return n=e.target.value,o===In?r=20:o===On?r=10:o===Pn?r=5:o===zn?r=60:o===Cn?r=260:o===Tn&&(r=130),void(!isNaN(n)&&parseInt(n)>0&&parseInt(n)<=r?a(Fi({repeat:fM(fM({},t),{},{count:n})})):""===n&&a(Fi({repeat:fM(fM({},t),{},{count:-1})})));var n,r}}),ZPI18N.getString("zp.instances")):null!=t&&t.hasOwnProperty("until")?Nb.createElement(Rw,{timestamp:Dm(t.until),displayFormat:je[2],onChange:function(e){var n=fM({},t);n.until=jm(new Date(e)),a(Fi({repeat:n}))}}):void 0,l?Nb.createElement("span",{className:"ztextbox--error__label"},r):null))},yM=function(e){var t=e.surveyData,n=Kb(),r=function(e){if(e===qn){var r=jm(function(){var e=new Date;return e.setDate(e.getDate()+6),e}());n(Fi({opening_time:jm(new Date),closing_time:r,activation_type:e}))}else t.is_repeat?n(Fi({opening_time:null,closing_tim:null,is_repeat:!1,repeat:{},activation_type:e})):n(Fi({opening_time:null,closing_tim:null,activation_type:e}))};return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,Nb.createElement("h5",null,ZPI18N.getString("zp.survey.run.survey"))),Nb.createElement("div",null,Nb.createElement(Yw,{label:ZPI18N.getString("zp.survey.specific.period"),id:zE(),callback:function(){return r(qn)},isActive:t.activation_type===qn,className:"zradiobutton zradiobutton--horizontal"}),Nb.createElement(Yw,{label:ZPI18N.getString("zp.survey.manual"),id:zE(),callback:function(){return r(Rn)},isActive:t.activation_type===Rn,className:"zradiobutton zradiobutton--horizontal"})))},gM=Nb.forwardRef(function(e,t){var n=e.id,r=e.surveyData,a=e.errorData;return Nb.createElement("div",{className:"zpl_rgtcnt",ref:t,id:n},Nb.createElement("div",{className:"zpl_crd"},Nb.createElement(BI,{title:ZPI18N.getString("zp.schedule"),description:ZPI18N.getString("zp.survey.schedule.desc")}),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement(yM,{surveyData:r}),r.activation_type==qn?Nb.createElement(Nb.Fragment,null,Nb.createElement(uM,{openingDate:r.opening_time,closingDate:r.closing_time,isRepeat:r.is_repeat,repeat:r.repeat,error:a.opening_time||a.closing_time||""}),Nb.createElement(sM,{isRepeat:r.is_repeat,repeat:r.repeat,openingDate:r.opening_time,closingDate:r.closing_time,surveyType:r.type}),r.is_repeat?Nb.createElement(vM,{repeat:r.repeat,openingDate:r.opening_time,error:a.repeat}):null):"")))}),hM=function(e){var t=e.question,n=e.questionId,r=e.error,a=Kb(),o=(null==r?void 0:r.length)>0,i=(0,Nb.useRef)(null);return(0,Nb.useEffect)(function(){i.current.innerHTML=P(t)},[n]),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"d-flex j-cnt-btwen"},Nb.createElement("h6",{className:"zpl_mtry"},ZPI18N.getString("zp.question")),Nb.createElement("a",{"data-popup-open":"slctQue",onClick:function(){a(hs({render:!0,viewType:Se,taggedIds:[n]}))}},ZPI18N.getString("zp.survey.pick.from.popular.enps.questions"))),Nb.createElement("div",{className:"zpl_Que"},Nb.createElement("div",{className:o?"ztextbox__error":""},Nb.createElement("div",null,Nb.createElement("div",{contentEditable:!0,className:"flex-grow",onInput:function(e){var t;a(Fi({question:(null===(t=e.target)||void 0===t?void 0:t.innerText)||""}))},ref:i}))),o?Nb.createElement("span",{className:"ztextbox--error__label"},r):null))};function bM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var _M=function(e){var t=e.minScoreText,n=e.maxScoreText,r=e.error,a=Kb(),o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return bM(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bM(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(null),2),i=o[0],l=o[1];return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,Nb.createElement("h6",null,ZPI18N.getString("zp.survey.answer.score"))),Nb.createElement("div",null,Nb.createElement(Uw,{minScoreText:t,maxScoreText:n,updateMinScoreText:function(e){var t=e.target.value;a(Fi({minscore_text:t}))},updateMaxScoreText:function(e){var t=e.target.value;a(Fi({maxscore_text:t}))},readonly:!1,onClickHandler:function(e){l(e)},error:r,selectedBtn:i})))},EM=function(e){var t=e.surveyData,n=t.comment_mandatory,r=t.enable_comment,a=t.comment_criteria,o=t.comment_score,i=Kb(),l=function(e){(""===e||!isNaN(e)&&parseInt(e)<=10)&&i(Fi({comment_score:e}))};return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,Nb.createElement(uw,{isActive:r,onChange:function(){i(Fi({enable_comment:!r,comment_mandatory:!1}))},label:ZPI18N.getString("zp.survey.enablecmt")}),r&&Nb.createElement("div",{className:"zpl_idiv"},Nb.createElement("div",{className:"zpl_gbox"},Nb.createElement("div",{className:"zpl_idiv"},Nb.createElement(uw,{isActive:n,onChange:function(){i(Fi({comment_mandatory:!n}))},label:ZPI18N.getString("zp.enps.makecommentmandatory",[""])}),Nb.createElement("div",null,Nb.createElement(MS,{className:"w300",options:gt,value:gt.filter(function(e){return e.value===a}),onChange:function(e){return function(e){i(Fi({comment_criteria:e}))}(e.value)}})),Nb.createElement("input",{type:"text",className:"ztextbox w150",value:o,maxLength:2,onChange:function(e){return l(e.target.value)},onBlur:function(e){""===e.target.value&&l(0)}}))))))},SM=Nb.forwardRef(function(e,t){var n=e.id,r=e.surveyData,a=e.errorData,o=Kb();return Nb.createElement("div",{className:"zpl_act",ref:t,id:n},Nb.createElement("div",{className:"zpl_rgtcnt"},Nb.createElement("div",{className:"zpl_crd"},Nb.createElement(BI,{title:ZPI18N.getString("zp.question"),description:ZPI18N.getString("zp.survey.tab.setup.details.desc")}),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_assQtype"},Nb.createElement(ZS,{metricId:r.metric_id,updateMetric:function(e){o(Fi({metric_id:e.value}))},error:a.metric_id,isMandatory:!0}),Nb.createElement(hM,{question:r.question,questionId:r.question_id,error:a.question}),Nb.createElement(_M,{minScoreText:r.minscore_text,maxScoreText:r.maxscore_text,error:a.minscore_text||a.maxscore_text}),Nb.createElement(EM,{surveyData:r}))))))});function wM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return NM(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NM(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var PM=function(){var e=Mb(function(e){return e.createSurvey}),t=e.surveyData,n=e.errorData,r=e.fetchInitialData,a=Mb(function(e){return e.modalBox}).viewType,o=Mb(function(e){return e.surveyCommon}).metrics,i=wM(Nb.useState(!1),2),l=i[0],c=i[1],u=(0,Nb.useRef)(null),s=(0,Nb.useRef)(null),d=(0,Nb.useRef)(null),p=(0,Nb.useRef)(null),f=(0,Nb.useRef)(null),m=Kb(),v=[{id:"basic-requirements",label:ZPI18N.getString("zp.basicdetails"),ref:s},{id:"schedule",label:ZPI18N.getString("zp.schedule"),ref:p}];t.type===Po.ENPS&&v.splice(1,0,{id:"question",label:ZPI18N.getString("zp.question"),ref:d}),t.type!==Po.ENGAGEMENT&&t.type!==Po.PULSE||v.push({id:"survey-preference",label:ZPI18N.getString("zp.gtpreferences"),ref:f});var y=wM((0,Nb.useState)(v[0].label),2),g=y[0],h=y[1],b=(0,Nb.useRef)(!1);return(0,Nb.useEffect)(function(){var e=function(e){if(e.preventDefault(),!b.current){for(var n=0,r=v;n<r.length;n++){var a=r[n];if(a.ref.current&&D(a.ref.current))return void h(a.label)}var o=k(s.current),i=k(p.current),l=k(d.current),c=k(f.current);t.type===Po.ENGAGEMENT||t.type===Po.PULSE?s.current&&o>c&&o>i?h(v[0].label):p.current&&i>o&&i>c?h(v[1].label):f.current&&c>o&&c>i&&h(v[2].label):t.type===Po.ENPS&&(s.current&&o>l&&o>i?h(v[0].label):d.current&&l>o&&l>i?h(v[1].label):p.current&&i>o&&i>l&&h(v[2].label))}};return u.current&&(u.current.addEventListener("scroll",e),u.current.addEventListener("resize",e)),function(){u.current&&(u.current.removeEventListener("scroll",e),u.current.removeEventListener("resize",e))}},[v]),Nb.useEffect(function(){0===(o.active||[]).length&&(c(!0),m(op()).then(function(){c(!1)}))},[]),Nb.createElement("div",{className:"zpl_act"},Nb.createElement("div",{className:"zpl_iwrpr",ref:u},Nb.createElement(fk,{sections:v,activeSection:g,setActiveSection:h,isScriptScrolling:b}),Nb.createElement("div",{className:"zpl_iwrprrgt DBI"},Nb.createElement("div",{className:"zpl_act"},r||l?Nb.createElement(aE,null):Nb.createElement(Nb.Fragment,null,Nb.createElement(sk,{surveyData:t,viewType:a,errorData:n,ref:v[0].ref,id:v[0].id}),t.type===Po.ENPS?Nb.createElement(Nb.Fragment,null,Nb.createElement(SM,{surveyData:t,errorData:n,ref:v[1].ref,id:v[1].id}),Nb.createElement(gM,{surveyData:t,errorData:n,ref:v[2].ref,id:v[2].id})):t.type===Po.ENGAGEMENT||t.type===Po.PULSE?Nb.createElement(Nb.Fragment,null,Nb.createElement(gM,{surveyData:t,errorData:n,ref:v[1].ref,id:v[1].id}),Nb.createElement(Ax,{surveyData:t,ref:v[2].ref,id:v[2].id})):void 0)))))},OM=function(e){var t=e.applicableType,n=Kb(),r=Mb(function(e){return e.surveyCommon}).initData,a=r.role,o=void 0===a?"":a,i=r.department_lead,l=r.is_manager,c=r.is_direct_subordinates,u=function(e){n(Fi(e===Fe?{applicable_to:{type:e,rules:[{rule_name:"Criteria 1",applicable_props:[{}]}]}}:{applicable_to:{type:e}}))},s=t===Be?ZPI18N.getString("zp.survey.applicability.org.msg"):t===Ue?ZPI18N.getString("zp.survey.applicability.direct_reportee.msg"):t===Fe?o==nt?ZPI18N.getString("zp.survey.applicability.custom.admin.msg"):ZPI18N.getString("zp.survey.applicability.custom.direct_reportee.msg"):null;return i&&o!==nt&&!l?null:Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,Nb.createElement("h6",null,ZPI18N.getString("zp.survey.applicability.select"))),Nb.createElement("div",null,o===nt&&Nb.createElement(Yw,{label:ZPI18N.getString("zp.survey.allemployees"),id:zE(),callback:function(){return u(Be)},isActive:t===Be,className:"zradiobutton zradiobutton--horizontal"}),c&&(o==nt||l)&&Nb.createElement(Yw,{label:ZPI18N.getString("zp.files.operations.directrep"),id:zE(),callback:function(){return u(Ue)},isActive:t===Ue,className:"zradiobutton zradiobutton--horizontal"}),Nb.createElement(Yw,{label:ZPI18N.getString("zp.survey.specificemployees"),id:zE(),callback:function(){return u(Fe)},isActive:t===Fe,className:"zradiobutton zradiobutton--horizontal"})),s?Nb.createElement($E,{msg:s}):null)};function IM(){return IM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IM.apply(null,arguments)}var zM=function(e){var t=e.children,n=e.className,r=e.innerProps,a=e.isDisabled,o=e.isFocused,i=e.innerRef;return Nb.createElement("div",IM({className:"ztokenfield ztokenfield--closeshown ".concat(n," ").concat(a?"disabled":""," ").concat(o?"has-focus":""),style:{maxHeight:"100px"}},r,{ref:i}),t)};function CM(){return CM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CM.apply(null,arguments)}var TM=function(e){var t=e.children,n=e.isFocused;return Nb.createElement("div",{className:"ztokenfield__token ".concat(n?"is-selected":""),tabIndex:-1},t)},xM=function(e){var t=e.option;return e.children,Nb.createElement("span",{className:"ztokenfield__text",title:t.label},t.label)},kM=function(e){var t=e.removeProps;return Nb.createElement("button",CM({tabIndex:"-1",title:ZPI18N.getString("zp.nextyear"),role:"button",className:"ztokenfield__close zbutton zbutton--medium zbutton--normal zbutton--icononly",type:"button"},t),Nb.createElement("i",{className:"ztokenfield__icon zbutton__icon"},Nb.createElement("svg",{className:"ztokenfield__svg",focusable:"false"},Nb.createElement("use",{xlinkHref:"#zc__svg--close"}))))},DM=function(e){var t=e.option,n=e.removeProps,r=e.isFocused;return Nb.createElement(TM,{isFocused:r},Nb.createElement(xM,{option:t}),Nb.createElement(kM,{removeProps:n}))};function jM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var AM=function(e){var t=e.options,n=e.selectOption,r=e.focusedOption,a=e.selectedOptions,o=e.isLoading,i=e.onOptionHover,l=e.menuListRef,c=e.focusedOptionRef;return o?Nb.createElement("ul",{className:"zdropdownlist__body zh-scroll_y",style:{height:"auto"},ref:l},Nb.createElement("li",{className:"zdropdownlist__loader zdropdownlist__fullloader"},Nb.createElement("i",{className:"zdropdownlist__loadericon zh-loading"},Nb.createElement("svg",{className:"zeffects--rotate",viewBox:"0 0 20 20"},Nb.createElement("circle",{className:"circle__track",cx:"10",cy:"10",r:"9"}),Nb.createElement("circle",{className:"circle__load",cx:"10",cy:"10",r:"9"}))))):Nb.createElement("ul",{className:"zdropdownlist__body zh-scroll_y",style:{height:"auto"},ref:l},(t||[]).map(function(e,t){return Nb.createElement(RM,{key:"select-menu-option-".concat(t),option:e,onSelect:function(){return n(e)},isFocused:(null==r?void 0:r.value)===e.value,isSelected:(a||[]).map(function(e){return e.value}).includes(e.value),onHover:function(){return i(e)},innerRef:c})}))},RM=function(e){var t,n=e.option,r=e.onSelect,a=e.isFocused,o=e.isSelected,i=e.onHover,l=e.innerRef,c=(t="",a&&(t+="has-focus on-hover"),o&&(t+=" is-selected"),t),u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jM(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jM(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Nb.useState(!1),2),s=u[0],d=u[1],p=Nb.useRef(null);return Nb.useEffect(function(){if(null!=p&&p.current){var e=p.current.offsetWidth,t=p.current.scrollWidth;d(t>e)}},[p]),Nb.createElement("li",{className:"zdropdownlist__item ".concat(c),onClick:function(e){e.stopPropagation(),r()},role:"option",tabIndex:"-1",onMouseMove:i,onMouseOver:i,ref:function(e){a&&(l.current=e)},title:s?n.label:null},Nb.createElement("div",{className:"zdropdownlist__checkedindication"},Nb.createElement("i",{className:"zdropdownlist__checkedicon"},Nb.createElement("svg",{focusable:"false"},Nb.createElement("use",{xlinkHref:"#zc__svg--tick"})))),Nb.createElement("div",{className:"zdropdownlist__content"},Nb.createElement("span",{className:"zdropdownlist__text",ref:p},n.label)))},qM=function(e){var t,n=e.menuIsOpen,r=e.setMenuIsOpen,a=e.selectOption,o=e.anchorEleRef,i=e.options,l=e.focusedOption,c=e.closeMenu,u=e.selectedOptions,s=e.maxMenuHeight,d=e.isLoading,p=e.onOptionHover,f=e.menuListRef,m=e.focusedOptionRef,v=e.noOptionsMessage;if(!n)return null;var y="".concat((null==o||null===(t=o.current)||void 0===t?void 0:t.offsetWidth)||250,"px");return Nb.createElement(FE,{className:"zdropdownlist zdropdownlist--withcheckedindication zposition--left ".concat(n?"zh-radiusright":""),anchorEleRef:o,open:n,setIsOpen:r,style:{minWidth:y,maxWidth:y,maxHeight:"".concat(s||300,"px"),overflow:"auto"},clickAwayHandler:function(e){o.current&&!o.current.contains(e.target)&&c()},disableScrollLock:!0},Nb.createElement(AM,{options:i,selectOption:a,focusedOption:l,selectedOptions:u,isLoading:d,onOptionHover:p,menuListRef:f,focusedOptionRef:m}),0!==(null==i?void 0:i.length)||d?null:Nb.createElement(SS,{noOptionsMessage:v}))};function MM(e,t){!function(e){return[document.documentElement,document.body,window].indexOf(e)>-1}(e)?e.scrollTop=t:window.scrollTo(0,t)}function ZM(e){return ZM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZM(e)}function LM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LM(Object(n),!0).forEach(function(t){BM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BM(e,t,n){return(t=function(e){var t=function(e){if("object"!=ZM(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ZM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ZM(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UM(e){return function(e){if(Array.isArray(e))return YM(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||VM(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||VM(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VM(e,t){if(e){if("string"==typeof e)return YM(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YM(e,t):void 0}}function YM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function WM(e){var t,n=e.className,r=e.placeholder,a=void 0===r?ZPI18N.getString("zp.select"):r,o=e.noOptionsMessage,i=void 0===o?ZPI18N.getString("zp.nodatafound"):o,l=e.value,c=e.options,u=void 0===c?[]:c,s=e.style,d=void 0===s?{}:s,p=e.onKeyDown,f=e.onChange,m=e.onMenuOpen,v=e.onMenuClose,y=e.onFocus,g=e.onCreateOption,h=e.loadOptions,b=e.isMulti,_=void 0===b||b,E=e.isLoading,S=void 0!==E&&E,w=e.isSearchable,N=void 0!==w&&w,P=e.isDisabled,O=void 0!==P&&P,I=e.closeMenuOnSelect,z=void 0!==I&&I,C=e.isCreatable,T=void 0!==C&&C,x=e.maxMenuHeight,k=void 0===x?300:x,D=HM((0,Nb.useState)(!1),2),j=D[0],A=D[1],R=HM((0,Nb.useState)(!1),2),q=R[0],M=R[1],Z=HM((0,Nb.useState)(null),2),L=Z[0],F=Z[1],B=HM((0,Nb.useState)(null),2),U=B[0],H=B[1],V=HM((0,Nb.useState)(""),2),Y=V[0],W=V[1],G=HM((0,Nb.useState)(!1),2),$=G[0],Q=G[1],X=HM((0,Nb.useState)({}),2),K=X[0],J=X[1],ee=(0,Nb.useRef)(null),te=(0,Nb.useRef)(null),ne=(0,Nb.useRef)(null),re=(0,Nb.useRef)(null);(0,Nb.useEffect)(function(){var e,t,n,r,a;ne.current&&re.current&&$&&(e=ne.current,t=re.current,n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),a=t.offsetHeight/3,r.bottom+a>n.bottom?MM(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+a,e.scrollHeight)):r.top-a<n.top&&MM(e,Math.max(t.offsetTop-a,0)),Q(!1))},[$]),(0,Nb.useEffect)(function(){ie.length&&Y.length?de("first"):F(null)},[Y]),l=l||[];var ae=Array.isArray(l)?l:[l],oe=function(e){ae=e},ie=(0,Nb.useCallback)(function(){if("function"==typeof h&&null!=Y&&Y.length&&!K[Y].isLoading)return K[Y].options;var e=UM(u);return Y&&Y.length&&(e=e.filter(function(e){var t;return null===(t=e.label)||void 0===t?void 0:t.toLowerCase().includes(Y.toLowerCase())})),e},[Y,u,K,ae])(),le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first";if(!j){q||fe(),H(null);var t="first"===e?0:ie.length-1;if(!_){var n=ie.findIndex(function(e){var t;return e.value===(null===(t=ae[0])||void 0===t?void 0:t.value)});n>-1&&(t=n)}!L&&F(u[t]),A(!0),"function"==typeof m&&m()}},ce=function(){q&&me(),A(!1),M(!1),F(null),H(null),Q(!1),W(""),J({}),"function"==typeof v&&v(ae)},ue=function(e){if(_){var t=ae.filter(function(t){return t.value!==e.value});oe(t),f(t),H(null),fe()}},se=function(e){if(_){F(null);var t=ae.indexOf(U);U||(t=-1);var n=ae.length-1,r=-1;if(ae.length){switch(e){case"previous":r=0===t?0:-1===t?n:t-1;break;case"next":t>-1&&t<n&&(r=t+1)}H(ae[r])}}},de=function(e){if(ie.length){var t=0,n=ie.indexOf(L);L||(n=-1),"up"===e?t=n>0?n-1:ie.length-1:"down"===e?t=(n+1)%ie.length:"last"===e&&(t=ie.length-1),Q(!0),F(ie[t]),H(null)}},pe=function(e){var t=_&&(ae||[]).map(function(e){return e.value}).includes(e.value),n=UM(ae);t?n=n.filter(function(t){return t.value!==e.value}):_?n.push(e):n=[e],oe(n),"function"==typeof f&&f(_?n:n[0]),z&&ce(),W(""),fe()},fe=function(){var e;!q&&"function"==typeof y&&y(),document.activeElement.isSameNode(ee.current)||null===(e=ee.current)||void 0===e||e.focus(),!q&&M(!0)},me=function(){var e;document.activeElement.isSameNode(ee.current)&&(null===(e=ee.current)||void 0===e||e.blur()),q&&M(!1),H(null)};return Nb.createElement(zM,{className:"".concat(j?"zh-radiusbottomleft":""," ").concat(n||""),innerRef:te,innerProps:{onKeyDown:function(e){if(!(O||"function"==typeof p&&(p(e),e.defaultPrevented))){switch(e.key){case"ArrowLeft":if(!_||Y)return;se("previous");break;case"ArrowRight":if(!_||Y)return;se("next");break;case"Delete":case"Backspace":if(!_||Y.length)return;U?ue(U):(t=ae[ae.length-1],ue(t));break;case"Tab":if(e.shiftKey||!j||!L)return;pe(L);break;case"Enter":if(229===e.keyCode)break;if(j){L?pe(L):Y&&function(e){var t=[].concat(UM(ae),UM(ie)).map(function(e){return e.label.toLowerCase()}).includes(e.toLowerCase());T&&"function"==typeof g&&!t&&null!=e&&e.trim().length&&(g(e),oe(function(t){return[].concat(UM(t),[{label:e,value:e}])}),W(""))}(Y);break}return;case"Escape":j&&ce();break;case" ":if(Y||N)return;if(!j){le();break}if(!L)return;pe(L);break;case"ArrowUp":j?de("up"):le("last");break;case"ArrowDown":j?de("down"):le("first");break;case"Home":if(!j)return;de("first");break;case"End":if(!j)return;de("last");break;default:return}var t;e.preventDefault()}},onFocus:fe,onBlur:me,onClick:function(){return j?ce():le()},style:FM({maxHeight:"100px"},d)},isFocused:q,isDisabled:O},Nb.createElement(GM,{innerRef:ee,selectedOptions:ae,placeholder:a,focusedValue:U,removeValue:ue,inputValue:Y,handleInputChange:function(e){var t=e.target.value;W(t),j||A(!0),"function"==typeof h&&t&&(K[t]&&!K[t].isLoading||(J(function(e){return FM(FM({},e),{},BM({},t,{isLoading:!0,options:[]}))}),h(t,function(e){J(function(n){return FM(FM({},n),{},BM({},t,{isLoading:!1,options:e}))})})))}}),Nb.createElement(qM,{menuIsOpen:j,setMenuIsOpen:A,closeMenu:ce,onOptionHover:function(e){null!=e&&e.value&&(ie||[]).map(function(e){return e.value}).includes(e.value)&&F(e)},anchorEleRef:te,options:ie,selectOption:pe,focusedOption:L,selectedOptions:ae,isLoading:S||(null===(t=K[Y])||void 0===t?void 0:t.isLoading),maxMenuHeight:k,menuListRef:ne,focusedOptionRef:re,noOptionsMessage:i}))}var GM=function(e){var t=e.selectedOptions,n=e.placeholder,r=e.onMouseDown,a=e.onTouchEnd,o=e.focusedValue,i=e.removeValue,l=e.innerRef,c=e.handleInputChange,u=e.inputValue,s=0===(t||[]).length;return Nb.createElement(Nb.Fragment,null,(t||[]).map(function(e){var t="".concat(e.label,"-").concat(e.value),n=(null==o?void 0:o.value)&&(null==e?void 0:e.value)===o.value;return Nb.createElement(DM,{key:t,isFocused:n,option:e,removeProps:{onClick:function(t){t.stopPropagation(),i(e)},onTouchEnd:function(t){t.stopPropagation(),i(e)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}}})}),Nb.createElement("input",{type:"text",autoComplete:"off",role:"textbox",className:"ztokenfield__textbox",ref:l,placeholder:s?n:"",style:{width:s?"inherit":"auto"},onMouseDown:r,onTouchEnd:a,value:u,onChange:c}),Nb.createElement("input",{type:"text",autoComplete:"off",tabIndex:"-1",style:{position:"absolute",top:"-10000000px"}}))};WM.prototype={className:cE().string,placeholder:cE().string,value:cE().array||cE().object,options:cE().array,isLoading:cE().bool,isSearchable:cE().bool,isDisabled:cE().bool,onKeyDown:cE().func,onChange:cE().func,onMenuOpen:cE().func,onMenuClose:cE().func};var $M=WM;function QM(e){return QM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QM(e)}function XM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XM(Object(n),!0).forEach(function(t){JM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function JM(e,t,n){return(t=function(e){var t=function(e){if("object"!=QM(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=QM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==QM(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eZ(e){return function(e){if(Array.isArray(e))return nZ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tZ(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tZ(e,t){if(e){if("string"==typeof e)return nZ(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nZ(e,t):void 0}}function nZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rZ=function(e){var t=e.typeOptions,n=e.type,r=e.updateConditionType,a=e.values,o=e.initData,i=e.updateConditionValues,l=e.deleteConditionType,c=e.fetchConditionOptions,u=Mb(function(e){return e.surveyCommon}).applicability,s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||tZ(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(),2),d=s[0],p=s[1],f=(t||[]).filter(function(e){return e.value===n}),m=function(e){u.hasOwnProperty(e)||(c(e).then(function(){p(!1)}),p(!0))},v=(0,uo.debounce)(function(e,t,n){var r="all";(null==o?void 0:o.role)!==nt&&null!=o&&o.department_lead&&(r="departlead_subordinate");var a=new URLSearchParams({type:n,mode:r,searchTxt:e});y("zpsurvey/surveys/applicableprops?"+a).then(function(e){var r=e.data.applicable_to,a=Object.keys(r[n]||{}).map(function(e){return{label:r[n][e],value:e}});t(a)}).catch(function(e){console.error("Error applicability search:",e),t([])})},300);return Nb.createElement("div",{className:"zpl_idiv"},Nb.createElement(MS,{className:"w200",options:t,onChange:function(e){r(e.value),m(e.value)},value:f}),Nb.createElement("span",null,ZPI18N.getString("zp.lookup.is")),Nb.createElement($M,{className:"w300",isMulti:!0,onChange:i,value:a,isClearable:!1,isDisabled:!n,onFocus:function(){return n&&m(n)},isLoading:d,isSearchable:!0,cacheOptions:!0,options:function(e){return u.hasOwnProperty(e)?Object.keys(u[e]||{}).map(function(t){return{label:u[e][t],value:t}}):[]}(n),loadOptions:function(e,t){return v(e,t,n)}}),Nb.createElement("i",{className:"PI_delete",onClick:l}))},aZ=function(e){var t,n=e.criteriaTypeOptions,r=e.fetchConditionOptions,a=e.updateApplicableProps,o=e.rule,i=void 0===o?{}:o,l=e.showPlusIcon,c=void 0===l||l,u=e.initData,s=(i.applicable_props||[]).map(function(e){return e.type}).filter(Boolean),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return n.filter(function(n){if(0===t)return!0;var r="group"===e||"user"===e;return!(s.length>0&&!r)||"group"!==n.value&&"user"!==n.value}).filter(function(t){var n=t.value===e,r=!s.includes(t.value);return n||r})},p=(t=eZ(i.applicable_props||[]),!s.includes("group")&&!s.includes("user")&&d().length&&t.length);return 0===eZ(i.applicable_props||[]).length?null:Nb.createElement("div",{className:"zpl_gbox"},(i.applicable_props||[]).map(function(e,t){return Nb.createElement(rZ,{key:t,typeOptions:d(e.type,t),type:e.type,values:e.options,updateConditionType:function(e){!function(e,t){var n=eZ(i.applicable_props||[]);n[t]=KM(KM({},n[t]),{},{type:e,options:[]}),a(n)}(e,t)},updateConditionValues:function(e){!function(e,t){var n=eZ(i.applicable_props||[]);n[t]=KM(KM({},n[t]),{},{options:e}),a(n)}(e,t)},deleteConditionType:function(){return function(e){var t=eZ(i.applicable_props||[]).filter(function(t,n){return e!==n});a(t)}(t)},fetchConditionOptions:r,initData:u})}),p?Nb.createElement(Nb.Fragment,null,Nb.createElement("div",{className:"zpl_idiv"},Nb.createElement("a",{onClick:function(){var e=(i.applicable_props||[]).map(function(e){return e.type});if(e.length>0){var t=i.applicable_props[e.length-1];if(0===(t.type||"").length||0===(t.options||[]).length)return void B({text:ZPI18N.getString("zp.survey.applicability.custom.nodata.msg"),duration:3e3}).showWarning()}if((d()||[]).length>0){var n=[].concat(eZ(i.applicable_props||[]),[{type:"",options:[]}]);a(n)}}},ZPI18N.getString("zp.lms.addcondition"))),c?Nb.createElement("div",{className:"zpl_cndop"},Nb.createElement("span",null,ZPI18N.getString("zp.welcomepageortxt"))):null):null)};function oZ(e){return oZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oZ(e)}function iZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iZ(Object(n),!0).forEach(function(t){cZ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cZ(e,t,n){return(t=function(e){var t=function(e){if("object"!=oZ(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=oZ(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==oZ(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uZ(e){return function(e){if(Array.isArray(e))return sZ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return sZ(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sZ(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var dZ=function(e){var t=e.applicableTo,n=Kb(),r=Mb(function(e){return e.surveyCommon}),a=r.applicability,o=r.initData,i=function(e){var t="all";return(null==o?void 0:o.role)===nt?t="all":null!=o&&o.is_manager?t="subordinates":null!=o&&o.department_lead&&(t="departlead_subordinate"),!!a.hasOwnProperty(e)||n(tp({type:e,mode:t}))};return Nb.createElement("div",{className:"zpl_secn",id:"applicability_rule"},Nb.createElement("div",{className:"zpl_cndor"},(t.rules||[]).map(function(e,r){return Nb.createElement(aZ,{rule:e,key:e.rule_id,initData:o,criteriaTypeOptions:(a=uZ(ht),null!=o&&o.group_exist&&a.push({label:ZPI18N.getString("zp.group"),value:"group"}),null!=o&&o.employeetype_exist&&a.push({label:ZPI18N.getString("zp.local.Employeetype"),value:"employeetype"}),a),showPlusIcon:r<t.rules.length-1||((null==t?void 0:t.rules)||[]).length<2,fetchConditionOptions:i,updateApplicableProps:function(e){return function(e,r){var a=mo(t.rules);0===(e||[]).length?a.splice(r,1):a[r].applicable_props=e,n(Fi({applicable_to:lZ(lZ({},t),{},{rules:a})}))}(e,r)}});var a}),((null==t?void 0:t.rules)||[]).length<2?Nb.createElement("div",{className:"zpl_adcnd"},Nb.createElement("a",{className:"zpl_lnkbg",onClick:function(){var e="Criteria ".concat(((null==t?void 0:t.rules)||[]).length+1);n(Fi({applicable_to:lZ(lZ({},t),{},{rules:[].concat(uZ(t.rules||[]),[{rule_name:e,applicable_props:[{}]}])})}))}},ZPI18N.getString("zp.new")+" "+ZPI18N.getString("zp.criteria"))):null))},pZ=function(){var e=Mb(function(e){return e.createSurvey}),t=e.surveyData,n=e.fetchInitialData,r=t.applicable_to;return Nb.createElement("div",{className:"zpl_act"},Nb.createElement("div",{className:"zpl_iwrpr"},Nb.createElement("div",{className:"zpl_iwrprrgt DBI"},Nb.createElement("div",{className:"zpl_act"},n?Nb.createElement(aE,null):Nb.createElement("div",{className:"zpl_rgtcnt"},Nb.createElement("div",{className:"zpl_crd"},Nb.createElement(BI,{title:ZPI18N.getString("zp.applicability"),description:ZPI18N.getString("zp.survey.create.applicability.header")}),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement(OM,{applicableType:r.type}),r.type===Fe?Nb.createElement(dZ,{applicableTo:r}):null)))))))},fZ=function(e){var t=e.reminder,n=e.reminderOptions,r=e.handleReminderChange,a=e.handleReminderDelete;return Nb.createElement("div",{className:"zpl_idiv zpl_erorbx"},Nb.createElement("span",null,ZPI18N.getString("zp.notify")),Nb.createElement("div",null,Nb.createElement(MS,{options:n,onChange:function(e){return r(e.value)},value:n.filter(function(e){return e.value===t.minutes})[0]})),Nb.createElement("em",null,ZPI18N.getString("zp.survey.before.end")),Nb.createElement("div",null,Nb.createElement("i",{className:"PI_delete",onClick:a})))};function mZ(e){return mZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mZ(e)}function vZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vZ(Object(n),!0).forEach(function(t){gZ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gZ(e,t,n){return(t=function(e){var t=function(e){if("object"!=mZ(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=mZ(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==mZ(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var bZ=function(e){var t=e.reminders,n=e.reminderOptions,r=e.getReminderSelectValue,a=Kb(),o=(t||[]).length,i=(n||[]).length;return Nb.createElement("div",{className:"zpl_tbox"},o>0?Nb.createElement("div",{className:"zpl_gbox"},(t||[]).map(function(e,r){return Nb.createElement(fZ,{reminder:e,index:r,reminderOptions:n,handleReminderChange:function(e){return function(e,n){var r=(t||[]).map(function(t,r){return n===r?yZ(yZ({},t),{},{minutes:e}):t});a(Fi({reminders:r}))}(e,r)},handleReminderDelete:function(){return function(e){var n=(t||[]).filter(function(t,n){return e!==n});a(Fi({reminders:n,is_reminder:n.length>0}))}(r)}})})):null,i>0&&o<i&&o<4?Nb.createElement("div",null,Nb.createElement("a",{className:"zpl_lnkbg",onClick:function(){var e;a(Fi({reminders:[].concat((e=t,function(e){if(Array.isArray(e))return hZ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return hZ(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hZ(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{minutes:r(),action:"email"}])}))}},ZPI18N.getString("zp.addreminder"))):null)},_Z=function(e){var t=e.mailTemplate,n=e.title,r=e.surveyData,a=T(t.subject),o=t.template_id?T(t.content):t.content;if(a=a.replaceAll("${SurveyName}",r.survey_name||""),o=o.replaceAll("${SurveyName}",r.survey_name||""),r.activation_type==qn){var i=Dm(r.opening_time),c=Dm(r.closing_time);o=(o=(o=(o=o.replaceAll("${SurveyName}",r.survey_name||"")).replaceAll("${StartDate}",i.getDateBy(dateFmt))).replaceAll("${OpeningDate}",i.getDateBy(dateFmt))).replaceAll("${ClosingDate}",c.getDateBy(dateFmt))}return Nb.createElement("div",{className:"zpl_secn"},n?Nb.createElement(XT,{title:n}):null,Nb.createElement("div",{className:"zpl_editViewer disabled"},Nb.createElement("div",{className:"editView_hdr"},Nb.createElement("h4",null,l().sanitize(a))),Nb.createElement("div",{className:"editView_body"},Nb.createElement("p",{dangerouslySetInnerHTML:{__html:l().sanitize(o)}}))))},EZ=Nb.forwardRef(function(e,t){var n=e.id,r=e.surveyData,a=e.mailTemplate,o=r.reminders,i=r.is_reminder,l=r.opening_time,c=r.closing_time,u=Kb(),s=function(){var e=function(){var e=Dm(l),t=Dm(c),n=(t=t<e?e:t)<=Calendar.getCurrentDate()?0:Fm(t,e);return n>=8?8:n}();return yt.filter(function(t){return t.value<=24*(e-1)*60})},d=function(){var e,t=(o||[]).map(function(e){return e.minutes});return s().forEach(function(n,r){t.includes(n.value)||e||(e=n.value)}),e};return Nb.createElement("div",{className:"zpl_rgtcnt",ref:t,id:n},Nb.createElement("div",{className:"zpl_crd"},Nb.createElement(BI,{title:ZPI18N.getString("zp.survey.reminder.survey.header"),description:ZPI18N.getString("zp.survey.reminder.survey.template.name")}),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zpl_idiv chkdectxt"},Nb.createElement(uw,{isActive:i,label:ZPI18N.getString("zp.survey.enable.email.notification"),onChange:function(){u(Fi(i?{is_reminder:!1,reminders:[]}:{is_reminder:!0,reminders:[{action:"email",minutes:d()}]}))},parentClass:"M0I"})),i?Nb.createElement(bZ,{reminders:o,reminderOptions:s(),getReminderSelectValue:d}):null),i?Nb.createElement(_Z,{mailTemplate:a,title:ZPI18N.getString("zp.survey.email.message"),surveyData:r}):null)))}),SZ=Nb.forwardRef(function(e,t){var n=e.id,r=e.surveyData,a=e.mailTemplate,o=r.mail_notification,i=Kb();return Nb.createElement("div",{className:"zpl_rgtcnt",ref:t,id:n},Nb.createElement("div",{className:"zpl_crd"},Nb.createElement(BI,{title:ZPI18N.getString("zp.survey.create.notification.header"),description:ZPI18N.getString("zp.survey.start.survey.template.name")}),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(uw,{isActive:o,label:ZPI18N.getString("zp.survey.enable.email.notification"),onChange:function(){i(Fi({mail_notification:!o}))}})),o?Nb.createElement(_Z,{mailTemplate:a,title:ZPI18N.getString("zp.survey.email.message"),surveyData:r}):null)))}),wZ=Nb.forwardRef(function(e,t){var n=e.id,r=e.surveyData,a=e.mailTemplate;return Nb.createElement("div",{className:"zpl_rgtcnt",ref:t,id:n},Nb.createElement("div",{className:"zpl_crd"},Nb.createElement(BI,{title:ZPI18N.getString("zp.survey.extension.survey.header"),description:ZPI18N.getString("zp.survey.extension.mail.template.desc")}),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement(_Z,{mailTemplate:a,title:ZPI18N.getString("zp.survey.email.message"),surveyData:r}))))});function NZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var PZ=function(){var e=Mb(function(e){return e.createSurvey}),t=e.surveyData,n=e.fetchInitialData,r=Mb(function(e){return e.modalBox}).viewType,a=Mb(function(e){return e.surveyCommon}).mailTemplates,o=t.opening_time,i=t.closing_time,l=Kb(),c=(0,Nb.useRef)(null),u=(0,Nb.useRef)(null),s=(0,Nb.useRef)(null),d=(0,Nb.useRef)(null),p=(0,Nb.useRef)(!1),f=[];t.activation_type==qn?f=[{id:"initial-notification",label:ZPI18N.getString("zp.survey.notification.newsurvey"),ref:u},{id:"extend-survey",label:ZPI18N.getString("zp.survey.notification.surveyextended"),ref:d}]:t.activation_type==Rn&&(f=[{id:"initial-notification",label:ZPI18N.getString("zp.survey.notification.newsurvey"),ref:u}]),g()>1&&f.splice(1,0,{id:"reminder-notification",label:ZPI18N.getString("zp.survey.notification.surveyreminders"),ref:s});var m=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return NZ(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NZ(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(f[0].label),2),v=m[0],y=m[1];function g(){if(t.activation_type===qn){var e=Dm(o),n=Dm(i),r=(n=n<e?e:n)<=Calendar.getCurrentDate()?0:Fm(n,e);return r>=8?8:r}return!1}return(0,Nb.useEffect)(function(){var e=function(e){if(!p.current){e.preventDefault();for(var t=0,n=f;t<n.length;t++){var r=n[t];if(r.ref.current&&D(r.ref.current))return void y(r.label)}var a=k(u.current),o=k(s.current),i=k(d.current);u.current&&a>o&&a>i?y(f[0].label):s.current&&o>a&&o>i?y(f[1].label):d.current&&i>a&&i>o&&y((g()>1?f[2]:f[1]).label)}};return c.current&&(c.current.addEventListener("scroll",e),c.current.addEventListener("resize",e)),function(){c.current&&(c.current.removeEventListener("scroll",e),c.current.removeEventListener("resize",e))}},[]),(0,Nb.useEffect)(function(){0===Object.keys(a||{}).length&&l(np())},[r]),Nb.createElement("div",{className:"zpl_act"},Nb.createElement("div",{className:"zpl_iwrpr",ref:c},Nb.createElement(fk,{sections:f,activeSection:v,setActiveSection:y,isScriptScrolling:p}),Nb.createElement("div",{className:"zpl_iwrprrgt DBI"},Nb.createElement("div",{className:"zpl_act"},n||0===Object.keys(a||{}).length?Nb.createElement(aE,null):Nb.createElement(Nb.Fragment,null,Nb.createElement(SZ,{surveyData:t,mailTemplate:t.activation_type===qn?a.newsurvey:a.newsurvey_manual,ref:f[0].ref,id:f[0].id}),t.activation_type===qn?Nb.createElement(Nb.Fragment,null,g()>1?Nb.createElement(Nb.Fragment,null,Nb.createElement(EZ,{surveyData:t,mailTemplate:a.reminder,ref:f[1].ref,id:f[1].id}),Nb.createElement(wZ,{surveyData:t,mailTemplate:a.survey_extension,ref:f[2].ref,id:f[2].id})):Nb.createElement(wZ,{surveyData:t,mailTemplate:a.survey_extension,ref:f[1].ref,id:f[1].id})):"")))))},OZ=function(e){var t=e.startLink,n=e.previewLink,r=e.disabled,a=void 0!==r&&r,o=e.title,i=e.validatePreview,l=(0,Nb.useRef)(null);return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("a",{href:n,target:"_blank",style:{display:"none"},ref:l}),Nb.createElement("div",null,Nb.createElement("h5",null,o)),Nb.createElement("div",{className:"d-flexclmcap10 d-flexC"},Nb.createElement("div",{className:"zpl_bgbrd p_abs ".concat(a?"disabled":"")},Nb.createElement("span",{style:a?{WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",OUserSelect:"none",userSelect:"none"}:{}},t),Nb.createElement("div",{className:"zpl_bgbrd-actn",onClick:function(){navigator.clipboard.writeText(t),B({text:ZPI18N.getString("zp.urlcopied"),duration:3e3}).showSuccess()}},Nb.createElement("i",{className:"PI_cpy tooltip-js",title:"Copy"}))),Nb.createElement("button",{className:"zlabel zlabel--blue zlabel--medium zlabel--outline",onClick:function(){a&&!i()||l.current.click()}},ZPI18N.getString("zp.preview"))))},IZ=function(e){var t=e.data;return Nb.createElement("div",{className:"zpl_idiv"},t.map(function(e,t){var n=e.label,r=e.value;return Nb.createElement(Nb.Fragment,{key:t},0!=t?Nb.createElement("span",null,"|"):null,Nb.createElement("div",null,Nb.createElement("em",null,n),Nb.createElement("span",null,": "),Nb.createElement("b",null,r)))}))},zZ=function(e){var t=e.label,n=e.data;return Nb.createElement("div",null,Nb.createElement("em",null,t),Nb.createElement("label",null,(n||[]).map(function(e,t){return Nb.createElement(Nb.Fragment,null,0!==t?", ":"",Nb.createElement("span",null,e.label))})))},CZ=function(e){var t=(e.applicableProps||[]).reduce(function(e,t){return e[t.type]=t.options,e},{}),n=Object.keys(t||{}),r=[{label:ZPI18N.getString("zp.location"),kname:"location"},{label:ZPI18N.getString("zp.department"),kname:"department"},{label:ZPI18N.getString("zp.designation"),kname:"designation"},{label:ZPI18N.getString("zp.role"),kname:"role"},{label:ZPI18N.getString("zp.gender"),kname:"gender"},{label:ZPI18N.getString("zp.user"),kname:"user"},{label:ZPI18N.getString("zp.employeeType"),kname:"employeetype"},{label:ZPI18N.getString("zp.group"),kname:"group"}].filter(function(e){return n.includes(e.kname)});return Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_aprvl_flw applcblVw zpl_dot"},Nb.createElement("div",null,r.map(function(e,n){var r=e.label,a=e.kname;if(t[a])return Nb.createElement(Nb.Fragment,null,0!==n?Nb.createElement("i",{className:"PI_argt"}):null,Nb.createElement(zZ,{label:r,data:t[a]}))}))))},TZ=function(e){var t=e.type,n=e.rules;return Nb.createElement(Nb.Fragment,null,t===Fe?(n||[]).map(function(e){return Nb.createElement(CZ,{key:zE(),applicableProps:e.applicable_props,title:e.rule_name})}):t===Be||t==Ue?Nb.createElement("div",{className:"zpl_aprvl_flw applcblVw zpl_dot"},Nb.createElement("div",null,t===Be?Nb.createElement("div",null,Nb.createElement("em",null,ZPI18N.getString("zp.organization")),Nb.createElement("label",null,Nb.createElement("span",null,ZPI18N.getString("zp.survey.allemployees")))):Nb.createElement("div",null,Nb.createElement("em",null,ZPI18N.getString("zp.reportees")),Nb.createElement("label",null,Nb.createElement("span",null,ZPI18N.getString("zp.files.operations.directrep")))))):void 0)},xZ=function(e){var t=e.applicableTo;return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(hN,{title:ZPI18N.getString("zp.lms.settings.applicableto")}),Nb.createElement(TZ,{type:t.type,rules:t.rules||[]}))},kZ=function(e){var t=e.title,n=e.message;return Nb.createElement("div",{className:"zpl_secn M0I"},Nb.createElement(hN,{title:t,message:n}))},DZ=function(e){var t=e.label,n=e.value,r=e.note,a=e.className,o=e.children;return Nb.createElement("div",null,o,Nb.createElement("label",null,t),Nb.createElement("h3",{className:a},n),r?Nb.createElement("em",null,r):null)};function jZ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return AZ(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?AZ(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function RZ(e){var t=e.label,n=e.value,r=e.surveyId,a=e.openingDate,o=e.closingDate,i=e.children,l=jZ((0,Nb.useState)(!1),2),c=l[0],u=l[1],s=jZ((0,Nb.useState)(""),2),d=s[0],p=s[1],f=Kb(),m=(0,Nb.useRef)(o),v=(0,Nb.useRef)(null),y=(0,Nb.useCallback)(function(e){var t=!1,n="",r=jm();return Dm(e)<Dm(a)?n=ZPI18N.getString("zp.survey.enddate.greater_equal.startdate"):Dm(e)<Dm(r)?n=ZPI18N.getString("zp.survey.enddate.greater_equal.currentdate"):Fm(a,e)>=28?n=ZPI18N.getString("zp.survey.enddate.max.range.validation",[28]):t=!0,p(n),t||B({text:n,duration:3e3}).showError(),t},[d,a]);return LE(v,function(e){document.getElementById("assessment-datepicker-popper")||(d&&f(Fi({closing_time:m.current})),u(!1))}),Nb.createElement("div",null,!c&&i,Nb.createElement("label",null,t),c?Nb.createElement("div",{className:"d-flexC d-flexclmcap5",ref:v},Nb.createElement(Rw,{timestamp:Dm(o),displayFormat:je[2],onChange:function(e){var t=jm(new Date(e));if(f(Fi({closing_time:t})),y(t)){var n={surveyData:JSON.stringify({closing_time:t})};f(ei({surveyId:r,payload:n})).then(function(e){if("fulfilled"===e.meta.requestStatus){B({text:ZPI18N.getString("zp.lms.settings.SavedSuccess"),duration:3e3}).showSuccess(),u(!1),m.current=t;var n=e.payload;n.type===Se?f(Us(n)):n.type===Ee?f(dd(n)):n.type===Ie&&f(pm(n))}else{var r,a=(null==e||null===(r=e.payload)||void 0===r||null===(r=r.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.message)||ZPI18N.getString("zp.unabletoprocess");p(a),B({text:a,duration:3e3}).showError()}})}},className:d?"ztextbox__error":""})):Nb.createElement("div",{className:"d-flexclmcap8 a-itm-cntr"},Nb.createElement("h3",null,n),Nb.createElement("a",{onClick:function(){return u(!0)}},ZPI18N.getString("zp.edit"))))}var qZ=function(e){var t=e.surveyData,n=e.readOnly,r=void 0!==n&&n,a=function(e){return Dm(e).getDateBy(dateFmt)},o=Mb(Mi),i=function(){if(t.activation_type===qn){if(!t.is_ready||r)return null;if(t.current_state===_t&&t.status===Yt){var e=Fm(jm(),Dm(t.closing_time));return Nb.createElement("div",{className:"zpl_tg redbglit acrdTg"},Nb.createElement("span",null,av(e)))}}return null};return Nb.createElement("div",{className:"zpl_aCrd zpl_mt3"},(t.type===Ee||t.type===Ie)&&Nb.createElement(DZ,{label:ZPI18N.getString("zp.questions"),value:o>0&&o<10?"0".concat(o):o}),Nb.createElement(DZ,{label:ZPI18N.getString("zp.local.Startdate"),value:t.activation_type===qn?a(t.opening_time):"-"}),function(){if(t.activation_type===qn){var e=jm();return!r&&[_t,St].includes(t.current_state)&&t.is_ready&&t.status!==Wt&&Fm(t.opening_time,e)<28}return!1}()?Nb.createElement(RZ,{label:ZPI18N.getString("zp.local.Enddate"),value:a(t.closing_time),surveyId:t.survey_id,openingDate:t.opening_time,closingDate:t.closing_time},i()):Nb.createElement(DZ,{label:ZPI18N.getString("zp.local.Enddate"),value:t.activation_type===qn?a(t.closing_time):"-"},i()),Nb.createElement(DZ,{label:ZPI18N.getString("zp.repeats"),value:t.activation_type===qn?t.is_repeat?mt[t.repeat.frequency]:mt.none:ZPI18N.getString("zp.none")}),function(){if(t.is_repeat){var e=(n=t.repeat).until?{label:ZPI18N.getString("zp.survey.endson"),value:Dm(n.until).getDateBy(dateFmt).toString()}:{label:ZPI18N.getString("zp.survey.endsafter"),value:ZPI18N.getString(n.count>1?"zp.survey.instances":"zp.survey.instance",[n.count])};return Nb.createElement(DZ,{label:e.label,value:e.value})}var n;return null}())},MZ=function(e){var t,n=e.surveyData,r=e.readOnly,a=void 0!==r&&r,o=e.viewType,i=n.is_ready,l=Bm(n.url,!1),c=Bm(n.url,!0);return Nb.createElement(Nb.Fragment,null,i?Nb.createElement(BI,{title:ZPI18N.getString("zp.local.surveydetails.type2")}):Nb.createElement(BI,{title:"".concat(ZPI18N.getString("zp.hello")," ").concat(T(null===(t=ZPUserProfile)||void 0===t||null===(t=t.info)||void 0===t||null===(t=t.getUserInfo())||void 0===t?void 0:t.name.trim()),","),description:ZPI18N.getString("zp.survey.publish.header.desc")}),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_aCnt zpl_secn"},Nb.createElement("div",{className:"zpl_gbox wd100_per M0I"},Nb.createElement(kZ,{title:n.survey_name,message:P(n.description)}),![Po.OFFBOARDING_FEEDBACK,Po.EXTEND_INTERVIEW_CREATION].includes(o)&&Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(qZ,{surveyData:n,readOnly:a}))),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zpl_info"},Nb.createElement("div",{className:"d-flexC j-cnt-btwen"},Nb.createElement(IZ,{data:n.activation_type===qn?[{label:ZPI18N.getString("zp.employeeidentity.preferences"),value:sn[n.respondent_identity]},{label:ZPI18N.getString("zp.mail"),value:n.mail_notification?ZPI18N.getString("zp.enabled"):ZPI18N.getString("zp.disabled")},{label:ZPI18N.getString("zp.reminder"),value:n.is_reminder?ZPI18N.getString("zp.enabled"):ZPI18N.getString("zp.disabled")}]:[{label:ZPI18N.getString("zp.employeeidentity.preferences"),value:sn[n.respondent_identity]},{label:ZPI18N.getString("zp.mail"),value:n.mail_notification?ZPI18N.getString("zp.enabled"):ZPI18N.getString("zp.disabled")}]})))),![Po.OFFBOARDING_FEEDBACK,Po.EXTEND_INTERVIEW_CREATION].includes(o)&&Nb.createElement(xZ,{applicableTo:n.applicable_to}),Nb.createElement(OZ,{startLink:l,previewLink:c,disabled:!n.is_ready,title:ZPI18N.getString("zp.survey.link"),validatePreview:function(){return nP(n)}}))))},ZZ=function(e){var t=e.viewType,n=Mb(function(e){return e.createSurvey}),r=n.surveyData,a=n.fetchInitialData;return Nb.createElement("div",{className:"zpl_act oy_auto"},a?Nb.createElement(Nb.Fragment,null,Nb.createElement(aE,null),Nb.createElement("div",{className:"zpl_secn"})):Nb.createElement("div",{className:"zpl_crd"},Nb.createElement(MZ,{surveyData:r,viewType:t})))},LZ=function(e){var t=e.type,n=[{url:"configuration",displayName:ZPI18N.getString("zp.setup")},{url:"applicability",displayName:ZPI18N.getString("zp.applicability")},{url:"notifications",displayName:ZPI18N.getString("zp.notifications")},{url:"publish",displayName:ZPI18N.getString("zp.publish")}];t!==Po.ENGAGEMENT&&t!==Po.PULSE||n.splice(1,0,{url:"questions",displayName:ZPI18N.getString("zp.questions")});var r=q_();return(0,Nb.useEffect)(function(){r("configuration")},[]),Nb.createElement("div",{className:"zpl_mcnt"},Nb.createElement("div",{className:"zpl_mmnu"},Nb.createElement(VD,{links:n,callbackHandler:aM}),Nb.createElement("div",{className:"zpl_mmnurgt"},Nb.createElement(X_,null,Nb.createElement($_,{path:"",element:Nb.createElement(G_,{to:"/configuration"})}),Nb.createElement($_,{path:"/configuration",element:Nb.createElement(PM,null)}),t===Po.ENGAGEMENT||t===Po.PULSE?Nb.createElement($_,{path:"/questions",element:Nb.createElement(HD,{type:t})}):null,Nb.createElement($_,{path:"/applicability",element:Nb.createElement(pZ,null)}),Nb.createElement($_,{path:"/notifications",element:Nb.createElement(PZ,null)}),Nb.createElement($_,{path:"/publish",element:Nb.createElement(ZZ,null)}),Nb.createElement($_,null)))))},FZ=function(e){var t=e.name,n=e.qcount,r=e.className,a=e.onClickHandler;return Nb.createElement("li",{className:"zpl_enpsLst",onClick:a},Nb.createElement("div",{className:"zpl_enpsImg ".concat(r)}),Nb.createElement("div",null,Nb.createElement("label",null,t),Nb.createElement("ul",{className:"zpl_lstbdrlne"},Nb.createElement("li",null,Nb.createElement("em",null,n+" "+(n<=1?ZPI18N.getString("zp.question"):ZPI18N.getString("zp.questions")))))))};function BZ(e){var t=e.viewType,n=e.mode,r=Kb(),a=Mb(function(e){return e.templateList}),o=a.data,i=a.fetchInitialData;(0,Nb.useEffect)(function(){t===Po.LIST_TEMPLATE?r(Pf({mode:n})):[Po.LIST_OFFBOARDING_INTERVIEW].includes(t)&&r(Of({pno:0}))},[]);return Nb.createElement("div",{className:"zpl_mcnt h100_per"},Nb.createElement("div",{className:"zpl_secn"},i?Nb.createElement(aE,{height:500}):Nb.createElement(Nb.Fragment,null,(null==o?void 0:o.length)>0?Nb.createElement("ul",{className:"zpl_enpsCrd"},(o||[]).map(function(e){var n=e.survey_id,a=e.survey_name,i=e.questions,l=e.cover_image.id,c=tt[l].className;return Nb.createElement(FZ,{name:a,qcount:e.question_count||(null==i?void 0:i.length)||0,className:c,onClickHandler:function(){return e=n,void(t===Po.LIST_TEMPLATE?r(Uf({render:!0,viewType:t===Po.LIST_TEMPLATE?Ee:[Po.LIST_OFFBOARDING_INTERVIEW].includes(t)?we:void 0,templateId:e,isLoading:!0})):t===Po.LIST_OFFBOARDING_INTERVIEW&&function(e){var t=mo((o||[]).find(function(t){return t.survey_id==e})||{});PO(e),r(Li({fetchInitialData:!1})),r(Bi(t)),r(Xa()),r(Qa({viewType:Po.OFFBOARDING_FEEDBACK,isShowResignationInterviewFlow:!0}))}(e));var e}})})):Nb.createElement(OI,{message:ZPI18N.getString("zp.survey.no.templates"),isButtonNeeded:!1}))))}function UZ(e){return UZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UZ(e)}function HZ(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return VZ(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(VZ(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,VZ(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,VZ(d,"constructor",u),VZ(u,"constructor",c),c.displayName="GeneratorFunction",VZ(u,a,"GeneratorFunction"),VZ(d),VZ(d,a,"Generator"),VZ(d,r,function(){return this}),VZ(d,"toString",function(){return"[object Generator]"}),(HZ=function(){return{w:o,m:p}})()}function VZ(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}VZ=function(e,t,n,r){function o(t,n){VZ(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},VZ(e,t,n,r)}function YZ(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function WZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function GZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WZ(Object(n),!0).forEach(function(t){$Z(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $Z(e,t,n){return(t=function(e){var t=function(e){if("object"!=UZ(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=UZ(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==UZ(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QZ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return XZ(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?XZ(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var KZ=function(e){var t=e.viewType,n=e.data,r=Mb(function(e){return e.createSurvey}),a=r.surveyData,o=r.pageType,i=void 0===o?"reports":o,l=r.surveyReport,c=l.question_report,u=(l.reports,l.single_question_response),s=l.pulseReport,d=(void 0===s?{}:s).participant_stats,p=void 0===d?{}:d,f=[Ee,Ie].includes(a.type)?(null==p?void 0:p.response_count)||0:a.response_count,m=(Mb(function(e){return e.surveyCommon})||{}).initData,v=(void 0===m?{}:m).read_only,y=void 0!==v&&v,g=Kb(),h=QZ((0,Nb.useState)(n),2),b=(h[0],h[1]);(0,Nb.useEffect)(function(){(c||[]).forEach(function(e,t){e.question_id==(null==u?void 0:u.question_id)&&b(GZ(GZ({},n),{},{question:e}))})},[u]);var _=QZ((0,Nb.useState)([]),2),E=_[0],S=_[1];(0,Nb.useEffect)(function(){var e=[];if(t===Po.DETAILED_REPORT||t===Po.SHARED_VIEW){var n=[];"reports"===i&&f>0&&(n=[Ht.export,Ht.print]),e=n.map(function(e){return GZ(GZ({},e),{},{callback:function(){return dq(a,a.type,e.value,t===Po.DETAILED_REPORT,l)}})})}else e=lq(a,i,f).map(function(e){return"separator"===e.itemType?{separtor:!0}:GZ(GZ({},e),{},{callback:function(){return dq(a,a.type,e.value,!1,l)}})});S(e)},[t,f,l]);var w=(0,Nb.useRef)(null),N=QZ((0,Nb.useState)(!1),2),P=N[0],O=N[1],I=function(){var e,t=(e=HZ().m(function e(){var t;return HZ().w(function(e){for(;;)switch(e.n){case 0:return t=new Ry(ZPI18N.getString("zp.survey.stop.survey"),ZPI18N.getString("zp.survey.stop.confirm.msg"),ZPI18N.getString("zp.confirm"),ZPI18N.getString("zp.cancel"),"red"),e.n=1,t.confirmation();case 1:if(e.v){e.n=2;break}return e.a(2);case 2:g(Ri({surveyId:a.survey_id})).then(function(e){if("fulfilled"===e.meta.requestStatus){var t,n=null===(t=e.payload)||void 0===t?void 0:t.closing_time,r=GZ(GZ({},a),{},{status:Vt,current_state:St,survey_state:2,is_ready:!1,closing_time:n});a.type===Se?g(Us(r)):a.type===Ee?g(dd(r)):a.type===Ie&&g(pm(r)),Rq(GZ(GZ({},a),{},{status:Vt,current_state:St,survey_state:2,is_ready:!1,type:a.type,closing_time:n}))}else if("rejected"===e.meta.requestStatus){var o,i,l=null!==(o=e.payload)&&void 0!==o&&null!==(o=o.response)&&void 0!==o&&o.data?null===(i=e.payload)||void 0===i||null===(i=i.response)||void 0===i?void 0:i.data.message:ZPI18N.getString("zp.unabletoprocess");B({text:l,duration:3e3}).showError()}});case 3:return e.a(2)}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){YZ(o,r,a,i,l,"next",e)}function l(e){YZ(o,r,a,i,l,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}();return E.length>0&&Nb.createElement(Nb.Fragment,null,Nb.createElement("span",{className:"zpl_mhderrgt"},t!==Po.DETAILED_REPORT&&t!=Po.SHARED_VIEW&&a.activation_type===Rn&&a.created_by===erecno?a.status==Yt?Nb.createElement("button",{className:"zlabel zlabel--red zlabel--outline zlabel--medium",onClick:function(){return I()}},ZPI18N.getString("zp.survey.stop")):Nb.createElement("button",{className:"zlabel zlabel--blue zlabel--outline zlabel--small",onClick:function(){g(qi({surveyId:a.survey_id})).then(function(e){if("fulfilled"===e.meta.requestStatus){var t=GZ(GZ({},a),{},{status:Yt,current_state:_t,survey_state:1,is_ready:!0});a.type===Se?g(Us(t)):a.type===Ee?g(dd(t)):a.type===Ie&&g(pm(t)),Rq(GZ(GZ({},a),{},{status:Yt,current_state:_t,survey_state:1,is_ready:!0,type:a.type}))}else if("rejected"===e.meta.requestStatus){var n,r=null!==(n=e.payload)&&void 0!==n&&null!==(n=n.response)&&void 0!==n&&n.data?e.payload.response.data.message:ZPI18N.getString("zp.unabletoprocess");B({text:r,duration:3e3}).showError()}})}},ZPI18N.getString("zp.survey.reopen")):void 0,t!==Po.DETAILED_REPORT&&t!=Po.SHARED_VIEW&&a.created_by===erecno&&a.allow_share&&f>0&&Nb.createElement("button",{className:"zlabel zlabel--medium zlabel--outline",onClick:function(){return bq(a,t==Po.DETAILED_REPORT)}},Ht.share.label),!y&&Object.keys(a).length>0&&a.is_ready&&a.status===Wt&&(!a.is_repeat||a.opening_time==a.first_instance_startdate)?Nb.createElement("button",{className:"zlabel zlabel--blue zlabel--medium",onClick:function(){return hq(a.type,a,!0)}},ZPI18N.getString("zp.lms.course.unpublish")):null,Nb.createElement("a",{className:"PI_more zpl_btnic zpl_drpdwn-js zh-radiusbottom",ref:w,onClick:function(){return O(!P)}})),P&&Nb.createElement(FO,{anchorEleRef:w.current,options:E,open:P,setIsOpen:O,useOffsetLeft:!1}))};function JZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eL=Nb.forwardRef(function(e,t){var n=e.id,r=e.title,a=e.message,o=e.parentId,i=e.currentId,l=e.readOnly,c=e.placeholder,u=Kb(),s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return JZ(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?JZ(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)({isSaving:!1,isEditView:!l,resetEditor:!1,hasChanges:!1}),2),d=s[0];return s[1],(0,Nb.useEffect)(function(){var e=ZPFeeds.Editor.editorList[i],t=ZPFeeds.Activity.validateRawContent(a,!1);e.setContent(DOMPurify.sanitize(t,{SAFE_FOR_JQUERY:!0}))},[]),(0,Nb.useEffect)(function(){a&&""!=a||ZPFeeds.Editor.editorList[i].setContent("")},[a]),Nb.createElement("div",{className:"zpl_rgtcnt",ref:t,id:n},Nb.createElement("div",{className:"zpl_crd"},Nb.createElement(hk,{title:r||ZPI18N.getString("zp.assessment.welcome_msg")}),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zp-fd-compose edtr_rply"},Nb.createElement("div",{className:"zp-fd-composeCont"},Nb.createElement("div",{className:"zpl_feedCompsr zpl_edtrply",style:{overflow:"hidden",height:"250px"}},Nb.createElement(gk,{parentId:o,isEditView:d.isEditView,currentId:i,resetEditor:d.resetEditor,afterEditorLoadCallback:function(){var e;null===(e=document.querySelector("[rel=OFFBOARDING_INTERVIEW_WRAPPER]"))||void 0===e||e.scrollIntoView({behavior:"smooth"})},readOnly:l,placeholder:l?void 0:c,editorChangeCallback:l?void 0:function(){var e=ZPFeeds.Editor.editorList[i],t=null==e?void 0:e.getContent(),n=ZPFeeds.getSmileysAndMentions(t,!1);u(Fi({instruction:n})),OO()},isAlwaysEdit:!l}))))))))}),tL=eL;function nL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rL=Nb.forwardRef(function(e,t){var n=e.id,r=e.title,a=e.message,o=e.parentId,i=e.currentId,l=e.readOnly,c=e.placeholder,u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nL(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nL(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)({isSaving:!1,isEditView:!0,resetEditor:!1,hasChanges:!1}),2),s=u[0],d=(u[1],Kb());return(0,Nb.useEffect)(function(){var e=ZPFeeds.Editor.editorList[i],t=ZPFeeds.Activity.validateRawContent(a,!1);e.setContent(DOMPurify.sanitize(t,{SAFE_FOR_JQUERY:!0}))},[]),(0,Nb.useEffect)(function(){a&&""!=a||ZPFeeds.Editor.editorList[i].setContent("")},[a]),Nb.createElement("div",{className:"zpl_rgtcnt",ref:t,id:n},Nb.createElement("div",{className:"zpl_crd"},Nb.createElement(hk,{title:r||ZPI18N.getString("zp.survey.post_feedback_message")}),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zp-fd-compose edtr_rply"},Nb.createElement("div",{className:"zp-fd-composeCont"},Nb.createElement("div",{className:"zpl_feedCompsr zpl_edtrply"},Nb.createElement(gk,{parentId:o,currentId:i,isEditView:s.isEditView,height:150,resetEditor:s.resetEditor,afterEditorLoadCallback:function(){var e;null===(e=document.querySelector("[rel=OFFBOARDING_INTERVIEW_WRAPPER]"))||void 0===e||e.scrollIntoView({behavior:"smooth"})},readOnly:l,placeholder:l?void 0:c,editorChangeCallback:l?void 0:function(){var e=ZPFeeds.Editor.editorList[i],t=null==e?void 0:e.getContent(),n=ZPFeeds.getSmileysAndMentions(t,!1);d(Fi({thankyou_message:n})),OO()},isAlwaysEdit:!l}))))))))}),aL=rL;function oL(e){return oL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oL(e)}function iL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iL(Object(n),!0).forEach(function(t){cL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cL(e,t,n){return(t=function(e){var t=function(e){if("object"!=oL(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=oL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==oL(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uL=function(e){var t=e.surveyData,n=e.reportData,r=e.question,a=e.sQuestionResponse,o=e.yearOfJoining,i=e.metricFilter,l=e.prevBtnHandler,c=e.nextBtnHandler,u=a.comment_report,s=a.question_report,d=a.highlights,p=s.employee_count,f=s.response_count,m=s.answer,v=u.comments,y=u.keywords,g=u.positive_keywords,h=u.neutral_keywords,b=u.negative_keywords,_=t.respondent_identity,E=(0,Nb.useRef)(null),S={employee_count:p,response_count:f,score:m.score,average_score:m.average_score,promoters:m.promoters,passives:m.passives,detractors:m.detractors,scale_score:m.scale_score,respondent_identity:_};return Nb.createElement(Nb.Fragment,null,Nb.createElement("div",{className:"zpl_crd"},Nb.createElement(_C,{index:r.qno,question:r.question},Nb.createElement("div",{className:"zpl_annE_arw zpl_pr2"},"function"==typeof l&&Nb.createElement("i",{className:"zpl_ibg PI_alft BOXN",title:"left",onClick:function(){return l(r.qno)}}),"function"==typeof c&&Nb.createElement("i",{className:"zpl_ibg PI_argt BOXN",title:"right",onClick:function(){return c(r.qno)}}))),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"rprt_hroCon"},Nb.createElement("div",{className:"zpl_mmax280 zpl_ml9 zpl_mr6 zpl_pt5",ref:E},Nb.createElement(WT,{scoreLabel:ZPI18N.getString("zp.survey.report.enps_score"),score:m.score,isShowData:!!m.score})),Nb.createElement(VT,{reportData:S,isShowData:!0})))),Nb.createElement("div",{className:"zpl_dashrow"},Nb.createElement(QT,{promoters:S.promoters,passives:S.passives,detractors:S.detractors,response_count:S.response_count}),Nb.createElement(KT,{surveyReport:{reports:S}})),d&&Object.keys(d).length>0&&Nb.createElement(JT,{reports:s,highlights:d,isDetailedReport:!0,isEmotion:!0}),Nb.createElement(UC,{reportData:lL(lL({},a),{},{employee_count:p,response_count:f})}),Nb.createElement("div",{className:"zpl_dashrow"},Nb.createElement(IC,{sQuestionResponse:a,reportData:n}),Nb.createElement(TC,{reportData:n,yearOfJoiningReport:o})),Nb.createElement(MC,{keywords:y,positive_keywords:g,neutral_keywords:h,negative_keywords:b,comments:v,metricFilter:i}))},sL=Nb.forwardRef(function(e,t){var n=e.rel,r=e.headerName,a=void 0===r?"":r;return Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdhdr"},Nb.createElement("div",null,Nb.createElement("h4",null,a))),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zpl_annE_brdrCnt",rel:n,ref:t},e.children))))}),dL=function(e){var t=e.reports,n=(0,Nb.useRef)(null);(0,Nb.useEffect)(function(){r(n.current,t)},[]);var r=function(e,t){var n=[],r=[],a=ve[t.max_count],o=t.answer,i=[o.score_zero||0,o.score_one||0,o.score_two||0,o.score_three||0,o.score_four||0,o.score_five||0,o.score_six||0];(r=GS(t)).forEach(function(e,t){r[t]=QS(r[t])}),Yz(t,i,n,a),Wz(e,r,n,!1,t.response_count,!1,t)};return Nb.createElement(sL,{ref:n,style:{height:"260px"},headerName:ZPI18N.getString("zp.rating_distribution")})};function pL(e){return pL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pL(e)}function fL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fL(Object(n),!0).forEach(function(t){vL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vL(e,t,n){return(t=function(e){var t=function(e){if("object"!=pL(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=pL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==pL(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yL=function(e){var t=e.reportData,n=e.question,r=e.sQuestionResponse,a=e.yearOfJoining,o=e.metricFilter,i=e.prevBtnHandler,l=e.nextBtnHandler,c=r.comment_report,u=r.question_report,s=u.most_selected_value,d=u.employee_count,p=u.response_count,f=u.maxscore_text,m=u.minscore_text,v=u.rating_type,y=u.scale_layout,g=u.scale_customtext,h=u.max_count,b=u.answer,_=u.skipped_count,E=c.comments,S=c.keywords,w=c.positive_keywords,N=c.neutral_keywords,P=c.negative_keywords,O=p,I={employee_count:d,response_count:p,score:Math.round(b.average_score)-1,max_count:h,rating_type:v,scale_layout:y,scale_customtext:g,minscore_text:m,maxscore_text:f};return Nb.createElement(Nb.Fragment,null,Nb.createElement("div",{className:"zpl_crd"},Nb.createElement(_C,{index:n.qno,question:n.question},Nb.createElement("div",{className:"zpl_annE_arw zpl_pr2"},"function"==typeof i&&Nb.createElement("i",{className:"zpl_ibg PI_alft BOXN",title:"left",onClick:function(){return i(n.qno)}}),"function"==typeof l&&Nb.createElement("i",{className:"zpl_ibg PI_argt BOXN",title:"right",onClick:function(){return l(n.qno)}}))),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"d-flex j-cnt-cntr"},Nb.createElement("div",{className:"zpl_annE_secn"},I.rating_type===te?Nb.createElement(rz,{questionData:I}):I.rating_type===re?Nb.createElement(cz,{questionData:I}):Nb.createElement(KI,{questionData:I}))),Nb.createElement("div",{className:"rprt_hroCon"},Nb.createElement("div",{className:"d-flexclmcap flex-grow"},Nb.createElement("div",{className:"zpl_aCrd"},Nb.createElement(xC,{categoryInfo:{title:ZPI18N.getString("zp.engagement.report.rating.overall"),label:Ym(b.average_score),isShowData:!0}}),Nb.createElement(xC,{categoryInfo:{title:ZPI18N.getString("zp.survey.report.topselected"),label:s||"-",isShowData:!0,tooltip:s||""}}),Nb.createElement(xC,{categoryInfo:{title:ZPI18N.getString("zp.survey.total.response.received"),label:O,isShowData:!0}}),Nb.createElement(xC,{categoryInfo:{title:ZPI18N.getString("zp.skiped"),label:_,isShowData:!0}})))))),Nb.createElement(dL,{reports:u}),Nb.createElement(UC,{reportData:mL(mL({},r),{},{employee_count:t.employee_count,response_count:p})}),Nb.createElement("div",{className:"zpl_dashrow"},Nb.createElement(IC,{sQuestionResponse:r,reportData:t}),Nb.createElement(TC,{reportData:t,yearOfJoiningReport:a})),Nb.createElement(MC,{keywords:S,positive_keywords:w,neutral_keywords:N,negative_keywords:P,comments:E,metricFilter:o}))},gL=function(e){var t=e.reports,n=t.max_count,r=t.answer,a=[r.onestar,r.twostar,r.threestar,r.fourstar,r.fivestar,r.sixstar,r.sevenstar,r.eightstar,r.ninestar,r.tenstar],o=(0,Nb.useRef)(null);return Nb.createElement(sL,{ref:o,style:{height:"260px"},headerName:ZPI18N.getString("zp.rating_distribution")},Nb.createElement("div",{className:"zpl_annE_star"},Nb.createElement("div",{className:"d-flexclmcap"},(a||[]).map(function(e,r){var o=(e=a[n-r-1])/t.response_count*100||0;if(!(n<=r))return Nb.createElement("div",{className:"zpl_str-grph"},Nb.createElement("span",null,n-r),Nb.createElement("i",{className:"PI_star"}),Nb.createElement("div",{className:"d-flexC d-flexclmcap8"},Nb.createElement("div",{className:"zprogress",style:{background:"#DBDBDB",minWidth:"200px"}},Nb.createElement("div",{className:"zprogress__bar",style:{background:"var(--ylw2)",width:"".concat(Ym(o),"%")}})),Nb.createElement("span",{className:"zpl_progtitle"},e||"0",Nb.createElement("em",null,"(",Ym(o),"%)"))))}))))};function hL(e){return hL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hL(e)}function bL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bL(Object(n),!0).forEach(function(t){EL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function EL(e,t,n){return(t=function(e){var t=function(e){if("object"!=hL(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=hL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==hL(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var SL=function(e){var t=e.reportData,n=e.question,r=e.sQuestionResponse,a=e.yearOfJoining,o=e.metricFilter,i=e.prevBtnHandler,l=e.nextBtnHandler,c=r.comment_report,u=r.question_report,s=u.most_selected_value,d=u.response_count,p=u.max_count,f=u.answer,m=u.skipped_count,v=c.comments,y=c.keywords,g=c.positive_keywords,h=c.neutral_keywords,b=c.negative_keywords;return Nb.createElement(Nb.Fragment,null,Nb.createElement("div",{className:"zpl_crd"},Nb.createElement(_C,{index:n.qno,question:n.question},Nb.createElement("div",{className:"zpl_annE_arw zpl_pr2"},"function"==typeof i&&Nb.createElement("i",{className:"zpl_ibg PI_alft BOXN",title:"left",onClick:function(){return i(n.qno)}}),"function"==typeof l&&Nb.createElement("i",{className:"zpl_ibg PI_argt BOXN",title:"right",onClick:function(){return l(n.qno)}}))),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"rprt_hroCon"},Nb.createElement("div",{className:"w400"},Nb.createElement("div",null,Nb.createElement("div",{className:"d-flexclm8 a-itm-cntr"},Nb.createElement("div",{className:"d-flexclmcap5 a-itm-cntr"},Nb.createElement("h1",null,Ym(f.average_score))," ",Nb.createElement("span",null,"/ ".concat(p))),Nb.createElement("div",{className:"d-flexC d-flexclmcap8"},Nb.createElement(Nz,{maxCount:p,score:f.average_score}))))),Nb.createElement("div",{className:"d-flexclmcap flex-grow "},Nb.createElement("div",{className:"zpl_aCrd"},Nb.createElement(xC,{categoryInfo:{title:ZPI18N.getString("zp.engagement.report.rating.overall"),label:s||"-",isShowData:!0}}),Nb.createElement(xC,{categoryInfo:{title:ZPI18N.getString("zp.survey.total.response.received"),label:d,isShowData:!0}}),Nb.createElement(xC,{categoryInfo:{title:ZPI18N.getString("zp.skiped"),label:m,isShowData:!0}})))))),Nb.createElement(gL,{reports:u}),Nb.createElement(UC,{reportData:_L(_L({},r),{},{employee_count:t.employee_count,response_count:d})}),Nb.createElement("div",{className:"zpl_dashrow"},Nb.createElement(IC,{sQuestionResponse:r,reportData:t}),Nb.createElement(TC,{reportData:t,yearOfJoiningReport:a})),Nb.createElement(MC,{keywords:y,positive_keywords:g,neutral_keywords:h,negative_keywords:b,comments:v,metricFilter:o}))};function wL(e){return wL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wL(e)}function NL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function PL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NL(Object(n),!0).forEach(function(t){OL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function OL(e,t,n){return(t=function(e){var t=function(e){if("object"!=wL(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=wL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==wL(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var IL=function(e){var t=e.reportData,n=e.question,r=e.sQuestionResponse,a=e.yearOfJoining,o=e.metricFilter,i=e.prevBtnHandler,l=e.nextBtnHandler,c=r.comment_report,u=r.question_report,s=u.most_selected_value,d=u.skipped_count,p=c.comments,f=c.keywords,m=c.positive_keywords,v=c.neutral_keywords,y=c.negative_keywords,g=je[n.date_format],h=n.response_count;return Nb.createElement(Nb.Fragment,null,Nb.createElement("div",{className:"zpl_crd"},Nb.createElement(_C,{index:n.qno,question:n.question},Nb.createElement("div",{className:"zpl_annE_arw zpl_pr2"},"function"==typeof i&&Nb.createElement("i",{className:"zpl_ibg PI_alft BOXN",title:"left",onClick:function(){return i(n.qno)}}),"function"==typeof l&&Nb.createElement("i",{className:"zpl_ibg PI_argt BOXN",title:"right",onClick:function(){return l(n.qno)}}))),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"rprt_hroCon"},Nb.createElement(dT,{key:n.question_id,question:n,isOnlyChart:!0}),Nb.createElement("div",{className:"d-flexclmcap flex-grow "},Nb.createElement("div",{className:"zpl_aCrd"},Nb.createElement(xC,{categoryInfo:{title:ZPI18N.getString("zp.survey.report.topselected"),label:s&&Dm(s).getDateBy(g)||"-",isShowData:!0,tooltip:s&&Dm(s).getDateBy(g)||""}}),Nb.createElement(xC,{categoryInfo:{title:ZPI18N.getString("zp.survey.total.response.received"),label:h,isShowData:!0}}),Nb.createElement(xC,{categoryInfo:{title:ZPI18N.getString("zp.skiped"),label:d,isShowData:!0}})))))),Nb.createElement(UC,{reportData:PL(PL({},r),{},{employee_count:t.employee_count,response_count:n.response_count})}),Nb.createElement("div",{className:"zpl_dashrow"},Nb.createElement(IC,{sQuestionResponse:r,reportData:t}),Nb.createElement(TC,{reportData:t,yearOfJoiningReport:a})),Nb.createElement(MC,{keywords:f,positive_keywords:m,neutral_keywords:v,negative_keywords:y,comments:p,metricFilter:o}))},zL=function(e){var t=e.label,n=e.count;return Nb.createElement("tr",null,Nb.createElement("td",null,Nb.createElement("span",null,t)),Nb.createElement("td",null,Nb.createElement("span",null,n)))},CL=function(e){var t=e.keywords;return Nb.createElement("div",{className:"zpl_tblres"},Nb.createElement("table",{className:"zpl_tbl wd100_per"},Nb.createElement("thead",null,Nb.createElement("tr",null,Nb.createElement("th",{width:"400"},ZPI18N.getString("zp.survey.report.keyword")),Nb.createElement("th",null,ZPI18N.getString("zp.frequency")))),Nb.createElement("tbody",null,(t||[]).map(function(e){return Nb.createElement(zL,{label:e.keyword,count:e.frequency})}))))},TL=function(e){var t=e.positiveKeywords,n=e.negativeKeywords,r=(null==t?void 0:t.length)>0&&(null==n?void 0:n.length)>0?"50":"100";return Nb.createElement("div",{className:"zpl_dashrow"},(null==t?void 0:t.length)>0&&Nb.createElement(wC,{className:t.length>=5?"H405":"",widthPer:r,headerName:ZPI18N.getString("zp.survey.report.topwords.positive")},Nb.createElement(CL,{keywords:t})),(null==n?void 0:n.length)>0&&Nb.createElement(wC,{className:n.length>=5?"H405":"",widthPer:r,headerName:ZPI18N.getString("zp.survey.report.topwords.negative")},Nb.createElement(CL,{keywords:n})))};function xL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var kL=function(e){var t=e.data,n=(0,Nb.useRef)(null);(0,Nb.useEffect)(function(){r(n.current,t)},[]);var r=function(e,t){var n=t.emotion;Object.keys(n).length>0?a(e,n,t.response_count):o(e,t.employee_count,t.completed_response,t.response_count)},a=function(e,t,n){var r,a=[],o=[];(r=Object.keys(t)||[],function(e){if(Array.isArray(e))return xL(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return xL(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xL(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach(function(e){o.push(At[e]),a.push({name:e,y:t[e]})}),$z(e,a,!0,n,void 0,o)},o=function(e,t,n,r){var a=n-r,o=[];o.push({name:ZPI18N.getString("zp.survey.total.response.received"),y:r}),o.push({name:ZPI18N.getString("zp.skiped"),y:a}),$z(e,o,!0,t,void 0,["#00a763","#ff4c54"])};return Nb.createElement("div",{className:"w600",style:{height:"300px"},ref:n})};function DL(e){return DL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DL(e)}function jL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function AL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jL(Object(n),!0).forEach(function(t){RL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RL(e,t,n){return(t=function(e){var t=function(e){if("object"!=DL(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=DL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==DL(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qL=function(e){var t=e.reportData,n=e.question,r=e.sQuestionResponse,a=e.yearOfJoining,o=e.metricFilter,i=e.prevBtnHandler,l=e.nextBtnHandler,c=r.question_report,u=c.most_selected_value,s=c.emotion,d=c.comments,p=c.keywords,f=c.positive_keywords,m=c.neutral_keywords,v=c.negative_keywords,y=c.skipped_count,g=n.response_count,h=E(f),b=E(v),_={employee_count:t.employee_count,completed_response:t.completed_response,response_count:n.response_count,emotion:s};function E(e){var t=go(e),n=null;return t.length>5?n=ev(t,"frequency").slice(0,5):5==t.length?n=ev(t,"frequency").slice(0,4):4==t.length&&(n=ev(t,"frequency").slice(0,3)),n}return Nb.createElement(Nb.Fragment,null,Nb.createElement("div",{className:"zpl_crd"},Nb.createElement(_C,{index:n.qno,question:n.question},Nb.createElement("div",{className:"zpl_annE_arw zpl_pr2"},"function"==typeof i&&Nb.createElement("i",{className:"zpl_ibg PI_alft BOXN",title:"left",onClick:function(){return i(n.qno)}}),"function"==typeof l&&Nb.createElement("i",{className:"zpl_ibg PI_argt BOXN",title:"right",onClick:function(){return l(n.qno)}}))),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"rprt_hroCon"},Nb.createElement(kL,{data:_}),Nb.createElement("div",{className:"d-flexclmcap flex-grow "},Nb.createElement("div",{className:"zpl_aCrd"},Nb.createElement(xC,{categoryInfo:{title:ZPI18N.getString("zp.survey.report.topselected"),label:u||"-",isShowData:!0,tooltip:u||""}}),Nb.createElement(xC,{categoryInfo:{title:ZPI18N.getString("zp.survey.total.response.received"),label:g,isShowData:!0}}),Nb.createElement(xC,{categoryInfo:{title:ZPI18N.getString("zp.skiped"),label:y,isShowData:!0}})))))),Nb.createElement(TL,{positiveKeywords:h,negativeKeywords:b}),Nb.createElement(UC,{reportData:AL(AL({},r),{},{employee_count:t.employee_count,response_count:n.response_count})}),Nb.createElement("div",{className:"zpl_dashrow"},Nb.createElement(IC,{sQuestionResponse:r,reportData:t}),Nb.createElement(TC,{reportData:t,yearOfJoiningReport:a})),Nb.createElement(MC,{keywords:p,positive_keywords:f,neutral_keywords:m,negative_keywords:v,comments:d,metricFilter:o,isWordCloudNeeded:!0}))};function ML(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ZL=function(e){var t=e.data,n=t.question,r=t.reportData,a=Mb(function(e){return e.createSurvey}).surveyReport,o=a.reports,i=a.single_question_response,l=a.year_of_joining,c=a.metricFilter,u=a.question_report,s=a.currentRecurrence,d=a.appliedFilterData,p=o.survey_id,f=(i||{}).question_report,m=(void 0===f?{}:f).type,v=Kb(),y=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ML(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ML(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(n),2),g=y[0],h=y[1];(0,Nb.useEffect)(function(){S(g.question_id)},[]);var b=function(e){E(e-1)},_=function(e){E(e+1)},E=function(e){var t=u[e-1];t&&(S(t.question_id),h(t))},S=function(e){var t={};s&&(t.recurrenceId=s);var n=AT(d);v(si({surveyId:p,questionId:e,payload:t,reportFilter:n})),v(di({surveyId:p,question_id:e,recurrenceId:s,reportFilter:n}))};return Nb.createElement("div",{className:"zpl_mcnt"},null==i?Nb.createElement(aE,null):0==Object.keys(i).length?Nb.createElement("div",{className:"zpl_crd wd100_per"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_rprtCrdCnt"},Nb.createElement(hx,{message:ZPI18N.getString("zp.survey.no.applicable.report.stat")})))):g.question_id!=i.question_id?Nb.createElement(aE,null):[Jn.SINGLE_CHOICE.TYPE_STR,Jn.MULTIPLE_CHOICE.TYPE_STR].includes(m)&&[Jn.SINGLE_CHOICE.TYPE_STR,Jn.MULTIPLE_CHOICE.TYPE_STR].includes(g.type)?Nb.createElement(rT,{surveyData:a,reportData:r,question:g,sQuestionResponse:i,yearOfJoining:l,metricFilter:c,prevBtnHandler:b,nextBtnHandler:_}):m===Jn.COMMENT.TYPE_STR&&g.type===Jn.COMMENT.TYPE_STR?Nb.createElement(qL,{reportData:r,question:g,sQuestionResponse:i,yearOfJoining:l,metricFilter:c,prevBtnHandler:b,nextBtnHandler:_}):m===Jn.DATE.TYPE_STR&&g.type===Jn.DATE.TYPE_STR?Nb.createElement(IL,{reportData:r,question:g,sQuestionResponse:i,yearOfJoining:l,metricFilter:c,prevBtnHandler:b,nextBtnHandler:_}):m===Jn.NPS.TYPE_STR&&g.type===Jn.NPS.TYPE_STR?Nb.createElement(uL,{surveyData:a,reportData:r,question:g,sQuestionResponse:i,yearOfJoining:l,metricFilter:c,prevBtnHandler:b,nextBtnHandler:_}):m===Jn.STAR.TYPE_STR&&g.type===Jn.STAR.TYPE_STR?Nb.createElement(SL,{reportData:r,question:g,sQuestionResponse:i,yearOfJoining:l,metricFilter:c,prevBtnHandler:b,nextBtnHandler:_}):m===Jn.RATING_SCALE.TYPE_STR&&g.type===Jn.RATING_SCALE.TYPE_STR||m===Jn.TWO_POINT_SCALE.TYPE_STR&&g.type===Jn.TWO_POINT_SCALE.TYPE_STR?Nb.createElement(yL,{reportData:r,question:g,sQuestionResponse:i,yearOfJoining:l,metricFilter:c,prevBtnHandler:b,nextBtnHandler:_}):void 0)};function LL(e){return LL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LL(e)}function FL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FL(Object(n),!0).forEach(function(t){UL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function UL(e,t,n){return(t=function(e){var t=function(e){if("object"!=LL(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=LL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==LL(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return VL(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VL(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var YL=function(e){var t=e.data,n=t.override,r=t.newtemplate,a=Mb(function(e){return e.createSurvey}).surveyData,o=e.closeCallback,i=a.survey_id,l=HL((0,Nb.useState)(""),2),c=l[0],u=l[1],s=HL((0,Nb.useState)(n?rn:an),2),d=s[0],p=s[1],f=Kb(),m=function(e){p(e)},v=function(){RB(),o()};return Nb.createElement(Nb.Fragment,null,Nb.createElement("div",{className:"zpl_mcnt"},Nb.createElement("div",{className:"alert_contain"},Nb.createElement("i",{className:"ico info"}),Nb.createElement("div",{className:"cont"},Nb.createElement("h3",null,n?ZPI18N.getString("zp.survey.templete.save"):ZPI18N.getString("zp.survey.interview.new.template")),Nb.createElement("p",null,n?ZPI18N.getString("zp.survey.interview.create.save.override_or_new.info"):ZPI18N.getString("zp.survey.interview.create.save.new.info")),Nb.createElement("div",{className:"zpl_mt8"},n&&Nb.createElement(Yw,{label:ZPI18N.getString("zp.survey.interview.overwrite.existing.template"),id:zE(),callback:function(){return m(rn)},isActive:d===rn,className:"zradiobutton zradiobutton--horizontal"}),n&&r&&Nb.createElement(Yw,{label:ZPI18N.getString("zp.survey.interview.new.template"),id:zE(),callback:function(){return m(an)},isActive:d===an,className:"zradiobutton zradiobutton--horizontal"}))),d===an&&Nb.createElement("div",{className:"zpl_secn wd50_per"},Nb.createElement("div",null,Nb.createElement(dw,{placeholder:ZPI18N.getString("zp.tmplnmph"),value:c,onChangeHandler:function(e){u(e.target.value)},maxLength:100}))))),Nb.createElement("div",{className:"zpl_mfoter"},Nb.createElement("button",{type:"button",onClick:function(){d==rn?NO(a,v,i):d==an&&NO(BL(BL({},a),{},{survey_name:c}),v)},className:"zlabel zlabel--yellow zlabel--medium MR10"},ZPI18N.getString("zp.popup.unchange.save")),Nb.createElement("button",{type:"button",onClick:function(){f(lo())},className:"zlabel zlabel--outline zlabel--medium"},ZPI18N.getString("zp.cancel"))))};function WL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var GL=function(e){var t=e.qcount,n=e.onClickHandler,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return WL(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WL(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(null),2),a=r[0],o=r[1];return Nb.createElement("div",{key:zE(),rel:"INTERVIEW_ELEM",className:"zpl_qalst ".concat(a||""),onClick:n,onMouseOver:function(e){e.stopPropagation(),e.preventDefault(),o("blubdrbglit")},onMouseLeave:function(e){e.stopPropagation(),e.preventDefault(),o(null)}},Nb.createElement("div",{className:"zpl_qalsthdr"},Nb.createElement("div",{className:"zpl_qalsthd"},Nb.createElement("div",null,e.children)),t>=0&&Nb.createElement("div",{className:"zpl_qalsthdrrgt"},Nb.createElement("div",null,Nb.createElement("ul",{className:"zpl_lstbdrlne"},Nb.createElement("em",null,t+" "+(t<=1?ZPI18N.getString("zp.question"):ZPI18N.getString("zp.questions"))))))))};function $L(e){return $L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$L(e)}function QL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function XL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QL(Object(n),!0).forEach(function(t){KL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KL(e,t,n){return(t=function(e){var t=function(e){if("object"!=$L(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=$L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$L(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var JL=function(e){var t=e.viewType,n=e.data.create,r=Mb(function(e){return e.createSurvey}).surveyData,a=Mb(function(e){return e.templateList}),o=a.data,i=a.fetchInitialData,l=r.related_to,c=Kb();return(0,Nb.useEffect)(function(){i&&c(Of({pno:0}))},[]),Nb.createElement("div",{className:"zpl_mcnt zpl_fm zpl_maxhgt500"},Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdcnt",style:{paddingTop:"20px"}},Nb.createElement("div",{className:"zpl_tabcnt"},Nb.createElement("div",null,Nb.createElement("div",{className:"secViewAsmnt"},Nb.createElement("div",{className:"zpl_qacrd"},Nb.createElement("div",null,n&&Nb.createElement(Nb.Fragment,null,Nb.createElement(GL,{onClickHandler:function(){var e={survey_name:l.related_record_name,type:we,related_to:l};c(lo()),c(Li({surveyData:e,dbHash:bo(e),fetchInitialData:!1,isShowSurveyPage:!1,isNeedLandingPage:!1}))}},Nb.createElement("a",null,ZPI18N.getString("zp.survey.interview.create.new")))),i?Nb.createElement(aE,null):Nb.createElement(Nb.Fragment,null,function(){if((null==o?void 0:o.length)>0)return Nb.createElement(Nb.Fragment,null,Nb.createElement("em",{className:n?"zpl_mt5":""},ZPI18N.getString("zp.survey.interview.use.existing.interview_template")),(o||[]).map(function(e){var n=e.survey_name,a=e.questions;return Nb.createElement(GL,{onClickHandler:function(){var n;n=e,t==Po.EXITFLOW_CREATE_LANDINGPAGE?(PO(n.survey_id),c(Li({fetchInitialData:!1,isShowSurveyPage:!1,isNeedLandingPage:!1,dbHash:bo(XL(XL({},r),n))})),c(Fi(XL(XL({},r),n))),c(lo())):t==Po.NO_FLOW_LIST_OFFBOARDING_INTERVIEW&&PO(n.survey_id,l.related_recordid,function(){return jB(n.survey_id)})},qcount:(null==a?void 0:a.length)||0},Nb.createElement("p",null,n))}))}())))))))))},eF=function(e){var t=e.label,n=e.value;return Nb.createElement("tr",{tabIndex:0,"aria-label":"".concat(t," : ").concat(n)},Nb.createElement("td",null,Nb.createElement("em",null,t)),Nb.createElement("td",null,Nb.createElement("span",null,n)))},tF=function(e){var t=e.data,n=e.closeActionHandler,r=t.surveyData,a=r.type,o=r.question_count,i=void 0===o?0:o,l=r.opening_time,c=r.closing_time,s=r.respondent_identity,d=r.created_by_details,p=r.url,f=r.activation_type,m=d.zuid,v=d.empid,y=d.fname,g=d.lname,h=d.photo,b=f===qn?Dm(l):void 0,_=f===qn?Dm(c):void 0,E=Dm(jm()),S=f===qn?Math.round((_-E)/u):0,w=r.user_response_status===un[1].type;return Nb.createElement(Nb.Fragment,null,Nb.createElement("div",{className:"zpl_mcnt"},Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,Nb.createElement("table",{className:"zpl_itbl zpl_asmnt_Tbl"},Nb.createElement("tbody",null,Nb.createElement(eF,{label:ZPI18N.getString("zp.survey.no_of_questions"),value:iv(a==Se?1:i)}),Nb.createElement(eF,{label:ZPI18N.getString("zp.survey.type"),value:ZPI18N.getString(et[a])}),f===qn?Nb.createElement(Nb.Fragment,null,Nb.createElement(eF,{label:ZPI18N.getString("zp.local.Startdate"),value:b.getDateBy(dateFmt)}),Nb.createElement(eF,{label:ZPI18N.getString("zp.local.Enddate"),value:_.getDateBy(dateFmt)}),w&&Nb.createElement(eF,{label:ZPI18N.getString("zp.daysleft",[""]),value:av(S)})):"",w&&Nb.createElement(eF,{label:ZPI18N.getString("zp.survey.identity_disclosure"),value:dn[s]}),Nb.createElement("tr",{tabIndex:"0","aria-label":ZPI18N.getString("zp.lms.content.Createdby")+" - ".concat(v," - ").concat(y," ").concat(g)},Nb.createElement("td",null,Nb.createElement("em",null,ZPI18N.getString("zp.lms.content.Createdby"))),Nb.createElement("td",null,Nb.createElement("div",{className:"zpl_em"},Nb.createElement("div",{className:"zpl_emimg"},Nb.createElement("img",{src:h})),Nb.createElement("div",{className:"zpl_emdts"},Nb.createElement("div",null,Nb.createElement("em",null,"".concat(v," - ")),Nb.createElement("b",null,"".concat(y," ").concat(g)))))))))))))),Nb.createElement("div",{className:"zpl_mfoter"},w&&Nb.createElement("button",{type:"button",className:"zlabel zlabel--blue zlabel--medium",onClick:function(){gv(Bm(p)),n()}},ZPI18N.getString("zp.survey.start.feedback")),m===ZPeople.CURRENT_ZUID&&Nb.createElement("button",{type:"button",className:"zlabel zlabel--blue zlabel--medium",onClick:function(){return Bh(r)}},ZPI18N.getString("zp.survey.viewreport")),w&&Nb.createElement("button",{type:"button",className:"zlabel zlabel--outline zlabel--medium",onClick:n},ZPI18N.getString("zp.cancel"))))},nF=function(e){var t=e.title;return Nb.createElement("div",null,Nb.createElement("h5",null,t))},rF=function(e){var t=e.applicableTo;return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement(nF,{title:ZPI18N.getString("zp.lms.settings.applicableto")}),Nb.createElement(TZ,{type:t.type,rules:t.rules||[]}))};function aF(e){return aF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aF(e)}function oF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oF(Object(n),!0).forEach(function(t){lF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lF(e,t,n){return(t=function(e){var t=function(e){if("object"!=aF(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=aF(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==aF(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return uF(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uF(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sF=function(e){var t=e.question,n=e.isShowMetric,r=void 0===n||n,a=cF((0,Nb.useState)(!1),2),o=a[0],i=a[1],l=[Jn.COMMENT.TYPE,Jn.DATE.TYPE].includes(t.type),c={maxHeight:"0px",opacity:0,overflow:"hidden",display:"none",transition:"opacity 1s ease, maxHeight 1s ease"},u=cF((0,Nb.useState)(c),2),s=u[0],d=u[1];return Nb.createElement("div",{className:"zpl_qalst"},Nb.createElement("div",{className:"zpl_qalsthdr".concat(l?" CPD":"")},Nb.createElement("div",{className:"zpl_qalsthd",onClick:function(){o?(d(iF(iF({},c),{},{maxHeight:"0px",opacity:0})),setTimeout(function(){o||d(c)},1e3)):(d(iF(iF({},c),{},{display:"block"})),setTimeout(function(){d(iF(iF({},c),{},{display:"block",maxHeight:"1000px",opacity:1}))},10)),i(function(e){return!e})}},Nb.createElement("div",null,Nb.createElement("span",null,Nb.createElement("i",{className:zm(t)}))),Nb.createElement("div",null,Nb.createElement("div",null,Nb.createElement("p",{className:o?"zpl_clamp-0":""},t.question)))),r&&t.metric_name&&Nb.createElement("div",{className:"zpl_qalsthdrrgt"},Nb.createElement("div",{className:"zpl_qalsthdrtg"},Nb.createElement("div",{className:"zpl_tg"},Nb.createElement("span",null,t.metric_name))))),!l&&Nb.createElement("div",{className:"zpl_qalstshw",style:s},o&&Nb.createElement(cI,{question:t})))},dF=function(e){var t=e.questions;return Nb.createElement(Nb.Fragment,null,Nb.createElement(hk,{title:(null==t?void 0:t.length)>1?ZPI18N.getString("zp.questions"):ZPI18N.getString("zp.question")}),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_qacrd zpl_qalst-js M0I"},Nb.createElement("div",null,0===(t||[]).length?Nb.createElement(Ak,{noQuestionName:ZPI18N.getString("zp.survey.question.empty"),noQuestionDesc:" "}):(t||[]).map(function(e){return Nb.createElement(sF,{key:e.question_id,question:e})})))))},pF=function(e){var t=e.metricGroups;return Nb.createElement(Nb.Fragment,null,Nb.createElement(hk,{title:"Metric groups"}),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_qacrd zpl_qalst-js M0I"},Nb.createElement("div",null,(t||[]).map(function(e){return[Nb.createElement("div",{className:"zpl_mt3 zpl_mb1"},Nb.createElement("h6",null,e.metric_name)),(e.questions||[]).map(function(e){return Nb.createElement(sF,{isShowMetric:!1,key:e.question_id,question:e})})]})))))};function fF(e){return fF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fF(e)}function mF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mF(Object(n),!0).forEach(function(t){yF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yF(e,t,n){return(t=function(e){var t=function(e){if("object"!=fF(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=fF(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fF(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gF=function(e){var t,n=e.data,r=void 0===n?{}:n,a=e.surveyId,o=null===(t=location.hash)||void 0===t?void 0:t.includes("#employeeengagement/surveys/shared"),i=vF(vF({},Mb(function(e){return e.createSurvey}).surveyData),{},{opening_time:r.opening_time,closing_time:r.closing_time}),l=Kb();(0,Nb.useEffect)(function(){Object.keys(r).length<=0&&l(Qo({surveyId:a}))},[]);var c=Bm(i.url,!1),u=Bm(i.url,!0);return Object.keys(i).length<=0?Nb.createElement(aE,{height:500}):Nb.createElement(Nb.Fragment,null,Nb.createElement(qZ,{surveyData:i,readOnly:o}),Nb.createElement("div",{className:"zpl_mt3"},Nb.createElement("div",{className:"zpl_info"},Nb.createElement("div",{className:"d-flexC j-cnt-btwen"},Nb.createElement(IZ,{data:i.activation_type===qn?[{label:ZPI18N.getString("zp.employeeidentity.preferences"),value:sn[i.respondent_identity]},{label:ZPI18N.getString("zp.mail"),value:i.mail_notification?ZPI18N.getString("zp.enabled"):ZPI18N.getString("zp.disabled")},{label:ZPI18N.getString("zp.reminder"),value:i.is_reminder?ZPI18N.getString("zp.enabled"):ZPI18N.getString("zp.disabled")}]:[{label:ZPI18N.getString("zp.employeeidentity.preferences"),value:sn[i.respondent_identity]},{label:ZPI18N.getString("zp.mail"),value:i.mail_notification?ZPI18N.getString("zp.enabled"):ZPI18N.getString("zp.disabled")}]})))),Nb.createElement("div",{className:"zpl_crd wd100_per zpl_mt3"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement(rF,{applicableTo:i.applicable_to}),Nb.createElement(OZ,{startLink:c,previewLink:u,disabled:!i.is_ready,title:ZPI18N.getString("zp.survey.link"),validatePreview:function(){return nP(i)}}))),Nb.createElement("div",{className:"zpl_crd wd100_per"},i.metric_type===gn?Nb.createElement(pF,{metricGroups:i.metric_groups}):Nb.createElement(dF,{questions:i.type===Ee||i.type===Ie?i.questions:[{question:i.question,question_id:i.question_id,type:Jn.NPS.TYPE,metric_name:i.metric_name,minscore_text:i.minscore_text,maxscore_text:i.maxscore_text}]})))},hF=function(e){var t=e.responseInfo,n=t.css,r=t.title,a=t.percentage,o=t.count;return Nb.createElement("div",{className:"d-flexclmcap8 a-itm-cntr"},Nb.createElement("span",{className:"".concat(n)}),Nb.createElement("em",null,r),a&&Nb.createElement("span",null,Nb.createElement("b",null,"(","".concat(a,"%"),")")),o>0&&Nb.createElement("em",null,"(",o,")"))},bF=function(e){var t=e.favorable,n=e.neutral,r=e.unfavorable,a=e.none,o=[{title:ZPI18N.getString("zp.survey.favorable"),css:"zpl_lbdr _bx plse_grn",response_count:t||"0"},{title:ZPI18N.getString("zp.neutral"),css:"zpl_lbdr _bx plse_ylw",response_count:n||"0"},{title:ZPI18N.getString("zp.survey.unfavorable"),css:"zpl_lbdr _bx plse_red",response_count:r||"0"}];return a&&o.push({title:ZPI18N.getString("zp.undisclosed"),css:"zpl_lbdr _bx plse_gry",response_count:a||"0"}),Nb.createElement("div",{className:"zpl_flexgap3 zpl_flex-wrap zpl_mt5"},(o||[]).map(function(e,t){var n=e.title,r=e.css,a=e.response_count;return Nb.createElement(hF,{key:t,responseInfo:{title:n,css:r,percentage:a}})}))};function _F(e){return _F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_F(e)}function EF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function SF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EF(Object(n),!0).forEach(function(t){wF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wF(e,t,n){return(t=function(e){var t=function(e){if("object"!=_F(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=_F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_F(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return PF(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?PF(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var OF=function(e){var t=e.favorable,n=e.neutral,r=e.unfavorable,a=e.notanswered,o=e.style,i=e.isToolTip,l=void 0!==i&&i,c=e.onClickHandler,u=o.margin,s=o.height,d=((0,Nb.useRef)(null),function(){var e=[{name:$t,percentage:t.percentage,className:"zprogress__bar ".concat("function"==typeof c?"zpl_cp":""," ").concat(t.isDisabled?"zpl_o-5":"")},{name:Qt,percentage:n.percentage,className:"zprogress__bar1 ".concat("function"==typeof c?"zpl_cp":""," ").concat(n.isDisabled?"zpl_o-5":"")},{name:Xt,percentage:r.percentage,className:"zprogress__bar2 ".concat("function"==typeof c?"zpl_cp":""," ").concat(r.isDisabled?"zpl_o-5":"")}];return(null==a?void 0:a.percentage)>0&&e.push({name:Jt,percentage:a.percentage,className:"zprogress__bar3 ".concat("function"==typeof c?"zpl_cp":""," ").concat(a.isDisabled?"zpl_o-5":"")}),e}),p=NF((0,Nb.useState)({}),2),f=p[0],m=p[1],v=NF((0,Nb.useState)(d()),2),y=v[0],g=v[1],h=NF((0,Nb.useState)({}),2),b=h[0],_=h[1];return(0,Nb.useEffect)(function(){g(d())},[t,n,r]),Nb.createElement("div",{className:"zpl_mtfProgCstm ".concat(u)},Nb.createElement("div",{className:"zpl_emprog"},Nb.createElement("div",{className:"zprogress ".concat(s),onMouseOver:function(e){var t=e.target||e.srcElement;t.getAttribute("rel")&&_(y.filter(function(e){return e.name===t.getAttribute("rel")})[0]);var n=t.getBoundingClientRect(),r=(e.clientX-n.left)/n.width*100;m({insetInlineStart:"".concat(r,"%"),insetBlockStart:"15px"});var a=y.map(function(e){return e.name===t.getAttribute("rel")?e:SF(SF({},e),{},{className:"".concat(e.className," zpl_o-5")})});g(a)},onMouseLeave:function(){_({}),g(d()),m({})}},y.map(function(e,t){var n=e.name,r=e.percentage,a=e.className;return r>0&&Nb.createElement("div",{key:n,rel:n,className:a,style:{inlineSize:"".concat(r,"%")},onClick:function(e){return function(e,t){"function"==typeof c&&c(e,t)}(e,n)}})})),l&&Object.keys(b).length>0&&Nb.createElement("div",{className:"zpl_progPopover",style:f},Nb.createElement("div",{className:"zpl_flexcolumngap2"},Nb.createElement("div",{className:"d-flexclmcap8 a-itm-cntr"},Nb.createElement("span",{className:"zpl_lbdr _bx ".concat(uv(b.name))}),Nb.createElement("span",null,Nb.createElement("b",null,"(".concat(Ym(b.percentage),"%)"))),Nb.createElement("em",null,cv(b.name)))))))},IF=function(e){var t=e.label,n=e.favorable,r=e.neutral,a=e.unfavorable,o=e.onClickEmotionHandler;return Nb.createElement("div",{className:"zpl_crd zpl_h-auto"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_pa4 zpl_flexcolumngap3 zpl_w-100"},Nb.createElement("div",null,Nb.createElement("h1",{className:"zpl_ff-b",style:{fontSize:"32px"}},t)),Nb.createElement(OF,{favorable:n,neutral:r,unfavorable:a,style:{margin:"zpl_mt5",height:"zpl_hgt20 zpl_w-80"},onClickHandler:o}),Nb.createElement(bF,{favorable:n.percentage,neutral:r.percentage,unfavorable:a.percentage}))))},zF=function(e){var t=e.onSearch,n=e.placeholder,r=e.setSearchText,a=R(function(e){t(e)},300);return Nb.createElement("div",{className:"zpl_search zpl_srchsml"},Nb.createElement("input",{placeholder:n,type:"search",role:"search",className:"ztextbox",onChange:function(e){var t=e.target.value;r(t),a(t)}}),Nb.createElement("i",{className:"PI_lens"}))};function CF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return TF(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TF(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var xF=function(e){var t=e.respondedMeta,n=e.respondents,r=e.reports,a=e.activeRepondent,o=e.onSearchrespondentHandler,i=e.getNextPageRespondentHandler,l=e.updateActiveRespondent,c=t.response_count,u=t.has_next,s=t.start_index,d=CF((0,Nb.useState)(""),2),p=d[0],f=d[1],m=CF((0,Nb.useState)(!1),2),v=m[0],y=m[1];return(0,Nb.useEffect)(function(){y(!1)},[n]),Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_fltrhd fltrcnt_hd"},Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_flexaligngap2"},Nb.createElement("p",null,"".concat(c," ").concat(ZPI18N.getString("zp.responses"))))),r.respondent_identity!==It&&Nb.createElement(zF,{placeholder:ZPI18N.getString("zp.search"),onSearch:o,setSearchText:f})),Nb.createElement("div",{className:"zpl_fltrcnt",onScroll:function(e){var t=e.target,n=Math.round(100*(t.scrollTop+t.offsetHeight)/t.scrollHeight);u&&n>98&&!v&&(y(!0),i(s,p))}},Nb.createElement("div",{className:"zpl_msplst"},Nb.createElement("div",{className:"zpl_msp-crdlst"},Nb.createElement("div",{className:"zpl_msp-crdcnt"},Nb.createElement("div",{className:"zpl_msp-lstview"},(n||[]).map(function(e,t){var n=e.empId,o=e.name,i=e.photo,c=e.score,u=e.is_new_response,s=i===It;return Nb.createElement(kF,{key:t,isAnonymous:s,empId:n,displayName:o,userImg:i,score:r.type===Ee?"":c,isActive:t==a,onChangeHandler:function(){return l(t)},isNew:u})})))))))},kF=function(e){e.empId;var t=e.displayName,n=e.userImg,r=e.score,a=e.isNew,o=e.isAnonymous,i=e.isActive,l=e.onChangeHandler;return Nb.createElement("div",{className:"zpl_em ".concat(a?"lstNew":""," ").concat(i?"zpl_act":""),onClick:l},o?Nb.createElement("div",{className:"zpl_emimg"},Nb.createElement("img",{src:ZPeople.getResourceURL("".concat(newUIImageUrl,"anonymous.png"))})):Nb.createElement("div",{className:"zpl_emimg"},Nb.createElement("img",{src:n})),Nb.createElement("div",{className:"zpl_emdts"},Nb.createElement("div",{className:"zpl_link"},Nb.createElement("b",null,t))),null!=r&&Nb.createElement("div",{className:"zpl_hvr zpl_hvrsw"},Nb.createElement("em",null,"".concat(r===Kt?"":r))))},DF=function(e){var t=e.message,n=e.header,r=e.imgClass,a=void 0===r?"zp_nd_template":r;return Nb.createElement("div",{className:"zpl_Emptydata"},Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_emptimg ".concat(a)}),n?Nb.createElement("h4",null,n):null,Nb.createElement("p",null,t)))},jF=function(e){e.score;var t=e.responseDistribution;if(null==t||t===Kt)return null;var n=t.positive,r=t.neutral,a=t.negative,o=n+r+a,i={favorable:{percentage:Ym(n/o*100)},neutral:{percentage:Ym(r/o*100)},unfavorable:{percentage:Ym(a/o*100)}};return Nb.createElement(Nb.Fragment,null,Nb.createElement(OF,{favorable:i.favorable,neutral:i.neutral,unfavorable:i.unfavorable,style:{margin:"zpl_mt5",height:"zpl_hgt20 zpl_w-80"}}),Nb.createElement(bF,{favorable:i.favorable.percentage,neutral:i.neutral.percentage,unfavorable:i.unfavorable.percentage}))};function AF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var RF=function(e){var t=e.reports,n=e.highlightQId,r=e.userReport,a=e.respondents[e.activeRepondent],o=a||{},i=o.response_id,l=o.name,c=r[i]||{},u=c.last_responsetime,s=c.time_taken,d=c.score,p=c.userResponses,f=c.response_distribution,m=d&&!isNaN(d)?Ym(10*d).toFixed(2):Kt,v="[rel=respondent-info-".concat(n,"]"),y=t.metric_type,g=t.metric_name,h=t.type,b=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return AF(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?AF(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(!0),2),_=b[0],E=b[1];return(0,Nb.useEffect)(function(){E(!a)},[a]),(0,Nb.useEffect)(function(){var e=new MutationObserver(function(e,t){var n=document.querySelector(v);n&&(n.classList.add("newQueBg"),n.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(function(){n.classList.remove("newQueBg")},1500),t.disconnect())});return e.observe(document,{childList:!0,subtree:!0}),function(){e.disconnect()}},[a]),a?Nb.createElement("div",{className:"secViewAsmnt DBI"},!p||_?Nb.createElement(aE,{height:500}):Nb.createElement(Nb.Fragment,null,Nb.createElement(uC,{respondentName:l,score:m,responseTime:u,timeTaken:s,surveyType:h},h!==Ee&&Nb.createElement(jF,{score:m,responseDistribution:f})),Nb.createElement(cC,{metricType:y,metricName:g,userData:p,isNewLayout:!0}))):Nb.createElement(DF,{header:ZPI18N.getString("zp.survey.reports.nodata.header")})},qF=function(e){var t=e.respondedMeta,n=e.respondedusers,r=e.activeRepondent,a=e.userReport,o=e.reports,i=e.highlightQId,l=e.currentRecurrence,c=e.onSearchrespondentHandler,u=e.getNextPageRespondentHandler,s=e.updateActiveRespondent,d=Kb();return(0,Nb.useEffect)(function(){if((n||[]).length){var e=n[r],t=null==e?void 0:e.response_id;if(t&&!a[t]){var i={};l&&(i.recurrenceId=l),d(ui({surveyId:o.survey_id,responseId:t,payload:i}))}}},[r,n,l]),null===n?Nb.createElement("div",{className:"zpl_crd zpl_w-100"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement(aE,null))):Nb.createElement("div",{className:"zpl_crd zpl_w-100"},o.respondent_identity!==It||n&&n.length?Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement(xF,{reports:o,respondedMeta:t,respondents:n,activeRepondent:r,onSearchrespondentHandler:c,getNextPageRespondentHandler:u,updateActiveRespondent:s}),Nb.createElement(RF,{reports:o,highlightQId:i,userReport:a,respondents:n,activeRepondent:r})):Nb.createElement(DF,{header:ZPI18N.getString("zp.survey.reports.nodata.header")}))};function MF(e){return MF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MF(e)}function ZF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function LF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZF(Object(n),!0).forEach(function(t){FF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function FF(e,t,n){return(t=function(e){var t=function(e){if("object"!=MF(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=MF(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==MF(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BF(e){return function(e){if(Array.isArray(e))return UF(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return UF(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?UF(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var HF=function(e){var t=e.filter,n=e.question,r=t.sentiment,a=t.department_ids,o=t.location_ids,i=t.designation_ids,l=t.manager_ids,c=t.metric_id,u=Mb(function(e){return e.createSurvey}).surveyReport,s=u.emotionRespondedMeta,d=u.emotionRespondedUsers,p=u.reports,f=u.emotionActiveRepondent,m=u.user_report,v=u.currentRecurrence,y=u.appliedFilterData,g=Kb(),h={surveyId:p.survey_id,recurrenceId:v,reportFilter:AT(y)},b=h.reportFilter;n.question_id&&(h.questionId=n.question_id),r&&(b.sentiment=r),a&&(b.department_ids=b.department_ids?[].concat(BF(b.department_ids),BF(a)):a),o&&(b.location_ids=b.location_ids?[].concat(BF(b.location_ids),BF(o)):o),i&&(b.designation_ids=b.designation_ids?[].concat(BF(b.designation_ids),BF(i)):i),l&&(b.manager_ids=b.manager_ids?[].concat(BF(b.manager_ids),BF(l)):l),c>0&&(h.metricId=c);var _=function(e){g(c>0?_i(e):bi(e))};(0,Nb.useEffect)(function(){null==d&&_(h)},[d,v]);var E=(0,Nb.useCallback)(R(function(e){var t=h.reportFilter;_(LF(LF({},h),{},{reportFilter:LF(LF({},t),{},{search_text:e}),isSearch:!0}))},300),[g,p.survey_id,v]);return Nb.createElement(qF,{respondedMeta:s,respondedusers:d,activeRepondent:f,userReport:m,currentRecurrence:v,reports:p,highlightQId:n.question_id,onSearchrespondentHandler:E,getNextPageRespondentHandler:function(e,t){var n=h.reportFilter;_(LF(LF({},h),{},{reportFilter:LF(LF({},n),{},{search_text:t}),startIndex:e}))},updateActiveRespondent:function(e){e>=0&&e<(d||[]).length&&g(Yi({emotionActiveRepondent:e,emotionRespondedUsers:To(d,e),emotionRespondedMeta:LF(LF({},s),{},{new_response_count:xo(d,e,s.new_response_count)})}))}})};function VF(e){return VF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VF(e)}function YF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YF(Object(n),!0).forEach(function(t){GF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function GF(e,t,n){return(t=function(e){var t=function(e){if("object"!=VF(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=VF(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==VF(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var QF=function(e){var t=e.data,n=t.question,r=void 0===n?{}:n,a=t.reportData,o=t.filter,i=void 0===o?{}:o,l=Kb(),c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $F(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$F(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(i),2),u=c[0],s=c[1],d=0,p=0,f=0;if(null!=r.response_distribution&&r.response_count>0){var m=r.response_distribution,v=r.response_count;d=m.positive/v*100,p=m.neutral/v*100,f=m.negative/v*100}return Nb.createElement("div",{className:"zpl_mcnt zpl_rndmQue-Cont"},null!=r.response_distribution&&r.response_count>0&&Nb.createElement(IF,{label:"".concat(cv(u.sentiment)," ").concat(ZPI18N.getString("zp.response")),favorable:{percentage:Ym(d),isDisabled:null!=u.sentiment&&$t!==u.sentiment},neutral:{percentage:Ym(p),isDisabled:null!=u.sentiment&&Qt!==u.sentiment},unfavorable:{percentage:Ym(f),isDisabled:null!=u.sentiment&&Xt!==u.sentiment},onClickEmotionHandler:function(e,t){e.stopPropagation(),l(Yi({emotionRespondedUsers:null})),l(io({render:!0,viewType:Po.EMOTION_DETAILED_REPORT,headerName:a.survey_name,data:{question:r,reportData:a,filter:{sentiment:t}}})),s(WF(WF({},u),{},{sentiment:t}))}}),Nb.createElement(HF,{filter:u,question:r}))};function XF(e){return XF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XF(e)}function KF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KF(Object(n),!0).forEach(function(t){eB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eB(e,t,n){return(t=function(e){var t=function(e){if("object"!=XF(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=XF(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==XF(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nB=function(e){var t=e.className,n=e.onChangeHandler,r=e.permissionDetails,a=(void 0===r?{}:r).visibility_level,o=(0,Nb.useRef)(null),i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tB(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tB(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(!1),2),l=i[0],c=i[1],u=function(e){var t=e.groupBy,r=e.key;c(!1),n(JF(JF({},e),{},{groupBy:t,key:r}))},s=Nb.useMemo(function(){return[{label:ZPI18N.getString("zp.survey.all_response"),key:xn,value:"all-report",groupBy:"visibility_level",callback:u,isSelected:!!a&&a===xn},{label:ZPI18N.getString("zp.survey.share.subordinates"),key:kn,value:"subordinate-report",groupBy:"visibility_level",callback:u,isSelected:!!a&&a===kn},{label:ZPI18N.getString("zp.survey.share.department.own"),key:Dn,value:"own-dept-report",groupBy:"visibility_level",callback:u,isSelected:!!a&&a===Dn},{label:ZPI18N.getString("zp.survey.share.custom"),key:jn,value:"custom-dept-report",groupBy:"visibility_level",callback:u,isSelected:!!a&&a===jn}]},[a]),d=Nb.useMemo(function(){return s.find(function(e){return e.isSelected}).label||ZPI18N.getString("zp.setpermission")},[s]);return Nb.createElement(Nb.Fragment,null,Nb.createElement("div",{className:t,ref:o,onClick:function(){return c(!l)}},Nb.createElement("span",null,d),Nb.createElement("i",{className:"PI_abtm"})),l&&Nb.createElement(FO,{anchorEleRef:o.current,options:s,open:l,setIsOpen:c,useOffsetLeft:!1,isMultiSelect:!0}))},rB=function(e){var t=e.surveyId,n=e.selectedUsers,r=e.setSelectedUsers,a=e.applicableUsersOptions,o=e.mode,i=e.visibilityLevel,l=R(function(e,n){var r=new URLSearchParams;e&&r.append("searchTxt",e);var a="zpsurvey/surveys/".concat(t,"/applicableuser");y.get(a+(r.size>0?"?"+r:"")).then(function(e){if(200===e.status){var t=e.data.emp_details.map(function(e){return{label:e.name,value:e.erecno}});n(t)}})},300);return Nb.createElement($M,{isMulti:!0,onChange:function(e){r(e)},value:n,isClearable:!1,isDisabled:"edit"===o,isSearchable:!0,cacheOptions:!0,options:a,loadOptions:function(e,t){return l(e,t)},style:i===Dn?{maxHeight:"100px",paddingInlineEnd:"280px"}:{},className:i===Dn?"zpl_mmax600":""})};function aB(e){return aB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aB(e)}function oB(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return iB(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(iB(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,iB(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,iB(d,"constructor",u),iB(u,"constructor",c),c.displayName="GeneratorFunction",iB(u,a,"GeneratorFunction"),iB(d),iB(d,a,"Generator"),iB(d,r,function(){return this}),iB(d,"toString",function(){return"[object Generator]"}),(oB=function(){return{w:o,m:p}})()}function iB(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}iB=function(e,t,n,r){function o(t,n){iB(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},iB(e,t,n,r)}function lB(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function cB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cB(Object(n),!0).forEach(function(t){sB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sB(e,t,n){return(t=function(e){var t=function(e){if("object"!=aB(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=aB(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==aB(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var pB=function(e){var t=e.surveyId,n=e.applicableUsers,r=e.selectedUsers,a=e.setSelectedUsers,o=e.setMode,i=(n||[]).map(function(e){return{label:e.empid+" - "+e.name,value:e.erecno}}),l=Kb(),c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return dB(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dB(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)({access_level:An,visibility_level:xn}),2),u=c[0],s=c[1],d=function(){var e,n=(e=oB().m(function e(){var n,o,i,c,s;return oB().w(function(e){for(;;)switch(e.n){case 0:if(n=u.access_level,o=u.visibility_level,i=[],0!==(c=r.map(function(e){return e.value})).length){e.n=1;break}return e.a(2,B({text:ZPI18N.getString("zp.survey.share.nodata.msg"),duration:3e3}).showWarning());case 1:c.forEach(function(e){var t={access_level:n,visibility_level:o,erecno:e};i.push(t)}),s={shareTo:"user",shareReportPerm:JSON.stringify(i)},l(Oi({surveyId:t,payload:s})).then(function(e){"fulfilled"===e.meta.requestStatus&&(B({text:ZPI18N.getString("zp.reports.sharereportsuccess"),duration:3e3}).showSuccess(),a([]))});case 2:return e.a(2)}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){lB(o,r,a,i,l,"next",e)}function l(e){lB(o,r,a,i,l,"throw",e)}i(void 0)})});return function(){return n.apply(this,arguments)}}();return Nb.createElement("div",{className:"zpl_mt2"},Nb.createElement("div",{className:"zpl_flexaligngap2"},Nb.createElement("div",{className:"zpl_ev_pplAdd zpl_flex-1"},Nb.createElement(rB,{surveyId:t,applicableUsersOptions:i,selectedUsers:r,setSelectedUsers:a,visibilityLevel:u.visibility_level}),Nb.createElement(nB,{className:"zpl_ev_optn zpl_drpdwn-js",onChangeHandler:function(e){var t=e.groupBy,n=e.key;s(uB(uB({},u),{},sB({},t,n))),n===jn&&(l(Ki(!0)),l(io({showBackButton:!0})),o("add"))},permissionDetails:{visibility_level:u.visibility_level,access_level:u.access_level}})),Nb.createElement(J_,{className:"zlabel zlabel--blue zlabel--medium",onClickHandler:d},ZPI18N.getString("zp.share"))))},fB=function(e){var t=e.surveyId,n=e.applicableUsers,r=e.selectedUsers,a=e.setSelectedUsers,o=e.setMode;return Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_mt4"},Nb.createElement("p",null,ZPI18N.getString("zp.selectusers"))),Nb.createElement(pB,{surveyId:t,applicableUsers:n,selectedUsers:r,setSelectedUsers:a,setMode:o})))};function mB(e){return mB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mB(e)}function vB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vB(Object(n),!0).forEach(function(t){gB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gB(e,t,n){return(t=function(e){var t=function(e){if("object"!=mB(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=mB(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==mB(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return bB(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bB(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var _B=function(e){var t=e.surveyId,n=e.userDetails,r=e.onDeleteHandler,a=e.setSharedUser,o=e.setMode,i=n.emp_details,l=n.visibility_level,c=n.access_level,u=n.departments,s=i.erecno,d=i.empid,p=i.name,f=i.empEmail,m=i.photo,v=hB((0,Nb.useState)({visibility_level:l}),2),y=v[0],g=v[1],h=Kb(),b=function(e){var n={shareTo:"user",shareReportPerm:JSON.stringify(e)};h(zi({surveyId:t,payload:n})).then(function(e){"fulfilled"===e.meta.requestStatus&&B({text:ZPI18N.getString("zp.reports.sharereportsuccess"),duration:3e3}).showSuccess()})};return Nb.createElement("div",{className:"zpl_pa2 zpl_pt3 zpl_pb3 zpl_bt"},Nb.createElement("div",{className:"zpl_flex-j-sb zpl_flex-1"},Nb.createElement("div",{className:"zpl_em"},Nb.createElement("div",{className:"zpl_emimg"},Nb.createElement("img",{src:m})),Nb.createElement("div",{className:"zpl_emdts zpl_ellipsis"},Nb.createElement("div",null,Nb.createElement("em",null,d," - "),Nb.createElement("b",null,p)),Nb.createElement("div",null,Nb.createElement("a",{href:"mailto:".concat(f)},f)))),Nb.createElement("div",{className:"zpl_flex-a-c zpl_gap-2"},Nb.createElement("div",{className:"zpl_flex zpl_justify-end"},Nb.createElement(nB,{className:"zpl_cstmDrpdwn zpl_mmax140",permissionDetails:{visibility_level:l,access_level:c},onChangeHandler:function(e){var t=e.groupBy,n=e.key;l!==n&&([xn,Dn,kn].includes(n)?(g(yB(yB({},y),{},gB({},t,n))),b([gB(gB({erecno:s},t,n),"access_level",An)])):n==jn&&(a([{label:d+" - "+p,value:s}]),o("edit"),h(Ki(!0)),h(io({showBackButton:!0}))))}}),Nb.createElement("i",{className:"zpl_ibg PI_delete zpl_ml4",onClick:function(){return r(s)}})))),l==jn&&Nb.createElement("div",{className:"zpl_secn zpl_flex-1 zpl_ml10 zpl_ml10 zpl_pl3"},Nb.createElement("div",null,Nb.createElement("em",{className:"zpl_f8"},ZPI18N.getString("zp.departments")+": "),Nb.createElement("div",{className:"zpl_sr-gap"},(Object.entries(u)||[]).map(function(e){var t=hB(e,2),n=t[0],a=t[1];return Nb.createElement("div",{className:"zpl_tg",key:n},Nb.createElement("i",{className:"PI_cls",onClick:function(){return function(e,t){if(Object.keys(u).length>1){var n=yB({},u);delete n[t],g(yB(yB({},y),{},{department_ids:Object.keys(n)})),b([{erecno:e,department_ids:Object.keys(n),visibility_level:jn,access_level:An}])}else r(e)}(s,n)}}),Nb.createElement("span",null,a))})))))},EB=function(e){var t=e.onToggle,n=e.isActive,r=e.label,a=e.disabled,o=e.description;return Nb.createElement("div",{className:"zpl_tgsprt ".concat(a?"disabled":"")},Nb.createElement("h5",{className:"zpl_tgl"},Nb.createElement("input",{className:"togbutton-js",style:{display:"none"}}),Nb.createElement("div",{className:"zswitch zswitch--medium zswitch--".concat(n?"on":"off"," "),style:{width:"32px",height:"18px"},onClick:Boolean(a)?void 0:t},Nb.createElement("div",{className:"zswitch__thumb "},Nb.createElement("i",{className:"zswitch__icon"})),Nb.createElement("div",{className:"zswitch__wrapper"},Nb.createElement("div",{className:"zswitch__statescontainer ",style:{left:"0px",top:"0px"}},Nb.createElement("div",{className:"zswitch__onstate",style:{paddingBottom:"0px",left:"auto",paddingRight:"14px"}}),Nb.createElement("div",{className:"zswitch__offstate",style:{paddingTop:"0px",left:"-14px",paddingLeft:"14px"}})))),r),o?Nb.createElement("p",null,o):null)},SB=function(e){var t=e.label,n=e.isActive,r=e.toggleAnyoneCanView;return Nb.createElement("div",{className:"zpl_ev_lnk zpl_pa2 "},Nb.createElement("div",{className:"zpl_em"},Nb.createElement("div",{className:"zpl_emimg"},Nb.createElement("span",{className:"icn"},Nb.createElement("i",{className:"PI_profile"}))),Nb.createElement("div",{className:"zpl_w400"},Nb.createElement("div",{className:"zpl_w-100"},Nb.createElement("span",{title:t},t)))),Nb.createElement("div",{className:"zpl_flex-a-c zpl_gap-2"},Nb.createElement(EB,{isActive:n,onToggle:r})))};function wB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return NB(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NB(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var PB=function(e){var t=e.surveyId,n=e.sharedUsers,r=e.isShareAllAdmin,a=e.isShareAllDeptLead,o=e.setSharedUser,i=e.setMode,l=e.isShareReportingManager,c=Kb(),u=wB(Nb.useState(r),2),s=u[0],d=u[1],p=wB(Nb.useState(a),2),f=p[0],m=p[1],v=wB(Nb.useState(l),2),y=v[0],g=v[1],h=wB(Nb.useState(!1),2),b=h[0],_=h[1],E=wB(Nb.useState(!1),2),S=E[0],w=E[1],N=wB(Nb.useState(!1),2),P=N[0],O=N[1],I=function(e){c(Ci({surveyId:t,userId:e})).then(function(e){"fulfilled"===e.meta.requestStatus&&B({text:ZPI18N.getString("zp.survey.share.remove.msg"),duration:3e3}).showSuccess()})};return Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdhdr"},Nb.createElement("div",null,Nb.createElement("h4",null,ZPI18N.getString("zp.esign.additionaloptions")))),Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",null,Nb.createElement(SB,{label:ZPI18N.getString("zp.survey.share.anyone.admin"),isActive:s,toggleAnyoneCanView:function(){if(!S){w(!0);var e=!s;c((e?Oi:Ii)({surveyId:t,payload:{shareTo:"admin"}})).then(function(t){d("fulfilled"===t.meta.requestStatus?e:!e),"fulfilled"===t.meta.requestStatus&&B({text:ZPI18N.getString(e?"zp.survey.share.admin.enable.msg":"zp.survey.share.admin.disable.msg"),duration:3e3}).showSuccess()}).finally(function(){w(!1)})}}}),Nb.createElement(SB,{label:ZPI18N.getString("zp.survey.share.anyone.departmentlead"),isActive:f,toggleAnyoneCanView:function(){if(!P){O(!0);var e=!f;c((e?Oi:Ii)({surveyId:t,payload:{shareTo:"department_lead"}})).then(function(t){m("fulfilled"===t.meta.requestStatus?e:!e),"fulfilled"===t.meta.requestStatus&&B({text:ZPI18N.getString(e?"zp.survey.share.departmentlead.enable.msg":"zp.survey.share.departmentlead.disable.msg"),duration:3e3}).showSuccess()}).finally(function(){O(!1)})}}}),Nb.createElement(SB,{label:ZPI18N.getString("zp.survey.share.anyone.reportingmanager"),isActive:y,toggleAnyoneCanView:function(){if(!b){_(!0);var e=!y;c((e?Oi:Ii)({surveyId:t,payload:{shareTo:"reporting_manager"}})).then(function(t){g("fulfilled"===t.meta.requestStatus?e:!e),"fulfilled"===t.meta.requestStatus&&B({text:ZPI18N.getString(e?"zp.survey.share.reportingmanager.enable.msg":"zp.survey.share.reportingmanager.disable.msg"),duration:3e3}).showSuccess()}).finally(function(){_(!1)})}}}),n.length>0&&Nb.createElement("div",{className:"zpl_ev_usrLst"},(n||[]).map(function(e,n){return Nb.createElement(_B,{key:n+"-"+e.erecno,surveyId:t,userDetails:e,onDeleteHandler:I,setSharedUser:o,setMode:i})})))))};function OB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return IB(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?IB(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var zB=function(e){var t=e.departmentList,n=e.selectedUsers,r=e.surveyData,a=e.setSelectedUsers,o=e.applicableUsers,i=e.mode,l=(o||[]).map(function(e){return{label:e.empid+" - "+e.name,value:e.erecno}}),c=t.departments,u=void 0===c?{}:c,s=t.isDepartmentDataLoaded,d=Object.entries(u).map(function(e){var t=OB(e,2),n=t[0];return{label:t[1],value:n}}),p=Kb(),f=r.survey_id,m=OB((0,Nb.useState)(),2),v=m[0],g=m[1],h=OB((0,Nb.useState)([]),2),b=h[0],_=h[1],E=R(function(e,t){var n=new URLSearchParams;e&&n.append("searchTxt",e);var r="zpsurvey/surveys/".concat(f,"/applicable-departments");y.get(r+(n.size>0?"?"+n:"")).then(function(e){if(200===e.status){var n=e.data.departments.map(function(e){var t=e.department_id;return{label:e.department_name,value:t}});t(n)}})},300);return Nb.createElement(Nb.Fragment,null,Nb.createElement("div",{className:"zpl_mcnt"},Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,Nb.createElement("h6",null,ZPI18N.getString("zp.selectusers"))),Nb.createElement(rB,{surveyId:f,applicableUsersOptions:l,selectedUsers:n,setSelectedUsers:a,mode:i})),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,Nb.createElement("h6",null,ZPI18N.getString("zp.report"))),Nb.createElement(MS,{options:[{value:"0",label:ZPI18N.getString("zp.survey.share.custom")}],value:{value:"0",label:ZPI18N.getString("zp.survey.share.custom")}})),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,Nb.createElement("h6",null,ZPI18N.getString("zp.departments"))),Nb.createElement($M,{isMulti:!0,onChange:function(e){_(e)},value:b,isClearable:!1,isSearchable:!0,cacheOptions:!0,options:d,loadOptions:function(e,t){return E(e,t)},style:{maxHeight:"50px"},onFocus:function(){return!s&&(p(Ti({surveyId:f})).then(function(){g(!1)}),void g(!0))},isLoading:v}))))),Nb.createElement("div",{className:"zpl_mfoter"},Nb.createElement(J_,{type:"button",className:"zlabel zlabel--blue zlabel--medium",onClickHandler:function(){var e=[],t=n.map(function(e){return e.value}),r=b.map(function(e){return e.value});if(0===t.length||0===r.length)return B({text:ZPI18N.getString(0===t.length?"zp.survey.share.nodata.msg":"zp.survey.share.department.nodata.msg"),duration:3e3}).showWarning();t.forEach(function(t){var n={access_level:An,visibility_level:jn,erecno:t};n.department_ids=r,e.push(n)});var o={shareTo:"user",shareReportPerm:JSON.stringify(e)};p("edit"==i?zi({surveyId:f,payload:o}):Oi({surveyId:f,payload:o})).then(function(e){"fulfilled"===e.meta.requestStatus&&(B({text:ZPI18N.getString("zp.reports.sharereportsuccess"),duration:3e3}).showSuccess(),p(Ki(!1)),p(io({showBackButton:!1})),a([]),_([]))})}},ZPI18N.getString("zp.share"))))};function CB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return TB(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TB(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var xB=function(e){var t=e.data.surveyData,n=t.survey_id,r=Mb(function(e){return e.createSurvey.surveyShareReport}),a=CB((0,Nb.useState)([]),2),o=a[0],i=a[1],l=CB((0,Nb.useState)([]),2),c=l[0],u=l[1],s=CB((0,Nb.useState)(""),2),d=s[0],p=s[1],f=CB((0,Nb.useState)({applicableUsers:[],sharedUserList:[],isUserDataLoaded:!1,isShareAllAdmin:!1,isShareAllDeptLead:!1,isShareReportingManager:!1}),2),m=f[0],v=f[1],y=Kb();return(0,Nb.useEffect)(function(){var e=r.applicableUsersDetails,t=void 0===e?{}:e,n=r.sharedUserList,a=void 0===n?[]:n,o=r.departmentDetails,i=void 0===o?{}:o,l=r.isShareAllAdmin,c=r.isShareAllDeptLead,u=r.isShareReportingManager,s=t.applicable_users,d=void 0===s?[]:s,p=t.isUserDataLoaded;v({applicableUsers:d,sharedUserList:a,isUserDataLoaded:p,departmentDetails:i,isShareAllAdmin:l,isShareAllDeptLead:c,isShareReportingManager:u})},[r,v]),(0,Nb.useEffect)(function(){y(Pi({surveyId:n})),y(Ni({surveyId:n}))},[]),Nb.createElement(Nb.Fragment,null,m.isUserDataLoaded?r.showCustomPopup?Nb.createElement(zB,{departmentList:m.departmentDetails,selectedUsers:"edit"==d?c:o,setSelectedUsers:i,surveyData:t,applicableUsers:m.applicableUsers,mode:d}):Nb.createElement("div",{className:"zpl_mcnt"},Nb.createElement(fB,{surveyId:n,applicableUsers:m.applicableUsers,selectedUsers:o,setSelectedUsers:i,setMode:p}),Nb.createElement(PB,{surveyId:n,sharedUsers:m.sharedUserList,isShareAllAdmin:m.isShareAllAdmin,isShareAllDeptLead:m.isShareAllDeptLead,isShareReportingManager:m.isShareReportingManager,setSharedUser:u,setMode:p})):Nb.createElement(aE,{height:150,extraClass:"zpl_mcnt"}))},kB={},DB=function(){var e=Mb(function(e){return e.popupModalBox}),t=Kb(),n=(0,Nb.useRef)(null),r=function(){t(lo())};(0,Nb.useEffect)(function(){var t;if(null!==(t=e.data)&&void 0!==t&&t.isFocusNeeded){var n=function(e){"Escape"===e.key&&i()};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}},[]),(0,Nb.useEffect)(function(){var t;null!==(t=e.data)&&void 0!==t&&t.isFocusNeeded&&n.current&&n.current.focus()},[]),(0,Nb.useEffect)(function(){return window.addEventListener("hashchange",r),function(){window.removeEventListener("hashchange",r),t(lo())}},[]);var a,o,i=function(){e.viewType===Po.DETAILED_REPORT?(t(lo()),t(Yi({single_question_response:null,year_of_joining_report:null,metricFilter:[],reportFilter:{}}))):e.viewType===Po.EXITFLOW_CREATE_LANDINGPAGE?t(Li({isShowSurveyPage:!0,isNeedLandingPage:!1})):e.viewType===Po.EMOTION_DETAILED_REPORT?(t(lo()),t(Yi({emotionRespondedUsers:null,emotionActiveRepondent:0}))):e.viewType===Po.SHARE_POPUP&&(t(lo()),t(Ji())),t(io({render:!1}))};return Nb.createElement("div",{className:"zpl_mdl zpl_mopen ".concat((o="",[Po.DETAILED_REPORT].includes(e.viewType)?o="zpl_mmd zpl_mcenter zpl_annE-dtlRprt zpl_annE_cnt":e.viewType===Po.SAVE_INTERVIEW_POPUP?o="zpl_malrtmsg":[Po.EXITFLOW_CREATE_LANDINGPAGE,Po.NO_FLOW_LIST_OFFBOARDING_INTERVIEW].includes(e.viewType)?o="zpl_mcenter zpl_uintModal":e.viewType===Po.MY_SURVEY_INFO_POPUP?o="zpl_mcenter":e.viewType===Po.SURVEY_DETAILS_POPUP?o="zpl_mmd zpl_mcenter":e.viewType===Po.EMOTION_DETAILED_REPORT?o="zpl_mlg zpl_mcenter zpl_pulseCont":e.viewType===Po.SHARE_POPUP&&(o="zpl_permEV permEV_new"),o)),role:"dialog",tabIndex:"-1",ref:n,"aria-label":ZPI18N.getString("zp.survey.mysurvey.details.popup.open")+" "+ZPI18N.getString("zp.press.escape.toexit")},Nb.createElement("div",{className:"zpl_minr ".concat((a="",[Po.DETAILED_REPORT].includes(e.viewType)?a="h100_per":e.viewType===Po.EMOTION_DETAILED_REPORT&&(a="h100_per zpl_tabcnt"),a)),rel:e.viewType},Nb.createElement(dA,{headerName:e.headerName,showBackButton:e.showBackButton,backActionHandler:function(){e.viewType===Po.SHARE_POPUP&&(t(Ki(!1)),t(io({showBackButton:!1})))},closeActionHandler:function(){i()},headerAriaLabel:ZPI18N.getString("zp.surveyname")+" : "+e.headerName},e.viewType===Po.DETAILED_REPORT?Nb.createElement(KZ,{viewType:e.viewType,data:e.data}):Nb.createElement(Nb.Fragment,null)),e.viewType===Po.DETAILED_REPORT?Nb.createElement(ZL,{data:e.data}):e.viewType===Po.SAVE_INTERVIEW_POPUP?Nb.createElement(YL,{viewType:e.viewType,data:e.data,closeCallback:kB[Po.SAVE_INTERVIEW_POPUP]}):[Po.EXITFLOW_CREATE_LANDINGPAGE,Po.NO_FLOW_LIST_OFFBOARDING_INTERVIEW].includes(e.viewType)?Nb.createElement(JL,{viewType:e.viewType,data:e.data}):e.viewType===Po.MY_SURVEY_INFO_POPUP?Nb.createElement(tF,{data:e.data,closeActionHandler:i}):e.viewType===Po.SURVEY_DETAILS_POPUP?Nb.createElement("div",{className:"zpl_mcnt"},Nb.createElement(gF,{data:e.data,surveyId:e.surveyId})):e.viewType===Po.EMOTION_DETAILED_REPORT?Nb.createElement(QF,{data:e.data}):e.viewType===Po.SHARE_POPUP?Nb.createElement(xB,{data:e.data}):Nb.createElement(Nb.Fragment,null)))};const jB=e=>{const{surveyData:t}=Ih.getState().createSurvey,n=t.related_to.related_recordid;Offboarding.Interview.triggerInterview(n,e),Ih.dispatch(Xa()),Ih.dispatch(lo()),Ih.dispatch(Hi()),Ih.dispatch(qu()),Ih.dispatch(ys()),Ih.dispatch(xf()),Ih.dispatch(Hf()),Ih.dispatch(Nh())},AB=(e,t,n,r,a)=>{wO.setExitFeedbackData(t);const{dbHash:o}=Ih.getState().createSurvey,{related_to:i}=e,l=()=>{"function"==typeof r&&r(),t&&OffboardingSettings.FlowPage.resetTabValidation(t),"function"==typeof n&&n()};if(e.survey_id&&""!=o&&o!=bo(e)){const t=`zpsurvey/surveys/${e.survey_id}/taggedinterviews`;y.get(t).then(t=>{let n=t.data,r=n.tagged_interviews_withflow_ids;0==n.tagged_interviews_count||1==n.tagged_interviews_count&&r.includes(i?.related_recordid)?NO(e,l,e.survey_id,a):n.tagged_interviews_count>=1&&(kB[Po.SAVE_INTERVIEW_POPUP]=l,Ih.dispatch(io({render:!0,viewType:Po.SAVE_INTERVIEW_POPUP,data:{override:!0,newtemplate:!0}})))}).catch(e=>{B({text:e.response?.data?.message?e.response.data.message:ZPI18N.getString("zp.unabletoprocess"),duration:3e3}).showError()})}else l()},RB=()=>{Ih.dispatch(lo()),wO.getExitFeedbackData()&&OffboardingSettings.FlowPage.resetTabValidation(wO.getExitFeedbackData())},qB=(e,t,n)=>{Rm();const r=document.getElementById("offboarding_interview_list");if(r.innerHTML="",t&&0!==t.length){r.appendChild(ZPCreateDOM(zq,{viewMode:n}));const e=ZPCreateDOM("table",{className:"zpl_tbl",id:"viewRef"},ZPCreateDOM(ZB,null));e.appendChild(ZPCreateDOM("fragment",null,(t||[]).map(e=>MB(e)))),r.querySelector("div[rel=SURVEYLIST]").append(e)}else r.appendChild(ZPCreateDOM(Cq,{surveyType:e,readOnly:"true"}))},MB=e=>{const t=e.question_count>0&&e.question_count<10?`0${Number(e.question_count)}`:Number(e.question_count);return ZPCreateDOM("tbody",{id:`interview-box-${e.survey_id}`},ZPCreateDOM("tr",{onClick:()=>{sg(e.survey_id)}},ZPCreateDOM("td",null,ZPCreateDOM("div",{className:"zpl_em"},ZPCreateDOM("div",{className:"zpl_emdts"},ZPCreateDOM("div",null,e.survey_name)),!e.is_ready&&ZPCreateDOM("div",{className:"zpl_tg"},ZPCreateDOM("span",null,ZPI18N.getString("zp.draft"))))),ZPCreateDOM("td",null,ZPCreateDOM("span",null,(t||0)+""," ")),ZPCreateDOM("td",null,ZPCreateDOM("div",{className:"zpl_hvr"},ZPCreateDOM("i",{type:"button",className:"zpl_drpdwn-js PI_more",rel:"INTERVIEW_LISTING_MORE",onClick:t=>{t.stopPropagation();const n={className:"zpl_drpdwn",forElement:t.target,show:()=>(()=>{let t=Sm().querySelector(`#interview-box-${e.survey_id} [rel=INTERVIEW_LISTING_MORE]`),n=t?.parentElement;t&&!km(t,"zpl_act")&&Tm(t,"zpl_act"),n&&!km(n,"zpl_hvract")&&Tm(n,"zpl_hvract")})(),hide:()=>{(()=>{let t=Sm().querySelector(`#interview-box-${e.survey_id} [rel=INTERVIEW_LISTING_MORE]`),n=t?.parentElement;t&&km(t,"zpl_act")&&xm(t,"zpl_act"),n&&km(n,"zpl_hvract")&&xm(n,"zpl_hvract")})(),ar("assess-survey-zpmenu")},itemclick:(t,n)=>GB(e,n.value),contentType:"icon-text"};rr(n,WB(e))}})))))},ZB=()=>ZPCreateDOM("thead",null,ZPCreateDOM("tr",null,ZPCreateDOM("th",null," ",ZPI18N.getString("zp.survey.interview.exit.templatesmall")," "),ZPCreateDOM("th",null," ",ZPI18N.getString("zp.questions")," "),ZPCreateDOM("th",{width:"150"}," ",ZPI18N.getString("zp.actions")," "))),LB=()=>{const{viewMode:e,data:t}=Ih.getState().getInterviewRecords;qB(we,t,e)},FB=(e,t)=>{const{viewMode:n,data:r}=Ih.getState().getInterviewRecords,a=document.getElementById(`interview-box-${e}`);a?.remove(),qB(t,r,n),BB()},BB=()=>{let e=Sm()?.querySelector("[rel=INTERVIEW_HEADER_ADD]");const{data:t}=Ih.getState().getInterviewRecords;t.length>=50?!km(e,"hide")&&Tm(e,"hide"):km(e,"hide")&&xm(e,"hide")};function UB(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return HB(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(HB(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,HB(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,HB(d,"constructor",u),HB(u,"constructor",c),c.displayName="GeneratorFunction",HB(u,a,"GeneratorFunction"),HB(d),HB(d,a,"Generator"),HB(d,r,function(){return this}),HB(d,"toString",function(){return"[object Generator]"}),(UB=function(){return{w:o,m:p}})()}function HB(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}HB=function(e,t,n,r){function o(t,n){HB(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},HB(e,t,n,r)}function VB(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function YB(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){VB(o,r,a,i,l,"next",e)}function l(e){VB(o,r,a,i,l,"throw",e)}i(void 0)})}}var WB=function(e){var t=[Ht.edit];return"0"!==e.template_type&&(!e.is_ready&&t.push(Ht.markasready),t.push(Ht.seperator,Ht.delete)),t},GB=function(e,t){var n={edit:function(){return sg(e.survey_id)},delete:function(){return $B(e.survey_id,e.survey_type)},markasready:function(){return QB(e,!1)}};n.hasOwnProperty(t)&&n[t]()},$B=function(){var e=YB(UB().m(function e(t,n){var r;return UB().w(function(e){for(;;)switch(e.n){case 0:return r=new Ry(ZPI18N.getString("zp.survey.interview.delete.confirm"),ZPI18N.getString("zp.survey.interview.delete.message"),ZPI18N.getString("zp.confirm"),ZPI18N.getString("zp.cancel"),"red"),e.n=1,r.confirmation();case 1:if(e.v){e.n=2;break}return e.a(2);case 2:Ih.dispatch(Eh({surveyId:t})).then(function(e){if("fulfilled"===e.meta.requestStatus)FB(t,n),B({text:ZPI18N.getString("zp.survey.delete.successmsg"),duration:3e3}).showSuccess();else{var r,a,o=null!==(r=null==e||null===(a=e.payload)||void 0===a||null===(a=a.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)&&void 0!==r?r:ZPI18N.getString("zp.unabletoprocess");B({text:o,duration:3e3}).showError()}});case 3:return e.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}(),QB=function(){var e=YB(UB().m(function e(t){var n,r,a=arguments;return UB().w(function(e){for(;;)switch(e.n){case 0:if(r=!(a.length>1&&void 0!==a[1])||a[1],t.questions&&!((null===(n=t.questions)||void 0===n?void 0:n.length)<=0)){e.n=1;break}return B({text:ZPI18N.getString("zp.survey.interview.error.questions.insufficient"),duration:3e3}).showWarning(),e.a(2,!1);case 1:Ih.dispatch(Sh({surveyData:t,isStoreInSlice:r})).then(function(e){if("fulfilled"===e.meta.requestStatus)OO(!1),LB(),B({text:ZPI18N.getString("zp.survey.template.publish.successmsg"),duration:3e3}).showSuccess();else{var t,n=null!==(t=e.payload)&&void 0!==t&&null!==(t=t.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.message?e.payload.response.data.message:ZPI18N.getString("zp.unabletoprocess");B({text:n,duration:3e3}).showError()}});case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}();function XB(e){return XB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XB(e)}function KB(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return JB(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(JB(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,JB(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,JB(d,"constructor",u),JB(u,"constructor",c),c.displayName="GeneratorFunction",JB(u,a,"GeneratorFunction"),JB(d),JB(d,a,"Generator"),JB(d,r,function(){return this}),JB(d,"toString",function(){return"[object Generator]"}),(KB=function(){return{w:o,m:p}})()}function JB(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}JB=function(e,t,n,r){function o(t,n){JB(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},JB(e,t,n,r)}function eU(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function tU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tU(Object(n),!0).forEach(function(t){rU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rU(e,t,n){return(t=function(e){var t=function(e){if("object"!=XB(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=XB(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==XB(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aU=function(e,t,n){e.survey_id?AB(e,void 0,t,void 0,n):(e.questions||[]).length>0?NO(e):B({text:ZPI18N.getString("zp.survey.interview.create.no.questions.info"),duration:3e3}).showWarning()},oU=function(){var e,t=(e=KB().m(function e(){var t,n,r,a,o,i;return KB().w(function(e){for(;;)switch(e.n){case 0:if(t=Ih.getState().createSurvey,n=t.surveyData,r=t.dbHash,a=function(){Ih.dispatch(Hi()),Ih.dispatch(Qa({render:!1})),window.location.hash="settings/service/zp_offboarding/interview"},o=function(){var e=Ih.getState().createSurvey.surveyData;e.survey_id?AB(e,void 0,void 0,a):(e.questions||[]).length>0?NO(e,a):B({text:ZPI18N.getString("zp.survey.interview.create.no.questions.info"),duration:3e3}).showWarning()},r==bo(n)){e.n=2;break}return i=new Ry(ZPI18N.getString("zp.popup.unchange.name"),ZPI18N.getString("zp.popup.unchange.desc"),ZPI18N.getString("zp.popup.unchange.save"),ZPI18N.getString("zp.popup.unchange.cancel"),void 0,void 0,o,a),e.n=1,i.confirmation();case 1:e.n=3;break;case 2:a();case 3:return e.a(2)}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){eU(o,r,a,i,l,"next",e)}function l(e){eU(o,r,a,i,l,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}();function iU(e){return iU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iU(e)}function lU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lU(Object(n),!0).forEach(function(t){uU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uU(e,t,n){return(t=function(e){var t=function(e){if("object"!=iU(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=iU(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==iU(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return dU(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dU(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var pU=Nb.memo(function(e){var t=e.closeConfigurationCallback,n=Mb(function(e){return e.createSurvey}).surveyData,r=n.survey_id,a=n.survey_name,o=n.interview_trigger_on,i=n.related_to,l=Kb(),c=[{value:"approval",label:ZPI18N.getString("zp.survey.interview.trigger.immediately")},{value:"last_working_day",label:ZPI18N.getString("zp.survey.interview.trigger.endday")},{value:"one_day_before",label:ZPI18N.getString("zp.survey.interview.trigger.daybefore",[1])},{value:"two_days_before",label:ZPI18N.getString("zp.survey.interview.trigger.daysbefore",[2])},{value:"three_days_before",label:ZPI18N.getString("zp.survey.interview.trigger.daysbefore",[3])},{value:"four_days_before",label:ZPI18N.getString("zp.survey.interview.trigger.daysbefore",[4])},{value:"five_days_before",label:ZPI18N.getString("zp.survey.interview.trigger.daysbefore",[5])},{value:"six_days_before",label:ZPI18N.getString("zp.survey.interview.trigger.daysbefore",[6])},{value:"seven_days_before",label:ZPI18N.getString("zp.survey.interview.trigger.weekbefore",[1])}],u=c.filter(function(e){return e.value===o})[0]||c[0],s=sU((0,Nb.useState)(a),2),d=s[0],p=s[1],f=sU((0,Nb.useState)(u),2),m=f[0],v=f[1],y=(0,Nb.useCallback)(function(){var e={};a!==d&&(e.survey_name=d),o!==m.value&&(e.interview_trigger_on=m.value),Object.keys(e).length>0?(a===d&&o===m.value||l(Fi(e)),e=n.survey_id?cU(cU({},e),{},{survey_id:r,related_to:i}):cU(cU({},n),e),aU(e,function(){t()})):t()},[l,d,m,n]);return Nb.createElement("div",{className:"zpl_mdl zpl_mopen zpl_permEV permEV_new"},Nb.createElement("div",{className:"zpl_minr"},Nb.createElement("div",{className:"zpl_mhder"},Nb.createElement("div",{className:"d-flexcap a-itm-cntr"},Nb.createElement("h4",null,ZPI18N.getString("zp.survey.interview.trigger.title"))),Nb.createElement("a",{className:"_cls PI_cls",onClick:t})),Nb.createElement("div",{className:"zpl_mcnt zpl_fm"},Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,Nb.createElement("h6",null,ZPI18N.getString("zp.name"))),Nb.createElement("div",null,Nb.createElement("input",{type:"text",value:d,maxLength:100,onChange:function(e){return p(e.target.value)},className:"ztextbox"}))),Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",null,Nb.createElement("h6",null,ZPI18N.getString("zp.survey.interview.trigger.time"))),Nb.createElement("div",null,Nb.createElement(MS,{value:m,options:c,onChange:function(e){return v(e)}})))))),Nb.createElement("div",{className:"zpl_mfoter zpl_btnsplt"},Nb.createElement("div",null,Nb.createElement("button",{className:"zlabel zlabel--primary zlabel--medium",onClick:y},ZPI18N.getString("zp.save"))))))}),fU=pU;function mU(e){return mU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mU(e)}function vU(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return yU(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(yU(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,yU(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,yU(d,"constructor",u),yU(u,"constructor",c),c.displayName="GeneratorFunction",yU(u,a,"GeneratorFunction"),yU(d),yU(d,a,"Generator"),yU(d,r,function(){return this}),yU(d,"toString",function(){return"[object Generator]"}),(vU=function(){return{w:o,m:p}})()}function yU(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}yU=function(e,t,n,r){function o(t,n){yU(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},yU(e,t,n,r)}function gU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gU(Object(n),!0).forEach(function(t){bU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bU(e,t,n){return(t=function(e){var t=function(e){if("object"!=mU(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=mU(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==mU(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _U(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function EU(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){_U(o,r,a,i,l,"next",e)}function l(e){_U(o,r,a,i,l,"throw",e)}i(void 0)})}}function SU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var wU=function(e){var t=e.surveyData,n=e.dbHash,r=e.viewType,a=void 0===r?Po.OFFBOARDING_FEEDBACK:r,o=t.related_to,i=Mb(function(e){return e.templateList}),l=i.data,c=i.fetchInitialData,u=Kb(),s=(0,Nb.useRef)(null),d=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return SU(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SU(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(!1),2),p=d[0],f=d[1],m=(l||[]).map(function(e){return{value:e.survey_id,label:e.survey_name,callback:function(){v(e)}}});(0,Nb.useEffect)(function(){!t.survey_id&&c&&u(Of({pno:0}))},[]);var v=function(){var e=EU(vU().m(function e(r){var o,i;return vU().w(function(e){for(;;)switch(e.n){case 0:if(o=hU(hU({},t),{},{instruction:"",thankyou_message:""},r),""==n||n==bo(t)){e.n=2;break}return i=new Ry(ZPI18N.getString("zp.survey.templete.save"),ZPI18N.getString("zp.popup.unchange.desc"),ZPI18N.getString("zp.survey.interview.question.skip_and_proceed"),ZPI18N.getString("zp.cancel")),e.n=1,i.confirmation();case 1:if(e.v){e.n=2;break}return e.a(2);case 2:OO(!1),a===Po.OFFBOARDING_FEEDBACK?(PO(r.survey_id),u(Li({fetchInitialData:!1,surveyData:o,dbHash:bo(o)})),u(lo())):(delete o.survey_id,u(Li({fetchInitialData:!1,surveyData:o,dbHash:bo(o)})),u(lo()));case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=EU(vU().m(function e(){var n;return vU().w(function(e){for(;;)switch(e.n){case 0:return n=new Ry(ZPI18N.getString("zp.survey.interview.untag.delete.header"),ZPI18N.getString("zp.survey.interview.untag.delete.desc"),ZPI18N.getString("zp.confirm"),ZPI18N.getString("zp.cancel")),e.n=1,n.confirmation();case 1:if(!e.v){e.n=2;break}OO(!1),u(vi({surveyId:t.survey_id,flowId:o.related_recordid}));case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return Nb.createElement(Nb.Fragment,null,Nb.createElement(Nb.Fragment,null,l.length>0&&!t.survey_id&&Nb.createElement("button",{ref:s,className:"zlabel zlabel--blue zlabel--outline zlabel--medium zpl_mt1",onClick:function(e){f(!p),s.current=e.currentTarget}},ZPI18N.getString("zp.survey.interview.use.existing")),t.survey_id&&Nb.createElement("button",{type:"button",title:ZPI18N.getString("zp.survey.interview.untag.delete.header"),className:"zlabel zlabel--outline zlabel--medium PI_delete zpl_mt1",onClick:y})),p?Nb.createElement(FO,{anchorEleRef:s.current,options:m,open:p,setIsOpen:f}):null)},NU=function(e){var t=e.surveyName,n=e.desc;return Nb.createElement("div",null,Nb.createElement("h4",{className:"d-flexC flexclmcap8"},Nb.createElement("span",null,t)),n&&Nb.createElement("p",null,n))};function PU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var OU=function(){var e=Mb(function(e){return e.createSurvey}),t=e.surveyData,n=e.dbHash,r=e.viewType,a=t.survey_name,o=r!==Po.EXTEND_INTERVIEW_CREATION||!t.survey_id,i=(function(){var e=null;if(location.hash.includes("settings/service/zp_offboarding/flow/settings"))e=Sm();else{var t=Em();e=t.querySelector(".zpl_container")?t.querySelector(".zpl_container"):t}return e}()||document).querySelector("#ee-react-root"),l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return PU(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?PU(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(!1),2),c=l[0],u=l[1];return Nb.createElement("div",{className:"zpl_rgtcnt"},Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdhdr"},Nb.createElement(NU,{surveyName:a,desc:ZPI18N.getString("zp.survey.interview.trigger.desc")}),Nb.createElement("div",null,Nb.createElement("button",{type:"button",className:"zlabel zlabel--outline zlabel--medium PI_glob-setting zpl_mt1",title:ZPI18N.getString("zp.gtpreferences"),onClick:function(){return u(!c)}}),t.survey_id&&Nb.createElement("button",{type:"button",className:"zlabel zlabel--blue zlabel--medium zpl_mt1",onClick:function(){return e=t.survey_id,void gv(window.location.protocol+"//"+window.location.host+"/"+portalName+"/survey/interview/"+e+"/preview");var e}},ZPI18N.getString("zp.preview")),o&&Nb.createElement(wU,{surveyData:t,dbHash:n,viewType:r})),c&&qE.createPortal(Nb.createElement(fU,{surveyData:t,closeConfigurationCallback:function(){u(!1)}}),i))))},IU=function(e){var t=e.surveyData,n=e.id,r=e.viewType,a=void 0===r?Po.OFFBOARDING_FEEDBACK:r,o=n+"intro-parent-editor",i=n+"intro-current-editor",l=n+"thnku-parent-editor",c=n+"thnku-current-editor";return Nb.createElement("div",{className:"zpl_act",rel:"OFFBOARDING_INTERVIEW_WRAPPER"},Nb.createElement(OU,null),Nb.createElement(tL,{title:ZPI18N.getString("zp.survey.interview.introduction.msg"),message:t.instruction,parentId:o,currentId:i,surveyId:t.survey_id,type:a,surveyData:t,placeholder:ZPI18N.getString("zp.survey.interview.introduction.message")}),Nb.createElement(MD,{surveyData:t,viewType:a}),Nb.createElement(aL,{title:ZPI18N.getString("zp.survey.interview.thankyou.msg"),message:t.thankyou_message,parentId:l,currentId:c,surveyId:t.survey_id,type:a,surveyData:t,placeholder:ZPI18N.getString("zp.survey.interview.thankyou.message")}))},zU=function(e){var t=e.type,n=Mb(function(e){return e.createSurvey}),r=n.surveyData,a=n.fetchInitialData,o=n.dbHash;return Nb.createElement("div",{className:"zpl_mcnt M0I"},Nb.createElement("div",{className:"zpl_mmnu"},Nb.createElement("div",{className:"zpl_mmnurgt"},Nb.createElement("div",{className:"zpl_act"},Nb.createElement("div",{className:"zpl_iwrpr"},Nb.createElement("div",{className:"zpl_iwrprrgt DBI"},a?Nb.createElement("div",{className:"zpl_act"},Nb.createElement(aE,null)):Nb.createElement(IU,{surveyData:r,dbHash:o,viewType:t,id:"interview-createion"})))))))},CU=function(e){var t=e.surveyData,n=e.report,r=(e.scheduleOptions,e.recurrenceId),a=(e.recurrenceChangeHandler,t.survey_id),o=t.metric_type,i=t.metric_name;return Nb.createElement(Nb.Fragment,null,function(){if(t.is_repeat)return Nb.createElement(Nb.Fragment,null,Nb.createElement(Nb.Fragment,null,function(){if(n[a].response[r]){var e=n[a].response[r];return e&&e.is_anonymous?Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement(hx,{header:ZPI18N.getString("zp.survey.mysurvey.anonymity.msg"),imgClass:"zp_nd_enpsnoreport"})):Nb.createElement("div",{className:"zpl_crdcnt zpl_pulseCont"},Nb.createElement("div",{className:"secViewAsmnt DBI"},Nb.createElement(cC,{metricType:o,metricName:i,userData:e?e.question_responses||e.metric_responses:[],isNewLayout:!0})))}return Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement(hx,{header:ZPI18N.getString("zp.survey.mysurvey.completed.report.nodata")}))}()));var e=n[a].response;return Nb.createElement(Nb.Fragment,null,e&&e.is_anonymous?Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement(hx,{header:ZPI18N.getString("zp.survey.mysurvey.anonymity.msg"),imgClass:"zp_nd_enpsnoreport"})):Nb.createElement("div",{className:"zpl_crdcnt zpl_pulseCont"},Nb.createElement("div",{className:"secViewAsmnt DBI"},Nb.createElement(cC,{metricType:o,metricName:i,userData:e.question_responses||e.metric_responses,isNewLayout:!0}))))}())},TU=function(e){var t=e.surveyData,n=e.report,r=e.scheduleOptions,a=e.recurrenceId,o=e.recurrenceChangeHandler,i=t.survey_id,l=t.is_repeat,c=t.opening_time,u=t.closing_time,s=t.activation_type,d=s==qn?Dm(c):void 0,p=s==qn?Dm(u):void 0;return Nb.createElement("section",null,Nb.createElement("div",{className:"zpl_tabcnt"},Nb.createElement("div",{className:"zpl_pa4 zpl_pt0"},Nb.createElement("div",{className:"zpl_btnmnu"},Nb.createElement("div",{className:"zpl_rgt"},Nb.createElement("div",{rel:"SURVEY_STATUS"},n[i]&&s==qn&&(l?Nb.createElement(MS,{value:r.filter(function(e){return e.value===a}),options:r,onChange:function(e){return o(e)},style:{width:"280px"}}):Nb.createElement("div",{className:"zselectbox",style:{width:"280px"}},Nb.createElement("div",{className:"zselectbox__selected"},Nb.createElement("span",{className:"zselectbox__text"},"".concat(d.getDateBy(dateFmt)," - ").concat(p.getDateBy(dateFmt))))))))),Nb.createElement("div",{className:"zpl_crd zpl_w-100"},n[i]?Nb.createElement(CU,{surveyData:t,report:n,scheduleOptions:r,recurrenceId:a,recurrenceChangeHandler:o}):Nb.createElement(aE,{height:500})))))},xU=function(){return Nb.createElement("div",{className:"zpl_pl10"},Nb.createElement("ul",{className:"zpl_tabpane"},Nb.createElement("li",{className:"zpl_act"},Nb.createElement("a",null,ZPI18N.getString("zp.survey.myresponse")))))},kU=function(e){var t=e.surveyData,n=e.closeActionHandler,r=t.survey_name,a=t.type,o=t.question_count,i=void 0===o?0:o,l=t.created_by_details,c=t.cover_image.id,u=l.empid,s=l.fname,d=l.lname,p=l.photo,f=tt[c].className;return(0,Nb.useEffect)(function(){var e=function(e){"Escape"===e.key&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}},[]),Nb.createElement("div",{className:"zpl_crd zpl_w-100 zpl_brs0"},Nb.createElement("div",{className:"zpl_crdcnt zpl_pb0"},Nb.createElement("div",{className:"zpl_asmnt-hdr hdr_alt"},Nb.createElement("div",{className:"asmnt_cont zpl"},Nb.createElement("div",null,Nb.createElement("a",{className:"zpl_ibg zpl_myprof-back",onClick:n,tabIndex:"0",role:"button","aria-label":ZPI18N.getString("zp.back")},Nb.createElement("i",{className:"PI_back"})),Nb.createElement("div",{className:"zpl_pa0"},Nb.createElement("div",{className:"zpl_em zpl_kraglshd"},Nb.createElement("div",{className:"zpl_emimg ".concat(f)}),Nb.createElement("div",{className:"zpl_emdts zpl_ellipsis"},Nb.createElement("div",{className:"zpl_w-100",tabIndex:"0","aria-label":ZPI18N.getString("zp.survey.mysurvey.response.desc",[r])},Nb.createElement("b",null,r)),Nb.createElement("div",{className:"zpl_w-100"},Nb.createElement("span",{className:"zpl_flex-a-c zpl_gap-1 zpl_pt1"},Nb.createElement("em",{className:"zpl_flex-a-c zpl_gap-1"}," ",Nb.createElement("span",null,iv(a==Se?1:i))),Nb.createElement("em",{className:"zpl_dots"}),Nb.createElement("em",{className:"zpl_flex-a-c zpl_gap-2"}," ",Nb.createElement("span",null,ZPI18N.getString(et[a]))))))))),Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_pa0"},Nb.createElement("div",{className:"zpl_em zpl_kraglshd"},Nb.createElement("div",{className:"zpl_emdts zpl_ellipsis"},Nb.createElement("div",{className:"zpl_w-100 zpl_txtrgt"},Nb.createElement("em",null,ZPI18N.getString("zp.lms.content.Createdby"))),Nb.createElement("div",{className:"zpl_w-100"},Nb.createElement("div",null,Nb.createElement("em",null,"".concat(u," - ")),Nb.createElement("b",null,"".concat(s," ").concat(d))))),Nb.createElement("div",{className:"zpl_emimg"},Nb.createElement("img",{src:p}))))))),Nb.createElement(xU,null)))};function DU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jU(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jU(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var AU=function(e){var t,n,r=e.data,a=e.closeActionHandler,o=r.survey_id,i=Kb(),l=DU((0,Nb.useState)(r.recurrence_id),2),c=l[0],u=l[1],s=DU((0,Nb.useState)(!1),2),d=s[0],p=s[1],f=Mb(function(e){return e.mySurvey}).report,m=f&&(null===(t=f[o])||void 0===t?void 0:t.completed_schedules)||[];(0,Nb.useEffect)(function(){var e;null===(e=Layout)||void 0===e||null===(e=e.PageUtil)||void 0===e||e.contWrap[0].addStyle({"inset-block-start":"-40px"})},[]),(0,Nb.useEffect)(function(){i(of({surveyId:o})).then(function(e){if("rejected"===e.meta.requestStatus)return p(!0),void B({text:e.payload.response.data.message?e.payload.response.data.message:ZPI18N.getString("zp.unabletoprocess"),duration:3e3}).showError()})},[o]),(0,Nb.useEffect)(function(){m.length>0&&u(m[0].recurrence_id)},[m]);var v=((null===(n=f[o])||void 0===n?void 0:n.completed_schedules)||[]).map(function(e){return{value:e.recurrence_id,label:"".concat(Dm(e.opening_time).getDateBy(dateFmt)," - ").concat(Dm(e.closing_time).getDateBy(dateFmt))}});return d?(document.querySelector("#ee-my-survey-react-root").className="",Nb.createElement(Nb.Fragment,null)):Nb.createElement("div",{className:"zpl_asmnt_cnt zpl_pa0",onKeyDown:function(e){return function(e){"Escape"==e.key&&a()}(e)}},Nb.createElement(kU,{surveyData:r,closeActionHandler:a}),Nb.createElement(TU,{surveyData:r,report:f,scheduleOptions:v,recurrenceId:c,recurrenceChangeHandler:function(e){u(e.value)}}))},RU=function(e){var t=e.surveyData,n=e.currentRecurrence,r=e.reports,a=e.scheduleOptions,o=e.recurrenceChangeHandler,i=e.showFilter,l=e.onClickReportFilterHandler,c=e.responseView,u=e.responseViewOnClickHandler,s=e.responseViewSelected,d=t.opening_time,p=t.closing_time,f=t.activation_type,m=t.survey_state,v=d>0?Dm(d):void 0,y=f===qn?Dm(p):void 0;f===Rn&&2==m&&(y=Dm(p));var g=(c||[]).map(function(e){return{value:e.key,label:e.label}});return Nb.createElement("div",{className:"zpl_asmnt-hdr no_hdrBG"},Nb.createElement("div",{className:"asmnt_cont zpl_flex-a-c zpl_pt5"},Nb.createElement("div",{className:"zpl_items-center zpl_pa0"},Nb.createElement("div",{className:"zpl_w150 zpl_pt0"},f===Rn&&1==m?Nb.createElement("em",null,"".concat(ZPI18N.getString("zp.survey.started")," :")):Nb.createElement("em",null,"".concat(ZPI18N.getString("zp.survey.report.survey.period")," :"))),(null==a?void 0:a.length)>0?Nb.createElement("div",{className:"zpl_w200"},Nb.createElement(MS,{value:a.filter(function(e){return e.value===n}),options:a,onChange:function(e){return o(e)},style:{width:"280px"}})):Nb.createElement("div",{className:"zpl_w200"},Nb.createElement("div",{className:"zselectbox",style:{width:"220px"}},Nb.createElement("div",{className:"zselectbox__selected"},Nb.createElement("span",{className:"zselectbox__text"},f===Rn&&1==m?"".concat(v.getDateBy(dateFmt)):"".concat(v.getDateBy(dateFmt)," - ").concat(y.getDateBy(dateFmt))))))),Nb.createElement("ul",{className:"zpl_grpmnulnelst"},(null==r?void 0:r.response_count)>0&&Nb.createElement(Nb.Fragment,null,c&&2===c.length&&Nb.createElement(MS,{value:g.filter(function(e){return e.value===s}),options:g,onChange:function(e){return u(e,c)},style:{width:"280px"}}),Nb.createElement("i",{className:"zpl_ibg PI_fltr zpl_ml4 ".concat(i?"zpl_act":""),onClick:l})))))},qU=function(e){var t=e.reportData,n=e.participantStats,r=n.employee_count,a=n.completed_response,o=n.partical_response,i=parseInt(r)-(parseInt(a)+parseInt(o))||"0",l=[{name:ZPI18N.getString("zp.completed"),value:a,color:"#9be139"},{name:t.status===Vt?ZPI18N.getString("zp.extension.incomplete"):ZPI18N.getString("zp.inprogress"),value:o,color:"#f8cd42"},{name:ZPI18N.getString("zp.covidtestnottaken"),value:i,color:"#DCDCDC"}],c=(0,Nb.useRef)(null);(0,Nb.useEffect)(function(){u(c.current)},[n]);var u=function(e){var t=[],n=[];(l||[]).map(function(e){var r=e.name,a=e.value,o=e.color;t.push({name:r,y:Number(a)}),n.push(o)}),e.style.height="240px",$z(e,t,!1,r,void 0,n,80,"<strong>".concat(r>0?Ym(a/r*100):0,"%</strong><br/>").concat(a," out of ").concat(r))};return Nb.createElement("div",{className:"zpl_flex-center zpl_pl2 zpl_pr2 flex-basis50",style:{marginLeft:"20px"},ref:c})},MU=function(e){var t=e.reportData,n=e.participantStats,r=n.employee_count,a=n.completed_response,o=n.partical_response,i=parseInt(r)-(parseInt(a)+parseInt(o))||"0";return Nb.createElement("div",{className:"zpl_flex-center flex-basis50"},Nb.createElement("div",{className:"zpl_flexcolumngap3"},Nb.createElement(hF,{responseInfo:{title:ZPI18N.getString("zp.completed"),css:"zpl_lbdr _bx plse_grn",count:a}}),Nb.createElement(hF,{responseInfo:{title:t.status===Vt?ZPI18N.getString("zp.extension.incomplete"):ZPI18N.getString("zp.inprogress"),css:"zpl_lbdr _bx plse_ylw",count:o}}),Nb.createElement(hF,{responseInfo:{title:ZPI18N.getString("zp.covidtestnottaken"),css:"zpl_lbdr _bx plse_gry",count:i}})))},ZU=function(e){var t=e.participantStats,n=parseInt(t.employee_count)||"0",r=t.completed_response/n*360||0,a=r+t.partical_response/n*360||0,o=Nb.useRef(null);return(0,Nb.useEffect)(function(){o.current.setAttribute("style","background: conic-gradient(var(--grn2) 0deg, var(--grn2) ".concat(r,"deg, var(--primaryylwclr) ").concat(r,"deg, var(--primaryylwclr) ").concat(a,"deg, var(--red2) ").concat(a,"deg) !important"))},[]),Nb.createElement("div",{className:"zpl_w320 d-flexM"},Nb.createElement("div",{style:{minInlineSize:"120px",minBlockSize:"120px"}},Nb.createElement("div",{className:"chart-container"},Nb.createElement("div",{className:"chart","data-chart":"5"},Nb.createElement("div",{className:"pie-chart pie-chart--donut",ref:o}),Nb.createElement("font",{className:"pie-chart__value"},Nb.createElement("em",null,t.employee_count),ZPI18N.getString("zp.engagement.report.respondent.overall"))))))},LU=function(e){var t=e.responseInfo;return Nb.createElement("div",null,Nb.createElement("div",{className:"d-flexclmcap8 a-itm-cntr"},Nb.createElement("span",{className:"".concat(t.css)}),Nb.createElement("h3",null,t.response_count)),Nb.createElement("label",null,t.title))},FU=function(e){var t=e.participantStats,n=e.reportData;return Nb.createElement("div",{className:"d-flexclmcap flex-grow "},Nb.createElement("div",{className:"zpl_aCrd"},Nb.createElement(LU,{responseInfo:{title:ZPI18N.getString("zp.completed"),css:"zpl_lbdr _bx grnbg1",response_count:t.completed_response||"0"}}),Nb.createElement(LU,{responseInfo:{title:n.status===Vt?ZPI18N.getString("zp.extension.incomplete"):ZPI18N.getString("zp.inprogress"),css:"zpl_lbdr _bx ylwbg",response_count:t.partical_response||"0"}}),Nb.createElement(LU,{responseInfo:{title:ZPI18N.getString("zp.covidtestnottaken"),css:"zpl_lbdr _bx redbg1",response_count:parseInt(t.employee_count)-(parseInt(t.completed_response)+parseInt(t.partical_response))||"0"}}),Nb.createElement("div",null,Nb.createElement("div",{className:"d-flexC d-flexclmcap8"},Nb.createElement("h3",null,(t.response_percentage||0)+"%")),Nb.createElement("label",null,ZPI18N.getString("zp.survey.report.response_rate")))))},BU=function(e){var t=e.reportData,n=e.participantStats;return Nb.createElement("div",{className:"zpl_dashcolone ".concat(t.type===Ee?"plsTwo equl":"plsOne")},Nb.createElement("div",{className:"zpl_dashcard"},Nb.createElement(NT,{title:ZPI18N.getString("zp.survey.participation.rate")}),Nb.createElement("div",{className:"zpl_dashbody pulshgt245"},t.type===Ee?Nb.createElement("div",{className:"zpl_npsCstm"},Nb.createElement("div",{className:"rprt_hroCon zpl_pt7 zpl_items-center"},Nb.createElement(ZU,{participantStats:n}),Nb.createElement(FU,{participantStats:n,reportData:t}))):Nb.createElement("div",{className:"zpl_flex a-itm-cntr zpl_flex-1"},Nb.createElement(qU,{reportData:t,participantStats:n}),Nb.createElement(MU,{reportData:t,participantStats:n})))))},UU=function(e){var t=e.score,n=e.responseCount;return Nb.createElement("div",{className:"zpl_flex zpl_flex-j-sb"},Nb.createElement("div",null,Nb.createElement("h1",{className:"zpl_ff-b",style:{fontSize:"38px"}},n),Nb.createElement("span",null,ZPI18N.getString("zp.survey.response.received"))),Nb.createElement("div",{className:"zpl_flexcolumn zpl_items-end"},Nb.createElement("h1",{className:"zpl_ff-b",style:{fontSize:"38px"}},t),Nb.createElement("span",null,ZPI18N.getString("zp.survey.engagement.score"))))},HU=function(e){var t=e.overview,n=e.participantStats,r=t.score,a=t.positive_percentage,o=t.neutral_percentage,i=t.negative_percentage,l=t.engagement_level,c=Ym(a),u=Ym(o),s=Ym(i);return Nb.createElement("div",{className:"zpl_dashcolone plsTwo"},Nb.createElement("div",{className:"zpl_dashcard"},Nb.createElement(NT,{title:ZPI18N.getString("zp.survey.response.distribution")}),Nb.createElement("div",{className:"zpl_dashbody pulshgt245"},Nb.createElement("div",{className:"zpl_pa4 zpl_flexcolumngap3"},Nb.createElement(UU,{score:r,engagementLevel:l,responseCount:n.completed_response}),Nb.createElement(OF,{favorable:{percentage:c},neutral:{percentage:u},unfavorable:{percentage:s},style:{margin:"zpl_mt5",height:"zpl_hgt20"}}),Nb.createElement(bF,{favorable:c,neutral:u,unfavorable:s})))))},VU=function(e){var t=e.scoreData,n=t.isDisabled?"--":t.value;return Nb.createElement("li",null,Nb.createElement("div",{className:"zpl_qalsthd"},Nb.createElement("div",null,Nb.createElement("span",null,Nb.createElement("i",{className:t.className}))),Nb.createElement("div",{className:"zpl_lstclmgap"},"star"==t.name?Nb.createElement("div",{className:"d-flexC d-flexclmcap8"},Nb.createElement(Nz,{maxCount:5,score:n||0})):Nb.createElement("p",null,Nb.createElement("em",null,n)),Nb.createElement("p",{className:"zpl_clamp-1 ".concat(t.isDisabled?"disabled":"")},t.label))))},YU=function(e){var t=e.reportData,n=e.questionReport,r=e.averageScore,a=void 0===r?{}:r,o=a.nps,i=a.star,l=a.scale,c=null==n?void 0:n.some(function(e){return e.type===Jn.NPS.TYPE_STR}),u=null==n?void 0:n.some(function(e){return e.type===Jn.STAR.TYPE_STR}),s=null==n?void 0:n.some(function(e){return e.type===Jn.RATING_SCALE.TYPE_STR}),d=[{name:"enps",className:"PI_enps_survey",label:ZPI18N.getString("zp.engagement.report.enps.avgrating"),value:o,isDisabled:!c},{name:"scale",className:"PI_rate_scale",label:ZPI18N.getString("zp.engagement.report.scale.avgrating"),value:l?"".concat(l," / 5 (").concat(Ym(l/5*100,1),"%)"):"--",isDisabled:!s},{name:"star",className:"PI_star_line",label:ZPI18N.getString("zp.engagement.report.star.avgrating"),value:i,isDisabled:!u}];return Nb.createElement("div",{className:"zpl_dashcolone ".concat(t.type===Ee?"plsTwo equl":"plsThree")},Nb.createElement("div",{className:"zpl_dashcard"},Nb.createElement(NT,{title:ZPI18N.getString("zp.lms.averagerating")}),Nb.createElement("div",{className:"zpl_dashbody pulshgt245"},Nb.createElement("ul",{className:"zpl_plseQaLst plsQalstOv"},d.map(function(e,t){return Nb.createElement(VU,{key:t,scoreData:e})})))))},WU=function(e){var t=e.reportData,n=e.currentRecurrence,r=e.overview,a=e.participantStats,o=e.averageScore,i=e.questionReport;return Nb.createElement("div",{className:"zpl_dashwrpr"},Nb.createElement("div",{className:"zpl_dashrow"},Nb.createElement(BU,{reportData:t,currentRecurrence:n,participantStats:a}),t.type===Ie&&Nb.createElement(HU,{overview:r,participantStats:a}),Nb.createElement(YU,{reportData:t,questionReport:i,averageScore:o})))};function GU(e){return GU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GU(e)}function $U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function QU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$U(Object(n),!0).forEach(function(t){XU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$U(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function XU(e,t,n){return(t=function(e){var t=function(e){if("object"!=GU(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=GU(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==GU(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var KU=function(e){var t=e.surveyData,n=e.surveyReport,r=n.reports,a=void 0===r?{}:r,o=n.currentRecurrence,i=n.pulseReport,l=void 0===i?{}:i,c=n.average_score,u=n.question_report,s=n.single_question_response,d=void 0===s?{}:s,p=l.overview,f=l.participant_stats,m=a.completed_schedules,v=(d||{}).question_report||{},y=v.answer,g=v.employee_count,h=v.response_count,b=t.respondent_identity,_={employee_count:g,response_count:h,score:null==y?void 0:y.score,average_score:null==y?void 0:y.average_score,promoters:null==y?void 0:y.promoters,passives:null==y?void 0:y.passives,detractors:null==y?void 0:y.detractors,scale_score:null==y?void 0:y.scale_score,respondent_identity:b,completed_schedules:m};return t.response_count>0&&(0===Object.keys(a).length||0===Object.keys(t.type===Se?d:l).length)?Nb.createElement(aE,{height:500}):Nb.createElement("div",{id:"plsOverview"},t.type!==Se&&(null==a?void 0:a.completed_response)>0&&Object.keys(l).length>0&&Nb.createElement(WU,{reportData:a,questionReport:u,currentRecurrence:o,overview:p,participantStats:f,averageScore:c}),t.type===Se&&(null==a?void 0:a.completed_response)>0&&Nb.createElement(GT,{surveyData:t,reportData:_,currentRecurrence:o,isShowData:Az(h||0,t.respondent_identity)}),Nb.createElement(gF,{surveyId:a.survey_id,data:QU(QU({},t),{},{opening_time:a.opening_time?a.opening_time:t.opening_time,closing_time:a.closing_time?a.closing_time:t.closing_time})}))};function JU(e){return JU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JU(e)}function eH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eH(Object(n),!0).forEach(function(t){nH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nH(e,t,n){return(t=function(e){var t=function(e){if("object"!=JU(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=JU(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==JU(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var aH=function(){var e,t=Mb(function(e){return e.createSurvey}).surveyReport,n=t.respondedMeta,r=t.responded_users,a=t.reports,o=t.activeRepondent,i=t.user_report,l=t.currentRecurrence,c=t.appliedFilterData,u=Kb(),s=(r&&(null===(e=r[o])||void 0===e||e.erecno),function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rH(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rH(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(!1),2)),d=s[0],p=s[1];(0,Nb.useEffect)(function(){r&&n&&!d&&(u(Yi({responded_users:To(r,0),respondedMeta:tH(tH({},n),{},{new_response_count:xo(r,0,n.new_response_count)})})),p(!0))},[]);var f=(0,Nb.useCallback)(R(function(e){var t=AT(c);e&&(t.search_text=e),u(hi({surveyId:a.survey_id,recurrenceId:l,reportFilter:t,isSearch:!0}))},300),[u,a.survey_id,l]);return Nb.createElement("div",{className:"zpl_rndmQue-Cont"},!1===d&&Nb.createElement(aE,null),!0===d&&Nb.createElement(qF,{respondedMeta:n,respondedusers:r,activeRepondent:o,userReport:i,currentRecurrence:l,reports:a,onSearchrespondentHandler:f,getNextPageRespondentHandler:function(e,t){var n=AT(c);t&&(n.search_text=t),u(hi({surveyId:a.survey_id,recurrenceId:l,reportFilter:n,startIndex:e}))},updateActiveRespondent:function(e){e>=0&&e<(r||[]).length&&u(Yi({activeRepondent:e,responded_users:To(r,e),respondedMeta:tH(tH({},n),{},{new_response_count:xo(r,e,n.new_response_count)})}))}}))},oH=function(e){var t=e.cols;return Nb.createElement("thead",null,Nb.createElement("tr",null,t.map(function(e,t){var n=e.label,r=e.width,a=e.isBold,o=e.desc,i=e.photo;return Nb.createElement("th",{key:t,width:r},i?Nb.createElement("div",{className:"zpl_em"},Nb.createElement("div",{className:"zpl_emimg"},Nb.createElement("img",{src:i})),Nb.createElement("div",{className:"zpl_emdts"},a?Nb.createElement("span",{title:n},n):Nb.createElement(Nb.Fragment,null,n))):Nb.createElement(Nb.Fragment,null,a?Nb.createElement("span",{title:n},n):Nb.createElement(Nb.Fragment,null,n),o&&Nb.createElement("div",null,Nb.createElement("em",null,o))))})))},iH=function(e){var t=e.qno,n=e.question,r=e.metricName;return Nb.createElement(Nb.Fragment,null,t&&Nb.createElement("em",null,"".concat(t,".")),Nb.createElement("span",null,n,r&&Nb.createElement(HI,{label:r})))},lH=function(e){var t=e.question,n=e.metricName,r=e.averageScore,a=e.favorable,o=e.neutral,i=e.unfavourable,l=e.notanswered,c=e.isNotApplicable,u=e.onClickHandler,s=e.onClickEmotionHandler,d=e.employeeCount,p=e.responseCount;return Nb.createElement("tr",{"data-popup-open":"zpl_DtlRprt1",onClick:u},Nb.createElement("td",null,Nb.createElement(iH,{question:t,metricName:n})),Nb.createElement("td",null,d>0?p+" / "+d:0),Nb.createElement("td",{onClick:s},c?"--":Nb.createElement(OF,{favorable:{percentage:a},neutral:{percentage:o},unfavorable:{percentage:i},notanswered:{percentage:l},style:{margin:"zpl_mr3",height:"zpl_hgt10"},isToolTip:!0,onClickHandler:s})),Nb.createElement("td",null,"".concat(r===Kt?"--":r||0)))};function cH(e){return cH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cH(e)}function uH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uH(Object(n),!0).forEach(function(t){dH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dH(e,t,n){return(t=function(e){var t=function(e){if("object"!=cH(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=cH(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==cH(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pH=function(e){var t=e.reportData,n=e.questionObj,r=e.surveyReport,a=e.isMetricWise,o=n.question_id,i=n.question,l=n.metric_name,c=n.response_count,u=n.average_score,s=n.response_distribution,d=s.positive,p=s.neutral,f=s.negative,m=r.pulseReport,v=(void 0===m?{}:m).participant_stats,y=parseInt(v.employee_count)||0,g=r.question_report,h=mo(n);(g||[]).filter(function(e){return e.question_id===o}).map(function(e){h=sH(sH({},h),e)});var b=Kb(),_=d/y*100,E=p/y*100,S=f/y*100,w=(y-c)/y*100;return Nb.createElement(lH,{question:i,metricName:a?"":l,favorable:_,neutral:E,unfavourable:S,notanswered:w,isNotApplicable:s===Kt,averageScore:u,onClickHandler:function(e){e.stopPropagation(),b(io({render:!0,viewType:Po.DETAILED_REPORT,headerName:t.survey_name,data:{question:h,reportData:t}}))},onClickEmotionHandler:function(e,n){e.stopPropagation(),n!=Jt&&b(io({render:!0,viewType:Po.EMOTION_DETAILED_REPORT,headerName:t.survey_name,data:{question:h,reportData:t,filter:{sentiment:n}}}))},employeeCount:y,responseCount:c})},fH=function(e){var t=e.label,n=e.color,r=e.count;return Nb.createElement("tr",{className:"zpl_plsetblHdr"},Nb.createElement("td",{colSpan:"3",className:"".concat(n)},Nb.createElement("span",null,Nb.createElement("b",null,t)),Nb.createElement("em",null,r)))},mH=function(e){var t=e.reportData,n=e.metricQList,r=e.metricName,a=e.surveyReport;return Nb.createElement(Nb.Fragment,null,(null==n?void 0:n.length)>0&&Nb.createElement(fH,{label:r,color:"grybg4",count:null==n?void 0:n.length}),(n||[]).map(function(e,n){return Nb.createElement(pH,{key:n,reportData:t,questionObj:e,surveyReport:a,isMetricWise:!0})}))},vH=function(e){var t=e.reportData,n=e.emotionQList,r=e.emotion,a=e.surveyReport,o=pn[r];if(!o)return Nb.createElement(Nb.Fragment,null);var i=o.label,l=o.color;return Nb.createElement(Nb.Fragment,null,(null==n?void 0:n.length)>0&&Nb.createElement(fH,{label:i,color:l,count:null==n?void 0:n.length}),(n||[]).map(function(e,n){return Nb.createElement(pH,{key:n,reportData:t,questionObj:e,surveyReport:a})}))},yH=function(e){var t=e.reportData,n=e.questionOverview,r=e.activeFilter,a=e.surveyReport,o=function(){switch(r){case 1:return[Xt,Qt,$t];case 2:return[$t,Qt,Xt];case 4:return Object.keys(n)}},i=function(e){switch(e){case 1:case 2:case 4:return o();default:return n}}(r);return Nb.createElement("tbody",null,(i||[]).map(function(e,o){return Nb.createElement(Nb.Fragment,{key:"table-column-".concat(o)},function(){if(1===r||2===r){var l,c=i[o],u=null===(l=n[c])||void 0===l?void 0:l.sort(function(e,t){return 1===r?e.average_score-t.average_score:2===r?t.average_score-e.average_score:0});return Nb.createElement(vH,{key:o,reportData:t,emotionQList:u,emotion:c,surveyReport:a})}if(4===r){var s=i[o],d=n[s];return Nb.createElement(mH,{key:o,reportData:t,surveyReport:a,metricQList:d,metricName:s})}return Nb.createElement(pH,{key:o,reportData:t,questionObj:e,surveyReport:a})}())}))},gH=function(e){var t=e.surveyReport,n=e.activeFilter,r=e.questOverviewList,a=t.reports;return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zpl_tblres"},Nb.createElement("table",{className:"zpl_tbl wd100_per"},Nb.createElement(oH,{cols:[{label:ZPI18N.getString("zp.questions"),width:""},{label:ZPI18N.getString("zp.survey.report.response_count"),width:"150"},{label:ZPI18N.getString("zp.lite.distributionReport"),width:"350"},{label:ZPI18N.getString("zp.score"),width:"150"}]}),Nb.createElement(yH,{reportData:a,questionOverview:r,activeFilter:n,surveyReport:t}))))},hH=function(e){var t=e.questOverviewList,n=(0,Nb.useRef)(null),r=function(e){return[Jn.TWO_POINT_SCALE.TYPE_STR,Jn.NPS.TYPE_STR,Jn.STAR.TYPE_STR,Jn.RATING_SCALE.TYPE_STR].includes(e)},a=t.some(function(e){return r(e.type)});return(0,Nb.useEffect)(function(){var e=[],o=[];(t||[]).forEach(function(t,n){if(r(t.type)){var a=t.response_count,i=t.average_score,l=t.response_sentiment,c=t.response_distribution,u=c.positive,s=c.neutral,d=c.negative,p=Ym(u/a*100),f=Ym(s/a*100),m=Ym(d/a*100),v="".concat(ZPI18N.getString("zp.question")," ").concat(n+1),y=[{name:cv($t),y:p,color:At[$t]},{name:cv(Qt),y:f,color:At[Qt]},{name:cv(Xt),y:m,color:At[Xt]}];e.push({name:v,y:i,drilldown:v,color:wn[l]}),o.push({name:v,id:v,colorByPoint:!0,data:y})}}),a&&function(e,t,n){var r=t.label,a=t.seriesList,o=n.label,i=n.drilldownSeriesList,l=n.isDataAsPercentage;e.style.height="320px",Highcharts.chart(e,{chart:{type:"column"},title:{text:""},credits:{enabled:!1},exporting:{enabled:!1},accessibility:{announceNewData:{enabled:!0}},xAxis:{type:"category"},yAxis:{title:{text:o}},legend:{enabled:!1},plotOptions:{series:{borderWidth:0,dataLabels:{enabled:!0,format:"{point.y}"}}},tooltip:{formatter:function(){var e=this.point,t=e.y;return e.drilldown||(t+="%"),"<b>".concat(lv(e.name||e.category),"</b>: ").concat(t)}},series:[{name:r,colorByPoint:!0,borderWidth:0,data:a}],drilldown:{breadcrumbs:{position:{align:"right"}},series:i.map(function(e){return Bz(Bz({},e),{},{dataLabels:{enabled:!0,format:"{point.y} ".concat(l?"%":"")}})})}})}(n.current,{label:ZPI18N.getString("zp.questions"),seriesList:e},{label:ZPI18N.getString("zp.score"),drilldownLabel:ZPI18N.getString("zp.survey.report.response_rate"),drilldownSeriesList:o,isDataAsPercentage:!0})},[]),a?Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zpl_annE_brdrCnt",ref:n}))):Nb.createElement("div",{className:"zpl_rprtCrdCnt"},Nb.createElement("div",{className:"zpl_Emptydata"},Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_emptimg zp_nd_template"}),Nb.createElement("p",null,ZPI18N.getString("zp.survey.report.nodata.nonrating.questions.info")))))},bH=function(e){var t=e.type;return Nb.createElement("div",{className:"zpl_flexgap9 zpl_flex-wrap"},Nb.createElement("div",{className:"d-flexclmcap8 a-itm-cntr"},Nb.createElement("span",{className:"zpl_lbdr _bx plse_grn"}),Nb.createElement("em",null,ZPI18N.getString("zp.survey.favorable"))),Nb.createElement("div",{className:"d-flexclmcap8 a-itm-cntr"},Nb.createElement("span",{className:"zpl_lbdr _bx plse_ylw"}),Nb.createElement("em",null,ZPI18N.getString("zp.neutral"))),Nb.createElement("div",{className:"d-flexclmcap8 a-itm-cntr"},Nb.createElement("span",{className:"zpl_lbdr _bx plse_red"}),Nb.createElement("em",null,ZPI18N.getString("zp.survey.unfavorable"))),Nb.createElement("div",{className:"d-flexclmcap8 a-itm-cntr"},Nb.createElement("span",{className:"zpl_lbdr _bx plse_gry"}),Nb.createElement("em",null,ZPI18N.getString("zp.unasnwered"))),t===Ee&&Nb.createElement("div",{className:"d-flexclmcap8 a-itm-cntr"},Nb.createElement("span",null,"--"),Nb.createElement("em",null,ZPI18N.getString("zp.survey.report.nonrating.questions")),Nb.createElement("i",{className:"PI_info org",title:ZPI18N.getString("zp.survey.report.nonrating.nonrating.questions.info")})))},_H=function(e){var t=e.surveyReport,n=e.questOverviewList,r=e.activeFilter,a=e.hasRatingQuestions,o=e.question_overview,i=e.currentRecurrence,l=e.pulseReport,c=e.activeGraph,u=e.setActiveGraph,s=t.reports,d=[{class:"PI_hor_chart",mode:"h-chart",callback:function(){return u("h-chart")}},{class:"PI_vert_chart zpl_drpdwn-js",mode:"v-chart",callback:function(){return u("v-chart")}}];return(0,Nb.useEffect)(function(){u(d[0].mode)},[i,l]),3!==r&&(0===r||4===r||a?Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zpl_flex-center zpl_justify-between"},Nb.createElement(bH,{type:s.type}),d&&0===r&&Nb.createElement("div",{className:"grpbtn"},d.map(function(e,t){return Nb.createElement("i",{className:"".concat(e.class," ").concat(c===e.mode?"zpl_act":""),onClick:e.callback,key:t})})))),"h-chart"===c&&Nb.createElement(gH,{surveyReport:t,questOverviewList:n,activeFilter:r,hasRatingQuestions:a}),"v-chart"===c&&Nb.createElement(hH,{questOverviewList:o})):Nb.createElement("div",{className:"zpl_rprtCrdCnt"},Nb.createElement("div",{className:"zpl_Emptydata"},Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_emptimg zp_nd_template"}),Nb.createElement("p",null,ZPI18N.getString("zp.survey.report.nodata.nonrating.questions.info"))))))};function EH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return SH(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SH(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var wH=function(e){var t=e.surveyReport,n=t.reports,r=t.pulseReport,a=void 0===r?{}:r,o=t.currentRecurrence,i=t.question_report,l=void 0===i?[]:i,c=t.activeQuestionNumber,u=a.questions,s=void 0===u?{}:u;if(a.participant_stats,0===Object.keys(a).length||null==l)return Nb.createElement(aE,null);var d=[{class:"PI_hor_chart",mode:"h-chart",callback:function(){return w("h-chart")}},{class:"PI_vert_chart zpl_drpdwn-js",mode:"v-chart",callback:function(){return w("v-chart")}}],p=[{value:0,label:ZPI18N.getString("zp.assessment.allquestions")},{value:1,label:ZPI18N.getString("zp.survey.report.score.least_to_most")},{value:2,label:ZPI18N.getString("zp.survey.report.score.most_to_least")},{value:3,label:ZPI18N.getString("zp.survey.report.distribution.wise")}];s.filter(function(e){return e.metric_name}).length>0&&p.push({value:4,label:ZPI18N.getString("zp.survey.report.metricwise")});var f=s.some(function(e){return function(e){return[Jn.TWO_POINT_SCALE.TYPE_STR,Jn.NPS.TYPE_STR,Jn.STAR.TYPE_STR,Jn.RATING_SCALE.TYPE_STR].includes(e)}(e.type)}),m=-1===c?l:[l[c-1]],v=EH((0,Nb.useState)(f?p[0].value:p[3].value),2),y=v[0],g=v[1],h=EH((0,Nb.useState)(s),2),b=h[0],_=h[1],E=EH((0,Nb.useState)(d[0].mode),2),S=E[0],w=E[1];(0,Nb.useEffect)(function(){g(f?p[0].value:p[3].value),_(s)},[o,a]);var N=function(e){return s.reduce(function(t,n){return void 0!==n[e]&&""!==n[e]&&(t[n[e]]||(t[n[e]]=[]),t[n[e]].push(n)),t},{})},P=function(e,t){return t>0?Nb.createElement("div",{className:"zpl_crd wd100_per"},e):e},O=function(e,t,r){return e===Jn.NPS.TYPE_STR?P(Nb.createElement(nC,{key:t.question_id,question:t,reportData:n}),r):e===Jn.STAR.TYPE_STR?P(Nb.createElement(aC,{key:t.question_id,question:t,reportData:n}),r):e===Jn.COMMENT.TYPE_STR?P(Nb.createElement(bC,{key:t.question_id,question:t,reportData:n}),r):e===Jn.SINGLE_CHOICE.TYPE_STR||e===Jn.MULTIPLE_CHOICE.TYPE_STR?P(Nb.createElement(lT,{key:t.question_id,question:t,reportData:n}),r):e===Jn.DATE.TYPE_STR?P(Nb.createElement(dT,{key:t.question_id,question:t,reportData:n}),r):e===Jn.RATING_SCALE.TYPE_STR||e===Jn.TWO_POINT_SCALE.TYPE_STR?P(Nb.createElement(mT,{key:t.question_id,question:t,reportData:n}),r):void 0};return Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_annE_cnt"},Nb.createElement("div",{className:"zpl_crd wd100_per"},Nb.createElement("div",{className:"zpl_crdhdr"},Nb.createElement("div",{className:"zpl_catlst zpl_pa0"},Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_annE_que"},Nb.createElement(hN,{title:ZPI18N.getString("zp.survey.report.question.performance")}))),Nb.createElement("div",{className:"zpl_annE_actn"},Nb.createElement(MS,{options:p,value:p.filter(function(e){return e.value===y}),onChange:function(e){return t=e.value,g(t),w(d[0].mode),void _(1===t||2===t?N("response_sentiment"):4===t?N("metric_name"):s);var t},style:{width:"200px"}})))),Nb.createElement(_H,{surveyReport:t,questOverviewList:b,activeFilter:y,hasRatingQuestions:f,question_overview:s,currentRecurrence:o,pulseReport:a,activeGraph:S,setActiveGraph:w}),3===y&&"h-chart"===S&&Nb.createElement(Nb.Fragment,null,Nb.createElement(yT,{questionReport:l,activeQuestionNumber:c}),m.map(function(e,t){var n=e.type;if(!(t>0))return O(n,e,t)}))),3===y&&"h-chart"===S&&Nb.createElement(Nb.Fragment,null,m.map(function(e,t){var n=e.type;if(0!=t)return O(n,e,t)}))))},NH=function(e){var t=e.surveyReport;return Nb.createElement(wH,{surveyReport:t})};function PH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var OH=function(e){var t=e.reportData,n=e.isTabActive,r=e.onClickTab,a=e.entityFilter,o=e.onChangeEntityFilter,i=e.sortFilter,l=e.onChangeSortFilter,c=e.hasDelta,u=[{name:fn,label:ZPI18N.getString("zp.survey.report.actual"),className:"PI_percent"}];t.is_repeat&&c&&u.push({name:mn,label:ZPI18N.getString("zp.survey.report.delta"),className:"PI_delta"});var s,d=function(e){if(Array.isArray(e))return PH(e)}(s=hn)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||function(e,t){if(e){if("string"==typeof e)return PH(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?PH(e,t):void 0}}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return vv()&&!d.some(function(e){return"manager"===e.value})&&d.push({label:ZPI18N.getString("zp.reportingmanagers"),value:"manager"}),Nb.createElement("div",{className:"zpl_crdhdr"},Nb.createElement("div",{className:"zpl_catlst zpl_pa0"},Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_annE_que"},Nb.createElement(nF,{title:ZPI18N.getString("zp.survey.report.heatmap")}))),Nb.createElement("div",{className:"zpl_annE_actn"},u&&2==u.length&&Nb.createElement("ul",{className:"zpl_grpmnu"},(u||[]).map(function(e,t){var a=e.name,o=e.label,i=e.className;return Nb.createElement("li",{key:t,className:"zpl_flex-a-c ".concat(n===a?"zpl_act":""),onClick:r(a)},Nb.createElement("i",{className:i}),o)})),Nb.createElement(MS,{options:d,onChange:function(e){return o(e.value)},value:d.filter(function(e){return e.value===a}),style:{maxWidth:"250px"}}),Nb.createElement(MS,{options:bn,onChange:function(e){return l(e.value)},value:bn.filter(function(e){return e.value===i}),style:{maxWidth:"200px"}}))))},IH=function(e){var t=e.value,n=e.color,r=e.symbel,a=e.onClickHandler;return Nb.createElement("td",{className:n,onClick:a},r&&Nb.createElement("i",{className:r}),Nb.createElement("b",null,t))},zH=function(e){var t=e.data,n=void 0===t?[]:t,r=function(e){switch(e){case"red":return"zpl_redBg";case"green":return"zpl_grnBg";case"yellow":return"zpl_ylwBg";default:return""}};return Nb.createElement(Nb.Fragment,null,n.map(function(e,t){var n=e.value,a=e.color,o=e.delta,i=e.onClickHandler;return Nb.createElement(IH,{key:t,value:n,color:r(a),symbel:o,onClickHandler:i})}))},CH=function(e){var t=e.title,n=e.isExpandable,r=e.isExtended,a=e.onExtendCallback;return Nb.createElement("td",{onClick:n?a:void 0},n?Nb.createElement("span",{className:"d-flexC flexclmcap"},Nb.createElement("i",{className:"PI_argt ".concat(r?"expnd":"")}),Nb.createElement("span",null,t)):Nb.createElement("span",null,t))};function TH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var xH=Nb.forwardRef(function(e,t){var n=e.title,r=e.data,a=e.isExpandable,o=e.expandableData,i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return TH(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TH(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(!1),2),l=i[0],c=i[1],u=Nb.useRef();return(0,Nb.useEffect)(function(){var e;null===(e=u.current)||void 0===e||e.setAttribute("style","border: none !important")},[l]),Nb.createElement(Nb.Fragment,null,Nb.createElement("tr",{className:"".concat(l?"zpl_disabl":"")},Nb.createElement(CH,{title:n,isExpandable:a,isExtended:l,onExtendCallback:function(){c(!l)}}),Nb.createElement(zH,{data:r})),l&&Nb.createElement("tr",{className:"zpl_tblaccrdinlst"},Nb.createElement("td",{ref:t,colSpan:"15",className:"zpl_pr2"},Nb.createElement("div",null,Nb.createElement(jH,{className:"zpl_w-100",rows:o.rows,matrics:o.matrics})))))});function kH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var DH=function(e){var t=e.rows,n=e.matrics,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kH(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kH(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(null),2),a=r[0];return r[1],Nb.createElement("tbody",null,(t||[]).map(function(e,t){var r=e.label,o=e.isExpandable,i=e.expandData,l=(0,Nb.useRef)();(0,Nb.useEffect)(function(){var e;null===(e=l.current)||void 0===e||e.setAttribute("style","border: none !important")},[a]);var c=null!=a&&!isExtended;return Nb.createElement(xH,{key:t,title:r,data:n[t],isExpandable:o,expandableData:o?i:null,isShowDisabled:c,ref:l})}))},jH=Nb.forwardRef(function(e,t){var n=e.cols,r=e.rows,a=e.matrics,o=e.className;return Nb.createElement("table",{className:o},n&&Nb.createElement(oH,{cols:n}),r&&Nb.createElement(DH,{rows:r,matrics:a}))});function AH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var RH=function(e){var t=e.cols,n=e.rows,r=e.matrics,a=(0,Nb.useRef)(null),o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return AH(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?AH(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)({left:!1,right:t&&t.length>10}),2),i=o[0],l=o[1];(0,Nb.useEffect)(function(){var e=a.current,t=function(){if(e){var t=0===e.scrollLeft,n=e.scrollLeft+e.clientWidth>=e.scrollWidth;l({left:!t,right:!n})}};return e&&e.addEventListener("scroll",t),function(){e&&e.removeEventListener("scroll",t)}},[t]);var c=function(e){var t=a.current;t&&t.scrollWidth>t.clientWidth&&("prev"===e?(t.scrollLeft-=t.clientWidth,t.style.scrollBehavior="smooth"):"next"===e&&(t.scrollLeft+=t.clientWidth,t.style.scrollBehavior="smooth"))};return Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zpl_lvelstprnt"},Nb.createElement("div",{className:"zpl_heatmaptbl",ref:a},Nb.createElement(jH,{cols:t,rows:n,matrics:r,className:"zpl_tbl zpl_tblaccrdin zpl_w-100"})),i.left&&Nb.createElement("div",{className:"zpl_lvcrdlft"},Nb.createElement("a",{className:"clsArw",onClick:function(){return c("prev")}},Nb.createElement("i",{className:"PI_alft"}))),i.right&&Nb.createElement("div",{className:"zpl_lvcrdlft rgt"},Nb.createElement("a",{className:"clsArw",onClick:function(){return c("next")}},Nb.createElement("i",{className:"PI_argt"}))))))};function qH(e){return qH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qH(e)}function MH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ZH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MH(Object(n),!0).forEach(function(t){LH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function LH(e,t,n){return(t=function(e){var t=function(e){if("object"!=qH(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=qH(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qH(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||BH(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BH(e,t){if(e){if("string"==typeof e)return UH(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?UH(e,t):void 0}}function UH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var HH=function(e){var t=e.surveyReport,n=e.reportData,r=e.userView,a=e.setUserView,o=t.heatMap,i=void 0===o?{}:o,l=t.currentRecurrence,c=t.appliedFilterData,u=n.survey_id,s=n.metric_type,d=i.isHeatMapRequestProcess,p=i.heat_map,f=i.has_delta,m=Kb(),v=FH((0,Nb.useState)(fn),2),y=v[0],g=v[1],h=FH((0,Nb.useState)(bn[0].value),2),b=h[0],_=h[1],E=FH((0,Nb.useState)(null),2),S=E[0],w=E[1];(0,Nb.useEffect)(function(){!i.heat_map&&P(u,l,r.heatMap)},[p]),(0,Nb.useEffect)(function(){if(!d&&p&&0!=Object.keys(p).length){var e=function(e,t,n,r,a,o,i){var l=t.metrics;return[gn].includes(i)&&l.length>0?function(e,t,n,r,a,o){var i,l=t.heat_map,c=t.metrics,u=t.questions,s=(i="metric_id",u.reduce(function(e,t){return e[t[i]]||(e[t[i]]=[]),e[t[i]].push(t),e},{})),d=(a||{}).entity,p=[],f=[],m=[],v=[],y=function(e,t,n){var r=new Set(null==n?void 0:n.map(function(e){return e.value}));return null!=n?e.filter(function(e){return r.has(e[t])}):e};return(l||[]).forEach(function(t,a){var i=t.departments,l=t.locations,u=t.designations,g=t.managers,h=CT(n),b=TT(h),_=xT(n),E=function(e,t,n){switch(e){case Zt:return y(i,t,n);case Mt:return y(l,t,n);case Lt:return y(u,t,n);case at:return y(g,t,n);default:return[]}}(n,h,d),S=E.map(function(e){return e[h]}),w="";E.forEach(function(e,t){E.length>1&&E.length-1===t?w+=" & "+e[_]:w+=0===t?e[_]:", "+e[_]}),p.push({label:w,value:E[0][h],photo:n===at&&1===E.length?E[0].photo:null,isBold:!0}),(Object.keys(s)||[]).forEach(function(n,i){var l,c=[],u=(null===(l=v[n])||void 0===l?void 0:l.matrics)||[];s[n].forEach(function(n,i){var l=n.question_id,s=n.question,d=t.question_score[l].score,p=t.question_score[l].delta,f=t.question_score[l].response_sentiment;c.push({label:s}),u[i]=u[i]||[],u[i][a]={value:kT(d,r),color:jT(f),delta:o?DT(0,p):null,onClickHandler:function(){fm.dispatch(io({render:!0,viewType:Po.EMOTION_DETAILED_REPORT,headerName:e.survey_name,data:{question:n,reportData:e,filter:zT({},b,S)}}))}}}),v[n]={rows:c,matrics:u}}),(c||[]).forEach(function(n,i){var l=n.metric_id,c=n.name;f[i]=f[i]||[],f[i][a]={value:kT(t.metric_score[l].score,r),color:jT(t.metric_score[l].response_sentiment),delta:o?DT(t.metric_score[l].score,t.metric_score[l].delta):null,onClickHandler:function(){fm.dispatch(io({render:!0,viewType:Po.EMOTION_DETAILED_REPORT,headerName:e.survey_name,data:{reportData:e,filter:zT({metric_id:l},b,S)}}))}},0==a&&m.push({label:c,isExpandable:!!v[l],expandData:v[l]})})}),{cols:p,matrics:f,rows:m}}(e,t,n,r,null,o):function(e,t,n,r,a,o){var i=t.heat_map,l=t.questions,c=(a||{}).entity,u=[],s=[],d=[],p=function(e,t,n){var r=new Set(null==n?void 0:n.map(function(e){return e.value}));return null!=n?e.filter(function(e){return r.has(e[t])}):e};return(i||[]).forEach(function(t,a){var i=t.departments,f=t.locations,m=t.designations,v=t.managers,y=CT(n),g=TT(y),h=xT(n),b=function(e,t,n){switch(e){case Zt:return p(i,t,n);case Mt:return p(f,t,n);case Lt:return p(m,t,n);case at:return p(v,t,n);default:return[]}}(n,y,c),_=b.map(function(e){return e[y]}),E="";b.forEach(function(e,t){b.length>1&&b.length-1===t?E+=" & "+e[h]:E+=0===t?e[h]:", "+e[h]}),u.push({label:E,value:b[0][y],photo:n===at&&1===b.length?b[0].photo:null,isBold:!0}),(l||[]).forEach(function(n,i){var l=n.question_id;s[i]=s[i]||[],s[i][a]={value:kT(t.question_score[l].score,r),color:jT(t.question_score[l].response_sentiment),delta:o?DT(t.question_score[l].score,t.question_score[l].delta):null,onClickHandler:function(){fm.dispatch(io({render:!0,viewType:Po.EMOTION_DETAILED_REPORT,headerName:e.survey_name,data:{question:n,reportData:e,filter:zT({},g,_)}}))}},0==a&&d.push({label:n.question})})}),{cols:u,matrics:s,rows:d}}(e,t,n,r,null,o)}(n,i,r.heatMap,b,0,y===mn,s);w(e)}},[p,b,y]);var N,P=function(e,t,n){m(Yi({heatMap:ZH(ZH({},i),{},{isHeatMapRequestProcess:!0})})),m(Ei({surveyId:e,recurrenceId:t,filter:n,reportFilter:AT(c)})).then(function(e){if("rejected"===e.meta.requestStatus){var t,n=null!==(t=e.payload)&&void 0!==t&&null!==(t=t.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.message?e.payload.response.data.message:ZPI18N.getString("zp.unabletoprocess");B({text:n,duration:3e3}).showError()}})};return Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_annE_cnt"},Nb.createElement("div",{className:"zpl_crd zpl_w-100"},Nb.createElement(OH,{reportData:n,isTabActive:y,onClickTab:function(e){return function(){g(e)}},entityFilter:r.heatMap,onChangeEntityFilter:function(e){a(function(t){return ZH(ZH({},t),{},{heatMap:e})}),P(u,l,e)},sortFilter:b,onChangeSortFilter:function(e){_(e)},hasDelta:f}),d?Nb.createElement("div",null,Nb.createElement(aE,{height:350})):p&&0!==Object.keys(p).length&&0!==(null==S?void 0:S.cols.length)?(null==S?void 0:S.cols.length)>0?Nb.createElement(RH,{cols:[{label:""}].concat((N=S.cols,function(e){if(Array.isArray(e))return UH(e)}(N)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(N)||BH(N)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),rows:S.rows,matrics:S.matrics}):void 0:Nb.createElement(DF,{message:ZPI18N.getString("zp.survey.no.applicable.report.stat")}))))},VH=function(e){var t=e.surveyReport,n=e.userView,r=e.setUserView,a=t.reports;return Nb.createElement(HH,{surveyReport:t,reportData:a,userView:n,setUserView:r})};function YH(e){return YH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YH(e)}function WH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function GH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WH(Object(n),!0).forEach(function(t){$H(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $H(e,t,n){return(t=function(e){var t=function(e){if("object"!=YH(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=YH(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==YH(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QH=function(e){var t=e.surveyData,n=e.surveyReport,r=n.reports,a=n.single_question_response,o=r.type,i=r.completed_schedules,l=a||{},c=l.comment_report,u=l.question_report,s=l.highlights,d=l.employee_count,p=l.response_count,f=u.answer,m=(c.comments,t.respondent_identity),v={employee_count:d,response_count:p,score:null==f?void 0:f.score,average_score:null==f?void 0:f.average_score,promoters:null==f?void 0:f.promoters,passives:null==f?void 0:f.passives,detractors:null==f?void 0:f.detractors,scale_score:null==f?void 0:f.scale_score,respondent_identity:m,completed_schedules:i};return Nb.createElement(Nb.Fragment,null,Nb.createElement("div",{className:"zpl_dashrow"},Nb.createElement(QT,{promoters:v.promoters,passives:v.passives,detractors:v.detractors,response_count:v.response_count}),Nb.createElement(KT,{surveyReport:{reports:v}})),s&&Object.keys(s).length>0&&Nb.createElement(JT,{reports:{type:o},highlights:s,isDetailedReport:!0,isEmotion:!0}),Nb.createElement(ax,{reportData:GH(GH({},a),{},{employee_count:d,response_count:p})}),Nb.createElement(cx,{surveyData:t,reportData:r}))};function XH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||KH(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KH(e,t){if(e){if("string"==typeof e)return JH(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?JH(e,t):void 0}}function JH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eV=function(e){var t,n=e.surveyData,r=e.surveyReport,a=r.metricanalysis,o=r.metrics,i=r.reports,l=void 0===i?{}:i,c=r.activeMetric,u=r.currentRecurrence,s=r.metricFilter,d=r.pulseReport,p=void 0===d?{}:d,f=r.respondedMeta,m=r.appliedFilterData,v=l.completed_response,y=!1,g=function(e){if(Array.isArray(e))return JH(e)}(t=hn)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||KH(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();vv()&&!g.some(function(e){return"manager"===e.value})&&g.push({label:ZPI18N.getString("zp.reportingmanagers"),value:"manager"});var h=XH((0,Nb.useState)({heatMap:g[0].value}),2),b=h[0],_=h[1];if(n.metric_type===gn)y=n.metric_groups.length>0;else{var E,S=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=KH(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(i)throw a}}}}(n.questions||[]);try{for(S.s();!(E=S.n()).done;)if(E.value.metric_id){y=!0;break}}catch(e){S.e(e)}finally{S.f()}}var w,N,P=((N=[]).push({label:ZPI18N.getString("zp.tab.overview"),value:"overview"}),v>1&&(n.type!==Ee&&N.push({label:ZPI18N.getString("zp.survey.report.heatmap"),value:"heatmap"}),n.type!==Se&&N.push({label:ZPI18N.getString("zp.engagement.report.qsummary"),value:"question-summary"})),v>=1&&N.push({label:ZPI18N.getString("zp.engagement.report.respondentinfo"),value:"user-reports",count:null==f?void 0:f.new_response_count}),n.type!==Se&&v>1&&(y||(null===(w=l.department_report)||void 0===w?void 0:w.length)>0)&&N.push({label:ZPI18N.getString("zp.engagement.report.analysis.trend"),value:"insights"}),n.type===Se&&v>1&&N.push({label:ZPI18N.getString("zp.engagement.report.analysis.trend"),value:"rating-distribution"}),N),O=XH((0,Nb.useState)(P[0].value),2),I=O[0],z=O[1];return Nb.createElement(Nb.Fragment,null,Nb.createElement(ZT,{activeTab:I,setActiveTab:z,reportTabs:P}),Nb.createElement("div",{className:"zpl_tabcnt"},"overview"===I?Nb.createElement(KU,{surveyData:n,surveyReport:r}):"question-summary"===I?Nb.createElement(NH,{surveyReport:r}):"user-reports"===I?Nb.createElement(aH,null):"heatmap"===I?Nb.createElement(VH,{surveyReport:r,userView:b,setUserView:_}):"insights"===I?Nb.createElement("div",null,Nb.createElement(MT,{metricAnalysis:a,metrics:o,reports:l,activeMetric:c,currentRecurrence:u,metricFilter:s,pulseReport:p,surveyHasMetrics:y,appliedFilterData:m,className:"zpl_annE_cnt"})):"rating-distribution"===I?Nb.createElement(QH,{surveyData:n,surveyReport:r}):void 0))},tV=function(e){var t,n=e.reportData||{},r=n.employee_count,a=n.completed_response,o=Ym(a/r*100)||0,i=0==(t=o)?{message:ZPI18N.getString("zp.survey.report.progress.noresponse"),className:"pulsbg_01"}:50==t?{message:ZPI18N.getString("zp.survey.report.progress.halfway"),className:"pulsbg_03"}:50<t&&t<=80?{message:ZPI18N.getString("zp.survey.report.progress.greatprogress"),className:"pulsbg_02"}:100==t?{message:ZPI18N.getString("zp.survey.report.progress.completed"),className:"pulsbg_04"}:"";return Nb.createElement(Nb.Fragment,null,function(e){return 0==e||50==e||100==e||50<e&&e<80}(o)&&Nb.createElement("div",{className:"zpl_asmnt-hdr zpl_pulsbg ".concat(i.className)},Nb.createElement("div",{className:"asmnt_cont zpl_flex-a-c"},Nb.createElement("div",{className:"zpl_items-center"},Nb.createElement("div",{className:"zpl_pt0"},Nb.createElement("div",{className:"zpl_flex-a-c zpl_gap-3"},Nb.createElement("h5",null,ZPI18N.getString("zp.survey.report.progress.update"))),Nb.createElement("div",{className:"zpl_pt1 zpl_flex-a-c"},Nb.createElement("p",null,i.message)))))))};function nV(e){return nV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nV(e)}function rV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rV(Object(n),!0).forEach(function(t){oV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oV(e,t,n){return(t=function(e){var t=function(e){if("object"!=nV(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=nV(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nV(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lV(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lV(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var cV=function(e){var t=e.surveyId,n=e.item,r=e.entityData,a=n.key,o=n.label,i=n.valueObj,l=n.loadOptionsCallback,c=n.onSelectHandler,u=n.searchable,s=n.isMultiSelect,d=i.value,p=i.remainingCount,f=r.default,m=Kb(),v=(0,Nb.useRef)(null),y=iV((0,Nb.useState)(!1),2),g=y[0],h=y[1],b=iV((0,Nb.useState)([]),2),_=b[0],E=b[1],S=iV((0,Nb.useState)(!0),2),w=S[0],N=S[1];(0,Nb.useEffect)(function(){f&&f.data&&(f.data.length>0?E((f.data||[]).map(function(e){return aV(aV({},e),{},{callback:c})})):E([{key:"no_results",label:ZPI18N.getString("zp.noresults"),callback:function(){return h(!1)}}]),N(f.hasMore))},[r]);var P=function(e,n){m(l({surveyId:t,pno:e,searchTxt:n}))};return Nb.createElement(Nb.Fragment,null,Nb.createElement("li",{key:a,ref:v,onClick:function(){return h(!g)}},Nb.createElement("label",null,o,d?": ":""),Nb.createElement("span",null,d),p>0&&Nb.createElement("sub",{className:"zpl_drpdwn-js","data-menu-id":"zplfltrvwmre"},"+",p)),g&&Nb.createElement(FO,{anchorEleRef:v.current,options:_,open:g,setIsOpen:h,useOffsetLeft:!1,isMultiSelect:s,hasMore:w,loadOptions:P,enableSearch:u,searchPlaceholder:ZPI18N.getString("zp.searching"),onSearch:P}))};function uV(e){return uV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uV(e)}function sV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sV(Object(n),!0).forEach(function(t){pV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pV(e,t,n){return(t=function(e){var t=function(e){if("object"!=uV(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=uV(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==uV(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fV(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return mV(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(mV(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,mV(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,mV(d,"constructor",u),mV(u,"constructor",c),c.displayName="GeneratorFunction",mV(u,a,"GeneratorFunction"),mV(d),mV(d,a,"Generator"),mV(d,r,function(){return this}),mV(d,"toString",function(){return"[object Generator]"}),(fV=function(){return{w:o,m:p}})()}function mV(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}mV=function(e,t,n,r){function o(t,n){mV(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},mV(e,t,n,r)}function vV(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function yV(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){vV(o,r,a,i,l,"next",e)}function l(e){vV(o,r,a,i,l,"throw",e)}i(void 0)})}}function gV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return hV(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hV(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var bV=function(e){var t=e.surveyId,n=e.showFilter,r=e.filterData,a=e.appliedFilterData,o=e.onFilterApplyHandler,i=e.isLoadFilterDropDownRequest,l=e.setIsLoadFilterDropDownRequest,c=Kb(),u=gV((0,Nb.useState)(!1),2),s=u[0],d=u[1],p=gV((0,Nb.useState)({apply:!1,reset:!1}),2),f=p[0],m=p[1],v=[{label:ZPI18N.getString("zp.department"),key:"department",loadOptionsCallback:ki,searchable:!0,isMultiSelect:!0},{label:ZPI18N.getString("zp.location"),key:"location",loadOptionsCallback:Di,searchable:!0,isMultiSelect:!0},{label:ZPI18N.getString("zp.designation"),key:"designation",loadOptionsCallback:ji,searchable:!0,isMultiSelect:!0},{label:ZPI18N.getString("zp.reportingmanager"),key:"reporting_manager",loadOptionsCallback:Ai,searchable:!0,isMultiSelect:!0}];(0,Nb.useEffect)(function(){var e=function(){var e=yV(fV().m(function e(){var n,a,o;return fV().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!(r.department.default.data&&0===r.department.default.data.length||i)){e.n=5;break}return a=null===(n=r.response_view.default.data.filter(function(e){return"reportees_responses"===e.key}))||void 0===n||null===(n=n[0])||void 0===n?void 0:n.isSelected,d(!0),e.p=1,e.n=2,Promise.all([c(ki({surveyId:t,mode:a?"reportees":"all"})),c(Di({surveyId:t,mode:a?"reportees":"all"})),c(ji({surveyId:t,mode:a?"reportees":"all"})),c(Ai({surveyId:t,mode:a?"reportees":"all"}))]);case 2:e.n=4;break;case 3:e.p=3,o=e.v,console.error("Error loading filter data:",o);case 4:return e.p=4,d(!1),i&&l(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}();n&&e()},[n,i]);var y=function(){var e=yV(fV().m(function e(t,n){return fV().w(function(e){for(;;)switch(e.n){case 0:if(bo(n)==bo(a)){e.n=1;break}return c(Yi({heatMap:{isHeatMapRequestProcess:!1},metricanalysis:void 0,responded_users:null,question_report:null,pulseReport:void 0,appliedFilterData:n})),m({apply:!1,reset:t}),e.a(2,!0);case 1:return e.a(2,!1)}},e)}));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=yV(fV().m(function e(){var t;return fV().w(function(e){for(;;)switch(e.n){case 0:return t={},(Object.keys(r)||[]).forEach(function(e){var n=r[e].default.data.filter(function(e){return e.isSelected});n.length>0&&(t[e]=n)}),e.n=1,y(!0,t);case 1:e.v&&o();case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),h=function(){var e=yV(fV().m(function e(){var t,n,a;return fV().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t={},r.response_view&&(n=r.response_view.default.data.filter(function(e){return e.isSelected})).length>0&&(t.response_view=n),e.n=1,c(tl());case 1:return e.n=2,y(!1,t);case 2:e.v&&o(),e.n=4;break;case 3:e.p=3,a=e.v,console.error(a);case 4:return e.a(2)}},e,null,[[0,3]])}));return function(){return e.apply(this,arguments)}}();return s?Nb.createElement(aE,null):Nb.createElement(Nb.Fragment,null,!s&&n?Nb.createElement("div",{className:"zpl_fltrvw zpl_pb2 zpl_static"},Nb.createElement("div",null,Nb.createElement("ul",{className:"zpl_fltrvwlst"},v.map(function(e,n){var a=e.key,o=r[a].default.data.filter(function(e){return e.isSelected}),i="",l=0;return o.length>0&&(i=o[0].label,l=o.length>1?o.length-1:0),Nb.createElement(cV,{key:n,item:dV(dV({},e),{},{valueObj:{value:i,remainingCount:l},onSelectHandler:function(e){return function(e,t,n){var r=n.default.data.map(function(e){return e.key===t.key?dV(dV({},e),{},{isSelected:!t.isSelected}):e});c(el({key:e,value:{data:r}})),m(function(e){return dV(dV({},e),{},{apply:!0})})}(a,e,r[a])}}),entityData:r[a],surveyId:t})}))),Nb.createElement("div",{className:"MLauto"},f.apply&&Nb.createElement(J_,{className:"zlabel--blue",onClickHandler:g},ZPI18N.getString("zp.apply")),f.reset&&Nb.createElement(J_,{className:"zlabel--outline",onClickHandler:h},ZPI18N.getString("zp.reset")))):Nb.createElement(Nb.Fragment,null))};function _V(e){return _V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_V(e)}function EV(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return SV(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(SV(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,SV(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,SV(d,"constructor",u),SV(u,"constructor",c),c.displayName="GeneratorFunction",SV(u,a,"GeneratorFunction"),SV(d),SV(d,a,"Generator"),SV(d,r,function(){return this}),SV(d,"toString",function(){return"[object Generator]"}),(EV=function(){return{w:o,m:p}})()}function SV(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}SV=function(e,t,n,r){function o(t,n){SV(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},SV(e,t,n,r)}function wV(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function NV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function PV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NV(Object(n),!0).forEach(function(t){OV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function OV(e,t,n){return(t=function(e){var t=function(e){if("object"!=_V(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=_V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_V(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zV(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zV(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var CV=function(){var e,t=Mb(function(e){return e.createSurvey}),n=t.surveyData,r=t.fetchInitialData,a=t.surveyReport,o=a.reports,i=a.currentRecurrence,l=(a.pulseReport,a.questionReport),c=a.responded_users,u=a.filterData,s=a.appliedFilterData,d=(0,Nb.useRef)(null),p=Kb(),f=IV((0,Nb.useState)(!1),2),m=f[0],v=f[1],y=IV(Nb.useState("all_responses"),2),g=y[0],h=y[1],b=IV((0,Nb.useState)(!1),2),_=b[0],E=b[1],S=IV((0,Nb.useState)(!1),2),w=S[0],N=S[1];(0,Nb.useEffect)(function(){var e;null===(e=d.current)||void 0===e||e.setAttribute("style","padding-inline-end: 60px !important")},[]),(0,Nb.useEffect)(function(){p(xi({surveyId:n.survey_id})),(null==n?void 0:n.response_count)>0&&p(Xo({surveyId:n.survey_id,recurrenceId:i})).then(function(e){if("rejected"===e.meta.requestStatus){var t,n=null!==(t=e.payload)&&void 0!==t&&null!==(t=t.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.message?e.payload.response.data.message:ZPI18N.getString("zp.unabletoprocess");B({text:n,duration:3e3}).showError()}}),P()},[i]),(0,Nb.useEffect)(function(){_&&(P(),E(!1))},[_]);var P=function(){var e=AT(s);if((!l||Object.keys(e).length>0)&&n.type!==Se){var t={};i&&(t.recurrenceId=i),p(ci({surveyId:n.survey_id,payload:t,reportFilter:e}))}if(((null==n?void 0:n.response_count)>0||Object.keys(e).length>0)&&n.type!==Se&&p(gi({surveyId:n.survey_id,recurrenceId:i,reportFilter:e})),null==c&&p(hi({surveyId:n.survey_id,recurrenceId:i,reportFilter:e})),n.type===Se){var r={};i&&(r.recurrenceId=i),p(si({surveyId:n.survey_id,questionId:n.question_id,payload:r,reportFilter:e}))}},O=((null==o?void 0:o.completed_schedules)||[]).map(function(e){return{value:e.recurrence_id,label:"".concat(Dm(e.opening_time).getDateBy(dateFmt)," - ").concat(Dm(e.closing_time).getDateBy(dateFmt))}}),I=function(){var e,t=(e=EV().m(function e(t,n){var r,a,o;return EV().w(function(e){for(;;)switch(e.n){case 0:return r=t.value,a=n.map(function(e){return PV(PV({},e),{},{isSelected:e.key===r})}),o=a.filter(function(e){return e.isSelected}),h(r),e.n=1,p(el({key:"response_view",value:{data:a}}));case 1:return e.n=2,p(Yi({heatMap:{isHeatMapRequestProcess:!1},metricanalysis:void 0,responded_users:null,question_report:null,pulseReport:void 0,appliedFilterData:{response_view:o}}));case 2:E(!0),N(!0);case 3:return e.a(2)}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){wV(o,r,a,i,l,"next",e)}function l(e){wV(o,r,a,i,l,"throw",e)}i(void 0)})});return function(e,n){return t.apply(this,arguments)}}();return r?Nb.createElement(aE,{height:500}):Nb.createElement("div",{className:"zpl_mcnt",rel:"ee_report_parent"},Nb.createElement("div",{className:"zpl_pulseCont",ref:d},Nb.createElement($E,{extraClassName:"zpl_mb3",msg:ZPI18N.getString("zp.survey.report.owner.view.info")}),Nb.createElement(RU,{surveyData:n,currentRecurrence:i,reports:o,scheduleOptions:O,recurrenceChangeHandler:function(e){e.value!==i&&p(Yi(PV(PV({},Uo),{},{currentRecurrence:e.value})))},showFilter:m,onClickReportFilterHandler:function(){return v(!m)},responseView:(null===(e=u.response_view)||void 0===e||null===(e=e.default)||void 0===e?void 0:e.data)||[],responseViewOnClickHandler:I,responseViewSelected:g}),Nb.createElement(bV,{surveyId:n.survey_id,showFilter:m,filterData:u,appliedFilterData:s,onFilterApplyHandler:function(){E(!0)},isLoadFilterDropDownRequest:w,setIsLoadFilterDropDownRequest:N}),n.status===Yt&&n.current_state===_t&&Nb.createElement(tV,{reportData:o}),Nb.createElement(eV,{surveyData:n,surveyReport:a})),Nb.createElement("iframe",{rel:"EE_PRINT_IFRAME",title:"content-to-print",style:{display:"none"}}))},TV=function(e){var t=e.header,n=e.message,r=e.imageClassName;return Nb.createElement("div",{className:"zpl_nodata zpl_vh-100"},Nb.createElement("div",{className:"zpl_crdcnt zpl_h-100"},Nb.createElement("div",{className:"zpl_Emptydata zpl_nopermission"},Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_emptimg ".concat(r)}),Nb.createElement("h4",null,t),Nb.createElement("p",null,n)))))};function xV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kV(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kV(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var DV=function(e){var t,n=e.viewType,r=e.data.isShowDetailedPage,a=void 0!==r&&r,o=Mb(function(e){return e.createSurvey}),i=o.surveyData,l=o.fetchInitialData,c=o.surveyReport,u=c.reports,s=c.currentRecurrence,d=Mb(function(e){return e.surveyCommon}).initData.read_only,p=void 0!==d&&d||n===Po.SHARED_VIEW,f=Kb(),m=(0,Nb.useRef)([{id:"details",label:ZPI18N.getString("zp.Details")},{id:"reports",label:ZPI18N.getString("zp.reports")}]),v=xV((0,Nb.useState)(m.current[0].label),2),y=v[0],g=v[1],h=xV((0,Nb.useState)(!0),2),b=h[0],_=h[1],E=xV((0,Nb.useState)(!1),2),S=E[0],w=E[1];(0,Nb.useEffect)(function(){var e;!a&&b&&(null==i?void 0:i.response_percentage)>=30?(g(m.current[1].label),f(Li(m.current[1].id))):f(Li({pageType:y===(null===(e=m.current[1])||void 0===e?void 0:e.label)?m.current[1].id:m.current[0].id})),_(!1)},[i,c]),(0,Nb.useEffect)(function(){(null==i?void 0:i.response_count)>0&&0===Object.keys(u||{}).length&&f(Xo({surveyId:i.survey_id,recurrenceId:s})).then(function(e){if("rejected"===e.meta.requestStatus){var t,n;if(401===(null===(t=e.payload)||void 0===t||null===(t=t.response)||void 0===t?void 0:t.status))return void w(!0);var r=null!==(n=e.payload)&&void 0!==n&&null!==(n=n.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.message?e.payload.response.data.message:ZPI18N.getString("zp.unabletoprocess");B({text:r,duration:3e3}).showError()}})},[s,i]);var N=(0,Nb.useCallback)(function(){var e;return l||(null==i?void 0:i.response_count)>0&&0===Object.keys(c.reports||{}).length?Nb.createElement(Nb.Fragment,null,Nb.createElement(aE,null),Nb.createElement("div",{className:"zpl_secn"})):y===(null===(e=m.current[1])||void 0===e?void 0:e.label)?Nb.createElement(bx,{surveyData:i,surveyReport:c}):Nb.createElement(Nb.Fragment,null,Nb.createElement("div",{className:"zpl_crd wd100_per"},Nb.createElement(MZ,{surveyData:i,readOnly:p})),Nb.createElement("div",{className:"zpl_crd wd100_per"},i.metric_type===gn?Nb.createElement(pF,{metricGroups:i.metric_groups}):Nb.createElement(dF,{questions:i.type===Ee||i.type===Ie?i.questions:[{question:i.question,question_id:i.question_id,type:Jn.NPS.TYPE,metric_name:i.metric_name,minscore_text:i.minscore_text,maxscore_text:i.maxscore_text}]})))},[l,y,m.current,i,c]);return S?Nb.createElement("div",{className:"zpl_crd wd100_per"},Nb.createElement(TV,{header:ZPI18N.getString("zp.assessment.preview.nopermission"),message:ZPI18N.getString("zp.survey.share.report.notfound"),imageClassName:"zp_nd_permission"})):Nb.createElement(Nb.Fragment,null,Nb.createElement("div",{className:"zpl_mcnt"},Nb.createElement("div",{className:"zpl_mmnu"},Nb.createElement("div",{className:"zpl_mmnurgt"},Nb.createElement("div",{className:"zpl_act"},Nb.createElement("div",{className:"zpl_iwrpr"},Nb.createElement(fk,{sections:m.current,activeSection:y,setActiveSection:g,navClickHandler:function(e){f(Li({pageType:e}))}}),Nb.createElement("div",{className:"zpl_iwrprrgt DBI"},Nb.createElement("div",{className:"zpl_act"},Nb.createElement("div",{className:"zpl_rgtcnt",rel:y===(null===(t=m.current[1])||void 0===t?void 0:t.label)?"ee_report_parent":""},Nb.createElement($E,{msg:ZPI18N.getString("zp.survey.report.owner.view.info")}),Nb.createElement("div",{className:"zpl_secn"}),N())))))))),Nb.createElement("iframe",{rel:"EE_PRINT_IFRAME",title:"content-to-print",style:{display:"none"}}))},jV=function(e){var t=e.viewType,n=e.data,r=Mb(function(e){return e.createSurvey}).surveyData.type;return Nb.createElement(Nb.Fragment,null,r==Ie||r==Ee||r==Se?Nb.createElement(CV,{viewType:t,data:n}):Nb.createElement(DV,{viewType:t,data:n}))};function AV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var RV=function(e){var t=e.headerName,n=e.backBtnNeeded,r=e.backActionHandler,a=e.closeActionHandler,o=e.viewType,i=e.children,l=Mb(function(e){return e.createSurvey}).surveyData;if([Po.ENPS_VIEW,Po.ENGAGEMENT_VIEW,Po.PULSE_VIEW,Po.SHARED_VIEW].includes(o)){var c=function(){return l.status===Vt?Nb.createElement("div",{className:"zpl_statCon grnbglit"},Nb.createElement("span",null,ZPI18N.getString("zp.lms.content.Completed"))):l.current_state===Et?Nb.createElement("div",{className:"zpl_statCon grybg3"},Nb.createElement("span",null,ZPI18N.getString("zp.disabled"))):l.status===Wt?Nb.createElement("div",{className:"zpl_statCon blubglit"},Nb.createElement("span",null,ZPI18N.getString("zp.upcoming"))):l.current_state===_t?Nb.createElement("div",{className:"zpl_statCon ylwbglit"},Nb.createElement("span",null,ZPI18N.getString("zp.ongoingcases"))):null};return Nb.createElement(kx,{headerName:t,backBtnNeeded:n,backActionHandler:r,closeActionHandler:a,HeaderLabel:Nb.createElement(c,null)},i)}return Nb.createElement(xx,{headerName:t,backBtnNeeded:n,backActionHandler:r,closeActionHandler:a},i)},qV=function(){var e=Mb(function(e){return e.modalBox}),t=Kb(),n=q_(),r=function(){t(Xa())};(0,Nb.useEffect)(function(){return window.addEventListener("hashchange",r),function(){window.removeEventListener("hashchange",r),t(Xa())}},[]);var a,o=function(){if(e.viewType===Po.CREATE_TEMPLATE)wP(n);else if([Po.ENGAGEMENT,Po.ENGAGEMENT_VIEW].includes(e.viewType))t(Hi()),n("/"),ig(),t(Qa({render:!1}));else if(e.viewType===Po.ENPS||e.viewType===Po.ENPS_VIEW)t(Hi()),n("/"),tg(),t(Qa({render:!1}));else if(e.viewType===Po.PULSE||e.viewType===Po.PULSE_VIEW)t(Hi()),n("/"),mg(),t(Qa({render:!1}));else if(e.viewType===Po.SHARED_VIEW)t(Hi()),n("/"),window.location.hash="employeeengagement/surveys/shared",t(Qa({render:!1}));else if([Po.OFFBOARDING_FEEDBACK,Po.LIST_OFFBOARDING_INTERVIEW].includes(e.viewType))t(Hi()),t(Qa({render:!1,viewType:e.viewType}));else if([Po.EXTEND_INTERVIEW_CREATION].includes(e.viewType))oU();else if([Po.MY_SURVEY_REPORT_ENPS,Po.MY_SURVEY_REPORT_ENGAGEMENT].includes(e.viewType)){dg();var r=document.querySelector("#ee-my-survey-react-root");qE.unmountComponentAtNode(r),null==r||r.remove(),Em().style={}}else[Po.LIST_TEMPLATE].includes(e.viewType)?(t(jf()),t(Qa({render:!1}))):t(Qa({render:!1}));e.prevHash&&e.prevHash.includes("home/team/space-surveys")&&(t(Hi()),n("/"),window.location.hash="home/team/space-surveys",t(Qa({render:!1})),ZPNewTabs.updateSubtabs("EmployeeEngagement"))},i=function(){return e.viewType===Po.CREATE_TEMPLATE?function(){var e=Mb(function(e){return e.createSurvey}).surveyData,t=A_(),n=q_(),r=(0,Nb.useRef)({}),a=(0,Nb.useRef)({}),o=[],i=[],l=function(){fP(t,n,"/".concat(r.current.url))},c=function(){fP(t,n,"/".concat(a.current.url))};switch(t.pathname){case"/configuration":r.current={url:"questions"},o.push({name:ZPI18N.getString("zp.next"),callback:l,type:"primary"});break;case"/questions":a.current={url:"configuration"},r.current={url:"theme"},o.push({name:ZPI18N.getString("zp.previous"),callback:c,type:"outline"}),o.push({name:ZPI18N.getString("zp.next"),callback:l,type:"primary"});break;case"/theme":a.current={url:"questions"},o.push({name:ZPI18N.getString("zp.previous"),callback:c,type:"outline"}),e.is_ready?i.push({name:ZPI18N.getString("zp.save"),callback:function(){return pP(e,!0,null,null,ZPI18N.getString("zp.comp.rlt.savesuc"))},type:"primary"}):(i.push({name:ZPI18N.getString("zp.save_as_draft"),callback:function(){return pP(e,!0)},type:"primary"}),i.push({name:ZPI18N.getString("zp.survey.markasready"),callback:function(){pP(e,void 0,SP,n)},type:"primary"}))}return{rightActions:o,leftActions:i}}():e.viewType===Po.ENGAGEMENT||e.viewType===Po.ENPS||e.viewType===Po.PULSE?function(){var e=Mb(function(e){return e.createSurvey}).surveyData,t=e.type,n=A_(),r=q_(),a=(0,Nb.useRef)({}),o=(0,Nb.useRef)({}),i=[],l=[],c=n.pathname,u=t===Se,s=function(){aM(n,r,"/".concat(a.current.url))},d=function(){aM(n,r,"/".concat(o.current.url))};switch(c){case"/configuration":a.current=u?{url:"applicability"}:{url:"questions"},i.push({name:ZPI18N.getString("zp.next"),callback:s,type:"primary"});break;case"/questions":o.current={url:"configuration"},a.current={url:"applicability"},i.push({name:ZPI18N.getString("zp.previous"),callback:d,type:"outline"}),i.push({name:ZPI18N.getString("zp.next"),callback:s,type:"primary"});break;case"/applicability":o.current=u?{url:"configuration"}:{url:"questions"},a.current={url:"notifications"},i.push({name:ZPI18N.getString("zp.previous"),callback:d,type:"outline"}),i.push({name:ZPI18N.getString("zp.next"),callback:s,type:"primary"});break;case"/notifications":o.current={url:"applicability"},a.current={url:"publish"},i.push({name:ZPI18N.getString("zp.previous"),callback:d,type:"outline"}),i.push({name:ZPI18N.getString("zp.next"),callback:s,type:"primary"});break;case"/publish":o.current={url:"notifications"},i.push({name:ZPI18N.getString("zp.previous"),callback:d,type:"outline"}),!e.is_ready&&l.push({name:ZPI18N.getString("zp.publish"),callback:function(){return gq(e.type,e)},type:"primary"})}return{rightActions:i,leftActions:l}}():e.viewType===Po.EXTEND_INTERVIEW_CREATION?(t=Mb(function(e){return e.createSurvey}).surveyData,n=[],0!=Object.keys(t).length&&(null!=t&&t.is_ready?n.push({name:ZPI18N.getString("zp.save"),callback:function(){return aU(t)},type:"primary"}):(n.push({name:ZPI18N.getString("zp.save_as_draft"),callback:function(){return aU(nU(nU({},t),{},{is_ready:!1}))},type:"primary"}),n.push({name:ZPI18N.getString("zp.survey.markasready"),callback:function(){aU(nU(nU({},t),{},{is_ready:!1}),function(){return QB(t)},!1)},type:"primary"}))),{rightActions:[],leftActions:n}):{rightActions:[],leftActions:[]};var t,n};return Nb.createElement(Nb.Fragment,null,[Po.MY_SURVEY_REPORT_ENPS,Po.MY_SURVEY_REPORT_ENGAGEMENT].includes(e.viewType)?Nb.createElement(AU,{viewType:e.viewType,data:e.data,closeActionHandler:o}):Nb.createElement("div",{className:"zpl_mdl zpl_mopen ".concat((a="",e.viewType===Po.CREATE_TEMPLATE?a="zpl_mfull zpl_mdltopnav zpl_catCreateQues zpl_mlftfxd":[Po.PULSE,Po.ENGAGEMENT,Po.ENPS,Po.OFFBOARDING_FEEDBACK,Po.EXTEND_INTERVIEW_CREATION].includes(e.viewType)?a="zpl_mfull zpl_mdltopnav zpl_mlftfxd":[Po.ENGAGEMENT_VIEW,Po.ENPS_VIEW,Po.SHARED_VIEW,Po.PULSE_VIEW].includes(e.viewType)?a="zpl_mfull zpl_mlftfxd":[Po.LIST_TEMPLATE,Po.LIST_OFFBOARDING_INTERVIEW].includes(e.viewType)?a="zpl_mdl zpl_mlg zpl_mcenter zpl_mopen":e.viewType===Po.LOADER&&(a="zpl_mfull zpl_mlftfxd"),a))},Nb.createElement("div",{className:"zpl_minr ".concat([Po.LIST_TEMPLATE,Po.LIST_OFFBOARDING_INTERVIEW].includes(e.viewType)?"h100_per":"")},Nb.createElement(RV,{headerName:e.headerName,backBtnNeeded:[Po.CREATE_TEMPLATE,Po.ENGAGEMENT,Po.PULSE,Po.ENPS,Po.OFFBOARDING_FEEDBACK,Po.EXTEND_INTERVIEW_CREATION].includes(e.viewType),backActionHandler:[Po.LIST_TEMPLATE,Po.LIST_OFFBOARDING_INTERVIEW].includes(e.viewType)?void 0:function(){var n,r=function(e){if(Array.isArray(e))return AV(e)}(n=e.trace)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return AV(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?AV(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=r.pop();a?t(Qa({trace:r,viewType:a})):o()},closeActionHandler:function(){o()},viewType:e.viewType},[Po.ENGAGEMENT_VIEW,Po.ENPS_VIEW,Po.SHARED_VIEW,Po.PULSE_VIEW].includes(e.viewType)?Nb.createElement(KZ,{viewType:e.viewType}):Nb.createElement(Nb.Fragment,null)),e.viewType===Po.CREATE_TEMPLATE?Nb.createElement(aR,{type:Po.CREATE_TEMPLATE}):e.viewType===Po.ENGAGEMENT?Nb.createElement(LZ,{type:Po.ENGAGEMENT}):e.viewType===Po.ENPS?Nb.createElement(LZ,{type:Po.ENPS}):e.viewType===Po.PULSE?Nb.createElement(LZ,{type:Po.PULSE}):[Po.ENPS_VIEW,Po.ENGAGEMENT_VIEW,Po.PULSE_VIEW,Po.SHARED_VIEW].includes(e.viewType)?Nb.createElement(jV,{viewType:e.viewType,data:e.data}):e.viewType===Po.LOADER?Nb.createElement(Nb.Fragment,null,Nb.createElement(aE,null),Nb.createElement("div",{className:"zpl_secn"})):[Po.LIST_TEMPLATE,Po.LIST_OFFBOARDING_INTERVIEW].includes(e.viewType)?Nb.createElement(BZ,{viewType:e.viewType,mode:e.tempType}):[Po.OFFBOARDING_FEEDBACK,Po.EXTEND_INTERVIEW_CREATION].includes(e.viewType)?Nb.createElement(zU,{type:e.viewType}):Nb.createElement(Nb.Fragment,null),Nb.createElement(Dx,{rightActions:i().rightActions,leftActions:i().leftActions}))))},MV=function(e){var t=e.leftActions,n=void 0===t?[]:t;return Nb.createElement("div",{className:"zpl_mfoter"},n.map(function(e){return Nb.createElement("button",{key:zE(),className:"zlabel zlabel--".concat(e.type," zlabel--medium"),onClick:e.callback},e.name)}))},ZV=function(e){var t=e.file,n=void 0===t?{}:t,r=e.openLocalFileStorage,a=(e.error,n.name),o=void 0===a?"":a,i=n.size,l=void 0===i?"":i;return Nb.createElement("div",{className:"zpl_upld"},Nb.createElement("div",{className:"zpl_fldrp"},Nb.createElement("h4",null,o),Nb.createElement("p",null,ZPI18N.getString("zp.lms.size"),": ",Nb.createElement("span",null,z(l))),Nb.createElement("button",{className:"zlabel zlabel--blue zlabel--outline zlabel--medium",onClick:r},ZPI18N.getString("zp.removeandnew"))))},LV=function(e){var t=e.openLocalFileStorage,n=e.error,r=(null==n?void 0:n.length)>0;return Nb.createElement("div",{className:"zpl_upld"},Nb.createElement("div",{className:"zpl_fldrp ".concat(r?"ztextbox__error":"")},Nb.createElement("div",{className:"zpl_flupld_img"}),Nb.createElement("h4",null,ZPI18N.getString("zp.survey.supported.img.format")),Nb.createElement("p",null,ZPI18N.getString("zp.survey.imagesize.maximum",[10])),Nb.createElement("button",{className:"zlabel zlabel--blue zlabel--medium",onClick:t},ZPI18N.getString("zp.uploadimage")),Nb.createElement("p",null,ZPI18N.getString("zp.assessment.hotspot.image.size.message"))),r?Nb.createElement("span",{className:"ztextbox--error__label"},n):null)};function FV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var BV=function(e){var t=e.fileInfo,n=e.setFileInfo,r=e.errorData,a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return FV(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FV(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)({create:!(t&&Object.keys(t).length>0),edit:!!(t&&Object.keys(t).length>0),loading:!1}),2),o=a[0],i=a[1],l=(0,Nb.useRef)(null),c=function(){l.current.click()},u=function(e){i({create:!1,edit:!1,loading:!0}),e.preventDefault(),e.stopPropagation();var t="drop"===e.type?e.dataTransfer.files[0]:e.target.files[0];if(t.size>Re)B({text:ZPI18N.getString("zp.assessment.warning.hotspot.imagesize"),duration:3e3}).showWarning();else{var r=zE();Sb.setFileId(r,function(e){i({create:!1,edit:!0,loading:!1}),n(e.fileInfo)}),Zm(t,r)}},s=function(e){e.preventDefault(),e.stopPropagation()};return Nb.createElement("div",{className:"zpl_mcnt"},Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdcnt"},Nb.createElement("div",{className:"zpl_secn",onDragOver:s,onDragLeave:s,onDrop:u},Nb.createElement("input",{id:"fileInput",ref:l,type:"file",onChange:u,style:{display:"none"}}),o.loading&&Nb.createElement(aE,{height:80}),o.create&&Nb.createElement(LV,{openLocalFileStorage:c,error:null==r?void 0:r.upload}),o.edit&&Nb.createElement(ZV,{file:t,openLocalFileStorage:c})))))},UV=function(e){var t=e.headerName,n=e.closeActionHandler;return Nb.createElement("div",{className:"zpl_mhder"},Nb.createElement("div",null,Nb.createElement("h4",null,t)),Nb.createElement("a",{className:"_cls PI_cls",onClick:n}))};function HV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var VV=function(){var e=Mb(function(e){return e.createTheme}).themeData,t=e.bg_settings,n=e.errorData,r=t.fileInfo,a=Kb(),o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return HV(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?HV(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(r||{}),2),i=o[0],l=o[1],c=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];a(oh({render:!1})),e&&!t.fileInfo&&a($g({bg_settings:{bg:0}})),n&&Object.keys(n).length>0&&a(Ug({errorData:{}}))};return Nb.createElement(Nb.Fragment,null,Nb.createElement("div",{className:"zpl_mdl zpl_mcenter zpl_mopen"},Nb.createElement("div",{className:"zpl_minr"},Nb.createElement(UV,{headerName:ZPI18N.getString("zp.survey.upload.background.img"),closeActionHandler:c}),Nb.createElement(BV,{fileInfo:i,setFileInfo:l,errorData:n}),Nb.createElement(MV,{leftActions:[{name:ZPI18N.getString("zp.upload"),callback:function(){var e,t;e={},t=!0,Object.keys(i).length<=0&&(e.upload=ZPI18N.getString("zp.noattachmentsselected"),t=!1),a(Ug({errorData:e})),t&&(a(Qg({bg_settings:{fileInfo:i}})),c(!1))},type:"primary"},{name:ZPI18N.getString("zp.cancel"),callback:c,type:"outline"}]}))))};function YV(){var e=Mb(function(e){return e.modalBox.render}),t=Mb(function(e){return e.questionBank.render}),n=Mb(function(e){return e.questionCard.render}),r=Mb(function(e){return e.viewTemplate.render}),a=Mb(function(e){return e.uploadPopup.render});return Nb.createElement(Nb.Fragment,null,e&&Nb.createElement(qV,null),t&&Nb.createElement(Tx,null),n&&Nb.createElement(jO,null),r&&Nb.createElement(TI,null),a&&Nb.createElement(VV,null))}var WV=function(){return Nb.createElement(Vb,{store:lh},Nb.createElement(W_,null,Nb.createElement(YV,null)))},GV=function(e){var t=e.fromAddress,n=e.addressOptions,r=e.updateFromAddress,a=!1;return(n||[]).forEach(function(e){e.value==t&&(a=null!=e.isDkimAuthenticated&&!e.isDkimAuthenticated)}),Nb.createElement("div",{className:"zpl_secn zpl_mailtmp"},Nb.createElement("div",null,Nb.createElement("label",null,ZPI18N.getString("zp.from"))),Nb.createElement("div",null,Nb.createElement("div",{className:"zpl_idiv"},Nb.createElement(MS,{options:n,onChange:function(e){return r(e.value)},value:(n||[]).filter(function(e){return e.value===t}),style:{maxWidth:"410px"},className:a&&" ztextbox__error"})),a&&Nb.createElement("span",{className:"ztextbox--error__label"},ZPI18N.getString("zp.dkimmandatory"),Nb.createElement("a",{href:"#settings/service/accountsetup/domainsandrebranding",target:"_blank",className:"zpl_lnk"},ZPI18N.getString("zp.authnow")))))},$V=function(e){var t=e.subject,n=e.updateMailSubject;return Nb.createElement("div",{className:"zpl_secn zpl_mailtmp"},Nb.createElement("div",null,Nb.createElement("label",null,ZPI18N.getString("zp.survey.subjectline"))),Nb.createElement("div",null,Nb.createElement("div",null,Nb.createElement("input",{type:"text",className:"ztextbox",value:t,onChange:function(e){return n(e.target.value)}}))))};function QV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var XV=function(e){var t=e.content,n=e.type,r=Kb(),a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return QV(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QV(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(""),2),o=a[0],i=a[1];(0,Nb.useEffect)(function(){!function(e,t,n,r){$("#"+t).empty();var a={currentContainer:$("[id=survey-mail-content]"),editorheight:Um(r),isMiniEditor:!1,isMentionsEnabled:!1};ZPFeeds.Editor.getEditor(t,r,a)}(0,"survey-mail-editor",0,vt);var e=ZPFeeds.Editor.editorList["survey-mail-editor"];e.setContent(t),setTimeout(function(){e.win.oninput=function(){r(xp({madeChange:!0}))}},100)},[]);var l=pt.map(function(e){return{label:e,value:e}});return n==Ke&&(l=ft.map(function(e){return{label:e,value:e}})),Nb.createElement("div",{className:"zpl_secn",id:"survey-mail-content"},Nb.createElement("div",{className:"zpl_msgedtr msgedtr_optnl"},Nb.createElement("div",{className:"zpl_msghd"},Nb.createElement("div",{className:"zpl_secn zpl_twoclum"},Nb.createElement(MS,{options:l,onChange:function(e){return i(e.value)},value:l.filter(function(e){return e.value===o})}),Nb.createElement("div",null,Nb.createElement("button",{type:"button",className:"zlabel zlabel--blue zlabel--medium",onClick:function(e){if(e.stopPropagation?(e.preventDefault(),e.stopPropagation()):(e.cancelBubble=!0,e.returnValue=!1),o){var t="${"+o+"}";ZPFeeds.Editor.editorList["survey-mail-editor"].insertHTML(t)}}},ZPI18N.getString("zp.insert"))))),Nb.createElement("div",{className:"zpl_feedCompsr zpl_edtrply tlbarTop"},Nb.createElement("div",{className:"feedCompsr_area"},Nb.createElement("div",{className:"feedCompsr_cont"},Nb.createElement("div",{className:"ze",id:"survey-mail-editor"}))))))};function KV(e){var t=e.isActive,n=e.updateIncludeImage;return Nb.createElement("div",{className:"zpl_secn zpl_mailtmp"},Nb.createElement("div",null,Nb.createElement("label",null)),Nb.createElement("div",null,Nb.createElement(uw,{label:ZPI18N.getString("zp.survey.default.image"),isActive:t,onChange:n})))}function JV(){return Nb.createElement("div",{className:"zpl_secn"},Nb.createElement("div",{className:"zpl_info"},Nb.createElement("em",null,ZPI18N.getString("zp.survey.template.note"))))}function eY(e){return eY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eY(e)}function tY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tY(Object(n),!0).forEach(function(t){rY(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tY(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rY(e,t,n){return(t=function(e){var t=function(e){if("object"!=eY(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=eY(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==eY(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aY=function(e){var t=e.isLoading,n=e.fromAddress,r=e.details,a=e.type,o=Kb(),i=(n||[]).map(function(e){return{label:T(e.from_address),value:e.fromaddress_id,isDkimAuthenticated:e.isDkimAuthenticated}});return Nb.createElement("div",{className:"zpl_mcnt zpl_fm"},Nb.createElement("form",null,Nb.createElement("div",{className:"zpl_crd"},Nb.createElement("div",{className:"zpl_crdcnt"},t?Nb.createElement(aE,null):Nb.createElement(Nb.Fragment,null,Nb.createElement(GV,{addressOptions:i,fromAddress:T(r.from_address),updateFromAddress:function(e){o(xp({madeChange:!0,template_details:nY(nY({},r),{},{from_address:e})}))}}),Nb.createElement($V,{subject:r.subject,updateMailSubject:function(e){o(xp({madeChange:!0,template_details:nY(nY({},r),{},{subject:e})}))}}),Nb.createElement(KV,{isActive:r.include_image,updateIncludeImage:function(){o(xp({madeChange:!0,template_details:nY(nY({},r),{},{include_image:!r.include_image})}))}}),Nb.createElement(JV,null),Nb.createElement(XV,{content:r.content,type:a}))))))},oY=function(e){var t,n=e.message,r=e.include_image,a=e.imgClass,o=(new Date).getFullYear(),i=ZPeople.getUserDetailsById(erecno).avatar||ZPeople.getDefaultUserImagePath(),l="undefined"!=typeof Layout&&Layout.ZPZOHOURL?Layout.ZPZOHOURL:ZPZOHOURL;i=i.startsWith("viewPhoto?")?window.location.protocol+"//"+l+(""!=portalname?"/"+portalname:"")+"/"+i:i;var c="undefined"!=typeof imgurl?ZPeople.getResourceURL(newHRImgUrl+(Layout.isPeoplePlus?"zpeoplePlus.png":"zohopeoplelogo.png")):"/newhr/images/logoNew.png";return Nb.createElement("div",{style:{background:"rgb(248, 248, 248)",fontFamily:"sans-serif",fontSize:"15px",position:"relative"}},r?Nb.createElement("div",{style:{insetInlineStart:0,insetInlineEnd:0,minBlockSize:"361px",backgroundColor:"rgb(25,101,202)"}},Nb.createElement("div",{style:{inlineSize:"680px",padding:"0 30px",boxSizing:"borderbox",margin:"auto",overflow:"hidden",position:"relative"}},Nb.createElement("div",{style:{background:"#fff",padding:"50px 46px 0px",marginBlockStart:"66px",minBlockSize:"295px",boxSizing:"borderbox"}},"null"==logo?Nb.createElement("img",{alt:"Zoho People",src:c,style:{height:"35px",marginTop:"4px",maxWidth:"140px"}}):Nb.createElement("img",{id:"zp_logo",height:"24",className:"ZPLogo1",src:"/viewPhoto?filename="+logo}),Nb.createElement("div",{className:a,style:{maxBlockSize:"195px",minBlockSize:"195px",inlineSize:"50%",margin:"0px auto",display:"block",padding:"0px 0 24px"}})))):Nb.createElement("div",{style:{left:0,right:0,minHeight:"145px",backgroundColor:"rgb(25, 101, 202)"}},Nb.createElement("div",{style:{width:"680px",padding:"0 30px",boxSizing:"border-box",margin:"auto",overflow:"hidden",position:"relative"}},Nb.createElement("div",{style:{background:"rgb(255, 255, 255)",padding:"50px 46px 0px",marginTop:"66px",minHeight:"85px",boxSizing:"border-box"}},Nb.createElement("table",null,Nb.createElement("tbody",null,Nb.createElement("tr",null,Nb.createElement("td",{style:{height:"30px",maxwidth:"100%",display:"flex"}},"null"==logo?Nb.createElement("img",{alt:"Zoho People",src:c,style:{height:"35px",marginTop:"4px",maxWidth:"140px"}}):Nb.createElement("img",{id:"zp_logo",height:"24",className:"ZPLogo1",src:"/viewPhoto?filename="+logo})))))))),Nb.createElement("div",{style:{inlineSize:"680px",padding:"0 30px",boxSizing:"borderbox",margin:"auto",overflow:"hidden",position:"relative"}},Nb.createElement("div",{style:{background:"rgb(255, 255, 255)",padding:"2px 46px 0px",position:"relative"}},Nb.createElement("div",{dangerouslySetInnerHTML:{__html:DOMPurify.sanitize(null==n?void 0:n.replace(/\n/g,"<br>"))}}),Nb.createElement("a",{style:{color:"rgb(247, 249, 253)",textdecoration:"none",display:"inline-block",padding:"10px 23px",border:"none",background:"rgb(33, 110, 212)",marginBlockStart:"36px",borderRadius:"2px"}},ZPI18N.getString("zp.survey.submit.feedback")))),Nb.createElement("div",{style:{inlineSize:"680px",padding:"0 30px",boxSizing:"borderbox",margin:"auto",overflow:"hidden",position:"relative"}},Nb.createElement("div",{style:{background:"rgb(255, 255, 255",padding:"2px 46px 32px",position:"relative"}},Nb.createElement("p",{style:{borderBlockStart:"2px dashed #e8ebef",margin:"32px 0 0"}}),Nb.createElement("div",{style:{marginBlockStart:"34px",fontSize:"12px",color:"#868686",lineHeight:"20.0px"},dangerouslySetInnerHTML:{__html:DOMPurify.sanitize(null===(t=ZPI18N.getString("zp.lms.notification.mail.disclaimer"))||void 0===t?void 0:t.replace(/\n/g,"<br>"))}})),Nb.createElement("b",null,Nb.createElement("b",null,Nb.createElement("span",{style:{textAlign:"center",display:"inline-block",width:"100%",margin:"16px 0",fontSize:"12px",color:"rgb(130, 130, 130)"}},ZPI18N.getString("zp.email.end.note",[o]))))))};function iY(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return lY(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(lY(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,lY(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,lY(d,"constructor",u),lY(u,"constructor",c),c.displayName="GeneratorFunction",lY(u,a,"GeneratorFunction"),lY(d),lY(d,a,"Generator"),lY(d,r,function(){return this}),lY(d,"toString",function(){return"[object Generator]"}),(iY=function(){return{w:o,m:p}})()}function lY(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}lY=function(e,t,n,r){function o(t,n){lY(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},lY(e,t,n,r)}function cY(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function uY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sY=function(){var e=Mb(function(e){return e.mail}),t=e.header,n=e.isLoading,r=e.from_address,a=e.template_details,o=e.type,i=e.mailAlertId,l=e.madeChange,c=Kb(),u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return uY(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uY(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Nb.useState)(!1),2),s=u[0],d=u[1];(0,Nb.useEffect)(function(){c(Cp({mailAlertId:i,type:o}))},[]);var p=function(){var e,t=(e=iY().m(function e(){var t,n,r;return iY().w(function(e){for(;;)switch(e.n){case 0:if(!l){e.n=2;break}return t=function(){v()},n=function(){c(kp())},r=new Ry(ZPI18N.getString("zp.popup.unchange.name"),ZPI18N.getString("zp.popup.unchange.desc"),ZPI18N.getString("zp.popup.unchange.save"),ZPI18N.getString("zp.popup.unchange.cancel"),void 0,void 0,t,n),e.n=1,r.confirmation();case 1:e.n=3;break;case 2:f();case 3:return e.a(2)}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){cY(o,r,a,i,l,"next",e)}function l(e){cY(o,r,a,i,l,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}(),f=function(){c(kp())},m=function(){var e=ZPFeeds.Editor.editorList["survey-mail-editor"],t=ZPFeeds.getSmileysAndMentions(null==e?void 0:e.getContent(),!1);return{from_address:a.from_address,subject:a.subject,message:t,type:o,mailalert_id:a.mailalert_id,include_image:a.include_image}},v=function(){c(rp({templateId:a.template_id,mailConfigData:m()})).then(function(e){if("fulfilled"===e.meta.requestStatus)B({text:ZPI18N.getString("zp.saved.successfully.msg",[ZPI18N.getString("zp.template")]),duration:3e3}).showSuccess();else if("rejected"===e.meta.requestStatus){var t;B({text:null!==(t=axiosError.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.message?axiosError.response.data.message:ZPI18N.getString("zp.unabletoprocess"),duration:3e3}).showWarning()}}),f()};if(s){var y=ZPFeeds.Editor.editorList["survey-mail-editor"],g=ZPFeeds.getSmileysAndMentions(null==y?void 0:y.getContent(),!1);return Nb.createElement("div",{"data-model-boc":"startSurvey13",className:"zpl_mdl zpl_mopen"},Nb.createElement("div",{className:"zpl_minr"},Nb.createElement(eE,{name:t,cancelAction:function(){return d(!1)}}),Nb.createElement("div",{class:"zpl_mcnt zpl_enpsMailerCnt"},Nb.createElement(oY,{message:g,include_image:a.include_image,imgClass:"newsurvey"==o||"newsurvey_manual"==o?"mtmp1":"reminder"==o||"survey_extension"==o?"mtmp2":void 0}))))}return Nb.createElement("div",{className:"zpl_mdl zpl_mopen"},Nb.createElement("div",{className:"zpl_minr"},Nb.createElement(eE,{name:t,cancelAction:p,isPreviewBtnNeeded:!0,previewbtnHandler:function(){d(!0)}}),Nb.createElement(aY,{isLoading:n,fromAddress:r,details:a,type:o}),Nb.createElement(rE,{submitName:ZPI18N.getString("zp.save"),cancelName:ZPI18N.getString("zp.cancel"),cancelAction:f,submitAction:v})))},dY=function(e){var t=e.question,n=e.updateQBankActiveQuestionIds,r=e.isActive,a=[Jn.COMMENT.TYPE,Jn.DATE.TYPE].includes(t.type);return Nb.createElement("div",{className:"zpl_qalst "},Nb.createElement("div",{className:"zpl_qalsthdr".concat(a?" CPD":""),onClick:function(){return n(t.question_id)}},Nb.createElement("div",{className:"zpl_qalsthd"},Nb.createElement("div",null,Nb.createElement(Yw,{className:"zradiobutton zradiobutton--horizontal",id:t.question_id,isActive:r})),Nb.createElement("div",null,Nb.createElement("p",null,t.question))),t.metric_name&&Nb.createElement("div",{className:"zpl_qalsthdrrgt"},Nb.createElement("div",{className:"zpl_qalsthdrtg"},Nb.createElement("div",{className:"zpl_tg"},Nb.createElement("span",null,t.metric_name))))))},pY=function(e){var t=e.questions,n=e.taggedIds,r=Kb();return Nb.createElement("div",{className:"zpl_btnmnu"},Nb.createElement("div",{className:"zpl_rgt"},Nb.createElement("button",{className:"zlabel zlabel--blue zlabel--medium",onClick:function(){var e=n[0],a=(t||[]).filter(function(t){return t.question_id===e})[0];if(a){var o={question:a.question,question_id:a.question_id,minscore_text:a.minscore_text,maxscore_text:a.maxscore_text};a.metric_id&&(o.metric_id=a.metric_id),r(Fi(o)),r(ys())}},disabled:!(null!=n&&n.length)},ZPI18N.getString("zp.assessment.createquestion"))))},fY=function(e){var t=e.questionBank,n=t.questions,r=t.taggedIds,a=t.fetchInitialData,o=t.isLoading,i=a||o,l=Kb(),c=function(e){l(hs({taggedIds:[e]}))};return Nb.createElement("div",{className:"zpl_mcnt zpl_fm"},Nb.createElement(pY,{questions:n,taggedIds:r}),i?Nb.createElement(aE,null):Nb.createElement("div",{className:"secViewAsmnt"},Nb.createElement("div",{className:"zpl_qacrd zpl_qalst-js"},Nb.createElement("div",null,(n||[]).map(function(e){return Nb.createElement(dY,{key:e.question_id,question:e,updateQBankActiveQuestionIds:c,isActive:r.includes(e.question_id)})})))))},mY=function(){var e=Mb(function(e){return e.questionBank},Hb),t=e.fetchInitialData,n=Kb();return(0,Nb.useEffect)(function(){t&&(n(hs({isLoading:!0,questions:[]})),n(ms()))},[]),Nb.createElement("div",{className:"zpl_mdl zpl_mmd zpl_mopen"},Nb.createElement("div",{className:"zpl_minr"},Nb.createElement(eE,{name:ZPI18N.getString("zp.assessment.base.questionbank"),cancelAction:function(){n(ys())}}),Nb.createElement(fY,{questionBank:e})))};function vY(e){var t,n,r=e.additionalData,a=Mb(function(e){return e.modalBox}),o=a.render,i=a.viewType,l=Mb(function(e){return e.popupModalBox}).render,c=Mb(function(e){return e.questionBank.render}),u=Mb(function(e){return e.questionCard.render}),s=Mb(function(e){return e.mail.render}),d=Mb(function(e){return e.viewTemplate.render}),p=c&&i===Po.ENPS,f=c&&(i===Po.ENGAGEMENT||i===Po.PULSE),m=o;return[Po.MY_SURVEY_REPORT_ENPS,Po.MY_SURVEY_REPORT_ENGAGEMENT].includes(i)&&(m=null==r?void 0:r.isMyDataReport),(o||c||u||l)&&(null!=r&&r.isMyData?null===(t=Em().querySelector("#ee-my-survey-react"))||void 0===t||t.classList.remove("zpl_DNI"):null===(n=Em().querySelector("#ee-module-react-root"))||void 0===n||n.classList.remove("zpl_DNI")),Nb.createElement(Nb.Fragment,null,m&&Nb.createElement(qV,null),l&&Nb.createElement(DB,null),s&&Nb.createElement(sY,null),p&&Nb.createElement(mY,null),f&&Nb.createElement(Tx,null),u&&Nb.createElement(jO,null),d&&Nb.createElement(TI,null))}function yY(){var e,t=Mb(function(e){return e.popupModalBox}).render;return null===(e=Em().querySelector("#ee-my-survey-react"))||void 0===e||e.classList.remove("zpl_DNI"),"#employeeengagement/mydata/mysurveys".includes(location.hash)?Nb.createElement(Nb.Fragment,null,t&&Nb.createElement(DB,null)):Nb.createElement(Nb.Fragment,null)}function gY(){var e=Mb(function(e){return e.modalBox}).render;return Nb.createElement(Nb.Fragment,null,e&&Nb.createElement(qV,null))}var hY=function(e){var t=e.additionalData;return Nb.createElement(Vb,{store:fm},Nb.createElement(W_,null,Nb.createElement(vY,{additionalData:t})))},bY=function(e){var t=e.additionalData;return Nb.createElement(Vb,{store:fm},Nb.createElement(W_,null,Nb.createElement(yY,{additionalData:t})))},_Y=function(e){var t=e.additionalData;return Nb.createElement(Vb,{store:fm},Nb.createElement(W_,null,Nb.createElement(gY,{additionalData:t})))};const EY=function(){let e={};return{setObject:function(t){e=t},getObject:function(){return e}}}(),SY=e=>{let t=$.Deferred();return Mm("/zpsurvey/surveys/settings",null,Me,function(n){n.status==Ze?(EY.setObject(n.survey_settings),"function"==typeof e&&e()):Mn(n.responseJSON||{errorcode:st}),t.resolve(n||!1)}),t.promise()},wY=()=>{let e=EY.getObject().general.create,t=[{manager:ZPI18N.getString("zp.manager")},{department_lead:ZPI18N.getString("zp.depthead")}];return Kn("div",{className:"zpl_rgtcnt",rel:"PERM_LIST"},Kn("div",{className:"zpl_tblres zpl_secn"},Kn("table",{className:"zpl_tbl"},Kn("thead",null,Kn("tr",null,Kn("th",null,ZPI18N.getString("zp.roles")),Kn("th",null,SettingsUtil.convertTextType(ZPI18N.getString("zp.survey.addsurvey"),2)),Kn("th",null,SettingsUtil.convertTextType(ZPI18N.getString("zp.survey.share_report"),2)))),Kn("tbody",null,(t||[]).map(t=>{const n=Object.keys(t)[0],r=t[n];return PY(r,n,e)})))),NY())},NY=()=>Kn("div",{className:"zpl_info"},Kn("div",null,Kn("h6",null,Kn("b",null,ZPI18N.getString("zp.notes")+":")),Kn("p",{rel:"NOTES"})),Kn("p",null)),PY=(e,t,n)=>{let r=[ot,it],a=n.department_lead_perm,o=n.manager_perm;return Kn("tr",{rel:t},Kn("td",null,Kn("span",null,e)),[...r||[]].map(e=>{let n={};(t==rt&&(e==ot&&1==a.add||e==it&&1==a.share)||t==at&&(e==ot&&1==o.add||e==it&&1==o.share))&&(n={checked:"true"});let r=!1;return t==rt&&0==a.add&&e==it&&(r=!0),t==at&&0==o.add&&e==it&&(r=!0),Kn("td",{key:e,className:r?"disabled":""},Kn("div",{className:"zcheckbox",onClick:OY},Kn("input",Xh({id:e,type:"checkbox",rel:e,className:"zcheckbox__helper"},n)),Kn("label",{htmlFor:e,className:"zcheckbox__label"})))}))},OY=e=>{let t,n=(e.target||e.srcElement).closest("div"),r=n.closest("tr"),a=[ot,it],o=n.querySelector("input").getAttribute("rel"),i={};if(a.includes(o)){let e=r.querySelector("input[rel="+o+"]");IY(e,r,o),t=o===ot?r.querySelector("input[rel=ADD_PERM]").checked?{add:!0,share:!0}:{add:!1,share:!1}:{add:r.querySelector("input[rel=ADD_PERM]").checked,share:r.querySelector("input[rel=SHARE_PERM]").checked},r.getAttribute("rel")==rt?i.department_lead=t:r.getAttribute("rel")==at&&(i.manager=t),((e,t)=>{let n={};n={createPerm:JSON.stringify(t),mode:e},Mm("/zpsurvey/surveys/settings",n,"PUT",function(){ZAlertBanner.show({message:ZPI18N.getString("zp.survey.settings.successmsg"),type:"success",hideDelay:5e3,icon:!0,closeButton:!0}),(e=>{SY(e)})()},null,function(e){Mn(e.responseJSON||{errorcode:st})})})(lt,i)}},IY=(e,t,n)=>{let r;if(e.checked?(e.checked=!1,r=!0):(e.checked=!0,r=!1),n==ot){t.querySelector("input[rel=SHARE_PERM]").disabled=r,t.querySelector("input[rel=SHARE_PERM]").checked=!r;let e=t.querySelector("td[key=SHARE_PERM]");r&&!km(e,"disabled")?Tm(e,"disabled"):!r&&km(e,"disabled")&&xm(e,"disabled")}},zY=e=>{let t=Sm();Rm(),t.innerHTML="",t.appendChild(Kn("fragment",null,Kn(cb,{info:ZPI18N.getString("zp.survey.operation.metrics.info"),className:"P0I"}),Kn(CY,{metricList:e}),Kn("div",{className:"zpl_rgtcnt"},Kn("div",{className:"zpl_mb5",rel:"EE_METRIC_LIST"},Kn(TY,{metricList:e}),Kn(xY,{metricList:e})))))},CY=({metricList:e})=>Kn("div",{className:"zpl_btnmnu "+(e.length<50?"":"hide"),rel:"EE_ADD_METRIC"},Kn("div",{className:"zpl_rgt"},Kn(Jh,{name:ZPI18N.getString("zp.survey.metric.add"),buttonHander:AY}))),TY=({metricList:e})=>{const t=YY(e);return Kn("fragment",null,t.length>0&&Kn("fragment",null,Kn(ub,{name:ZPI18N.getString("zp.survey.default.metrics")}),Kn(kY,{metricsList:t})))},xY=({metricList:e})=>{const t=WY(e);return Kn("fragment",null,t.length>0&&Kn("fragment",null,Kn(ub,{name:ZPI18N.getString("zp.survey.custom.metrics"),rel:"CUSTOM_METRIC_HEADER"}),Kn(kY,{metricsList:t,rel:"CUSTOM_METRICS"})))},kY=({rel:e,metricsList:t})=>Kn("div",{className:"zpl_secn"},Kn("div",{className:"zpl_cat",rel:e},(t||[]).map((e,t)=>Kn(DY,{key:t,id:e.metric_id,name:e.name,isMoreActionNeeded:!e.is_default_metric})))),DY=({id:e,name:t,isMoreActionNeeded:n})=>Kn("div",{mid:e,rel:"METRIC_CONTAINER"},Kn("div",{className:"zpl_Fldtl"},Kn("div",{className:"zpl_tgl"},Kn("input",{className:"togbutton-js",rel:"CATEGORY",on:"true",style:"display: none;"}),Kn("span",{className:"txttrim",rel:"METRIC_NAME"},t))),n&&Kn("div",{className:"zpl_actn"},Kn("span",null,Kn("i",{className:"PI_edt",onClick:()=>{AY({mode:"edit",metricId:e,metricName:t})}}),Kn("i",{className:"PI_delete",onClick:()=>{GY(e)}}))));let jY;const AY=({mode:e="add",metricId:t,metricName:n})=>(lh.dispatch(pp({metric_id:t,mode:e})),((e="add")=>{let t={title:ZPI18N.getString("add"==e?"zp.survey.metric.add":"zp.survey.metric.edit"),modalId:"AddToMetric",buttons:[{name:"save",txt:ZPI18N.getString("zp.save"),callback:e=>{qm(e),RY(n)}},{name:"close",txt:ZPI18N.getString("zp.cancel"),callback:e=>{qm(e),qY()}}],content:Kn(sb,{name:n,label:ZPI18N.getString("zp.survey.metric.name"),onInputHandler:LY,parentRel:"METRIC_ELEMENT",inputRel:"METRIC_INPUT",maxLength:50}),closeaction:()=>{qY()}};jY=new ky(t),jY.appendTo(Em().querySelector(".main-wrp")),MY().querySelector("input[rel=METRIC_INPUT]").focus()})(e)),RY=e=>{const{metrics:t={}}=lh.getState().surveyCommon,{mode:n=""}=t.createData||{};n&&ZY()&&("add"==n?(()=>{const{metrics:e}=lh.getState().surveyCommon,{metric_name:t=""}=e.createData;lh.dispatch(ip({payload:{metric_name:t}})).then(e=>{if("fulfilled"===e.meta.requestStatus){let t=e.payload;qY(),B({text:ZPI18N.getString("zp.added.successfully.msg",[ZPI18N.getString("zp.survey.metric")]),duration:3e3}).showSuccess(),UY(t)}else if("rejected"===e.meta.requestStatus){let t=e?.payload?.response?.data?.message??ZPI18N.getString("zp.unabletoprocess"),n=e?.payload?.response?.data?.errorcode;B({text:fv(n,t,{isMetricRequest:!0}),duration:3e3}).showError()}})})():(e=>{const{metrics:t}=lh.getState().surveyCommon,{metric_name:n="",metric_id:r}=t?.createData;""!=n&&n!=e?lh.dispatch(lp({metricId:r,payload:{metric_name:n}})).then(e=>{if("fulfilled"===e.meta.requestStatus){let t=e.payload;qY(),B({text:ZPI18N.getString("zp.saved.successfully.msg",[ZPI18N.getString("zp.survey.metric")]),duration:3e3}).showSuccess(),HY(t)}else if("rejected"===e.meta.requestStatus){let t=e?.payload?.response?.data?.message??ZPI18N.getString("zp.unabletoprocess"),n=e?.payload?.response?.data?.errorcode;B({text:fv(n,t,{isMetricRequest:!0}),duration:3e3}).showError()}}):qY()})(e))},qY=()=>{jY?.removeElement(),lh.dispatch(fp({}))},MY=()=>jY?.modal,ZY=()=>{let e,t=MY(),n=t.querySelector("div[rel=METRIC_ELEMENT]"),r=n.querySelector("input"),a=t.querySelector("span.ztextbox--error__label"),o=!0;return""===r.value.replace(/\s+/,"")?(function(e,t,n,r){km(e,"zpl_erorbx")||(e.className="zpl_erorbx"),!km(t,"ztextbox__error")&&Tm(t,"ztextbox__error"),n||(n=Kn("span",{className:"ztextbox--error__label"}),t.parentNode.appendChild(n)),n.innerHTML=r}(n,r,a,ZPI18N.getString("zp.survey.error.metrics.notfound")),e=r,o=!1):Hm(n,r,a),!!o||(e&&(l=t,c=(i=e).getBoundingClientRect(),$(l).animate({scrollTop:l.scrollTop+c.top-100},"400","swing"),setTimeout(function(){i.focus()},0)),!1);var i,l,c},LY=e=>{let t=e.target||e.srcElement;FY(e),lh.dispatch(pp({metric_name:t.value}))},FY=e=>{let t=e.target||e.srcElement,n=t.closest("div[rel=METRIC_ELEMENT]"),r=n.querySelector(".ztextbox--error__label");null!=r&&Hm(n,t,r)},BY=(e,t)=>{const{metrics:n}=lh.getState().surveyCommon,r=n.all;let a=t?.getAttribute("mid"),o=t.querySelector("input[rel=CATEGORY]");o&&("1"==r.filter(e=>e.metric_id==a)[0].status?ZPeopleComponents.toggleswitch(o).switchOn():ZPeopleComponents.toggleswitch(o).switchOff(),$(o).on("ztoggleswitchchange",function(){ZPeopleComponents.toggleswitch(o).getState()&&a?$Y({category:o,metricId:a}):QY({category:o,metricId:a})}))},UY=e=>{const{metric_id:t,name:n,is_default_metric:r=!1}=e;let a=Sm();if(a){let e=a.querySelector("[rel=CUSTOM_METRICS]");if(e){let a=e.firstChild;a?e.insertBefore(Kn(DY,{id:t,name:n,isMoreActionNeeded:!r}),a):e.appendChild(Kn(DY,{id:t,name:n,isMoreActionNeeded:!r}))}else a.querySelector("[rel=EE_METRIC_LIST]").appendChild(Kn(xY,{metricList:[{metric_id:t,name:n,is_default_metric:r}]}));e=a.querySelector("[rel=CUSTOM_METRICS]"),BY(e.children.length,e.querySelector(`[mid='${t}']`)),VY()}},HY=e=>{const{metric_id:t,name:n,is_default_metric:r=!1}=e;let a=Sm().querySelector("[rel=CUSTOM_METRICS]");a?.querySelector("[mid='"+t+"']")?.replaceWith(Kn(DY,{id:t,name:n,isMoreActionNeeded:!r})),BY(a.children.length,a.querySelector(`[mid='${t}']`))},VY=()=>{let e=Sm()?.querySelector("[rel=EE_ADD_METRIC]");const{metrics:t}=lh.getState().surveyCommon;t.all.length>=50?!km(e,"hide")&&Tm(e,"hide"):km(e,"hide")&&xm(e,"hide")},YY=e=>(e||[]).filter(e=>e.is_default_metric),WY=e=>(e||[]).filter(e=>!e.is_default_metric),GY=async e=>{const t=new Ry(ZPI18N.getString("zp.survey.metric.delete"),ZPI18N.getString("zp.survey.metric.delete.msg"),ZPI18N.getString("zp.confirm"),ZPI18N.getString("zp.cancel"),"red");await t.confirmation()&&lh.dispatch(cp({metricId:e})).then(t=>{if("fulfilled"===t.meta.requestStatus)(e=>{let t=Sm(),n=t.querySelector("[rel=CUSTOM_METRICS]");const{metrics:r}=lh.getState().surveyCommon,a=r.all;let o=WY(a);n?.querySelector("[mid='"+e+"']")?.remove(),o.length<=0&&(t.querySelector("[rel=CUSTOM_METRIC_HEADER]")?.remove(),n?.remove()),VY()})(e),B({text:ZPI18N.getString("zp.deleted.successfully.msg",[ZPI18N.getString("zp.survey.metric")]),duration:3e3}).showSuccess();else if("rejected"===t.meta.requestStatus){let e=t?.payload?.response?.data?.message??ZPI18N.getString("zp.unabletoprocess");B({text:e,duration:3e3}).showError()}})},$Y=({category:e,metricId:t})=>{lh.dispatch(up({metricId:t})).then(t=>{if("fulfilled"===t.meta.requestStatus)B({text:ZPI18N.getString("zp.lite.reportsenablesuccess",[ZPI18N.getString("zp.survey.metric")]),duration:3e3}).showSuccess();else if("rejected"===t.meta.requestStatus){ZPeopleComponents.toggleswitch(e).switchOff();let n=t?.payload?.response?.data?.message??ZPI18N.getString("zp.unabletoprocess");B({text:n,duration:3e3}).showError()}})},QY=({category:e,metricId:t})=>{lh.dispatch(sp({metricId:t})).then(t=>{if("fulfilled"===t.meta.requestStatus)B({text:ZPI18N.getString("zp.lite.reportsdisablesuccess",[ZPI18N.getString("zp.survey.metric")]),duration:3e3}).showSuccess();else if("rejected"===t.meta.requestStatus){ZPeopleComponents.toggleswitch(e).switchOn();let n=t?.payload?.response?.data?.message??ZPI18N.getString("zp.unabletoprocess");B({text:n,duration:3e3}).showError()}})};function XY(e){return XY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XY(e)}function KY(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return JY(u,"_invoke",function(n,r,a){var o,l,c,u=0,s=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,l=0,c=e,p.n=n,i}};function f(n,r){for(l=n,c=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],f=p.p,m=o[2];n>3?(a=m===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(l=0,p.v=r,p.n=o[1]):f<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,m),l=s,c=m;(t=l<2?e:c)||!d;){o||(l?l<3?(l>1&&(p.n=-1),f(l,c)):p.n=c:p.v=c);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(JY(t={},r,function(){return this}),t),d=u.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,JY(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,JY(d,"constructor",u),JY(u,"constructor",c),c.displayName="GeneratorFunction",JY(u,a,"GeneratorFunction"),JY(d),JY(d,a,"Generator"),JY(d,r,function(){return this}),JY(d,"toString",function(){return"[object Generator]"}),(KY=function(){return{w:o,m:p}})()}function JY(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}JY=function(e,t,n,r){function o(t,n){JY(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},JY(e,t,n,r)}function eW(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function tW(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){eW(o,r,a,i,l,"next",e)}function l(e){eW(o,r,a,i,l,"throw",e)}i(void 0)})}}function nW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function rW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rW(Object(n),!0).forEach(function(t){oW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oW(e,t,n){return(t=function(e){var t=function(e){if("object"!=XY(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=XY(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==XY(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iW={data:void 0,dbHash:"",fetchInitialData:!0},lW=ja({name:"settings",initialState:iW,reducers:{overrideSettingsSlice:function(e,t){return aW(aW({},e),t.payload)},resetSettingsSlice:function(){return iW},updateSettingsGeneralSlice:function(e,t){e.data.general=t.payload},overrideSettingsGeneralSlice:function(e,t){var n;e.data.general=aW(aW({},null===(n=e.data)||void 0===n?void 0:n.general),t.payload)}},extraReducers:function(e){e.addCase(cW.fulfilled,function(e,t){var n=t.payload.survey_settings;e.data=aW(aW({},e.data),n),e.fetchInitialData=!1,e.dbHash=bo(e.data)}).addCase(uW.fulfilled,function(e,t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nW(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nW(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.payload,2),r=n[0],a=n[1],o=mo(a);o.enps=a.enps?1:0,o.fullengagement=a.fullengagement?1:0,r==ct&&(e.data.general=aW(aW({},e.data.general),{},oW({},r,o))),e.dbHash=bo(e.data)})}}),cW=za("settings/getSettingsData",function(){var e=tW(KY().m(function e(t,n){var r,a;return KY().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,y.get("zpsurvey/surveys/settings");case 1:return r=e.v,e.a(2,r.data);case 2:return e.p=2,a=e.v,e.a(2,n.rejectWithValue(a))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),uW=za("settings/updateSettingsData",function(){var e=tW(KY().m(function e(t,n){var r,a,o,i;return KY().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=t.payload,a=t.mode,o={mode:a},a==ct&&(o.moduleConfig=JSON.stringify(r)),e.n=1,y.putForm("zpsurvey/surveys/settings",o,{headers:{"X-ZCSRF-TOKEN":"conreqcsr=".concat(csrfToken)}});case 1:return e.v,e.a(2,[a,r]);case 2:return e.p=2,i=e.v,e.a(2,n.rejectWithValue(i))}},e,null,[[0,2]])}));return function(t,n){return e.apply(this,arguments)}}()),sW=lW.actions,dW=(sW.overrideSettingsSlice,sW.resetSettingsSlice,sW.updateSettingsGeneralSlice),pW=sW.overrideSettingsGeneralSlice,fW=_a({reducer:{mail:Dp,settings:lW.reducer}});const mW=()=>{const{data:e}=fW.getState().settings,{general:t}=e;vW(t.config)},vW=e=>{let t=Sm();Rm(),t.innerHTML="",t.appendChild(Kn("div",{className:"zpl_rgtcnt",rel:"CONFIG_PARENT"},Kn(yW,null))),SW(t,"enpsPerm",e.enps,()=>bW("enpsPerm")),SW(t,"engagementPerm",e.fullengagement,()=>bW("engagementPerm")),SW(t,"pulsePerm",e.pulse,()=>bW("pulsePerm"))},yW=()=>Kn("div",{className:"zpl_crd"},Kn(_W,{saveId:"ee_config_save",resetId:"ee_config_reset",name:ZPI18N.getString("zp.survey.settings.survey_methods"),desc:ZPI18N.getString("zp.survey.settings.config.desc"),saveCallback:gW,clsCallback:hW}),Kn("div",{className:"zpl_crdcnt"},Kn("div",{className:"zpl_info"},Kn("div",null,Kn("p",null,ZPI18N.getString("zp.survey.config.method.info")))),Kn(EW,{id:"enpsPerm",name:ZPI18N.getString("zp.enps.tab.name")+" "+ZPI18N.getString("zp.local.survey"),desc:ZPI18N.getString("zp.survey.settings.config.enps.desc")}),Kn(EW,{id:"pulsePerm",name:ZPI18N.getString("zp.pulse.survey"),desc:ZPI18N.getString("zp.survey.settings.config.pulse.desc")}),Kn(EW,{id:"engagementPerm",name:ZPI18N.getString("zp.engagementsurvey"),desc:ZPI18N.getString("zp.survey.settings.config.engagement.desc")}))),gW=()=>{let e=Sm(),t=$(e).find("input#enpsPerm"),n=$(e).find("input#engagementPerm"),r=$(e).find("input#pulsePerm"),a=ZPeopleComponents.toggleswitch(t).getState(),o=ZPeopleComponents.toggleswitch(n).getState(),i=ZPeopleComponents.toggleswitch(r).getState(),l=e.querySelector("#ee_config_save"),c=e.querySelector("#ee_config_reset");if(a||o||i){let e={enps:a,fullengagement:o,pulse:i};fW.dispatch(uW({payload:e,mode:ct})).then(t=>{"fulfilled"===t.meta.requestStatus&&(!km(l,"hide")&&Tm(l,"hide"),!km(c,"hide")&&Tm(c,"hide"),fm.dispatch(hp({config:e})),ZPNewTabs.refreshThirdLevelTab("employeeengagement-surveys"),ZPNewTabs.updateSubtabs("EmployeeEngagement"),B({text:ZPI18N.getString("zp.survey.settings.successmsg"),duration:3e3}).showSuccess())})}},hW=()=>{const{data:e}=fW.getState().settings,{general:t}=e,{config:n}=t;let r=mo(t);delete r?.currentConfig,fW.dispatch(dW(r));let a=Sm(),o=$(a).find("input#enpsPerm"),i=$(a).find("input#engagementPerm"),l=$(a).find("input#pulsePerm"),c=a.querySelector("#ee_config_save"),u=a.querySelector("#ee_config_reset");n?.enps?ZPeopleComponents.toggleswitch(o).switchOn():ZPeopleComponents.toggleswitch(o).switchOff(),n?.fullengagement?ZPeopleComponents.toggleswitch(i).switchOn():ZPeopleComponents.toggleswitch(i).switchOff(),n?.pulse?ZPeopleComponents.toggleswitch(l).switchOn():ZPeopleComponents.toggleswitch(l).switchOff(),!km(c,"hide")&&Tm(c,"hide"),!km(u,"hide")&&Tm(u,"hide")},bW=e=>{let t=Sm(),n=$(t).find("input#"+e),r=$(t).find("input#enpsPerm"),a=$(t).find("input#engagementPerm"),o=$(t).find("input#pulsePerm"),i=ZPeopleComponents.toggleswitch(r).getState(),l=ZPeopleComponents.toggleswitch(a).getState(),c=ZPeopleComponents.toggleswitch(o).getState();if(i||l||c){let e=t.querySelector("#ee_config_save"),n=t.querySelector("#ee_config_reset"),r={enps:i?1:0,fullengagement:l?1:0,pulse:c?1:0};km(e,"hide")&&xm(e,"hide"),km(n,"hide")&&xm(n,"hide"),fW.dispatch(pW({currentConfig:r}))}else ZPeopleComponents.toggleswitch(n).switchOn(),B({text:ZPI18N.getString("zp.survey.settings.all_module_disable.error.msg"),duration:3e3}).showError()},_W=({saveId:e,resetId:t,name:n,desc:r,saveCallback:a,clsCallback:o})=>Kn("div",{className:"zpl_crdhdr"},Kn("div",null,n&&Kn("h4",null,n),r&&Kn("p",null,r)),Kn("div",null,"function"==typeof a&&Kn(Jh,{id:e,className:"hide",name:ZPI18N.getString("zp.save"),buttonHander:a}),"function"==typeof o&&Kn(eb,{id:t,className:"hide",name:ZPI18N.getString("zp.reset"),buttonHander:o}))),EW=({id:e,name:t,desc:n})=>Kn("div",{className:"zpl_secn"},Kn("div",{className:"zpl_tgsprt "},Kn("h5",{className:"zpl_tgl"},Kn("input",{className:"togbutton-js",id:e,style:"display: none;"}),t),Kn("p",null,n))),SW=(e,t,n,r)=>{let a=$(e).find("input#"+t);ZPeopleComponents.toggleswitch(a),n&&ZPeopleComponents.toggleswitch(a).switchOn(),r&&"function"==typeof r&&$(a).on("ztoggleswitchchange",function(){r()})},wW=()=>{const{data:e}=fW.getState().settings;let t=[ZPI18N.getString("zp.survey.create.notification.header"),ZPI18N.getString("zp.survey.reminder.survey.header"),ZPI18N.getString("zp.survey.extension.survey.header")],n=[ZPI18N.getString("zp.survey.automation.notification.desc"),ZPI18N.getString("zp.survey.automation.notification.reminder.desc"),ZPI18N.getString("zp.survey.extension.mail.template.desc")],r=[Xe,"reminder","survey_extension"],a=e.notifications,o=a[Ke];return Kn("div",{className:"zpl_rgtcnt",rel:"NOTIY_PARENT"},[...r||[]].map((e,i)=>{let l=a[e];return Kn("div",{className:"zpl_crd"},e==Xe&&Kn("fragment",null," ",Kn(_W,{name:ZPI18N.getString("zp.notifications"),desc:ZPI18N.getString("zp.survey.automation.notification.heaser.desc")})),Kn("div",{className:"zpl_crdcnt"},Kn("div",{key:"0",className:"zpl_secn",tid:l.template_id||0,mailalert_id:l.mailalert_id||0,rel:"TEMPLATES"},Kn("div",null,Kn("h5",{className:"zpl_tgl"},t[i])),Kn("div",{className:"d-flexC"},Kn("div",null,Kn("span",null,n[i])),Kn("div",{className:"MLauto"},Kn("button",{type:"button",className:"zlabel zlabel--outline zlabel--medium",onClick:()=>{fW.dispatch(xp({render:!0,type:r[i],mailAlertId:l.mailalert_id,isLoading:!0,header:t[i]}))}},ZPI18N.getString("zp.edittemp")))),e==Xe&&Kn("fragment",null,Kn("div",{className:"d-flexC"},Kn("div",null,Kn("span",null,ZPI18N.getString("zp.survey.startwithmanual.survey.template.name"))),Kn("div",{className:"MLauto"},Kn("button",{type:"button",className:"zlabel zlabel--outline zlabel--medium",onClick:()=>{fW.dispatch(xp({render:!0,type:Ke,mailAlertId:o.mailalert_id,isLoading:!0,header:t[i]}))}},ZPI18N.getString("zp.edittemp"))))))))}))};function NW(){var e=Mb(function(e){return e.mail.render});return Nb.createElement(Nb.Fragment,null,e&&Nb.createElement(sY,null))}var PW=function(){return Nb.createElement(Vb,{store:fW},Nb.createElement(W_,null,Nb.createElement(NW,null)))};const OW=()=>{let e=fm.getState().mySurvey,t=e?.filter;const n=document.getElementById("my_surveys_view");n.innerHTML="",n.appendChild(Am()),IW(t,e=>{const{filter:n}=e;vo(t,n)||(SR(),AW())})},IW=(e,t)=>{fm.dispatch(af({pno:0,filter:lR(e)})).then(e=>{"fulfilled"===e.meta.requestStatus&&t(fm.getState().mySurvey)})},zW=e=>{const{filter:t}=fm.getState().mySurvey;SR();const n=ZPCreateDOM(ib,{staticChildren:ZPCreateDOM(dR,{rel:"EE_MYSURVEY_SURVEYNAME_FILTER",filter:t,onInputHandler:()=>{CW(!1)}}),children:ZPCreateDOM(Am,null),clsCallback:jW,saveCallback:()=>(fm.dispatch(cf({data:[],filter:TW(),nextPageNumber:0})),void OW()),resetCallback:()=>(fm.dispatch(cf({data:[],filter:{status:"0"},nextPageNumber:0})),jW(),void OW())});S(e,"zpl_fltr_flt"),e.appendChild(n),kW(e,t);const r=n.querySelector("input[type=search]");r?.focus(),r.selectionStart=r.selectionEnd=r.value.length,tv(void 0,t=>{null!=e?.querySelector("div[rel=EE_FILTER_WRAPPER]")&&(qm(t),jW())})},CW=(e=!0)=>{let t=Sm().querySelector("#eeFilterSave");t&&e?S(t,"hide"):xm(t,"hide")},TW=()=>{let e=Sm(),t=e.querySelector("[rel=EE_MYSURVEY_SURVEYNAME_FILTER]"),n=e.querySelector("#statusFilter"),r=e.querySelector("#surveyTypeFilter"),a={};return t.value.trim().length>0&&(a.survey_name=t.value.trim()),ZPeopleComponents.select($(n))?.getValue().length>0&&(a.status=ZPeopleComponents.select($(n)).getValue()),ZPeopleComponents.select($(r))?.getValue().length>0&&(a.survey_type=ZPeopleComponents.select($(r)).getValue()),a},xW=({period:e})=>ZPCreateDOM("fragment",null,ZPCreateDOM("div",{className:"zpl_secn"},ZPCreateDOM("div",null,ZPCreateDOM("label",{tabIndex:"0"},ZPI18N.getString("zp.survey.type"))),ZPCreateDOM("div",null,ZPCreateDOM("select",{id:"surveyTypeFilter"}))),ZPCreateDOM("div",{className:"zpl_secn"},ZPCreateDOM("div",null,ZPCreateDOM("label",{tabIndex:"0"},ZPI18N.getString("zp.status"))),ZPCreateDOM("div",null,ZPCreateDOM("select",{id:"statusFilter"})))),kW=(e,t)=>{const{survey_type:n,status:r,period:a}=t;let o={},i={},l=[];Object.keys(Je).forEach(e=>{let t={label:ZPI18N.getString(Je[e]),value:e};l.push(t),n==e&&(i=t)}),(kt||[]).forEach(e=>{r==e?.value&&(o=e)});let c={options:kt,selectedValue:o.value||0,optionclick:()=>CW(!1)};Rm(),e.querySelector("[rel=EE_FILTER_BODY]").appendChild(ZPCreateDOM(xW,{period:a})),ZPeopleComponents.select($(e).find("#surveyTypeFilter"),{options:l,selectedValue:i.value||0}),ZPeopleComponents.select($(e).find("#statusFilter"),c)},DW=({filter:e})=>{const{survey_name:t,survey_type:n}=e;if(!t&&!n)return null;const r=(t,n)=>{t.stopPropagation();const r={...e};Array.isArray(n)?n.forEach(e=>{delete r[e]}):delete r[n],fm.dispatch(cf({filter:r,data:[],nextPageNumber:0})),OW(),t.target?.parentElement?.remove()},a=()=>{jW(),zW(Cm("MYSURVEY_SURVEY_CONT"))};return ZPCreateDOM("div",{className:"zpl_fltrvw",id:"survey-filter-view"},ZPCreateDOM("div",null,ZPCreateDOM("ul",{className:"zpl_fltrvwlst"},t&&ZPCreateDOM(lb,{filterLabel:ZPI18N.getString("zp.surveyname"),filter:t,closeHandler:e=>r(e,"survey_name"),onClickContainer:a}),n?.length>0&&ZPCreateDOM(lb,{filterLabel:ZPI18N.getString("zp.survey.type"),filter:ZPI18N.getString(Je[n]),onClickContainer:()=>{a()},closeHandler:e=>r(e,"survey_type")}))),ZPCreateDOM("div",{className:"d-flexcap MLauto",onClick:()=>{fm.dispatch(cf({filter:{status:e.status},data:[],nextPageNumber:0})),OW(),ar("assess-survey-zpmenu"),Cm("survey-filter-view")?.remove()}},ZPCreateDOM("a",{className:"zpl_link"},ZPI18N.getString("zp.reset"))))},jW=()=>{let e=Cm("MYSURVEY_SURVEY_CONT");xm(e,"zpl_fltr_flt"),SR(),Sm().querySelector("[rel=EE_FILTER_WRAPPER]")?.remove()},AW=(e=!1,t)=>{let n=location.hash,r=Cm("SURVEY_CONT")?.querySelector("#surveyStatus");r&&ZPeopleComponents.select(r).destroy();let a=Cm("MYSURVEY_SURVEY_CONT")?.querySelector("#mySurveyStatus");a&&ZPeopleComponents.select(a).destroy(),"#employeeengagement/mydata/mysurveys"!=location.hash&&t&&t==bt&&fm.dispatch(cf({filter:{status:un[0].type},view:bt})),n.includes("#employeeengagement/mydata/mysurveys")&&($('[id*="employeeengagement-mydata-"]')?.empty(),NR(Cm("employeeengagement-mydata-mysurveys"),"MYSURVEY_SURVEY_CONT"),RW(e))},RW=e=>{let{fetchInitialData:t,view:n}=fm.getState().mySurvey;if(Cm("MYSURVEY_SURVEY_CONT").appendChild(Am()),e||t)fm.dispatch(rf()).then(e=>{if(Rm(),"fulfilled"===e.meta.requestStatus){let{filter:e}=fm.getState().mySurvey;qW(),fm.dispatch(af({pno:0,filter:e})).then(e=>{"fulfilled"===e.meta.requestStatus&&MW()})}else"rejected"===e.meta.requestStatus&&B({text:e.payload.response.data.message?e.payload.response.data.message:ZPI18N.getString("zp.unabletoprocess"),duration:3e3}).showError()});else if(n==bt){let{filter:e}=fm.getState().mySurvey;qW(),fm.dispatch(af({pno:0,filter:e})).then(e=>{"fulfilled"===e.meta.requestStatus&&MW()})}else qW(),MW()},qW=()=>{let e=Cm("MYSURVEY_SURVEY_CONT");e.innerHTML="";let{surveyStatusCount:t,filter:n}=fm.getState().mySurvey;const{initData:r}=fm.getState().surveyCommon,{read_only:a=!1}=r,o=(e,t)=>{const n=(e.target||e.srcElement).closest("[rel=MYSURVEY_HEADER]").querySelector("[rel=MYDATA_SEARCH]");let{filter:r}=fm.getState().mySurvey;"open"===t?(n.classList.add("opn"),n.querySelector("input").focus()):"close"===t&&(n.classList.remove("opn"),n.querySelector("input").value="",l({...r,survey_name:""}))},i=e=>{let t=e.target||e.srcElement,{filter:n}=fm.getState().mySurvey;l({...n,survey_name:t.value})},l=e=>{let t=Cm("MYSURVEY_SURVEY_CONT");const n=document.getElementById("my_surveys_view");n&&(n.innerHTML=""),t.appendChild(Am()),fm.dispatch(cf({filter:e,nextPageNumber:0})),IW(e,({data:e})=>{MW()})},c=e=>{const t=(e.target||e.srcElement).closest("[rel=MYSURVEY_HEADER]"),n=t?.querySelector("[rel=MYDATA_SEARCH]");n&&km(n,"opn")&&o(e,"close")},u=e=>{const t=fm.getState().surveyCommon.initData,{config:n={}}=t,{enps:r,fullengagement:a}=n;let o=[];r&&o.push(Ht.createEnps),r&&a&&o.push(Ht.seperator),a&&(o.push(Ht.createEngagement),o.push(Ht.createPulse)),e.stopPropagation();const i={className:"zpl_drpdwn",forElement:e.target,show:()=>(()=>{let e=Sm().querySelector("[rel=MYSURVEY_CREATE_SURVEY]"),t=e?.parentElement;e&&!km(e,"zpl_act")&&Tm(e,"zpl_act"),t&&!km(t,"zpl_hvract")&&Tm(t,"zpl_hvract")})(),hide:()=>{(()=>{let e=Sm().querySelector("[rel=MYSURVEY_CREATE_SURVEY]"),t=e?.parentElement;e&&km(e,"zpl_act")&&xm(e,"zpl_act"),t&&km(t,"zpl_hvract")&&xm(t,"zpl_hvract")})(),ar("assess-survey-zpmenu")},itemclick:(e,t)=>(e=>{const t={createEnps:()=>eg(),createEngagement:()=>og(),createPulse:()=>fg()};t.hasOwnProperty(e)&&t[e]()})(t.value),contentType:"icon-text"};rr(i,o)};if(0==t.all)e.appendChild(ZPCreateDOM("fragment",null,ZPCreateDOM("div",{className:"zpl_pakragls zpl_mw600",id:"my_surveys_view"}),Am()));else{e.appendChild(ZPCreateDOM("fragment",null,ZPCreateDOM("div",{className:"zpl_btnmnu",rel:"MYSURVEY_HEADER"},ZPCreateDOM("div",{className:"zpl_lft flxauto"},ZPCreateDOM("ul",{className:"zpl_tpcrdlst zpl_pakragls",rel:"MY_SURVEY_STATUS_FLTR",tabIndex:"0",role:"tablist"},(kt||[]).map((e,r)=>{const{name:a,label:o,value:i,className:c}=e;return ZPCreateDOM("li",{className:n.status==i?"zpl_act":c||"",value:i,onClick:t=>((e,t)=>{const r=(e.target||e.srcElement).closest("[rel=MYSURVEY_HEADER]").querySelector("[rel=MY_SURVEY_STATUS_FLTR]"),{value:a}=t;if("#employeeengagement/mydata/mysurveys"!==location.hash)return fm.dispatch(cf({filter:{...n,status:a}})),void dg();[...r.children||[]].forEach(e=>{const t=e.getAttribute("value"),n=e.querySelector("[rel=FILTER_SCOUNT]");e.classList.contains("zpl_act")&&(e.className=un[t].className),t==a?(e.className="zpl_act",n.className=un[a].color):n.className=""}),l({...n,status:a})})(t,e),role:"tab",tabIndex:"0","aria-label":ZPI18N.getString("zp.classification")+` ${r+1}: ${o} `+ZPI18N.getString("zp.surveys")},ZPCreateDOM("span",null,o),ZPCreateDOM("b",{rel:"FILTER_SCOUNT",className:n.status==i?un[i].color:""},t[a]))}))),ZPCreateDOM("div",{rel:"MYDATA_SEARCH",className:"search-cmn"},ZPCreateDOM("i",{className:"PI_lens"}),ZPCreateDOM("input",{type:"text",className:"ztextbox",placeholder:ZPI18N.getString("zp.searchsurvey"),onInput:R(i,300)}),ZPCreateDOM("i",{className:"PI_cls",onClick:e=>o(e,"close")})),ZPCreateDOM("div",{className:"zpl_rgt"},!a&&ZPCreateDOM("button",{className:"zlabel zlabel--blue zlabel--medium",rel:"MYSURVEY_CREATE_SURVEY",onClick:u},ZPI18N.getString("zp.survey.create")),ZPCreateDOM("i",{className:"zpl_ibg PI_lens",tabIndex:"0",role:"button","aria-haspopup":"dialog","aria-label":ZPI18N.getString("zp.survey.mysurvey.search.desc"),onClick:e=>o(e,"open")}),ZPCreateDOM("i",{className:"zpl_ibg PI_fltr",tabIndex:"0",role:"button","aria-haspopup":"dialog","aria-label":ZPI18N.getString("zp.filter.popup"),onClick:()=>zW(Cm("MYSURVEY_SURVEY_CONT"))}))),ZPCreateDOM(DW,{filter:n}),ZPCreateDOM("div",{className:"zpl_pakragls zpl_mw600",id:"my_surveys_view"}),Am()));let r=Cm("MYSURVEY_SURVEY_CONT")?.querySelector("#mySurveyStatus");r&&ZPeopleComponents.select(r).destroy(),(e=>{let t=fm.getState().mySurvey;ZPeopleComponents.select(e.querySelector("#mySurveyStatus"),{options:kt,selectedValue:t?.filter?.status||0,optionclick:(e,n)=>{fm.dispatch(cf({filter:{...t.filter,status:n.selectedValue},data:[],nextPageNumber:0})),OW()}})})(e),tv(void 0,c)}},MW=()=>{let{data:e,filter:t,surveyStatusCount:n}=fm.getState().mySurvey;t?.status>0&&(e=(e||[]).filter(e=>e.user_response_status==t.status||e.is_user_response_availble&&t.status==un[2].type)),Rm();const r=document.getElementById("my_surveys_view");var a;r.innerHTML="",0==n.all?r.appendChild(ZPCreateDOM(rb,{message:ZPI18N.getString("zp.survey.mysurvey.pending.nodata")})):e&&0!==e.length?r.append(ZPCreateDOM("fragment",null,(e||[]).map((e,n)=>LW(e,t.status,n+1)))):r.appendChild(ZPCreateDOM(rb,{message:(a=t.status,[un[0].type,un[1].type].includes(a)?ZPI18N.getString("zp.survey.mysurvey.pending.nodata"):[un[2].type].includes(a)?ZPI18N.getString("zp.survey.mysurvey.completed.nodata"):[un[3].type].includes(a)?ZPI18N.getString("zp.survey.mysurvey.unanswered.nodata"):void 0)})),tv(e=>{let{data:t}=fm.getState().mySurvey,n=e.target||e.srcElement;if(location.hash.includes("#employeeengagement/mydata/mysurveys")){let r=n.closest("[id^='my-survey-box-']"),a=r?.id.replace("my-survey-box-","");if(a){let n=(t||[]).filter(e=>e.survey_id==a)[0];ZW(e,n)}}},void 0)},ZW=(e,t)=>{qm(e),fm.dispatch(cf({currentSurvey:t})),fm.dispatch(io({render:!0,viewType:Po.MY_SURVEY_INFO_POPUP,headerName:t.survey_name,data:{surveyData:t,isFocusNeeded:!0}}))},LW=(e,t,n)=>{const{survey_id:r,survey_name:a,question_count:o,cover_image:i,type:l,user_response_status:c}=e,{id:s=0}=i||{},d=tt[s].className,p=BW(e);let f=go(e);const{endDate:m,currentDate:v,activation_type:y}=p,g=Math.round((m-v)/u),h=c===un[2].type,b=c===un[3].type;return ZPCreateDOM("div",{className:"zpl_accordionlst CP",id:`my-survey-box-${r}`,onClick:t=>ZW(t,e),tabIndex:"0","aria-label":ZPI18N.getString("zp.survey.mysurvey.open.details"),role:"button"},ZPCreateDOM("div",{className:`zpl_accordionhdr zpl_flex-a-c ${t==un[0].type?un[c].className||"zpl_seclr_bdr8":""}`},ZPCreateDOM("div",{className:"zpl_em zpl_kraglshd"},ZPCreateDOM("div",{className:`zpl_emimg ${d}`}),ZPCreateDOM("div",{className:"zpl_emdts zpl_ellipsis",tabIndex:"0","aria-label":ZPI18N.getString("zp.local.survey")+` ${n} - ${a}, `+ZPI18N.getString("zp.status")+`: ${un[c].label}, \n            ${b||h||y!=qn?"":" Time:"+av(g)}`},ZPCreateDOM("div",{className:"zpl_w-100"},ZPCreateDOM("span",{className:"zpl_flex-a-c zpl_gap-2 zpl_pt1"},ZPCreateDOM("b",null,a),t==un[0].type&&b&&ZPCreateDOM("div",{className:"zpl_tg"},ZPCreateDOM("span",null,ZPCreateDOM("em",null,ZPI18N.getString("zp.expired")))))),ZPCreateDOM("div",{className:"zpl_w-100"},ZPCreateDOM("span",{className:"zpl_flex-a-c zpl_gap-1 zpl_pt1"},(l===Ee||l===Ie)&&ZPCreateDOM("fragment",null,ZPCreateDOM("em",{className:"zpl_flex-a-c zpl_gap-1"}," ",ZPCreateDOM("span",null,iv(o))),y==qn&&!b&&!h&&ZPCreateDOM("em",{className:"zpl_dots"})),!b&&!h&&y==qn&&ZPCreateDOM("em",{className:"zpl_flex-a-c zpl_gap-1 red"}," ",ZPCreateDOM("span",null,av(g))))))),ZPCreateDOM("div",{className:"zpl_flex-1"},ZPCreateDOM("div",{tabIndex:"0"},ZPCreateDOM("em",null,ZPI18N.getString("zp.type"))),ZPCreateDOM("span",{className:"zpl_mt1 zpl_flex",tabIndex:"0"},ZPI18N.getString(et[l]))),ZPCreateDOM(FW,{surveyData:f,surveyStatusData:p})))},FW=e=>{const{surveyData:t,surveyStatusData:n}=e,{showDaysLeft:r}=n;return ZPCreateDOM("div",{className:"zpl_hvr zpl_hvrsw zpl_flex-1"},t.is_user_response_availble&&ZPCreateDOM("div",{className:"zpl_hvr"},ZPCreateDOM("a",{className:"zpl_link",onClick:e=>{var n;qm(e),fm.dispatch(cf({currentSurvey:t})),n=t.survey_id,window.location.hash="employeeengagement/mydata/mysurveys/view/".concat(n)},tabIndex:"0",role:"button"},ZPI18N.getString("zp.survey.myresponse"))))},BW=e=>{const{opening_time:t,closing_time:n,activation_type:r}=e,a=r==qn?Dm(t):void 0,o=r==qn?Dm(n):void 0,i=Dm(jm());return{startDate:a,endDate:o,currentDate:i,isSurveyCompleted:i>o,isSurveyNotStarted:a>i,showDaysLeft:a<=i&&i<=o,activation_type:r}};function UW(e){if("ee_Operations"===e){const e=Em().querySelector(".zpl_container");e.querySelector("#ee-react-root")?(lh.dispatch(Xa()),lh.dispatch(ys()),lh.dispatch(qu()),lh.dispatch(Hf()),lh.dispatch(ih()),"operations/employeeengagement/questionpool"!=wm()&&lh.dispatch(Dd([]))):(e.appendChild(ZPCreateDOM(wb,{id:"ee-react-root"})),function(e){var t=(null==e?void 0:e.querySelector("#ee-react-root"))||document.getElementById("ee-react-root");Ob.createRoot(t).render(Nb.createElement(WV,null))}(e))}else if("ee_Settings"===e){const e=Em().querySelector(".zpl_container");e.querySelector("#ee-react-root")||(e.appendChild(ZPCreateDOM(wb,{id:"ee-react-root"})),function(e){var t=(null==e?void 0:e.querySelector("#ee-react-root"))||document.getElementById("ee-react-root");Ob.createRoot(t).render(Nb.createElement(PW,null))}(e))}else if("ee_module"===e){const e=Em();if(e.querySelector("#ee-module-react-root"))fm.dispatch(Xa());else{const t=e.firstChild;t?e.insertBefore(ZPCreateDOM(wb,{id:"ee-module-react-root"}),t):e.appendChild(ZPCreateDOM(wb,{id:"ee-module-react-root"})),function(e){Ob.createRoot(e.querySelector("#ee-module-react-root")).render(Nb.createElement(hY,null))}(e)}}else if(["ee_mysurvey","ee_mysurvey_report"].includes(e))if("ee_mysurvey"===e){const e=Em();if(e.querySelector("#ee-my-survey-react"))fm.dispatch(Xa());else{const t=e.firstChild;t?e.insertBefore(ZPCreateDOM(wb,{id:"ee-my-survey-react"}),t):e.appendChild(ZPCreateDOM(wb,{id:"ee-my-survey-react"})),function(e){Ob.createRoot(e.querySelector("#ee-my-survey-react")).render(Nb.createElement(bY,{additionalData:{isMyData:!0}}))}(e)}}else{const e=Sm();e.querySelector("#ee-my-survey-react-root")||(e.appendChild(ZPCreateDOM(wb,{className:"zpl_container zpl_pa0",id:"ee-my-survey-react-root"})),function(e){Ob.createRoot(e.querySelector("#ee-my-survey-react-root")).render(Nb.createElement(_Y,{additionalData:{isMyDataReport:!0}}))}(e))}}function HW(e){const t=fm.getState().surveyCommon.initData,{config:n={}}=t;return(0==n.enps&&"#employeeengagement/surveys/enps"==e||0==n.fullengagement&&"#employeeengagement/surveys/fullengagement"==e||0==n.pulse&&"#employeeengagement/surveys/pulse"==e||!!(t?.read_only&&e&&("#employeeengagement/surveys/fullengagement/add"===e||e.includes("#employeeengagement/surveys/fullengagement/edit/")||e.includes("#employeeengagement/surveys/fullengagement/clone/")||"#employeeengagement/surveys/enps/add"===e||e.includes("#employeeengagement/surveys/enps/edit/")||e.includes("#employeeengagement/surveys/enps/clone/")||"#employeeengagement/surveys/pulse/add"===e||e.includes("#employeeengagement/surveys/pulse/edit/")||e.includes("#employeeengagement/surveys/pulse/clone/"))))&&(B({text:ZPI18N.getString("zp.no.permission.error"),duration:3e3}).showError(),!0)}function VW(e){UW("ee_Operations"),"function"==typeof e&&e()}async function YW(e,t=!0,n,r="ee_module"){const a=fm.getState().surveyCommon.initData;if(t&&0===Object.keys(a).length)await fm.dispatch(ep()).then(t=>{if("fulfilled"===t.meta.requestStatus){let a=t.payload;if(a.isEnabled){if(UW(r),HW(n))return;"function"==typeof e&&e()}else B({text:a.message,duration:3e3}).showError()}else if("rejected"===t.meta.requestStatus){let e=t?.payload?.response?.data?.message??ZPI18N.getString("zp.unabletoprocess");return void B({text:e,duration:3e3}).showError()}});else{if(UW(r),HW(n))return;"function"==typeof e&&e()}}const WW={renderConfigurationView(){(()=>{let e=Sm();e.innerHTML="",e.appendChild(Am());const{fetchInitialData:t}=fW.getState().settings;t?fW.dispatch(cW()).then(e=>{"fulfilled"===e.meta.requestStatus&&mW()}):mW()})()},renderPermissionView(){(()=>{let e=Sm(),t=e?.querySelector("div[rel=PERM_LIST]");if(!t){let t=new LoadingClass($(e));t.add(),SY(function(){t.remove(),e.innerHTML="",(e=>{EY.getObject().general&&e.appendChild(wY()),e.querySelector("div[rel=PERM_LIST] p[rel=NOTES]").innerHTML=ZPI18N.getString("zp.survey.settings.permission.notes")})(e)})}})()},renderNotificationView(){var e;e=()=>(()=>{let e=Sm();e.innerHTML="",e.appendChild(Am()),fW.dispatch(cW()).then(e=>{"fulfilled"===e.meta.requestStatus&&(()=>{let e=Sm();Rm(),e.appendChild(wW())})()})})(),UW("ee_Settings"),e()},isPageDataChanged(e){(async e=>{const{data:t}=fW.getState().settings,{general:n}=t,{config:r,currentConfig:a}=n;if(a&&bo(r)!=bo(a)){function o(){gW(),e(),fW.dispatch(pW({currentConfig:null}))}function i(){e(),fW.dispatch(pW({currentConfig:null}))}const l=new Ry(ZPI18N.getString("zp.popup.unchange.name"),ZPI18N.getString("zp.popup.unchange.desc"),ZPI18N.getString("zp.popup.unchange.save"),ZPI18N.getString("zp.popup.unchange.cancel"),void 0,void 0,o,i);await l.confirmation()}else e(),fW.dispatch(pW({currentConfig:null}))})(e)}},GW={renderMetricsView(){(()=>{const{fetchInitialData:e}=lh.getState().surveyCommon;let t=Sm();t.innerHTML="",t.appendChild(Am()),lh.dispatch(ap()).then(e=>{"fulfilled"===e.meta.requestStatus&&(()=>{const{metrics:e}=lh.getState().surveyCommon,t=e.all;let n=Sm();zY(t);let r=$(n).find("div[rel=METRIC_CONTAINER]");ZPeopleComponents.toggleswitch(r.find("input[rel=CATEGORY]")),(r||[]).map((e,t)=>{BY(e,t)})})()}),tv(e=>{let t=Em(),n=t?.querySelector("[data-modal-box=AddToMetric]");null!=n&&qm(e),RY(()=>qY())},e=>{let t=Em(),n=t?.querySelector("[data-modal-box=AddToMetric]");null!=n&&qm(e),qY()})})()},renderTemplatesView(){const e=location.hash;if("#operations/employeeengagement/templates"==e)VW(DP);else if("#operations/employeeengagement/templates/add"==e)VW(Lh);else if("#operations/employeeengagement/templates/addpulse"==e)VW(Fh);else if(e.includes("#operations/employeeengagement/templates/edit/template")){const e=Layout.Page.urlparam.id;VW(()=>function(e){var t=lh.getState().templateList,n=t.data,r=t.fetchInitialData,a=(n||[]).find(function(t){return t.survey_id==e});if(r||!a||a.fetchInitialData)lh.dispatch(Wo({templateId:e})).then(function(e){"fulfilled"===e.meta.requestStatus&&(lh.dispatch(Hf()),setTimeout(function(){lh.dispatch(Qa({render:!0,viewType:Po.CREATE_TEMPLATE,headerName:ZPI18N.getString("zp.edittemp")}))},0))});else{var o=function(e){return So(So({},e),{},{instruction:e.instruction||ZPI18N.getString("zp.engagement.template.engagement.instruction"),thankyou_message:e.thankyou_message||ZPI18N.getString("zp.engagement.template.thankyouMsg")})}(a);lh.dispatch(Li({surveyData:o,dbHash:bo(o),fetchInitialData:!1,prevHash:wm()})),lh.dispatch(Hf()),setTimeout(function(){lh.dispatch(Qa({render:!0,viewType:Po.CREATE_TEMPLATE,headerName:ZPI18N.getString("zp.edittemp")}))},0)}}(e))}},renderQuestionPoolView(){VW(YP)},hashChangeCallback(){(()=>{const e=Sm();AN(e)})()},exposeToWindowMethods:{addTemplateHandler:()=>{Ky(),tO(JP),JP?.removeElement()},removeSurveyFilter:(e,t,n)=>{let r=$(e).closest("li").find("span"),a=r[0]?.getAttribute("id"),o=n.surveyType;const i=o===Po.ENPS?Fs:o===Po.ENGAGEMENT?ud:sm,l="enps"===o?fm.getState().enpsRecords:"engagement"===o?fm.getState().engagementRecords:fm.getState().pulseRecords,c=l?.filter;let u=mo(c);if("metric_ids"==t){let e=u.metric_ids;delete e[e.indexOf(a)]}fm.dispatch(i({data:[],filter:u,nextPageNumber:0})),cR(o)},removeQuestionFilter:(e,t)=>{let n=$(e).closest("li").find("span"),r=n[0]?.getAttribute("id");const{questionPool:a}=lh.getState(),o=a.filterJSON;let i=mo(o);if("question_type"==t){let e=i.question_type;delete e[e.indexOf(r)]}lh.dispatch(xd()),lh.dispatch(Td({filterJSON:i})),YP(!0)}}},$W={renderAnnualEngagementView(){const e=location.hash;let t=Layout.HashUtil.getPreviousHashConfig()?.fullHash;if("#employeeengagement/surveys/fullengagement/add"===e)YW(Rh,void 0,e);else if(e.includes("#employeeengagement/surveys/fullengagement/view/")){const n=Layout.Page?.urlpathparam?.surveyId;n&&YW(()=>Mh(n,Ee,t),void 0,e)}else if(e.includes("#employeeengagement/surveys/fullengagement/details/")){const n=Layout.Page?.urlpathparam?.surveyId;n&&YW(()=>Mh(n,Ee,t,!0),void 0,e)}else if(e.includes("#employeeengagement/surveys/fullengagement/edit/")){const t=Layout.Page?.urlpathparam?.surveyId;t&&YW(()=>function(e){setTimeout(function(){fm.dispatch(Qa({render:!0,viewType:Po.ENGAGEMENT}))},0),fm.dispatch(Qo({surveyId:e})).then(function(t){if("fulfilled"===t.meta.requestStatus)fm.dispatch(Qa({headerName:ZPI18N.getString("zp.survey.engagement.edit")})),(null==t?void 0:t.payload).is_ready&&Bh({type:type,survey_id:e});else if("rejected"===t.meta.requestStatus){var n,r=null!==(n=t.payload)&&void 0!==n&&n.message?t.payload.message:ZPI18N.getString("zp.unabletoprocess");B({text:r,duration:3e3}).showError()}})}(t),void 0,e)}else if(e.includes("#employeeengagement/surveys/fullengagement/clone/")){const t=Layout.Page?.urlpathparam?.surveyId;t&&YW(()=>function(e){setTimeout(function(){fm.dispatch(Qa({render:!0,viewType:Po.ENGAGEMENT}))},0),fm.dispatch(Qo({surveyId:e})).then(function(e){if("fulfilled"===e.meta.requestStatus)fm.dispatch(Qa({headerName:ZPI18N.getString("zp.survey.engagement.clone")})),fm.dispatch(Fi({survey_id:"",url:null,response_percentage:0,response_count:0}));else if("rejected"===e.meta.requestStatus){var t,n=null!==(t=e.payload)&&void 0!==t&&t.message?e.payload.message:ZPI18N.getString("zp.unabletoprocess");B({text:n,duration:3e3}).showError()}})}(t),void 0,e)}else YW(_q,void 0,e)},renderPulseSurveyView(){const e=location.hash;let t=Layout.HashUtil.getPreviousHashConfig()?.fullHash;if("#employeeengagement/surveys/pulse/add"===e)YW(qh,void 0,e);else if(e.includes("#employeeengagement/surveys/pulse/edit/")){const t=Layout.Page?.urlpathparam?.surveyId;t&&YW(()=>function(e){setTimeout(function(){fm.dispatch(Qa({render:!0,viewType:Po.PULSE}))},0),fm.dispatch(Qo({surveyId:e})).then(function(t){if("fulfilled"===t.meta.requestStatus)fm.dispatch(Qa({headerName:ZPI18N.getString("zp.survey.pulse.edit")})),(null==t?void 0:t.payload).is_ready&&Bh({type:type,survey_id:e});else if("rejected"===t.meta.requestStatus){var n,r=null!==(n=t.payload)&&void 0!==n&&null!==(n=n.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.message?t.payload.response.data.message:ZPI18N.getString("zp.unabletoprocess");B({text:r,duration:3e3}).showError()}})}(t),void 0,e)}else if(e.includes("#employeeengagement/surveys/pulse/view/")){const n=Layout.Page?.urlpathparam?.surveyId;n&&YW(()=>Mh(n,Ie,t),void 0,e)}else if(e.includes("#employeeengagement/surveys/pulse/clone/")){const t=Layout.Page?.urlpathparam?.surveyId;t&&YW(()=>function(e){setTimeout(function(){fm.dispatch(Qa({render:!0,viewType:Po.PULSE}))},0),fm.dispatch(Qo({surveyId:e})).then(function(e){var t;if("fulfilled"===e.meta.requestStatus)null===(t=e.payload)||void 0===t||t.type,fm.dispatch(Qa({headerName:ZPI18N.getString("zp.survey.pulse.clone")})),fm.dispatch(Fi({survey_id:"",url:null,response_percentage:0,response_count:0}));else if("rejected"===e.meta.requestStatus){var n,r=null!==(n=e.payload)&&void 0!==n&&null!==(n=n.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.message?e.payload.response.data.message:ZPI18N.getString("zp.unabletoprocess");B({text:r,duration:3e3}).showError()}})}(t),void 0,e)}else YW(_q,void 0,e)},renderENPSView(){const e=location.hash;let t=Layout.HashUtil.getPreviousHashConfig()?.fullHash;if("#employeeengagement/surveys/enps/add"===e)YW(Zh,void 0,e);else if(e.includes("#employeeengagement/surveys/enps/view/")){const n=Layout.Page?.urlpathparam?.surveyId;n&&YW(()=>Mh(n,Se,t),void 0,e)}else if(e.includes("#employeeengagement/surveys/enps/details/")){const n=Layout.Page?.urlpathparam?.surveyId;n&&YW(()=>Mh(n,Se,t,!0),void 0,e)}else if(e.includes("#employeeengagement/surveys/enps/edit/")){const t=Layout.Page?.urlpathparam?.surveyId;t&&YW(()=>function(e){setTimeout(function(){fm.dispatch(Qa({render:!0,viewType:Po.ENPS,headerName:ZPI18N.getString("zp.survey.enps.edit")}))},0),fm.dispatch(Qo({surveyId:e})).then(function(t){if("fulfilled"===t.meta.requestStatus)(null==t?void 0:t.payload).is_ready&&ng(e);else if("rejected"===t.meta.requestStatus){var n,r=null!==(n=t.payload)&&void 0!==n&&null!==(n=n.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.message?t.payload.response.data.message:ZPI18N.getString("zp.unabletoprocess");B({text:r,duration:3e3}).showError()}})}(t),void 0,e)}else if(e.includes("#employeeengagement/surveys/enps/clone/")){const t=Layout.Page?.urlpathparam?.surveyId;t&&YW(()=>function(e){setTimeout(function(){fm.dispatch(Qa({render:!0,viewType:Po.ENPS,headerName:ZPI18N.getString("zp.survey.enps.clone")}))},0),fm.dispatch(Qo({surveyId:e})).then(function(e){if("fulfilled"===e.meta.requestStatus)fm.dispatch(Fi({survey_id:"",url:null,response_percentage:0,response_count:0}));else if("rejected"===e.meta.requestStatus){var t,n=null!==(t=e.payload)&&void 0!==t&&null!==(t=t.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.message?e.payload.response.data.message:ZPI18N.getString("zp.unabletoprocess");B({text:n,duration:3e3}).showError()}})}(t),void 0,e)}else YW(_q,void 0,e)},renderSharedSurveyView(){const e=location.hash;if("#employeeengagement/surveys/shared"===e)YW(_q,!1,e);else if(e.includes("#employeeengagement/surveys/shared/view/")){const t=Layout.Page?.urlpathparam?.surveyId;t&&YW(()=>Mh(t,ut),!1,e)}else if(e.includes("#employeeengagement/surveys/shared/details/")){const t=Layout.Page?.urlpathparam?.surveyId;t&&YW(()=>Mh(t,ut,!0),!1,e)}},hashChangeCallback(){SR()},responseSubmitWMSReciever(e){const t=location.hash,n=JSON.parse(T(e.SURVEYDATA)),{survey_id:r,type:a,response_count:o,response_percentage:i,erecno:l}=n;let c=fm.getState().mySurvey,{fetchInitialData:u,surveyStatusCount:s}=c;const{actionpending:d,completed:p}=s||{};let f=a===Se?fm.getState().enpsRecords:fm.getState().engagementRecords;const{fetchInitialData:m}=f;let v=null;if(!m){let e=(f.data||[]).filter(e=>e.survey_id==r);v=e[0]||{},v={...v,type:a,response_count:o,response_percentage:i},document.getElementById("surveys_view")&&Rq(v),v.type===Se?fm.dispatch(Us(v)):[Ee,Ie].includes(v.type)&&fm.dispatch(dd(v))}if(!u&&l==erecno){let e=(c.data||[]).filter(e=>e.survey_id==r);v=e[0]||{},v={...v,current_state:nn,user_response_status:un[2].type},fm.dispatch(sf({...s,actionpending:d-1,completed:p+1})),fm.dispatch(df(v)),"#employeeengagement/mydata/mysurveys"==t&&(fm.dispatch(lo()),qW(),MW())}"#home/team/space-surveys"==t&&(e=>{let t=Cm("surveys"),n=t.querySelector(`div[rel="${e.survey_id}"]`),r=db.getDeptSpecificSurveys();r.forEach((t,n)=>{t.survey_id==e.survey_id&&(e.isowner_eligible=r[n].isowner_eligible)}),e.is_answered=erecno===e.erecno,(sv(e.type)||e.type==Se&&(e.created_by===erecno||erecno===e.erecno&&1===t.children.length))&&n?.replaceWith(Hh(t,e,!0))})(n)},surveyAddWMSReciever(e){const t=location.hash,n=e.SURVEYDATA;let{data:r,surveyStatusCount:a}=fm.getState().mySurvey;const{all:o,actionpending:i}=a||{};let l=!1;(r||[]).forEach(e=>{e.survey_id==n.survey_id&&(l=!0)}),l||(fm.dispatch(sf({...a,all:o+1,actionpending:i+1})),fm.dispatch(uf([{...n,user_response_status:un[1].type}])),"#employeeengagement/mydata/mysurveys"==t&&YW(()=>AW(!1),!1,t)),Layout.Page.container.find("[name="+Nt+"]").length>0&&Ov()},renderMySurveyView(){const e=location.hash;if(e.includes("#employeeengagement/mydata/mysurveys/view/")){const t=Layout.Page?.urlpathparam?.surveyId;t&&YW(()=>function(e){var t=fm.getState().mySurvey.currentSurvey;t&&0!=Object.keys(t).length?setTimeout(function(){fm.dispatch(Qa({render:!0,viewType:t.type===Se?Po.MY_SURVEY_REPORT_ENPS:Po.MY_SURVEY_REPORT_ENGAGEMENT,data:t}))},0):fm.dispatch(Qo({surveyId:e})).then(function(e){if("fulfilled"===e.meta.requestStatus){var t=null==e?void 0:e.payload;setTimeout(function(){fm.dispatch(Qa({render:!0,viewType:t.type===Se?Po.MY_SURVEY_REPORT_ENPS:Po.MY_SURVEY_REPORT_ENGAGEMENT,data:t}))},0)}else if("rejected"===e.meta.requestStatus){var n,r=null!==(n=e.payload)&&void 0!==n&&null!==(n=n.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.message?e.payload.response.data.message:ZPI18N.getString("zp.unabletoprocess");B({text:r,duration:3e3}).showError()}})}(t),!0,e,"ee_mysurvey_report")}else{const t=Layout.Page.urlparam?.view;YW(()=>AW(!1,t),!0,e,"ee_mysurvey")}}},QW={renderMandatoryPopupView(){qy()},mandatoryPolicyCompleted(e){Yy(e)}},XW={isSurveyEnabled(e=[]){let t=!1;return[...e||[]].forEach(e=>{e.key!==ZPDashboard.Widget.List.ENPS_SURVEY||(t=!0)}),t},getAnsweredSurveys(){let e=$.Deferred();return $.when((()=>{let e=$.Deferred();return Mm("/zpsurvey/surveys/list",{mode:"answered"},Me,function(t){_v=t.isEnabled||!1;let n=t.draft_response_surveys;_v?(Ev.setAnsweredSurveys(t.surveys),t.surveys.forEach(e=>{(e=>{let t=Tv.getObject(e);t&&(Ev.setAnsweredSurvey(e),Sv(t))})(e)}),Ev.setDraftResponseSurveys(n),Object.keys(n).forEach(e=>{((e,t)=>{let n=Tv.getObject(t);n&&(n.drafted_response=e.drafted_response?e.drafted_response:{},n.reveal_identity=!!e.reveal_identity&&e.reveal_identity,Tv.setObject(n),Sv(n))})(n[e],e)})):Ev.setAnsweredSurveys([]),e.resolve()}),e.promise()})()).then(()=>{e.resolve()}),e.promise()},constructTextNode(e){return ZPCreateDOM("fragment",null,e)},constructSurveyFeed(e){return ZPCreateDOM(wv,{sobj:e})},constructSurveyWidget(){Ov()},getEngagementURL(e){gv(window.location.protocol+"//"+window.location.host+"/"+portalName+"/survey/"+e.url)},actionListInit(e,t){Hh(e,t,!1)},teamSpaceCardCallback(){(()=>{let e=$.Deferred(),t=Cm("surveys");t?.appendChild(Am()),Mm("/zpsurvey/surveys/teamspace/listing",{},Me,function(t){Rm(),pb(t),e.resolve()},null,function(t){Mn(t.responseJSON||{errorcode:st}),e.reject()}),e.promise()})()}};String.prototype.addPortalName=function(){let e="";return"undefined"!=typeof ZPeople&&void 0!==ZPeople.PORTAL_NAME?e=ZPeople.PORTAL_NAME:"undefined"!=typeof portal?e=portal:"undefined"!=typeof portalname&&(e=portalname),(""!==e?"/"+e:"")+this},window.ZDOMEEAPI={settings:WW,operations:GW,module:$W,receiveWMSData:function(e){e.hasOwnProperty("mode")?"newrecord"===e.mode?ZDOMEEAPI.module.surveyAddWMSReciever(e):"recordsubmit"===e.mode?ZDOMEEAPI.module.responseSubmitWMSReciever(e):"mandatoryPopup"===e.mode?setTimeout(function(){(e=>{const{mandatoryActions:t}=xy.getState().attempt;let n=!1,r=JSON.parse(T(e.data));(t||[]).forEach(t=>{t.id==e.data.id&&(n=!0)}),n?xy.dispatch(Iy(r)):xy.dispatch(Py(r)),Ly()})(e)},3e5):"mandatoryPopupDone"===e.mode&&ZPeople.getUserId()==e.erecno?Yy(e):"teamSpaceCard"===e.mode?pb(e.SURVEYDATA):"draftedResponse"===e.mode&&(e=>{let t=(e=e&&JSON.parse(T(e))).survey_id,n=e.score,r=e.comment,a=e.reveal_identity;Tv.setWMSData(e),document.querySelectorAll("div[rel=ENPS_CONTAINER][sid='"+t+"']")?.forEach(t=>{if(t){if(e.hasOwnProperty("score")){n>-1&&$v(n,t,void 0,!0);let e=t.querySelector("div[rel=COMMENT-NOTE]").querySelector("textarea[rel=SCOMMENT]");document.activeElement!=e&&e.value!=r&&(e.value=r?.length?r:"")}if(e.hasOwnProperty("reveal_identity")){let e=t.querySelector("#REVEAL-IDTY");a?e.setAttribute("checked",""):e.removeAttribute("checked")}}})})(e.data):103===e.code&&Sb.isFileIdExist(e.uploadId)&&(Sb.resolveFileId(e.uploadId,e),Sb.deleteFileId(e.uploadId))},api:XW,mandatory:QW}}()}();
//# sourceMappingURL=ee_operation.min.js.map