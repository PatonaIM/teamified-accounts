ZPUserProfile.ProfileView={show:(container,param,callback)=>{ZPUtil.Validation.isFunction(callback)||(callback=ZPUserProfile.ProfileView.construct),ZPeople.Request.send("/userprofile/ssAction",{MODE:"USER_DETAILS",userId:param.erecno},callback,{pageContainer:container})},construct:(result,param,details,skipFormConstruct)=>{var pageObject=details.pageContainer;let basicInfoCont=pageObject.find('[container="basicinfo"]');if($.isEmptyObject(pageObject)||0==$(pageObject).length)return;skipFormConstruct?basicInfoCont.empty():(pageObject.empty(),basicInfoCont=$('<div container="basicinfo"></div>'),pageObject.append(basicInfoCont));var userInfo=ZPeople.getUserDetailsById(param.userId),html=$('<div class="zpl_myprofdets"></div>');let labels=result.ffDisplayName;if(ZPUtil.Validation.isEmpty(userInfo.locName)||html.append(ZPUserProfile.Component.myProfDtsCard(labels.LOCATION,userInfo.locName,"PI_work_loca",!0)),ZPUtil.Validation.isEmpty(userInfo.deptName)||html.append(ZPUserProfile.Component.myProfDtsCard(labels.DEPARTMENTNAME,userInfo.deptName,"PI_deptg",!0)),ZPUtil.Validation.isEmpty(result.shiftName)||html.append(ZPUserProfile.Component.myProfDtsCard(ZPI18N.getString("zp.shiftsig"),result.shiftName+` <em>(${result.startTime} - ${result.endTime})</em>`,"PI_shift",!0)),ZPUtil.Validation.isEmpty(result.gmt)||html.append(ZPUserProfile.Component.myProfDtsCard(ZPI18N.getString("zp.timezone"),result.gmt,"PI_time",!0)),ZPUtil.Validation.isEmpty(userInfo.workLoc)||html.append(ZPUserProfile.Component.myProfDtsCard(labels.WORKLOCATION,userInfo.workLoc,"PI_seat_loca",!0)),ZPUtil.Validation.isEmpty(userInfo.email)||html.append(ZPUserProfile.Component.myProfDtsCard(labels.EMPLOYEEMAILALIAS,'<a class="CP" href="mailto:'+userInfo.email+'">'+userInfo.email+"</a>","PI_prof_mail",!0)),ZPUtil.Validation.isEmpty(userInfo.mobile)||html.append(ZPUserProfile.Component.myProfDtsCard(labels.MOBILE,userInfo.mobile,"PI_mobile",!0)),ZPUtil.Validation.isEmpty(userInfo.workPhone)||html.append(ZPUserProfile.Component.myProfDtsCard(labels.WORKPHONE,userInfo.workPhone,"PI_work_mob",!0)),ZPUtil.Validation.isEmpty(userInfo.extension)||html.append(ZPUserProfile.Component.myProfDtsCard(labels.EXTN,userInfo.extension,"PI_work_mob",!0)),0!=html.children().length&&basicInfoCont.append(ZPUserProfile.Component.infoCard("",html)),result.uinfo&&void 0!==result.uinfo.aboutMe){let isEditAllowed=ZPUserProfile.info.isEditAllowed(result.basicInfoPerms,"ABOUTME",param.userId),html=$('<div id="aboutMe_'+param.userId+'"></div>');html.data("isEditAllowed",isEditAllowed),html.data("value",result.uinfo.aboutMe.replaceAll("<br>","\n")),isEditAllowed?(basicInfoCont.append(ZPUserProfile.Component.infoCard(ZPI18N.getString("zp.about"),html,$('<div class="zpl_hvr zpl_hvrsw"><i id="add_aboutme" class="PI_edt tooltip-js CP DNI" data-title-position="left" title="'+ZPI18N.getString("zp.edit")+'"></i></div>').on("click",()=>ZPUserProfile.Component.inputModel(ZPI18N.getString("zp.aboutme"),"",ZPI18N.getString("zp.submit"),ZPUserProfile.ProfileView.AboutMe.update,"txtarea","blubg PI_ovengage",void 0,{defVal:html.data("value")})))),basicInfoCont.find("#add_aboutme").removeClass("DNI")):ZPUtil.Validation.isEmpty(result.uinfo.aboutMe)||basicInfoCont.append(ZPUserProfile.Component.infoCard(ZPI18N.getString("zp.about"),html)),ZPUserProfile.ProfileView.AboutMe.create(result.uinfo.aboutMe,html)}if(void 0!==isOrgStructureEnabled&&isOrgStructureEnabled){var orgStructureHtml=$('<ul class="zpl_privworg"></ul>'),value="-",isValuePresent=!1;if(!ZPUtil.Validation.isEmpty(userInfo.entityName)){"-"!=(value=userInfo.entityName).trim()&&(isValuePresent=!0);var entityDispName=ZPI18N.getString("zp.addlegalentity");ZPeople.orgStructureDispNameMap.hasOwnProperty("entity")&&(entityDispName=ZPeople.orgStructureDispNameMap.entity),orgStructureHtml.append(' <li><span class="PI_compname zpl_icnbx icn zpl_seclr10"></span><em>'+entityDispName+'</em><span class="txttrim">'+value+"</span></li>")}if(value="-",!ZPUtil.Validation.isEmpty(userInfo.unitName)){"-"!=(value=userInfo.unitName).trim()&&(isValuePresent=!0);var unitDispName=ZPI18N.getString("zp.addbusinessunit");ZPeople.orgStructureDispNameMap.hasOwnProperty("unit")&&(unitDispName=ZPeople.orgStructureDispNameMap.unit),orgStructureHtml.append(' <li><span class="PI_bnsunit zpl_icnbx icn zpl_seclr4"></span><em>'+unitDispName+'</em><span class="txttrim">'+value+"</span></li>")}if(value="-",!ZPUtil.Validation.isEmpty(userInfo.divName)){"-"!=(value=userInfo.divName).trim()&&(isValuePresent=!0);var divDispName=ZPI18N.getString("zp.adddivision");ZPeople.orgStructureDispNameMap.hasOwnProperty("division")&&(divDispName=ZPeople.orgStructureDispNameMap.division),orgStructureHtml.append('<li><span class="PI_division zpl_icnbx icn zpl_seclr6"></span><em>'+divDispName+'</em><span class="txttrim">'+value+"</span></li>")}if(value="-",!ZPUtil.Validation.isEmpty(userInfo.deptName)){"-"!=(value=userInfo.deptName).trim()&&(isValuePresent=!0);var deptDispName=ZPI18N.getString("zp.department");ZPeople.orgStructureDispNameMap.hasOwnProperty("department")&&(deptDispName=ZPeople.orgStructureDispNameMap.department),orgStructureHtml.append('<li><span class="PI_dept zpl_icnbx icn zpl_seclr3"></span><em>'+deptDispName+'</em><span class="txttrim">'+value+"</span></li>")}isValuePresent&&basicInfoCont.append(ZPUserProfile.Component.infoCard(ZPI18N.getString("zp.orgstructure"),orgStructureHtml))}if(result.isSSEnb){let isEditAllowed=result.ssetaddperm;ZPUserProfile.ProfileView.skillSet.skillsetdispName=result.skillsetdispName,(html=$('<div id="skil_'+param.userId+'" class="zpl_mspskillset"></div>')).data("isEditAllowed",isEditAllowed),isEditAllowed?basicInfoCont.append(ZPUserProfile.Component.infoCard(result.skillsetdispName,html,$('<div class="zpl_hvr zpl_hvrsw"><i class="PI_plus CP DNI" id="zp_skilladd" data-title-position="left" title="'+ZPI18N.getString("zp.addcomponents",[ZPUserProfile.ProfileView.skillSet.skillsetdispName])+'"></i></div>').on("click",ZPUserProfile.ProfileView.skillSet.showAddSkillset))):result.sset.length>0&&basicInfoCont.append(ZPUserProfile.Component.infoCard(result.skillsetdispName,html)),ZPUserProfile.ProfileView.skillSet.creatSkillset(result.sset,html)}if(!0===result.isTagsAllowed&&ZPUserProfile.info.isViewAllowed(result.basicInfoPerms,"TAGS")&&ZPUserProfile.Page.actionPermission[param.userId].view){let isEditAllowed=result.isTagsCustomisable&&param.userId==erecno;(html=$('<div id="tag_container"></div>')).data("isEditAllowed",isEditAllowed);let isTagAvilable=!ZPUtil.Validation.isEmpty(result.tags);isEditAllowed?basicInfoCont.append(ZPUserProfile.Component.infoCard(ZPI18N.getString("zp.tags"),html,$('<div class="zpl_hvr zpl_hvrsw"><i class="PI_plus CP DNI" data-title-position="left" title="'+ZPI18N.getString("zp.addcomponents",[ZPI18N.getString("zp.about")])+'" id="zp_tagadd"></i></div>').on("click",function(){ZPUserProfile.Component.inputModel(ZPI18N.getString("zp.addtags"),ZPI18N.getString("zp.tagsaddnote"),ZPI18N.getString("zp.submit"),ZPUserProfile.ProfileView.Tags.addTag,"txtarea","blubg PI_tag")}))):isTagAvilable&&basicInfoCont.append(ZPUserProfile.Component.infoCard(ZPI18N.getString("zp.tags"),html)),ZPUserProfile.ProfileView.Tags.constructTagList(result.tags,html)}skipFormConstruct||(ZPEmployeeOperations.Profile.init(param.userId,pageObject),0==basicInfoCont.children().length&&pageObject.append(ZPUserProfile.Component.nodata("zp_nd_cases",ZPI18N.getString("zp.nodatafound"))))},skillSet:{showAddSkillset:function(){ZPeople.Request.send("/performanceConfig.zp",{mode:"getAllskillDomains"},function(data){if(void 0!==data&&data.length>0){let finalData=data.map(function(item){return{skillDomainId:item.skillDomainId,skillDomainName:ZPeople.decodeTxt(item.skillDomainName)}});ZPUserProfile.Component.inputModel(ZPI18N.getString("zp.addcomponents",[ZPUserProfile.ProfileView.skillSet.skillsetdispName]),ZPI18N.getString("zp.selectdomain"),ZPI18N.getString("zp.submit"),ZPUserProfile.ProfileView.skillSet.addSkillSet,"select","blubg PI_perfrm_rvw",finalData,{inputId:"skill_selDomain",lable:"skillDomainName",value:"skillDomainId",callback:ZPUserProfile.ProfileView.skillSet.showSkillset,containerClass:"zpl_msktag-grp"})}else ZPeople.Message.warning(ZPI18N.getString("zp.noelementfound",new Array(ZPUserProfile.ProfileView.skillSet.skillsetdispName)))})},addSkillSet:(modal,event)=>{if("-1"!==modal.find("#skill_selDomain").val()){let userId=ZPeople.getUserId();var skillSets=new Array,skillsetDomain=modal.find("#skill_selDomain").val();if(void 0===skillsetDomain||"-1"===skillsetDomain||-1===skillsetDomain||""==skillsetDomain)return;var removedArr=new Array,rmCnt=0,updateCnt=0,scoreMode="";if(modal.find(".zpl_msktaglst").children(".skillRow").each(function(index){var skillSetId,isRemovedorAdded=$(this).find(".select_unselect_skill").attr("changed"),skillSetWeightage=0;skillSetId=$(this).find(".select_unselect_skill").attr("skillsetid"),skillSetWeightage=void 0==(skillSetWeightage=$(this).find("#select_unselect_skill").attr("skillsetweight"))?0:skillSetWeightage,scoreMode="add","true"!==isRemovedorAdded||($(this).find(".select_unselect_skill").prop("checked")?(skillSets[updateCnt]=ZPUserProfile.ProfileView.skillSet.setSkillset(this,skillSetId,"false",skillSetWeightage),updateCnt++):(removedArr[rmCnt]=skillSetId,rmCnt++))}),0===modal.find(".zpl_msktaglst").children(".skillRow").find(".zcheckbox__label").length&&0===skillSets.length&&0===removedArr.length)return;skillSets=JSON.stringify(skillSets),void 0===userId&&(userId=skillscoreFor);var params={mode:"addSkillScore",scoreMode:scoreMode,skillSets:skillSets,configId:-1,removeIds:removedArr,userErecNo:userId,conreqcsr:csrfToken};removedArr.length>0&&(params.removeIds=removedArr.toString()),$.post("/performanceConfig.zp",params,function(resultData){ZPUserProfile.ProfileView.skillSet.refreshSkillset(resultData,skillSets,modal)})}},showSkillset:function(event,data){let dtlscont=$(this).parents("#addTagMdl").find(".moredtls_cont");var domainId=$(this).val(),type="domain";"0"===domainId&&(type="getUnSortedSkills"),"-1"!==domainId?ZPeople.Request.send("/performanceConfig.zp",{mode:"getskillSet",selectId:domainId,userErecno:ZPeople.getUserId(),type:type},function(data){if(dtlscont.empty(),void 0!=data.domain){var skillset=data.domain[0].skillset;dtlscont.html('<div class="zpl_msktaglst"></div>'),dtlscont=dtlscont.find(".zpl_msktaglst"),$.each(skillset,function(index,data){let borderClr=ZPUserProfile.ProfileView.skillSet.getBorderColor(data.score);data.isAdded?dtlscont.append('<div class="skillRow '+borderClr+'"><div class="zpl_sktagtyp"><span>'+ZPI18N.getString("zp.level")+'</span><h6 type="click_to_set_skill_score" score="'+(void 0!==data.score?data.score:"0")+'">'+(void 0!==data.score?data.score:"0")+'</h6></div><div class="zpl_sktagtxt" id="skillName" title="'+data.skillSetName+'"><span>'+data.skillSetName+'</span></div><div class="zcheckbox"><input class="select_unselect_skill zcheckbox__helper" type="checkbox" disabled changed="false" skillsetid="'+data.skillSetId+'" skillsetweight="'+data.skillSetWeightage+'" id="'+data.skillSetId+'" checked="true"><label for="'+data.skillSetId+'" class="zcheckbox__label"></label></div></div>'):dtlscont.append('<div class="skillRow '+borderClr+'"><div class="zpl_sktagtyp"><span>'+ZPI18N.getString("zp.level")+'</span><h6 class="skill_sel" type="click_to_set_skill_score" score="'+(void 0!==data.score?data.score:"0")+'">'+(void 0!==data.score?data.score:"0")+'</h6></div><div class="zpl_sktagtxt" id="skillName" title="'+data.skillSetName+'"><span>'+data.skillSetName+'</span></div><div class="zcheckbox"><input class="select_unselect_skill zcheckbox__helper" skillsetweight='+data.skillSetWeightage+" "+(void 0!==data.score?'checked="checked"':"")+' id="'+data.skillSetId+'" skillsetid="'+data.skillSetId+'"'+(void 0!==data.scoreId?'skillscoreid="'+data.scoreId+'"':"")+'type="checkbox" '+(void 0!==data.score?"disabled":"")+'><label for="'+data.skillSetId+'" class="zcheckbox__label" score="'+(void 0!==data.score?data.score:"0")+'"></label></div></div>')}),dtlscont.find("input[type=checkbox]").on("click",ZPUserProfile.ProfileView.skillSet.selectUnselectSkill),dtlscont.find("[type='click_to_set_skill_score']").on("click",ZPUserProfile.ProfileView.skillSet.showSkillScoreDorpdown)}}):dtlscont.empty()},getBorderColor:score=>{switch(score){case 1:case"1":return"zpl_ssredbdrclr";case 2:case"2":return"zpl_ssylwbdrclr";case 3:case"3":return"zpl_ssblubdrclr";case 4:case"4":return"zpl_ssgrnbdrclr";default:return"zpl_ssgrybdrclr"}},selectUnselectSkill:function(){var isChecked=$(this).is(":checked"),parentElm=$(this).parent().parent();isChecked?(parentElm.addClass("active"),parentElm.find(".skill_sel").append('<i class="PI_abtm CP arw"></i>')):(parentElm.removeClass("active"),parentElm.find(".skill_sel .PI_abtm.arw").remove()),$(this).attr("changed",isChecked)},showSkillScoreDorpdown:function(){var skillObj=$(this).parent();if(skillObj.parent().hasClass("active")){var skillScoreObj=skillObj.find("#zp_dash_sel_skillscore");0===skillScoreObj.length&&(skillScoreObj=$('<div class="zpl_drpnumer DN" id="zp_dash_sel_skillscore" style="top: 46px;left: 10px ;"><div score="4">4</div><div score="3">3</div><div score="2">2</div><div score="1">1</div><div score="0">0</div></div>'),skillObj.append(skillScoreObj),skillScoreObj.find("div").click(ZPUserProfile.ProfileView.skillSet.chooseScore)),ZPUserProfile.ProfileView.skillSet.toggleScoreDropdown(skillScoreObj)}},toggleScoreDropdown:function(skillScoreObj){skillScoreObj.is(":visible")?skillScoreObj.slideUp(200,function(){$(this).parent().parent().removeClass("PR")}):($(this).parent().parent().addClass("PR"),skillScoreObj.slideDown(200))},chooseScore:function(){var score=$(this).attr("score"),skillObj=$(this).parent().parent().parent();let borderClr=ZPUserProfile.ProfileView.skillSet.getBorderColor(score),scoreTxt=skillObj.find("[type='click_to_set_skill_score']");scoreTxt.attr("score",score),scoreTxt.html(score+' <i class="PI_abtm arw"></i>').attr("changed","true"),skillObj.removeClass("zpl_ssredbdrclr zpl_ssylwbdrclr zpl_ssblubdrclr zpl_ssgrnbdrclr zpl_ssgrybdrclr").addClass(borderClr),ZPUserProfile.ProfileView.skillSet.toggleScoreDropdown($(this).parent())},successAddSkillScore:function(parseObj,skillSets){$.each(parseObj,function(index,data){if("Already Added"===data.Error)return ZPeople.Message.showFailureMsg(ZPI18N.getString("zp.alreadyadded")),!1;if("success"===data.msg)ZPeople.Message.showSuccessMsg(ZPI18N.getString("zp.added.successfully.msg",new Array(ZPUserProfile.ProfileView.skillSet.skillsetdispName)));else{if(skillSets.length>2)return ZPeople.Message.showFailureMsg(ZPI18N.getString("zp.erroroccuredtryagain")),!1;ZPeople.Message.showFailureMsg(ZPI18N.getString("zp.alreadyadded"))}})},setSkillset:function(Obj,skillSetId,isEdited,skillSetWeightage){var skillSet={},skillScore=$(Obj).find("[type='click_to_set_skill_score']").attr("score");return skillSet.skillSetId=skillSetId,skillSet.skillScore=skillScore,skillSet.isEdited=isEdited,skillSet.skillSetWeightage=skillSetWeightage,skillSet},refreshSkillset:function(data,skillSets,modal){if(void 0!==data&&data.length>0&&"success"===data[0].msg){modal.find("button.cancel").click();var userId=ZPeople.getUserId(userId);let card=Layout.Page.parentContainer.find("#skil_"+userId);ZPeople.Request.send("/commonAction.zp",{mode:"GET_SKILLSET_LIST",userId:userId},function(result){ZPUserProfile.ProfileView.skillSet.creatSkillset(result.skillsets,card)})}ZPUserProfile.ProfileView.skillSet.successAddSkillScore(data,skillSets)},creatSkillset:(data,container)=>{container.empty(),container.removeClass("zpl_mspskillset"),data&&data.length>0?(Layout.Page.container.find("#zp_skilladd").removeClass("DNI"),container.addClass("zpl_mspskillset"),$.each(data,function(){container.append('<div class="zpl_emprog"><div class="zpl_progtitle"><span>'+this.skillsetName+'</span></div><div class="zprogress"><div class="zprogress__bar" style="width: '+25*parseInt(this.skillScore)+'%;"></div></div><div class="zpl_progtitle"><em>'+25*parseInt(this.skillScore)+"%</em></div></div>")})):container.data("isEditAllowed")&&(Layout.Page.container.find("#zp_skilladd").addClass("DNI"),container.html(ZPUserProfile.Component.ADD_ICN("addSkill",ZPI18N.getString("zp.addcomponents",[ZPUserProfile.ProfileView.skillSet.skillsetdispName]),ZPUserProfile.ProfileView.skillSet.showAddSkillset)))}},Tags:{addTag:component=>{component.find('[field="submit"]').addClass("disabled");let value=component.find("#model_input_fld").val();var tagComponent=Layout.Page.container.find("#tag_container");ZPUserProfile.ProfileView.Tags.tagAction(value,!0,function(isSuccess,response){isSuccess?(ZPUserProfile.ProfileView.Tags.constructTagList(response[0].Tags,tagComponent),component.remove(),ZPeople.Message.showSuccessMsg(ZPI18N.getString("zp.tagsaddedsuccessfully"))):(component.find('[field="submit"]').removeClass("disabled"),ZPeople.Message.showFailureMsg(ZPI18N.getString("zp.sorryservererror")))},(data,params,others)=>{component.find('[field="submit"]').removeClass("disabled"),data&&data.hasOwnProperty("responseJSON")&&"MORE_THAN_MAX_LENGTH"==data.responseJSON.code&&data.responseJSON.error?ZPeople.Message.showFailureMsg(data.responseJSON.error):ZPeople.Message.showFailureMsg(ZPI18N.getString("zp.sorryservererror"))})},removeTag:event=>{let currentElmt=$(event.currentTarget),tagIndex=currentElmt.attr("index");ZPUserProfile.ProfileView.Tags.tagAction(tagIndex,!1,function(isSuccess){if(isSuccess){let tag=currentElmt.parent();0==tag.siblings().length?(Layout.Page.container.find("#zp_tagadd").addClass("DNI"),tag.parent().removeClass("zpl_tglist"),tag.parent().html($('<div type="addTag" class="qb_lst qb_lstcrt"><i class="PI_plus"></i><h6>'+ZPI18N.getString("zp.addtags")+"</h6></div>").on("click",function(){ZPUserProfile.Component.inputModel(ZPI18N.getString("zp.addtags"),ZPI18N.getString("zp.tagsaddnote"),ZPI18N.getString("zp.submit"),ZPUserProfile.ProfileView.Tags.addTag,"txtarea","blubg IC-tag")}))):tag.remove(),ZPeople.Message.showSuccessMsg(ZPI18N.getString("zp.tagsremovedsuccessfully"))}else ZPeople.Message.showFailureMsg(ZPI18N.getString("zp.sorryservererror"))})},tagAction:(tag,isAdd,callback,failureCallback)=>{var compDtl=ZP5Form.Field.getFieldComponentByLabel("Tags",ZPeople.EMP_FORMID);let tagList=Layout.Page.container.find("#tag_container").children();for(var tags="",tagComponentIterator=0;tagComponentIterator<tagList.length;++tagComponentIterator)!isAdd&&$(tagList[tagComponentIterator]).attr("index")==tag||"addTag"==$(tagList[tagComponentIterator]).attr("type")||(tags+=tagList[tagComponentIterator].textContent+",");isAdd&&(tags+=tag),tagstr=tags,tagstr=tagstr.replace(/[\r\n]+/g,"");var params={MODE:"TAG_OPERATION",loginUserZUID:_LOGGEDIN_ZUID,isTableName:!1,zp_tableName:"P_Employee",zp_formId:ZPeople.EMP_FORMID,zp_mode:"tagOperation",zp_recordId:ZPUserProfile.info.getUserId(),isSingleEdit:!0,fcId:compDtl.formComponentId};params[compDtl.labelName]=tagstr,ZPeople.Request.send("/userprofile/ssAction",params,function(response){ZPUtil.Validation.isFunction(callback)&&callback("7000"==response[0].code,response)},void 0,failureCallback)},constructTagList:(tagList,container)=>{if(container.empty(),ZPUtil.Validation.isEmpty(tagList))container.data("isEditAllowed")&&(container.removeClass("zpl_tglist"),container.html(ZPUserProfile.Component.ADD_ICN("addTag",ZPI18N.getString("zp.addtags"),()=>ZPUserProfile.Component.inputModel(ZPI18N.getString("zp.addtags"),ZPI18N.getString("zp.tagsaddnote"),ZPI18N.getString("zp.submit"),ZPUserProfile.ProfileView.Tags.addTag,"txtarea","blubg PI_tag"))));else{container.addClass("zpl_tglist"),Layout.Page.container.find("#zp_tagadd").removeClass("DNI");var tags=tagList.split(",");$.each(tags,function(ind,val){""!==(val=(val=val.trim()).replace(/<br\s*[\/]?>/gi,""))&&container.append('<div class="zpl_tg" index="'+ind+'" style="word-break: break-all;"><span>'+val+(ZPUserProfile.info.getUserInfo().usererec===erecno?'</span><i class="closetag PI_cls" index="'+ind+'" tag="'+val+'"></i>':"</span>")+"</div>")}),container.find(".closetag").on("click",ZPUserProfile.ProfileView.Tags.removeTag)}}},AboutMe:{create:(data,container)=>{container.data("value",data.replaceAll("<br>","\n")),ZPUtil.Validation.isEmpty(data)?container.data("isEditAllowed")&&(Layout.Page.container.find("#add_aboutme").addClass("DNI"),container.html(ZPUserProfile.Component.ADD_ICN("addAbout",ZPI18N.getString("zp.addcomponents",[ZPI18N.getString("zp.about")]),()=>ZPUserProfile.Component.inputModel(ZPI18N.getString("zp.aboutme"),"",ZPI18N.getString("zp.submit"),ZPUserProfile.ProfileView.AboutMe.update,"txtarea","blubg PI_ovengage")))):(Layout.Page.container.find("#add_aboutme").removeClass("DNI"),container.html("<p>"+data+"</p>"))},update:component=>{component.find('[field="submit"]').addClass("disabled");let value=component.find("#model_input_fld").val();if(void 0!==value&&value.trim().length>15e3)return ZPeople.Message.showWarningMsg(ZPI18N.getString("zp.descriptionexceederrormessage",new Array("15000"))),void component.find("#model_input_fld").trigger("focus");var compData=ZP5Form.Field.getFieldComponentByLabel("AboutMe",ZPeople.EMP_FORMID),params={loginUserZUID:_LOGGEDIN_ZUID,zp_tableName:"P_Employee",zp_formId:ZPeople.EMP_FORMID,zp_mode:"updateRecord",zp_recordId:ZPeople.getUserId(),isSingleEdit:!0,fcId:compData.formComponentId};params[compData.labelName]=value,ZPeople.Request.send("/addUpdateRecord.zp",params,function(response,param,compData){let data=response[0];var message=data.message;let card=Layout.Page.parentContainer.find("#aboutMe_"+param.zp_recordId);"Success"==data.TransitionDetails.Status?(ZPeople.Message.showSuccessMsg(message),ZPUserProfile.ProfileView.AboutMe.create(data[compData.labelName].replaceAll("\n","<br>"),card),component.remove()):(component.find('[field="submit"]').removeClass("disabled"),ZPeople.Message.showFailureMsg(message))},compData,()=>{component.find('[field="submit"]').removeClass("disabled"),ZPeople.Message.showFailureMsg(ZPI18N.getString("zp.sorryservererror"))})}}};