var PMSImport={goalFormDtl:new Array,salaryFormDtl:new Array,selfappFormDtl:new Array,performanceappFormDtl:new Array,multiraterDtl:new Array,kraformDtl:new Array,teambudgetformDtl:new Array,budgetSplitupformDtl:new Array,userSkillMapformDtl:new Array,skillsformDtl:new Array,goalsheetformDtl:new Array,kraUsrformDtl:new Array,competencyUsrformDtl:new Array,competencyformDtl:new Array,pa_formId:"",mrImportEnabledCyclesData:null,BUDGET_CYCLES:null,imp_configid:null,importcycle:"",imp_MRType:null,imp_MaxMR:null,imp_MinMR:null,formId:null,selectedModule:null,importReqData:null,importReqParams:null,importAftercallbackIsInit:!1,impFormId:null,isImportShow:!1,configurationData:null,impHashURL:["#operations/performance/reviewimport","#operations/performance/selfimport","#operations/performance/multiraterimport","#operations/performance/hikeimport","#operations/performance/goalimport","#operations/performance/kraimport","#operations/performance/competencyimport","#operations/performance/skillsetimport","#operations/performance/krauserimport","#operations/performance/competencyuserimport","#operations/performance/skillsetuserimport"],isModuleBasedImport:!1,intiatePA:function(){if(PMSGettingStarted.gettingStartedInit(PMSGettingStarted.OPERATION_PAGE)){const pageId=settingsPage.container;pageId.find("#import_config_Sel").length&&ZPeopleComponents.select(pageId.find("#import_config_Sel")).destroy(),pageId.html(""),pageId.html(ZPeople.LOADING_HTML),PMSImport.getApprConfigDetails(),$.ajax({type:"POST",async:!0,url:"/performance/view/importConfig",data:{conreqcsr:csrfToken},success(resultData){pageId.empty(),pageId.append(resultData),"true"==PMSImport.isImportShow&&PMSImport.setPAImport()}})}},getApprConfigDetails:function(){if(null===PMSImport.configurationData){let params={mode:"getAppConfListForExport",conreqcsr:csrfToken};$.ajax({type:"POST",async:!1,url:PMSCommon.PERFORMANCE_CONFIG_URL,data:params,success(resultData){void 0!==resultData&&resultData.hasOwnProperty("appConfList")&&(PMSImport.configurationData=resultData.appConfList)}})}},setPAImport:function(){const pageId=settingsPage.container;PMSImport.performanceAppraisalImp(),pageId.find("#impheader").html(ZPI18N.getString("zp.importingappraisalcylecriteria",[]));const parseObj=PMSImport.configurationData,_appoptions=[{name:ZPI18N.getString("zp.select"),id:"-1"}];parseObj.length>0&&parseObj.forEach(data=>{"-1"!==data.periodStatus&&-1!==data.periodStatus&&data.periodName&&!data.isSalaryHikeCycle&&_appoptions.push({name:ZPeople.decodeTxt(data.periodName),id:data.configId})});const _appselectObj={};_appselectObj.options=_appoptions,_appselectObj.dropdownList={contentType:"text",height:"300"},_appselectObj.dataMapping={label:"name",value:"id",informativeText:"name"},_appselectObj.placeholder=ZPI18N.getString("zp.select"),_appselectObj.search={by:["name"],highlightKeyword:!0},ZPeopleComponents.select(pageId.find("#import_config_Sel"),_appselectObj),pageId.find("#import_config_Sel").on("zselectchange",PMSImport.getfieldsForimpconfigsel);var impConfigWidth=$(ZPeopleComponents.select(pageId.find("#import_config_Sel")).getElement()[0]).outerWidth();ZPeopleComponents.select(pageId.find("#import_config_Sel")).setAttribute("dropdownList",{width:impConfigWidth+"px"}),ZPeopleComponents.daterangepicker("#impconfigdates",{change(event,ui){pageId.find("#configdates").val(ui.fromValueString+"-"+ui.toValueString)},format:dateFmt}),PMSImport.resetimportrating(),PMSImport.showImport("appraisal")},performanceAppraisalImp:function(){const pageId=settingsPage.container;let _htm=' <div class="zpl_secn"> <div> <h5><label class="zpl_mtry">'+ZPI18N.getString("zp.appraisalname")+'</label></h5> </div> <div> <div class="zpl_idiv"> <div><select id="import_config_Sel" data-width="300" data-show-search-field="true" style="display: none;"> </select> </div> </div> </div> </div>';_htm+=' <div class="zpl_secn"> <div id="impconfigdates" data-for-element="#configdates"></div> <div> <h5>'+ZPI18N.getString("zp.appraisalperiod")+'</h5> </div> <div> <div class="ztextbox--group zh-alignright"><i class="ztextbox__icon PI_calendar"></i><input id="configdates" class="ztextbox"></div> </div> </div>',_htm+=' <div class="zpl_secn"> <div> <h5>'+ZPI18N.getString("zp.rating")+'</h5> </div> <div id="imp_ratingdiv"> </div> </div>',pageId.find("#appraisaimportdiv").html(""),pageId.find("#appraisaimportdiv").html(_htm)},resetimportrating:function(){const pageId=settingsPage.container;let ratinghtml="";[ZPI18N.getString("zp.outstanding"),ZPI18N.getString("zp.excellent"),ZPI18N.getString("zp.satisfactory"),ZPI18N.getString("zp.needimprovement"),ZPI18N.getString("zp.unsatisfactory")].forEach(data=>{ratinghtml+=`<div class="zpl_idiv"> <div><input type="text" class="ztextbox w300"  value="${data}"></div></div>`}),pageId.find("#imp_ratingdiv").html("").html(ratinghtml)},getfieldsForimpconfigsel:function(eData){const pageId=settingsPage.container;let ratingdtl=[];const configdtl=PMSImport.configurationData,_optvalue=eData.detail.selectedValue;""!==_optvalue&&"-1"!==_optvalue?configdtl.forEach(data1=>{if(data1.configId===_optvalue){if(void 0===data1.rating)$.ajax({type:"POST",url:"/performanceConfig.zp",data:{mode:"getCycleRatings",conreqcsr:csrfToken,configID:data1.configId},success:function(data){const ratinghtml=(ratingdtl=data.configArr).map(data=>'<div class="zpl_idiv"> <div><input type="text" class="ztextbox w300"  value="'+data.ratingName+'" disabled></div></div>').join("");pageId.find("#imp_ratingdiv").html(ratinghtml)}});else{const ratinghtml=(ratingdtl=data1.rating).map(data=>'<div class="zpl_idiv"> <div><input type="text" class="ztextbox w300"  value="'+data.ratingName+'" disabled></div></div>').join("");pageId.find("#imp_ratingdiv").html(ratinghtml)}PMSImport.imp_configid=data1.configId,PMSImport.importcycle=!0,ZPeopleComponents.daterangepicker(pageId.find("#impconfigdates")).setFromValue(data1.periodStart),ZPeopleComponents.daterangepicker(pageId.find("#impconfigdates")).setToValue(data1.periodEnd),pageId.find("#configdates").prop("disabled",!0),ZPeopleComponents.select(pageId.find("#import_config_Sel")).setAttributes({className:""}),pageId.find("#errormsg").hide()}}):(pageId.find("#configdates").val(""),PMSImport.resetimportrating())},appraisalImport:function(){const pageId=settingsPage.container;pageId.find(".ztextbox--error__label").remove();let errormsg="";if(pageId.find($(ZPeopleComponents.select(pageId.find("#import_config_Sel")).getElement()[0])).is(":visible")&&("-1"==ZPeopleComponents.select(pageId.find("#import_config_Sel")).getValue()?(pageId.find("#import_config_Sel").parent().append(`<span id="errormsg" class="ztextbox--error__label">${ZPI18N.getString("zp.appnameerror")}</span>`),ZPeopleComponents.select(pageId.find("#import_config_Sel")).setAttributes({className:"ztextbox__error"}),errormsg="true"):(PMSImport.imp_configid=ZPeopleComponents.select(pageId.find("#import_config_Sel")).getValue(),ZPeopleComponents.select(pageId.find("#import_config_Sel")).setAttributes({className:""}))),""===errormsg&&0===pageId.find("#appraisaimportdiv").find("#errormsg").length){const params={mode:"import_addconfig",modeval:"add",conreqcsr:csrfToken,periodname:"",fromDate:ZPeopleComponents.daterangepicker("#impconfigdates").getFromValue().fromValueString,toDate:ZPeopleComponents.daterangepicker("#impconfigdates").getToValue().toValueString,ratingDetails:JSON.stringify([])};PMSImport.reviewstatusCallback_flag=params,PMSImport.temp=params}return errormsg},getformDetails:function(mode,callback,callbackParams){let formName="";switch(mode){case"appraisal":0===PMSImport.performanceappFormDtl.length&&(formName="performanceapp_form");break;case"salary":0===PMSImport.salaryFormDtl.length&&(formName="empSalary_form");break;case"goal":0===PMSImport.goalFormDtl.length&&(formName="goalForm");break;case"selfappraisal":0===PMSImport.selfappFormDtl.length&&(formName="selfapp_form");break;case"multirater":0===PMSImport.multiraterDtl.length&&(formName="multirater_form");break;case"goalsheet":0===PMSImport.goalsheetformDtl.length&&(formName="goalsheet_form");break;case"kraForm":0===PMSImport.kraformDtl.length&&(formName="kra_form");break;case"kraUserform":0===PMSImport.kraUsrformDtl.length&&(formName="krauser_form");break;case"teambudgetform":0===PMSImport.teambudgetformDtl.length&&(formName="teambudget_form");break;case"budgetsplitupform":0===PMSImport.budgetSplitupformDtl.length&&(formName="budgetsplitup_form");break;case"competencyUserform":0===PMSImport.competencyUsrformDtl.length&&(formName="competencyuser_form");break;case"competency_form":0===PMSImport.competencyformDtl.length&&(formName="competency_form");break;case"userSkillMap":0===PMSImport.userSkillMapformDtl.length&&(formName="userSkillMap_form");break;case"skillform":0===PMSImport.skillsformDtl.length&&(formName="skillsform")}if(""!==formName){const params={mode:"getformdetails",formName:formName,conreqcsr:csrfToken};$.ajax({type:"POST",async:!1,url:"/performanceConfig.zp",data:params,success:resultData=>{if(void 0!==resultData){switch(mode){case"goal":PMSImport.goalFormDtl=resultData;break;case"appraisal":PMSImport.performanceappFormDtl=resultData;break;case"salary":PMSImport.salaryFormDtl=resultData;break;case"selfappraisal":PMSImport.selfappFormDtl=resultData;break;case"kraUserform":PMSImport.kraUsrformDtl=resultData;break;case"multirater":PMSImport.multiraterDtl=resultData;break;case"goalsheet":PMSImport.goalsheetformDtl=resultData;break;case"kraForm":PMSImport.kraformDtl=resultData;break;case"teambudgetform":PMSImport.teambudgetformDtl=resultData;break;case"budgetsplitupform":PMSImport.budgetSplitupformDtl=resultData;break;case"competencyUserform":PMSImport.competencyUsrformDtl=resultData;break;case"competency_form":PMSImport.competencyformDtl=resultData;break;case"userSkillMap":PMSImport.userSkillMapformDtl=resultData;break;case"skillform":PMSImport.skillsformDtl=resultData}callback&&"function"==typeof callback&&callback(callbackParams)}}})}},showImport:type=>{const{form:form,view:view}={goal:{form:"goalFormDtl",view:"goalFormDtl"},appraisal:{form:"performanceappFormDtl",view:"performanceappFormDtl"},selfappraisal:{form:"selfappFormDtl",view:"selfappFormDtl"},kraForm:{form:"kraformDtl",view:"kraformDtl"},kraUserform:{form:"kraUsrformDtl",view:"kraUsrformDtl"},multirater:{form:"multiraterDtl",view:"multiraterDtl"},teambudgetform:{form:"teambudgetformDtl",view:"teambudgetformDtl"},salary:{form:"salaryFormDtl",view:"salaryFormDtl"},competency_form:{form:"competencyformDtl",view:"competencyformDtl"},competencyUserform:{form:"competencyUsrformDtl",view:"competencyUsrformDtl"},userSkillMap:{form:"userSkillMapformDtl",view:"userSkillMapformDtl"},skillform:{form:"skillsformDtl",view:"skillsformDtl"}}[type];PMSImport.getformDetails(type);const formId=PMSImport[form].formId,viewObj={formId:formId,viewId:PMSImport[view].viewId},obj={viewObj:viewObj},pageId=settingsPage.container;let errormsg="";if(["#operations/performance/kra","#operations/performance/competency","#operations/performance/skillset"].includes(Layout.Page.hash))PMSImport.formId=formId,$(PMSOperation.moduleLibraryslider.sliderDiv).off().on("impcustom",obj,function(event){ZP5Import.init("appraisal")}),$(PMSOperation.moduleLibraryslider.sliderDiv).trigger("impcustom");else if(["#operations/performance/skillsetuserimport"].includes(Layout.Page.hash)){pageId.find("#impheader").parent().parent().find("button").on("click",obj,event=>{PMSImport.showAppraiseeimportPage()})}else if(paCommonUtil.isManageAppraisalPAImportExport())PMSImport.formId=viewObj.formId,PMSImport.isModuleBasedImport=!1,ZP5Import.init("appraisal");else{pageId.find("#impheader").parent().parent().find("button").on("click",obj,event=>{switch(PMSImport.formId=viewObj.formId,PMSImport.isModuleBasedImport=!1,Layout.Page.hash){case"#operations/performance/multiraterimport":errormsg=PMSImport.mrappraisalImport();break;case"#operations/performance/selfimport":errormsg=PMSImport.selfappraisalImport();break;case"#operations/performance/hikeimport":errormsg=PMSImport.budgetImport();break;case"#operations/performance/goalimport":case"#operations/performance/krauserimport":case"#operations/performance/competencyuserimport":case"#operations/performance/skillsetuserimport":errormsg="";break;default:errormsg=PMSImport.appraisalImport()}errormsg||ZP5Import.init("appraisal")})}},getExtraParams:params=>{if((-1!=PMSImport.impHashURL.indexOf(Layout.Page.hash)||"#operations/performance/cycle"==Layout.Page.hash||"#operations/performance/salarycycle"==Layout.Page.hash||paCommonUtil.isManageAppraisalPAImportExport())&&(void 0!=PMSImport.imp_configid&&(params.importconfigId=PMSImport.imp_configid,params.importMRType=PMSImport.imp_MRType,null!=PMSImport.imp_MaxMR&&(params.importMaxMR=PMSImport.imp_MaxMR),null!=PMSImport.imp_MinMR&&(params.importMinMR=PMSImport.imp_MinMR)),void 0!=PMSImport.importtype?params.importtype=PMSImport.importtype:params.importtype="","new"==PMSImport.importcycle?params.importcycle=!0:params.importcycle=PMSImport.importcycle,paCommonUtil.isManageAppraisalPAImportExport())){const{_mode:_mode}=AppraisalView.getAppraisalViewMode();params.importconfigId=AppraisalView[_mode].sel_configId}return params},hideImportBasedOnContUrl:()=>{let isHideUrl=!1;return["#operations/performance/reviewimport","#operations/performance/selfimport","#operations/performance/multiraterimport","#operations/performance/hikeimport","#operations/performance/goalimport","#operations/performance/competency","#operations/performance/skillset","#operations/performance/kra","#operations/performance/krauserimport","#operations/performance/competencyuserimport","#operations/performance/skillsetuserimport"].includes(Layout.Page.hash)&&(isHideUrl=!0),isHideUrl},showPAImport:function(event){PMSImport.showImport("paForm"),ImportNew.init(event)},intiateSelfApp:function(){if(PMSGettingStarted.gettingStartedInit(PMSGettingStarted.OPERATION_PAGE)){var pageId=settingsPage.container;pageId.find("#import_config_selfappSel").length>0&&ZPeopleComponents.select(pageId.find("#import_config_selfappSel")).destroy(),pageId.html(""),pageId.html(ZPeople.LOADING_HTML),PMSImport.getApprConfigDetails(),$.ajax({type:"POST",async:!0,url:"/performance/view/importConfig",data:{conreqcsr:csrfToken},success:function(resultData){pageId.html(" "),pageId.append(resultData),"true"==PMSImport.isImportShow&&PMSImport.setSelfAppraisalImport()}})}},setSelfAppraisalImport:function(){const pageId=settingsPage.container,importHeader=ZPI18N.getString("zp.importingselfappraisalcriteria");pageId.find("#impheader").text(importHeader);let importTemplate='<div class="zpl_secn">';importTemplate+='<div><h5><label class="zpl_mtry">'+ZPI18N.getString("zp.appraisalname")+"</h5></label></div>",importTemplate+='<div><div class="zpl_idiv"><div><select id="import_config_selfappSel" data-width="300" data-show-search-field="true" style="display: none;"></select>',importTemplate+="</div></div></div></div>",pageId.find("#appraisaimportdiv").html(importTemplate);const parseObj=PMSImport.configurationData,_appoptions=[{name:ZPI18N.getString("zp.select"),id:"-1"}];parseObj.forEach(data=>{data.selfAppraisalEnabled&&"5"!==data.periodStatus&&"-1"!==data.periodStatus&&data.periodName&&_appoptions.push({name:ZPeople.decodeTxt(data.periodName),id:data.configId})});const _appselectObj={options:_appoptions,dropdownList:{contentType:"text",height:"300"},dataMapping:{label:"name",value:"id",informativeText:"name"},placeholder:ZPI18N.getString("zp.select")};ZPeopleComponents.select(pageId.find("#import_config_selfappSel"),_appselectObj);var impConfigSelfAppWidth=$(ZPeopleComponents.select(pageId.find("#import_config_selfappSel")).getElement()[0]).outerWidth();ZPeopleComponents.select(pageId.find("#import_config_selfappSel")).setAttribute("dropdownList",{width:impConfigSelfAppWidth+"px"}),PMSImport.showImport("selfappraisal")},selfappraisalImport:function(formelem){const pageId=settingsPage.container;pageId.find(".ztextbox--error__label").remove();let errormsg="";if("-1"==ZPeopleComponents.select(pageId.find("#import_config_selfappSel")).getValue()){const msg=ZPI18N.getString("zp.selconfiguration");pageId.find("#import_config_selfappSel").parent().append(`\n       \t\t <span errmsg="mailids" id="errormsg" class="ztextbox--error__label">${msg}</span>\n      \t\t`),ZPeopleComponents.select(pageId.find("#import_config_selfappSel")).setAttributes({className:"ztextbox__error"}),errormsg="true"}else PMSImport.imp_configid=ZPeopleComponents.select(pageId.find("#import_config_selfappSel")).getValue();return errormsg},intiateKraUserImp:function(){if(PMSGettingStarted.gettingStartedInit(PMSGettingStarted.OPERATION_PAGE)){const pageId=settingsPage.container;pageId.html(""),pageId.html(ZPeople.LOADING_HTML),PMSImport.getformDetails("kraUserform"),$.ajax({type:"POST",async:!0,url:"/performance/view/importConfigModules",data:{conreqcsr:csrfToken},success:function(resultData){pageId.html(" "),pageId.append(resultData),"true"==PMSImport.isImportShow&&(pageId.find("#impheader").text(ZPeople.decodeTxt(PMSImport.kraUsrformDtl.formDispname)),pageId.find(".zpl_info").css({"margin-left":"0px","max-width":"100%"}),PMSImport.showImport("kraUserform"))}})}},intiateCompetencyImp:function(){if(PMSGettingStarted.gettingStartedInit(PMSGettingStarted.OPERATION_PAGE)){const pageId=settingsPage.container;pageId.html(""),pageId.html(ZPeople.LOADING_HTML),PMSImport.getformDetails("competencyUserform"),$.ajax({type:"POST",async:!0,url:"/performance/view/importConfigModules",data:{conreqcsr:csrfToken},success:function(resultData){pageId.html(" "),pageId.append(resultData),"true"==PMSImport.isImportShow&&(pageId.find("#impheader").text(ZPeople.decodeTxt(PMSImport.competencyUsrformDtl.formDispname)),pageId.find(".zpl_info").css({"margin-left":"0px","max-width":"100%"}),PMSImport.showImport("competencyUserform"))}})}},intiateSkillsetUserImp:function(){if(PMSGettingStarted.gettingStartedInit(PMSGettingStarted.OPERATION_PAGE)){const pageId=settingsPage.container;pageId.html(""),pageId.html(ZPeople.LOADING_HTML),PMSImport.getformDetails("userSkillMap"),$.ajax({type:"POST",async:!0,url:"/performance/view/importConfigModules",data:{conreqcsr:csrfToken},success:function(resultData){pageId.html(" "),pageId.append(resultData),"true"==PMSImport.isImportShow&&(pageId.find("#impheader").text(ZPeople.decodeTxt(PMSImport.userSkillMapformDtl.formDispname)),pageId.find(".zpl_info").css({"margin-left":"0px","max-width":"100%"}),PMSImport.showImport("userSkillMap"))}})}},intiateGoalImp:function(){if(PMSGettingStarted.gettingStartedInit(PMSGettingStarted.OPERATION_PAGE)){const pageId=settingsPage.container;pageId.html(""),pageId.html(ZPeople.LOADING_HTML),$.ajax({type:"POST",async:!0,url:"/performance/view/importConfigModules",data:{conreqcsr:csrfToken},success:function(resultData){pageId.html(" "),pageId.append(resultData),"true"==PMSImport.isImportShow&&(pageId.find("#impheader").text(ZPeople.decodeTxt(PMSImport.goalsdispName)),pageId.find(".zpl_info").css({"margin-left":"0px","max-width":"100%"}),PMSImport.showImport("goal"))}})}},intiateMultiraterImp:function(){if(PMSGettingStarted.gettingStartedInit(PMSGettingStarted.OPERATION_PAGE)){const pageId=settingsPage.container;pageId.find("#import_config_multiraterappSel").length>0&&ZPeopleComponents.select(pageId.find("#import_config_multiraterappSel")).destroy(),pageId.html(""),pageId.html(ZPeople.LOADING_HTML),PMSImport.getApprConfigDetails(),$.ajax({type:"POST",async:!0,url:"/performance/view/importConfig",data:{conreqcsr:csrfToken},success:function(resultData){pageId.html(" "),pageId.append(resultData),"true"==PMSImport.isImportShow&&PMSImport.setMultiRaterImp()}})}},setMultiRaterImp:function(){var pageId=settingsPage.container;pageId.find("#impheader").text(ZPI18N.getString("zp.mrImport",[ZPeople.decodeTxt(PMSImport.multiraterName)]));var _htm=' <div class="zpl_secn"> <div> <h5><label class="zpl_mtry">'+ZPI18N.getString("zp.appraisalname")+'</label></h5> </div> <div> <div class="zpl_idiv"><div><select id="import_config_multiraterappSel" data-width="300" data-show-search-field="true" style="display: none;"> </select> </div></div> </div> </div>';pageId.find("#appraisaimportdiv").html(""),pageId.find("#appraisaimportdiv").html(_htm),null==PMSImport.mrImportEnabledCyclesData&&$.ajax({type:"POST",async:!1,url:"/performanceConfig.zp",data:{mode:"mrImportEnabledCyclesInfo",conreqcsr:csrfToken},success:function(resultdata){PMSImport.mrImportEnabledCyclesData=resultdata}});var _appoptions=[];_appoptions.push({name:ZPI18N.getString("zp.select"),id:"-1"});var parseObj=PMSImport.mrImportEnabledCyclesData;parseObj.length>0&&$.each(parseObj,function(index,data){"-1"!==data.periodStatus&&-1!=data.periodStatus&&5!=data.periodStatus&&"5"!==data.periodStatus&&void 0!=data.periodName&&_appoptions.push({name:ZPeople.decodeTxt(data.periodName),id:data.configId})});var _appselectObj={};_appselectObj.options=_appoptions,_appselectObj.dropdownList={contentType:"text",height:"300"},_appselectObj.dataMapping={label:"name",value:"id",informativeText:"name"},_appselectObj.placeholder=ZPI18N.getString("zp.select"),ZPeopleComponents.select(pageId.find("#import_config_multiraterappSel"),_appselectObj);var impConfigMRWidth=$(ZPeopleComponents.select(pageId.find("#import_config_multiraterappSel")).getElement()[0]).outerWidth();ZPeopleComponents.select(pageId.find("#import_config_multiraterappSel")).setAttribute("dropdownList",{width:impConfigMRWidth+"px"}),PMSImport.showImport("multirater")},mrappraisalImport:function(formelem){var pageId=settingsPage.container,errormsg="";if(null==PMSImport.mrImportEnabledCyclesData&&$.ajax({type:"POST",async:!1,url:"/performanceConfig.zp",data:{mode:"mrImportEnabledCyclesInfo",conreqcsr:csrfToken},success:function(resultdata){PMSImport.mrImportEnabledCyclesData=resultdata}}),pageId.find(".ztextbox--error__label").remove(),"-1"==ZPeopleComponents.select(pageId.find("#import_config_multiraterappSel")).getValue())1==PMSImport.mrImportEnabledCyclesData.length&&void 0!=PMSImport.mrImportEnabledCyclesData[0].msg&&"No_records_Found"==PMSImport.mrImportEnabledCyclesData.msg?pageId.find("#import_config_multiraterappSel").parent().append('<span  id="errormsg" class="ztextbox--error__label">'+ZPI18N.getString("zp.noCycles")+"</span>"):pageId.find("#import_config_multiraterappSel").parent().append('<span  id="errormsg" class="ztextbox--error__label">'+ZPI18N.getString("zp.selconfiguration")+"</span>"),ZPeopleComponents.select(pageId.find("#import_config_multiraterappSel")).setAttributes({className:"ztextbox__error"}),errormsg="true";else{PMSImport.imp_configid=ZPeopleComponents.select(pageId.find("#import_config_multiraterappSel")).getValue(),ZPeopleComponents.select(pageId.find("#import_config_multiraterappSel")).setAttributes({className:""});for(var i=0;i<PMSImport.mrImportEnabledCyclesData.length;i++){var data=PMSImport.mrImportEnabledCyclesData[i];if(data.configId==PMSImport.imp_configid){PMSImport.imp_MRType=data.mrType,data.hasOwnProperty("maxMR")&&(PMSImport.imp_MaxMR=data.maxMR),data.hasOwnProperty("minMR")&&(PMSImport.imp_MinMR=data.minMR);break}}}return errormsg},intiateHikeImp:function(){if(PMSGettingStarted.gettingStartedInit(PMSGettingStarted.OPERATION_PAGE)){var pageId=settingsPage.container;pageId.find("#import_config_budgetappSel").length>0&&ZPeopleComponents.select(pageId.find("#import_config_budgetappSel")).destroy(),pageId.html(""),pageId.html(ZPeople.LOADING_HTML),$.ajax({type:"POST",async:!0,url:"/performance/view/importConfigModules",data:{conreqcsr:csrfToken},success:function(resultData){pageId.html(" "),pageId.append(resultData),"true"==PMSImport.isImportShow&&PMSImport.setSalaryHikeImp()}})}},setSalaryHikeImp:function(){var pageId=settingsPage.container;pageId.find("#impheader").text(ZPI18N.getString("zp.budgetImport"));var _htm=' <div class="zpl_secn"> <div> <h5><label class="zpl_mtry">'+ZPI18N.getString("zp.appraisalname")+'</label></h5> </div> <div> <div class="zpl_idiv">  <div><select id="import_config_budgetappSel" data-width="300" data-show-search-field="true" style="display: none;"> </select> </div> </div></div> </div>';pageId.find("#appraisaimportdiv").html(""),pageId.find("#appraisaimportdiv").html(_htm),null==PMSImport.BUDGET_CYCLES&&$.ajax({type:"POST",async:!1,url:"/performanceConfig.zp",data:{mode:"getBudgetCycles",conreqcsr:csrfToken},success:function(resultdata){PMSImport.BUDGET_CYCLES=resultdata.budgetCyc}});var _appoptions=[];_appoptions.push({name:ZPI18N.getString("zp.select"),id:"-1"});var parseObj=PMSImport.BUDGET_CYCLES;parseObj.length>0&&$.each(parseObj,function(index,data){_appoptions.push({name:ZPeople.decodeTxt(data.cycleName),id:data.cycleID})});var _appselectObj={};_appselectObj.options=_appoptions,_appselectObj.dropdownList={contentType:"text",height:"300"},_appselectObj.dataMapping={label:"name",value:"id",informativeText:"name"},_appselectObj.placeholder=ZPI18N.getString("zp.select"),ZPeopleComponents.select(pageId.find("#import_config_budgetappSel"),_appselectObj);var impConfigBudgetWidth=$(ZPeopleComponents.select(pageId.find("#import_config_budgetappSel")).getElement()[0]).outerWidth();ZPeopleComponents.select(pageId.find("#import_config_budgetappSel")).setAttribute("dropdownList",{width:impConfigBudgetWidth+"px"}),PMSImport.showImport("teambudgetform")},budgetImport:function(formelem){var pageId=settingsPage.container,errormsg="";return null==PMSImport.BUDGET_CYCLES&&$.ajax({type:"POST",async:!1,url:"/performanceConfig.zp",data:{mode:"getBudgetCycles",conreqcsr:csrfToken},success:function(resultdata){PMSImport.BUDGET_CYCLES=resultdata.budgetCyc}}),pageId.find(".ztextbox--error__label").remove(),"-1"==ZPeopleComponents.select(pageId.find("#import_config_budgetappSel")).getValue()?(1==PMSImport.BUDGET_CYCLES.length&&void 0!=PMSImport.BUDGET_CYCLES[0].msg&&"No_records_Found"==PMSImport.BUDGET_CYCLES.msg?pageId.find("#import_config_budgetappSel").parent().append('<span  id="errormsg" class="ztextbox--error__label">'+ZPI18N.getString("zp.noCycles")+"</span>"):pageId.find("#import_config_budgetappSel").parent().append('<span  id="errormsg" class="ztextbox--error__label">'+ZPI18N.getString("zp.selconfiguration")+"</span>"),ZPeopleComponents.select(pageId.find("#import_config_budgetappSel")).setAttributes({className:"ztextbox__error"}),errormsg="true"):(PMSImport.imp_configid=ZPeopleComponents.select(pageId.find("#import_config_budgetappSel")).getValue(),ZPeopleComponents.select(pageId.find("#import_config_budgetappSel")).setAttributes({className:""})),PMSImport.importtype="budget",errormsg},getPAImportParam:function(params,type,mappings){if("#operations/performance/skillset"==Layout.Page.hash){var skillName=mappings.SKILLSET,skillDesDomName=mappings.DOMAIN,weightage=mappings.WEIGHTAGE;if(void 0===skillName||"domain"==PMSImport.impFormId&&void 0===skillDesDomName)return void ZPeople.Message.failure(ZPI18N.getString("zp.choosereqcolumns"));void 0===skillDesDomName&&(skillDesDomName=0),"domain"===PMSImport.impFormId?importType=1:"designation"===PMSImport.impFormId?(importType=2,skillDesDomName=mappings.Designation):"department"===PMSImport.impFormId?(importType=3,skillDesDomName=mappings.Department):"desDep"===PMSImport.impFormId&&(importType=4,params.skillDepRule=mappings.Department,skillDesDomName=mappings.Designation),params.mode="skillSetDomDesImportMapping",params.importType=importType,params.skillName=skillName,params.weightage=void 0==weightage?-1:weightage,params.skillDesDomName=skillDesDomName}else if("#operations/performance/competency"==Layout.Page.hash){if(0==type){if(-1===(des=mappings.hasOwnProperty("Designation")?mappings.Designation:-1))return void ZPeople.Message.failure(ZPI18N.getString("zp.choosereqcolumns"));params.designation=des}else if(1==type){if(-1===(dep=mappings.hasOwnProperty("Department")?mappings.Department:-1))return void ZPeople.Message.failure(ZPI18N.getString("zp.choosereqcolumns"));params.department=dep}else if(2==type){var role=mappings.hasOwnProperty("Role")?mappings.Role:-1;if(-1===role)return void ZPeople.Message.failure(ZPI18N.getString("zp.choosereqcolumns"));params.role=role}else if(3==type){var loc=mappings.hasOwnProperty("Location")?mappings.Location:-1;if(-1===loc)return void ZPeople.Message.failure(ZPI18N.getString("zp.choosereqcolumns"));params.location=loc}else if(4==type){var des=mappings.hasOwnProperty("Designation")?mappings.Designation:-1,dep=mappings.hasOwnProperty("Department")?mappings.Department:-1;if(-1===des||-1===dep)return void ZPeople.Message.failure(ZPI18N.getString("zp.choosereqcolumns"));params.designation=des,params.department=dep}params.compDetails=mappings.hasOwnProperty("COMPETENCY")?mappings.COMPETENCY:-1,params.type=type,params.mode="competencyImportMapping"}else if("#operations/performance/kra"==Layout.Page.hash){if(params.weightage=mappings.hasOwnProperty("Weightage")?mappings.Weightage:-1,0==PMSImport.impFormId){if(-1===(des=mappings.hasOwnProperty("Designation")?mappings.Designation:-1))return void ZPeople.Message.failure(ZPI18N.getString("zp.choosereqcolumns"));params.designation=des}else if(1==PMSImport.impFormId){if(-1===(dep=mappings.hasOwnProperty("Department")?mappings.Department:-1))return void ZPeople.Message.failure(ZPI18N.getString("zp.choosereqcolumns"));params.department=dep}else if(2==PMSImport.impFormId){var location=mappings.hasOwnProperty("Location")?mappings.Location:-1;if(-1===location)return void ZPeople.Message.failure(ZPI18N.getString("zp.choosereqcolumns"));params.location=location}else if(3==PMSImport.impFormId){des=mappings.hasOwnProperty("Designation")?mappings.Designation:-1,dep=mappings.hasOwnProperty("Department")?mappings.Department:-1;if(-1===des||-1===dep)return void ZPeople.Message.failure(ZPI18N.getString("zp.choosereqcolumns"));params.designation=des,params.department=dep}else if(4==PMSImport.impFormId){var Level=mappings.hasOwnProperty("Level")?mappings.Level:-1;des=mappings.hasOwnProperty("Designation")?mappings.Designation:-1;if(-1===Level||-1===des)return void ZPeople.Message.failure(ZPI18N.getString("zp.choosereqcolumns"));params.level=Level,params.designation=des}else if(5==PMSImport.impFormId){Level=mappings.hasOwnProperty("Level")?mappings.Level:-1,des=mappings.hasOwnProperty("Designation")?mappings.Designation:-1,dep=mappings.hasOwnProperty("Department")?mappings.Department:-1;if(-1===Level||-1===des||-1===dep)return void ZPeople.Message.failure(ZPI18N.getString("zp.choosereqcolumns"));params.level=Level,params.designation=des,params.department=dep}else if(6==PMSImport.impFormId){if(-1===(Level=mappings.hasOwnProperty("Level")?mappings.Level:-1))return void ZPeople.Message.failure(ZPI18N.getString("zp.choosereqcolumns"));params.level=Level}params.kraDetails=mappings.hasOwnProperty("KRA")?mappings.KRA:-1,params.type=PMSImport.impFormId,params.mode="kraImportMapping"}else if("#operations/performance/cycle"==Layout.Page.hash||"#operations/performance/salarycycle"==Layout.Page.hash){var sliderObj=$(PMSOperation.manageAppraiseeSliderObj.sliderDiv),status=$(sliderObj).find("#appraisalstatus").val(),configId=$(sliderObj).find("#configId").val();params.mode="appraiseeImportMapping",params.configID=configId,params.status=status,params.appraisee=mappings.employee,0==status&&mappings.hasOwnProperty("reviewer")?params.appraiser=mappings.reviewer:params.appraiser=-1}else if("#operations/performance/skillsetuserimport"==Layout.Page.hash){var employee=mappings.hasOwnProperty("employee")?mappings.employee:-1;if(-1===employee)return void ZPeople.Message.failure(ZPI18N.getString("zp.choosereqcolumns"));var SKILLSET=mappings.hasOwnProperty("SKILLSET")?mappings.SKILLSET:-1;if(-1===SKILLSET)return void ZPeople.Message.failure(ZPI18N.getString("zp.choosereqcolumns"));var SCORE=mappings.hasOwnProperty("SCORE")?mappings.SCORE:-1;if(-1===SCORE)return void ZPeople.Message.failure(ZPI18N.getString("zp.choosereqcolumns"));params.mode="skillSetImportMapping",params.mailId=employee,params.skillName=SKILLSET,params.skillScore=SCORE,params.weightage=mappings.hasOwnProperty("WEIGHTAGE")?mappings.WEIGHTAGE:-1,params.addedDate=mappings.hasOwnProperty("ADDEDDATE")?mappings.ADDEDDATE:-1}return params.conreqcsr=csrfToken,params.isnewui=!0,params},isPAMappingImport:function(){var isPA=!1;return"#operations/performance/skillset"!=Layout.Page.hash&&"#operations/performance/kra"!=Layout.Page.hash&&"#operations/performance/competency"!=Layout.Page.hash||void 0!=PMSOperation.moduleLibraryslider&&0!=Object.keys(PMSOperation.moduleLibraryslider).length||(isPA=!0),("#operations/performance/cycle"==Layout.Page.hash||"#operations/performance/salarycycle"==Layout.Page.hash)&&void 0!=PMSOperation.manageAppraiseeSliderObj&&Object.keys(PMSOperation.manageAppraiseeSliderObj).length>0&&(isPA=!0),isPA},isPAModuleListImport:function(){var isPA=!1;return"#operations/performance/skillset"!=Layout.Page.hash&&"#operations/performance/kra"!=Layout.Page.hash&&"#operations/performance/competency"!=Layout.Page.hash||(isPA=!0),isPA},paImportAfterSubmit:function(params){if("#operations/performance/skillset"==Layout.Page.hash)if(void 0!=PMSOperation.moduleLibraryslider&&Object.keys(PMSOperation.moduleLibraryslider).length>0)PMSImport.getModuleList("getskilllist");else{var pageId=settingsPage.container,mode=ZPeopleComponents.select(pageId.find("#desigdomainsel")).getValue();"domain"===mode?PMSOperation.skillsetConst.domaintriggered=!1:"designation"===mode?PMSOperation.skillsetConst.destriggered=!1:"department"===mode?PMSOperation.skillsetConst.deptriggered=!1:"desDep"===mode&&(PMSOperation.skillsetConst.desDeptriggered=!1),PMSOperation.changeView("null",!0)}else"#operations/performance/kra"==Layout.Page.hash?void 0!=PMSOperation.moduleLibraryslider&&Object.keys(PMSOperation.moduleLibraryslider).length>0?PMSImport.getModuleList("getkralist"):PMSOperation.getKraMaping(params.type):"#operations/performance/competency"==Layout.Page.hash?void 0!=PMSOperation.moduleLibraryslider&&Object.keys(PMSOperation.moduleLibraryslider).length>0?PMSImport.getModuleList("getcompetencylist"):PMSOperation.getCompMapping(params.type):"#operations/performance/cycle"!=Layout.Page.hash&&"#operations/performance/salarycycle"!=Layout.Page.hash||(PMSOperation.showUserManagement("userManagement",-1),PMSOperation.applicableUserCount())},getModuleList:function(submode){$.ajax({type:"POST",async:!1,url:"/performanceConfig.zp",data:{mode:"getmodulelist",submode:submode,conreqcsr:csrfToken},success:function(resultData){"#operations/performance/kra"==Layout.Page.hash?(void 0!=resultData.kraDetails&&void 0!=resultData.kraDetails.kraList?PMSOperation.ALL_KRA=resultData.kraDetails.kraList:PMSOperation.ALL_KRA=[],void 0!=resultData.userKraDetails&&void 0!=resultData.userKraDetails.kraList&&resultData.userKraDetails.kraList.length>0?(PMSOperation.ALL_USER_KRA=resultData.userKraDetails.kraList,PMSOperation.USER_KRA_EMP_DETAILS=void 0!=resultData.userKraDetails.empList?resultData.userKraDetails.empList:{},PMSOperation.USER_KRA_MAPID_DETAILS=void 0!=resultData.userKraDetails.kraUserIdList?resultData.userKraDetails.kraUserIdList:{}):(PMSOperation.ALL_USER_KRA=[],PMSOperation.USER_KRA_EMP_DETAILS={},PMSOperation.USER_KRA_MAPID_DETAILS={}),"KRA"==PMSOperation.LIBRARY_MODE?PMSOperation.libraryConstruction("KRA",PMSOperation.ALL_KRA):PMSOperation.libraryConstruction("USER_KRA",PMSOperation.ALL_USER_KRA)):"#operations/performance/competency"==Layout.Page.hash&&resultData.competencies.length>0?(PMSOperation.allCompetencies=resultData.competencies,PMSOperation.libraryConstruction("COMPETENCY",resultData.competencies)):"#operations/performance/skillset"==Layout.Page.hash&&resultData.skillslist.length>0&&(PMSOperation.ALL_SKILLS=resultData.skillslist,PMSOperation.libraryConstruction("SKILL",resultData.skillslist))}})},showAppraiseeimportPage:function(){PMSImport.isModuleBasedImport=!0,PMSImport.isMethodBasedImport=!1,ZP5Import.init(ZP5Import.HANDLER_MODE.PAMETHODS)},fetchKRARules:()=>{let _data="";const params={mode:"getkraRules",conreqcsr:csrfToken};return $.ajax({type:"POST",async:!1,url:"/performanceConfig.zp",data:params,success:function(data){_data=data}}),_data},getImportTemplateType:()=>{let url=Layout.Page.hash;if("#operations/performance/cycle"==url)return"appraisalcycle";if("#operations/performance/salarycycle"==url)return"salarycycle";if("#operations/performance/kra"==url){if(void 0==PMSOperation.moduleLibraryslider||0==Object.keys(PMSOperation.moduleLibraryslider).length)return"kramapping"}else if("#operations/performance/competency"==url){if(void 0==PMSOperation.moduleLibraryslider||0==Object.keys(PMSOperation.moduleLibraryslider).length)return"competencymapping"}else if("#operations/performance/skillset"==url){if(void 0==PMSOperation.moduleLibraryslider||0==Object.keys(PMSOperation.moduleLibraryslider).length)return"skillmapping"}else if("#operations/performance/skillsetuserimport"==url)return"skillsetuser";return""},downloadImportTemplate:()=>{let importtype=PMSImport.getImportTemplateType();0==$("#pa_template_export").length&&$("body").append('<form id="pa_template_export" action="selfappraisalExport.zp" method="post" name="pa_template_export" style="display: none;"  target="exportresp" ></form>');var formObj=$("#pa_template_export").html("");formObj.append('<input type="hidden" value="xls" name="ftype"/>'),formObj.append('<input type="hidden" value="'+csrfToken+'" name="'+csrfParamName+'"/>'),formObj.append('<input type="hidden" value="template" name="submode"/>'),formObj.append('<input type="hidden" value="'+importtype+'" name="templateType"/>'),formObj.submit()},aftersubmitCallback:()=>{PMSImport.importAftercallbackIsInit&&(PMSImport.importAftercallbackIsInit=!1,PMSImport.paImportAfterSubmit(PMSImport.importReqParams))},importHideSummaryShowRecord:()=>{let url=Layout.Page.hash;return!("#operations/performance/cycle"!=url&&"#operations/performance/salarycycle"!=url&&"#operations/performance/skillsetuserimport"!=url&&"#operations/performance/kra"!=url&&"#operations/performance/competency"!=url&&"#operations/performance/skillset"!=url&&"#operations/performance/hikeimport"!=url&&"#operations/performance/krauserimport"!=url&&"#operations/performance/competencyuserimport"!=url&&"#operations/performance/selfimport"!=url&&"#operations/performance/multiraterimport"!=url&&"#operations/performance/hikeimport"!=url&&"#operations/performance/goalimport"!=url&&"#operations/performance/reviewimport"!=url&&!paCommonUtil.isManageAppraisalPAImportExport()&&!paCommonUtil.modGoalImport())},isImportModuleConstruction:actType=>{let url=Layout.Page.hash;if("#operations/performance/cycle"==url||"#operations/performance/salarycycle"==url||"#operations/performance/skillsetuserimport"==url)return!0;if("#operations/performance/kra"==url){if(!(void 0!=PMSOperation.moduleLibraryslider&&Object.keys(PMSOperation.moduleLibraryslider).length>0))return!0;if("SKIPPED"!=actType&&"ERROR"!=actType)return!0}else if("#operations/performance/competency"==url){if(!(void 0!=PMSOperation.moduleLibraryslider&&Object.keys(PMSOperation.moduleLibraryslider).length>0))return!0;if("SKIPPED"!=actType&&"ERROR"!=actType)return!0}else if("#operations/performance/skillset"==url){if(!(void 0!=PMSOperation.moduleLibraryslider&&Object.keys(PMSOperation.moduleLibraryslider).length>0))return!0;if("SKIPPED"!=actType&&"ERROR"!=actType)return!0}else if(("#operations/performance/hikeimport"==url||"#operations/performance/krauserimport"==url||"#operations/performance/competencyuserimport"==url)&&"SKIPPED"!=actType&&"ERROR"!=actType)return!0;return!1},constructImportSummaryCallback:(actType,section,importId,dataInstance)=>{if(null!=importId&&dataInstance.getIsEmpty())PMSImport.constructImportEmptyDiv(actType,!0);else if(null!=importId)actType!=ZP5Import.SUMMARY_DATA_TYPE.ERROR&&actType!=ZP5Import.SUMMARY_DATA_TYPE.SKIPPED&&PMSImport.getImportSummaryData(importId,actType,section,dataInstance);else{let data=PMSImport.importReqData.duplicateCheckMap.importmap,header=(PMSImport.importReqParams,section[0].col1Fields);actType==ZP5Import.SUMMARY_DATA_TYPE.ADDED?void 0!=data.records_added&&data.records_added>0?PMSImport.constructtableData(data.addedRecord,actType,header,dataInstance,!1):PMSImport.constructImportEmptyDiv(actType,!0):actType==ZP5Import.SUMMARY_DATA_TYPE.UPDATED?void 0!=data.records_updated&&data.records_updated>0?PMSImport.constructtableData(data.updatedRecord,actType,header,dataInstance,!1):PMSImport.constructImportEmptyDiv(actType,!0):actType==ZP5Import.SUMMARY_DATA_TYPE.SKIPPED&&(void 0!=data.records_skipped&&data.records_skipped>0?PMSImport.constructtableData(data.skippedRecord,actType,header,dataInstance,!1):PMSImport.constructImportEmptyDiv(actType,!0))}},constructImportEmptyDiv:(actType,isShow,isNosummaryData)=>{let pageId=Layout.Page.hash.startsWith("#operations")?settingsPage.container:Layout.Page.container,emptyDivCont=pageId.find("[elem=summaryRecContDiv] [elem=emptyDivContainer] [actType="+actType+"]"),nodatamsg=void 0!=isNosummaryData&&isNosummaryData?"No summary Available":ZPI18N.getString("zp.nodatafound");new EmptyPages("zp_nd_nodata",nodatamsg,"",emptyDivCont).show(),isShow&&(FrameworkCommon.show(emptyDivCont),FrameworkCommon.removeLoading(pageId.find("#"+ImportV5Summary.getCardId()).find("[elem=summaryRecContDiv]")),FrameworkCommon.removeLoading(pageId.find("#"+ImportV5Summary.getCardId())),FrameworkCommon.show(pageId.find("[elem=summaryRecContDiv] [elem=emptyDivContainer] div[actType="+actType+"]")),FrameworkCommon.show(pageId.find("[elem=summaryRecContDiv]")))},getImportSummaryData:(importId,actType,section,dataInstance)=>{var params={mode:"getPAImportSummaryData"};params.importId=importId;let url=Layout.Page.hash;"#operations/performance/kra"==url?params.pageType="kra":"#operations/performance/competency"==url?params.pageType="competency":"#operations/performance/skillset"==url?params.pageType="skill":"#operations/performance/hikeimport"==url?params.pageType="hike":"#operations/performance/krauserimport"==url?params.pageType="krauser":"#operations/performance/competencyuserimport"==url&&(params.pageType="competencyuser"),params.startIndex=dataInstance.getStartIndex(),params.summaryType=actType,params.conreqcsr=csrfToken,ZPeople.Request.sendAsyncPost("/performanceConfig.zp",params,PMSImport.getImportSummaryDataCallback,dataInstance)},getImportSummaryDataCallback:(resultData,params,dataInstance)=>{void 0!=resultData.data&&resultData.data.length>0?PMSImport.constructtableData(resultData.data,dataInstance.mode,resultData.header,dataInstance,!0,resultData.hasNext):PMSImport.constructImportEmptyDiv(dataInstance.mode,!0,!0)},constructtableData:(resultdata,actType,header,dataInstance,isformData,ishasNext)=>{let container=Layout.Page.hash.startsWith("#operations")?settingsPage.container:Layout.Page.container;PMSImport.constructImporttableHeader(actType,container,header,isformData);var data=[];isformData?data=resultdata:(data=resultdata.slice(dataInstance.getStartIndex()-1,dataInstance.getStartIndex()+199),ishasNext=resultdata.length>=dataInstance.getStartIndex()+200);var tbodyHtml="<tbody>";for(let index=0;index<data.length;index++){tbodyHtml+="<tr>";for(let jindex=0;jindex<data[index].length;jindex++)tbodyHtml+='<td onmouseover="ZP5Views.mouseEnterFunction(true)"><span>'+ZSEC.Encoder.encodeForHTML(data[index][jindex])+"</span></td>";tbodyHtml+="</tr>"}tbodyHtml+="</tbody>",container.find("[elem=importSummary"+actType+"Cont").find(".zpl_tbl").append(tbodyHtml),FrameworkCommon.removeLoading(container.find("#"+ImportV5Summary.getCardId()).find("[elem=summaryRecContDiv]")),FrameworkCommon.removeLoading(container.find("#"+ImportV5Summary.getCardId())),FrameworkCommon.show(container.find("[elem=summaryRecContDiv] [elem=tableContainer] div[actType="+actType+"]")),FrameworkCommon.show(container.find("[elem=summaryRecContDiv]")),0==container.find('[elem="'+actType+'_nextPaginationButton"]').length&&$(PMSImport.getPaginationHtml(actType)).insertBefore(dataInstance.getSummaryInstance().getSliderModal().modalFooter),FrameworkCommon.show(container.find('[elem="'+actType+'_paginationFooter"]'));let totalRecCount=parseInt(container.find('[elem="summaryRecCountContDiv"]').find('[acttype="'+actType+'"] b').html()),recCount=totalRecCount>=dataInstance.getStartIndex()+199?dataInstance.getStartIndex()+199:totalRecCount;container.find('[elem="'+actType+'_paginationCount"] b').html(dataInstance.getStartIndex()+"-"+recCount),ishasNext?(container.find('[elem="'+actType+'_nextPaginationButton"]').addClass("blu"),container.find('[elem="'+actType+'_nextPaginationButton"]').off("click").on("click",function(){PMSImport.importSummaryNextCallback(actType,dataInstance)})):(container.find('[elem="'+actType+'_nextPaginationButton"]').removeClass("blu"),container.find('[elem="'+actType+'_nextPaginationButton"]').off("click")),dataInstance.getStartIndex()>1?(container.find('[elem="'+actType+'_prevPaginationButton"]').addClass("blu"),container.find('[elem="'+actType+'_prevPaginationButton"]').off("click").on("click",function(){PMSImport.importSummaryPrevCallback(actType,dataInstance)})):(container.find('[elem="'+actType+'_prevPaginationButton"]').removeClass("blu"),container.find('[elem="'+actType+'_prevPaginationButton"]').off("click"))},importSummaryNextCallback:(actType,dataInstance)=>{dataInstance.setStartIndex(dataInstance.getStartIndex()+200),PMSImport.constructImportSummaryCallback(actType,dataInstance.getSummaryInstance().getImportInstance().getFormDetails().sections,dataInstance.getSummaryInstance().getImportId(),dataInstance)},importSummaryPrevCallback:(actType,dataInstance)=>{dataInstance.setStartIndex(dataInstance.getStartIndex()-200),PMSImport.constructImportSummaryCallback(actType,dataInstance.getSummaryInstance().getImportInstance().getFormDetails().sections,dataInstance.getSummaryInstance().getImportId(),dataInstance)},getPaginationHtml:actType=>'<div class="zpl_tblpagination" elem="'+actType+'_paginationFooter" style="position:static;margin-bottom:2px;"><div class="zpl_rhtpgn"><div class="pagecount"><a class="zpl_prev" elem="'+actType+'_prevPaginationButton"></a><span elem="'+actType+'_paginationCount"><b></b></span><a class="zpl_nxt" elem="'+actType+'_nextPaginationButton"></a></div></div></div>',constructImporttableHeader:(actType,container,header,isformData)=>{container.find("[elem=importSummary"+actType+"Cont").find(".zpl_rgtcnt").remove();container.find("[elem=importSummary"+actType+"Cont").append('<div class="zpl_rgtcnt"><div class="zpl_tblres"><table class="zpl_tbl"></table></div></div>');var headerHtml="<thead> <tr><th> <div><span>"+ZPI18N.getString("zp.RowNum")+"</span></div></th>  ";for(let i=0;i<header.length;i++)headerHtml+=isformData?"<th> <div><span>"+ZSEC.Encoder.encodeForHTML(header[i])+"</span></div></th>":"<th> <div><span>"+ZSEC.Encoder.encodeForHTML(header[i].name)+"</span></div></th>";headerHtml+="</tr></thead>",container.find("[elem=importSummary"+actType+"Cont").find(".zpl_tbl").append(headerHtml)},isValidationNeededImport:()=>{let url=Layout.Page.currentmode;return"operations/performance/cycle"==url||"operations/performance/salarycycle"==url||"operations/performance/kra"==url||"operations/performance/competency"==url||"operations/performance/skillset"==url||"operations/performance/skillsetuserimport"==url||"operations/performance/competencyuserimport"==url||"operations/performance/krauserimport"==url||"operations/performance/hikeimport"==url},isAllowedToShowErrorLink:()=>{let url=Layout.Page.hash;if("#operations/performance/kra"==url||"#operations/performance/competency"==url||"#operations/performance/skillset"==url){if(void 0!=PMSOperation.moduleLibraryslider&&Object.keys(PMSOperation.moduleLibraryslider).length>0)return!0}else if("#operations/performance/hikeimport"==url||"#operations/performance/krauserimport"==url||"#operations/performance/competencyuserimport"==url)return!0;return!1}};